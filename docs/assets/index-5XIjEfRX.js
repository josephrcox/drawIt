var J0=Object.defineProperty;var X0=(t,A,e)=>A in t?J0(t,A,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[A]=e;var el=(t,A,e)=>X0(t,typeof A!="symbol"?A+"":A,e);(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();function sA(){}function q0(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function wp(t){return t()}function Sh(){return Object.create(null)}function ve(t){t.forEach(wp)}function Cp(t){return typeof t=="function"}function Ke(t,A){return t!=t?A==A:t!==A||t&&typeof t=="object"||typeof t=="function"}let ki;function Ne(t,A){return t===A?!0:(ki||(ki=document.createElement("a")),ki.href=A,t===ki.href)}function z0(t){return Object.keys(t).length===0}function yp(t,...A){if(t==null){for(const r of A)r(void 0);return sA}const e=t.subscribe(...A);return e.unsubscribe?()=>e.unsubscribe():e}function vr(t){let A;return yp(t,e=>A=e)(),A}function YA(t,A,e){t.$$.on_destroy.push(yp(A,e))}function nt(t,A,e){return t.set(e),A}const _p=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function E(t,A){t.appendChild(A)}function G(t,A,e){t.insertBefore(A,e||null)}function K(t){t.parentNode&&t.parentNode.removeChild(t)}function De(t,A){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(A)}function H(t){return document.createElement(t)}function tt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function tA(t){return document.createTextNode(t)}function W(){return tA(" ")}function lt(){return tA("")}function cA(t,A,e,r){return t.addEventListener(A,e,r),()=>t.removeEventListener(A,e,r)}function Rh(t){return function(A){return A.stopPropagation(),t.call(this,A)}}function _(t,A,e){e==null?t.removeAttribute(A):t.getAttribute(A)!==e&&t.setAttribute(A,e)}function Y0(t){return Array.from(t.childNodes)}function EA(t,A){A=""+A,t.data!==A&&(t.data=A)}function Tt(t,A){t.value=A??""}function Ll(t,A,e,r){e==null?t.style.removeProperty(A):t.style.setProperty(A,e,"")}function hr(t,A,e){t.classList.toggle(A,!!e)}let Ks;function Nt(t){Ks=t}function Fc(){if(!Ks)throw new Error("Function called outside component initialization");return Ks}function Xn(t){Fc().$$.on_mount.push(t)}function $0(t){Fc().$$.on_destroy.push(t)}const En=[],Gs=[];let Rn=[];const Hh=[],Z0=Promise.resolve();let Pl=!1;function AC(){Pl||(Pl=!0,Z0.then(bc))}function Ol(t){Rn.push(t)}const tl=new Set;let pn=0;function bc(){if(pn!==0)return;const t=Ks;do{try{for(;pn<En.length;){const A=En[pn];pn++,Nt(A),eC(A.$$)}}catch(A){throw En.length=0,pn=0,A}for(Nt(null),En.length=0,pn=0;Gs.length;)Gs.pop()();for(let A=0;A<Rn.length;A+=1){const e=Rn[A];tl.has(e)||(tl.add(e),e())}Rn.length=0}while(En.length);for(;Hh.length;)Hh.pop()();Pl=!1,tl.clear(),Nt(t)}function eC(t){if(t.fragment!==null){t.update(),ve(t.before_update);const A=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,A),t.after_update.forEach(Ol)}}function tC(t){const A=[],e=[];Rn.forEach(r=>t.indexOf(r)===-1?A.push(r):e.push(r)),e.forEach(r=>r()),Rn=A}const lo=new Set;let Wr;function fe(){Wr={r:0,c:[],p:Wr}}function de(){Wr.r||ve(Wr.c),Wr=Wr.p}function rA(t,A){t&&t.i&&(lo.delete(t),t.i(A))}function lA(t,A,e,r){if(t&&t.o){if(lo.has(t))return;lo.add(t),Wr.c.push(()=>{lo.delete(t),r&&(e&&t.d(1),r())}),t.o(A)}else r&&r()}function kh(t,A){const e=A.token={};function r(n,s,i,o){if(A.token!==e)return;A.resolved=o;let a=A.ctx;i!==void 0&&(a=a.slice(),a[i]=o);const c=n&&(A.current=n)(a);let u=!1;A.block&&(A.blocks?A.blocks.forEach((f,d)=>{d!==s&&f&&(fe(),lA(f,1,1,()=>{A.blocks[d]===f&&(A.blocks[d]=null)}),de())}):A.block.d(1),c.c(),rA(c,1),c.m(A.mount(),A.anchor),u=!0),A.block=c,A.blocks&&(A.blocks[s]=c),u&&bc()}if(q0(t)){const n=Fc();if(t.then(s=>{Nt(n),r(A.then,1,A.value,s),Nt(null)},s=>{if(Nt(n),r(A.catch,2,A.error,s),Nt(null),!A.hasCatch)throw s}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,t),!0;A.resolved=t}}function rC(t,A,e){const r=A.slice(),{resolved:n}=t;t.current===t.then&&(r[t.value]=n),t.current===t.catch&&(r[t.error]=n),t.block.p(r,e)}function OA(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ge(t){t&&t.c()}function oe(t,A,e){const{fragment:r,after_update:n}=t.$$;r&&r.m(A,e),Ol(()=>{const s=t.$$.on_mount.map(wp).filter(Cp);t.$$.on_destroy?t.$$.on_destroy.push(...s):ve(s),t.$$.on_mount=[]}),n.forEach(Ol)}function ae(t,A){const e=t.$$;e.fragment!==null&&(tC(e.after_update),ve(e.on_destroy),e.fragment&&e.fragment.d(A),e.on_destroy=e.fragment=null,e.ctx=[])}function nC(t,A){t.$$.dirty[0]===-1&&(En.push(t),AC(),t.$$.dirty.fill(0)),t.$$.dirty[A/31|0]|=1<<A%31}function Ye(t,A,e,r,n,s,i=null,o=[-1]){const a=Ks;Nt(t);const c=t.$$={fragment:null,ctx:[],props:s,update:sA,not_equal:n,bound:Sh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(a?a.$$.context:[])),callbacks:Sh(),dirty:o,skip_bound:!1,root:A.target||a.$$.root};i&&i(c.root);let u=!1;if(c.ctx=e?e(t,A.props||{},(f,d,...p)=>{const w=p.length?p[0]:d;return c.ctx&&n(c.ctx[f],c.ctx[f]=w)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](w),u&&nC(t,f)),d}):[],c.update(),u=!0,ve(c.before_update),c.fragment=r?r(c.ctx):!1,A.target){if(A.hydrate){const f=Y0(A.target);c.fragment&&c.fragment.l(f),f.forEach(K)}else c.fragment&&c.fragment.c();A.intro&&rA(t.$$.fragment),oe(t,A.target,A.anchor),bc()}Nt(a)}class $e{constructor(){el(this,"$$");el(this,"$$set")}$destroy(){ae(this,1),this.$destroy=sA}$on(A,e){if(!Cp(e))return sA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(e),()=>{const n=r.indexOf(e);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!z0(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const sC="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sC);const Bn=[];function kr(t,A=sA){let e;const r=new Set;function n(o){if(Ke(t,o)&&(t=o,e)){const a=!Bn.length;for(const c of r)c[1](),Bn.push(c,t);if(a){for(let c=0;c<Bn.length;c+=2)Bn[c][0](Bn[c+1]);Bn.length=0}}}function s(o){n(o(t))}function i(o,a=sA){const c=[o,a];return r.add(c),r.size===1&&(e=A(n,s)||sA),o(t),()=>{r.delete(c),r.size===0&&e&&(e(),e=null)}}return{set:n,update:s,subscribe:i}}const Ws=kr(null),zA=kr(null),qn=kr([]),He=kr(null),xe=kr({}),Mn=kr(!1),co=kr(!1),Tc=kr({});try{const t=localStorage.getItem("drawIt-user-v2");t&&zA.set(JSON.parse(t));const A=localStorage.getItem("drawIt-games-v2");A&&qn.set(JSON.parse(A));const e=localStorage.getItem("drawIt-users-v2");e&&xe.set(JSON.parse(e))}catch(t){console.error("Error loading from localStorage:",t)}zA.subscribe(t=>{t?localStorage.setItem("drawIt-user-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-user-v2")});qn.subscribe(t=>{t?localStorage.setItem("drawIt-games-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-games-v2")});xe.subscribe(t=>{Object.keys(t).length>0?localStorage.setItem("drawIt-users-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-users-v2")});const iC=()=>{};var Dh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=function(t){const A=[];let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?A[e++]=n:n<2048?(A[e++]=n>>6|192,A[e++]=n&63|128):(n&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++r)&1023),A[e++]=n>>18|240,A[e++]=n>>12&63|128,A[e++]=n>>6&63|128,A[e++]=n&63|128):(A[e++]=n>>12|224,A[e++]=n>>6&63|128,A[e++]=n&63|128)}return A},oC=function(t){const A=[];let e=0,r=0;for(;e<t.length;){const n=t[e++];if(n<128)A[r++]=String.fromCharCode(n);else if(n>191&&n<224){const s=t[e++];A[r++]=String.fromCharCode((n&31)<<6|s&63)}else if(n>239&&n<365){const s=t[e++],i=t[e++],o=t[e++],a=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;A[r++]=String.fromCharCode(55296+(a>>10)),A[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[e++],i=t[e++];A[r++]=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63)}}return A.join("")},Ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,A){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<t.length;n+=3){const s=t[n],i=n+1<t.length,o=i?t[n+1]:0,a=n+2<t.length,c=a?t[n+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;a||(p=64,i||(d=64)),r.push(e[u],e[f],e[d],e[p])}return r.join("")},encodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(t):this.encodeByteArray(vp(t),A)},decodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(t):oC(this.decodeStringToByteArray(t,A))},decodeStringToByteArray(t,A){this.init_();const e=A?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<t.length;){const s=e[t.charAt(n++)],o=n<t.length?e[t.charAt(n)]:0;++n;const c=n<t.length?e[t.charAt(n)]:64;++n;const f=n<t.length?e[t.charAt(n)]:64;if(++n,s==null||o==null||c==null||f==null)throw new aC;const d=s<<2|o>>4;if(r.push(d),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(t){const A=vp(t);return Ep.encodeByteArray(A,!0)},Io=function(t){return lC(t).replace(/\./g,"")},Qp=function(t){try{return Ep.decodeString(t,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=()=>cC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof Dh>"u")return;const t=Dh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const A=t&&Qp(t[1]);return A&&JSON.parse(A)},ta=()=>{try{return iC()||uC()||hC()||fC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ip=t=>{var A,e;return(e=(A=ta())===null||A===void 0?void 0:A.emulatorHosts)===null||e===void 0?void 0:e[t]},dC=t=>{const A=Ip(t);if(!A)return;const e=A.lastIndexOf(":");if(e<=0||e+1===A.length)throw new Error(`Invalid host ${A} with no separate hostname and port!`);const r=parseInt(A.substring(e+1),10);return A[0]==="["?[A.substring(1,e-1),r]:[A.substring(0,e),r]},Up=()=>{var t;return(t=ta())===null||t===void 0?void 0:t.config},Fp=t=>{var A;return(A=ta())===null||A===void 0?void 0:A[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}wrapCallback(A){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof A=="function"&&(this.promise.catch(()=>{}),A.length===1?A(e):A(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,A){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=A||"demo-project",n=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Io(JSON.stringify(e)),Io(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function mC(){var t;const A=(t=ta())===null||t===void 0?void 0:t.forceEnvironment;if(A==="node")return!0;if(A==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bp(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){const t=Te();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _C(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tp(){try{return typeof indexedDB=="object"}catch{return!1}}function Sp(){return new Promise((t,A)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},n.onupgradeneeded=()=>{e=!1},n.onerror=()=>{var s;A(((s=n.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){A(e)}})}function vC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class wt extends Error{constructor(A,e,r){super(e),this.code=A,this.customData=r,this.name=EC,Object.setPrototypeOf(this,wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(A,e,r){this.service=A,this.serviceName=e,this.errors=r}create(A,...e){const r=e[0]||{},n=`${this.service}/${A}`,s=this.errors[A],i=s?QC(s,r):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new wt(n,o,r)}}function QC(t,A){return t.replace(IC,(e,r)=>{const n=A[r];return n!=null?String(n):`<${r}?>`})}const IC=/\{\$([^}]+)}/g;function UC(t){for(const A in t)if(Object.prototype.hasOwnProperty.call(t,A))return!1;return!0}function Er(t,A){if(t===A)return!0;const e=Object.keys(t),r=Object.keys(A);for(const n of e){if(!r.includes(n))return!1;const s=t[n],i=A[n];if(Lh(s)&&Lh(i)){if(!Er(s,i))return!1}else if(s!==i)return!1}for(const n of r)if(!e.includes(n))return!1;return!0}function Lh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){const A=[];for(const[e,r]of Object.entries(t))Array.isArray(r)?r.forEach(n=>{A.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):A.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return A.length?"&"+A.join("&"):""}function FC(t,A){const e=new bC(t,A);return e.subscribe.bind(e)}class bC{constructor(A,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{A(this)}).catch(r=>{this.error(r)})}next(A){this.forEachObserver(e=>{e.next(A)})}error(A){this.forEachObserver(e=>{e.error(A)}),this.close(A)}complete(){this.forEachObserver(A=>{A.complete()}),this.close()}subscribe(A,e,r){let n;if(A===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");TC(A,["next","error","complete"])?n=A:n={next:A,error:e,complete:r},n.next===void 0&&(n.next=rl),n.error===void 0&&(n.error=rl),n.complete===void 0&&(n.complete=rl);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch{}}),this.observers.push(n),s}unsubscribeOne(A){this.observers===void 0||this.observers[A]===void 0||(delete this.observers[A],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(A){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,A)}sendOne(A,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[A]!==void 0)try{e(this.observers[A])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(A){this.finalized||(this.finalized=!0,A!==void 0&&(this.finalError=A),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TC(t,A){if(typeof t!="object"||t===null)return!1;for(const e of A)if(e in t&&typeof t[e]=="function")return!0;return!1}function rl(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1e3,RC=2,HC=4*60*60*1e3,kC=.5;function Ph(t,A=SC,e=RC){const r=A*Math.pow(e,t),n=Math.round(kC*r*(Math.random()-.5)*2);return Math.min(HC,r+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t){return t&&t._delegate?t._delegate:t}class mt{constructor(A,e,r){this.name=A,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(A,e){this.name=A,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const e=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(e)){const r=new gC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&r.resolve(n)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(A){var e;const r=this.normalizeInstanceIdentifier(A==null?void 0:A.identifier),n=(e=A==null?void 0:A.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,!!this.shouldAutoInitialize()){if(PC(A))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:n});r.resolve(s)}catch{}}}}clearInstance(A=Kr){this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}async delete(){const A=Array.from(this.instances.values());await Promise.all([...A.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...A.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(A=Kr){return this.instances.has(A)}getOptions(A=Kr){return this.instancesOptions.get(A)||{}}initialize(A={}){const{options:e={}}=A,r=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&i.resolve(n)}return n}onInit(A,e){var r;const n=this.normalizeInstanceIdentifier(e),s=(r=this.onInitCallbacks.get(n))!==null&&r!==void 0?r:new Set;s.add(A),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&A(i,n),()=>{s.delete(A)}}invokeOnInitCallbacks(A,e){const r=this.onInitCallbacks.get(e);if(r)for(const n of r)try{n(A,e)}catch{}}getOrInitializeService({instanceIdentifier:A,options:e={}}){let r=this.instances.get(A);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LC(A),options:e}),this.instances.set(A,r),this.instancesOptions.set(A,e),this.invokeOnInitCallbacks(r,A),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,A,r)}catch{}return r||null}normalizeInstanceIdentifier(A=Kr){return this.component?this.component.multipleInstances?A:Kr:A}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LC(t){return t===Kr?void 0:t}function PC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(A){this.name=A,this.providers=new Map}addComponent(A){const e=this.getProvider(A.name);if(e.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);e.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.addComponent(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const e=new DC(A,this);return this.providers.set(A,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(RA||(RA={}));const MC={debug:RA.DEBUG,verbose:RA.VERBOSE,info:RA.INFO,warn:RA.WARN,error:RA.ERROR,silent:RA.SILENT},xC=RA.INFO,VC={[RA.DEBUG]:"log",[RA.VERBOSE]:"log",[RA.INFO]:"info",[RA.WARN]:"warn",[RA.ERROR]:"error"},NC=(t,A,...e)=>{if(A<t.logLevel)return;const r=new Date().toISOString(),n=VC[A];if(n)console[n](`[${r}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`)};class ra{constructor(A){this.name=A,this._logLevel=xC,this._logHandler=NC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in RA))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel=typeof A=="string"?MC[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if(typeof A!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(...A){this._userLogHandler&&this._userLogHandler(this,RA.DEBUG,...A),this._logHandler(this,RA.DEBUG,...A)}log(...A){this._userLogHandler&&this._userLogHandler(this,RA.VERBOSE,...A),this._logHandler(this,RA.VERBOSE,...A)}info(...A){this._userLogHandler&&this._userLogHandler(this,RA.INFO,...A),this._logHandler(this,RA.INFO,...A)}warn(...A){this._userLogHandler&&this._userLogHandler(this,RA.WARN,...A),this._logHandler(this,RA.WARN,...A)}error(...A){this._userLogHandler&&this._userLogHandler(this,RA.ERROR,...A),this._logHandler(this,RA.ERROR,...A)}}const KC=(t,A)=>A.some(e=>t instanceof e);let Oh,Mh;function GC(){return Oh||(Oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WC(){return Mh||(Mh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rp=new WeakMap,Ml=new WeakMap,Hp=new WeakMap,nl=new WeakMap,Sc=new WeakMap;function jC(t){const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{e(Br(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",i)});return A.then(e=>{e instanceof IDBCursor&&Rp.set(e,t)}).catch(()=>{}),Sc.set(A,t),A}function JC(t){if(Ml.has(t))return;const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});Ml.set(t,A)}let xl={get(t,A,e){if(t instanceof IDBTransaction){if(A==="done")return Ml.get(t);if(A==="objectStoreNames")return t.objectStoreNames||Hp.get(t);if(A==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Br(t[A])},set(t,A,e){return t[A]=e,!0},has(t,A){return t instanceof IDBTransaction&&(A==="done"||A==="store")?!0:A in t}};function XC(t){xl=t(xl)}function qC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(A,...e){const r=t.call(sl(this),A,...e);return Hp.set(r,A.sort?A.sort():[A]),Br(r)}:WC().includes(t)?function(...A){return t.apply(sl(this),A),Br(Rp.get(this))}:function(...A){return Br(t.apply(sl(this),A))}}function zC(t){return typeof t=="function"?qC(t):(t instanceof IDBTransaction&&JC(t),KC(t,GC())?new Proxy(t,xl):t)}function Br(t){if(t instanceof IDBRequest)return jC(t);if(nl.has(t))return nl.get(t);const A=zC(t);return A!==t&&(nl.set(t,A),Sc.set(A,t)),A}const sl=t=>Sc.get(t);function kp(t,A,{blocked:e,upgrade:r,blocking:n,terminated:s}={}){const i=indexedDB.open(t,A),o=Br(i);return r&&i.addEventListener("upgradeneeded",a=>{r(Br(i.result),a.oldVersion,a.newVersion,Br(i.transaction),a)}),e&&i.addEventListener("blocked",a=>e(a.oldVersion,a.newVersion,a)),o.then(a=>{s&&a.addEventListener("close",()=>s()),n&&a.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const YC=["get","getKey","getAll","getAllKeys","count"],$C=["put","add","delete","clear"],il=new Map;function xh(t,A){if(!(t instanceof IDBDatabase&&!(A in t)&&typeof A=="string"))return;if(il.get(A))return il.get(A);const e=A.replace(/FromIndex$/,""),r=A!==e,n=$C.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(n||YC.includes(e)))return;const s=async function(i,...o){const a=this.transaction(i,n?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[e](...o),n&&a.done]))[0]};return il.set(A,s),s}XC(t=>({...t,get:(A,e,r)=>xh(A,e)||t.get(A,e,r),has:(A,e)=>!!xh(A,e)||t.has(A,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Ay(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Ay(t){const A=t.getComponent();return(A==null?void 0:A.type)==="VERSION"}const Vl="@firebase/app",Vh="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new ra("@firebase/app"),ey="@firebase/app-compat",ty="@firebase/analytics-compat",ry="@firebase/analytics",ny="@firebase/app-check-compat",sy="@firebase/app-check",iy="@firebase/auth",oy="@firebase/auth-compat",ay="@firebase/database",ly="@firebase/data-connect",cy="@firebase/database-compat",uy="@firebase/functions",hy="@firebase/functions-compat",fy="@firebase/installations",dy="@firebase/installations-compat",gy="@firebase/messaging",py="@firebase/messaging-compat",By="@firebase/performance",my="@firebase/performance-compat",wy="@firebase/remote-config",Cy="@firebase/remote-config-compat",yy="@firebase/storage",_y="@firebase/storage-compat",vy="@firebase/firestore",Ey="@firebase/vertexai",Qy="@firebase/firestore-compat",Iy="firebase",Uy="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]",Fy={[Vl]:"fire-core",[ey]:"fire-core-compat",[ry]:"fire-analytics",[ty]:"fire-analytics-compat",[sy]:"fire-app-check",[ny]:"fire-app-check-compat",[iy]:"fire-auth",[oy]:"fire-auth-compat",[ay]:"fire-rtdb",[ly]:"fire-data-connect",[cy]:"fire-rtdb-compat",[uy]:"fire-fn",[hy]:"fire-fn-compat",[fy]:"fire-iid",[dy]:"fire-iid-compat",[gy]:"fire-fcm",[py]:"fire-fcm-compat",[By]:"fire-perf",[my]:"fire-perf-compat",[wy]:"fire-rc",[Cy]:"fire-rc-compat",[yy]:"fire-gcs",[_y]:"fire-gcs-compat",[vy]:"fire-fst",[Qy]:"fire-fst-compat",[Ey]:"fire-vertex","fire-js":"fire-js",[Iy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,by=new Map,Kl=new Map;function Nh(t,A){try{t.container.addComponent(A)}catch(e){Jt.debug(`Component ${A.name} failed to register with FirebaseApp ${t.name}`,e)}}function St(t){const A=t.name;if(Kl.has(A))return Jt.debug(`There were multiple attempts to register component ${A}.`),!1;Kl.set(A,t);for(const e of Uo.values())Nh(e,t);for(const e of by.values())Nh(e,t);return!0}function ri(t,A){const e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(A)}function pt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new nn("app","Firebase",Ty);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(A,e,r){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=Uy;function Dp(t,A={}){let e=t;typeof A!="object"&&(A={name:A});const r=Object.assign({name:Nl,automaticDataCollectionEnabled:!1},A),n=r.name;if(typeof n!="string"||!n)throw mr.create("bad-app-name",{appName:String(n)});if(e||(e=Up()),!e)throw mr.create("no-options");const s=Uo.get(n);if(s){if(Er(e,s.options)&&Er(r,s.config))return s;throw mr.create("duplicate-app",{appName:n})}const i=new OC(n);for(const a of Kl.values())i.addComponent(a);const o=new Sy(e,r,i);return Uo.set(n,o),o}function Lp(t=Nl){const A=Uo.get(t);if(!A&&t===Nl&&Up())return Dp();if(!A)throw mr.create("no-app",{appName:t});return A}function ot(t,A,e){var r;let n=(r=Fy[t])!==null&&r!==void 0?r:t;e&&(n+=`-${e}`);const s=n.match(/\s|\//),i=A.match(/\s|\//);if(s||i){const o=[`Unable to register library "${n}" with version "${A}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${A}" contains illegal characters (whitespace or "/")`),Jt.warn(o.join(" "));return}St(new mt(`${n}-version`,()=>({library:n,version:A}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="firebase-heartbeat-database",Hy=1,js="firebase-heartbeat-store";let ol=null;function Pp(){return ol||(ol=kp(Ry,Hy,{upgrade:(t,A)=>{switch(A){case 0:try{t.createObjectStore(js)}catch(e){console.warn(e)}}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),ol}async function ky(t){try{const e=(await Pp()).transaction(js),r=await e.objectStore(js).get(Op(t));return await e.done,r}catch(A){if(A instanceof wt)Jt.warn(A.message);else{const e=mr.create("idb-get",{originalErrorMessage:A==null?void 0:A.message});Jt.warn(e.message)}}}async function Kh(t,A){try{const r=(await Pp()).transaction(js,"readwrite");await r.objectStore(js).put(A,Op(t)),await r.done}catch(e){if(e instanceof wt)Jt.warn(e.message);else{const r=mr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Jt.warn(r.message)}}}function Op(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=1024,Ly=30;class Py{constructor(A){this.container=A,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new My(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var A,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gh();if(((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Ly){const i=xy(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jt.warn(r)}}async getHeartbeatsHeader(){var A;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gh(),{heartbeatsToSend:r,unsentEntries:n}=Oy(this._heartbeatsCache.heartbeats),s=Io(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Jt.warn(e),""}}}function Gh(){return new Date().toISOString().substring(0,10)}function Oy(t,A=Dy){const e=[];let r=t.slice();for(const n of t){const s=e.find(i=>i.agent===n.agent);if(s){if(s.dates.push(n.date),Wh(e)>A){s.dates.pop();break}}else if(e.push({agent:n.agent,dates:[n.date]}),Wh(e)>A){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class My{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tp()?Sp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ky(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kh(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:A.heartbeats})}else return}async add(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kh(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...A.heartbeats]})}else return}}function Wh(t){return Io(JSON.stringify({version:2,heartbeats:t})).length}function xy(t){if(t.length===0)return-1;let A=0,e=t[0].date;for(let r=1;r<t.length;r++)t[r].date<e&&(e=t[r].date,A=r);return A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){St(new mt("platform-logger",A=>new ZC(A),"PRIVATE")),St(new mt("heartbeat",A=>new Py(A),"PRIVATE")),ot(Vl,Vh,t),ot(Vl,Vh,"esm2017"),ot("fire-js","")}Vy("");var Ny="firebase",Ky="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ot(Ny,Ky,"app");const Mp="@firebase/installations",Rc="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=1e4,Vp=`w:${Rc}`,Np="FIS_v2",Gy="https://firebaseinstallations.googleapis.com/v1",Wy=60*60*1e3,jy="installations",Jy="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$r=new nn(jy,Jy,Xy);function Kp(t){return t instanceof wt&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp({projectId:t}){return`${Gy}/projects/${t}/installations`}function Wp(t){return{token:t.token,requestStatus:2,expiresIn:zy(t.expiresIn),creationTime:Date.now()}}async function jp(t,A){const r=(await A.json()).error;return $r.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Jp({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qy(t,{refreshToken:A}){const e=Jp(t);return e.append("Authorization",Yy(A)),e}async function Xp(t){const A=await t();return A.status>=500&&A.status<600?t():A}function zy(t){return Number(t.replace("s","000"))}function Yy(t){return`${Np} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $y({appConfig:t,heartbeatServiceProvider:A},{fid:e}){const r=Gp(t),n=Jp(t),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={fid:e,authVersion:Np,appId:t.appId,sdkVersion:Vp},o={method:"POST",headers:n,body:JSON.stringify(i)},a=await Xp(()=>fetch(r,o));if(a.ok){const c=await a.json();return{fid:c.fid||e,registrationStatus:2,refreshToken:c.refreshToken,authToken:Wp(c.authToken)}}else throw await jp("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new Promise(A=>{setTimeout(A,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=/^[cdef][\w-]{21}$/,Gl="";function e_(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=t_(t);return A_.test(e)?e:Gl}catch{return Gl}}function t_(t){return Zy(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=new Map;function Yp(t,A){const e=na(t);$p(e,A),r_(e,A)}function $p(t,A){const e=zp.get(t);if(e)for(const r of e)r(A)}function r_(t,A){const e=n_();e&&e.postMessage({key:t,fid:A}),s_()}let jr=null;function n_(){return!jr&&"BroadcastChannel"in self&&(jr=new BroadcastChannel("[Firebase] FID Change"),jr.onmessage=t=>{$p(t.data.key,t.data.fid)}),jr}function s_(){zp.size===0&&jr&&(jr.close(),jr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="firebase-installations-database",o_=1,Zr="firebase-installations-store";let al=null;function Hc(){return al||(al=kp(i_,o_,{upgrade:(t,A)=>{switch(A){case 0:t.createObjectStore(Zr)}}})),al}async function Fo(t,A){const e=na(t),n=(await Hc()).transaction(Zr,"readwrite"),s=n.objectStore(Zr),i=await s.get(e);return await s.put(A,e),await n.done,(!i||i.fid!==A.fid)&&Yp(t,A.fid),A}async function Zp(t){const A=na(t),r=(await Hc()).transaction(Zr,"readwrite");await r.objectStore(Zr).delete(A),await r.done}async function sa(t,A){const e=na(t),n=(await Hc()).transaction(Zr,"readwrite"),s=n.objectStore(Zr),i=await s.get(e),o=A(i);return o===void 0?await s.delete(e):await s.put(o,e),await n.done,o&&(!i||i.fid!==o.fid)&&Yp(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){let A;const e=await sa(t.appConfig,r=>{const n=a_(r),s=l_(t,n);return A=s.registrationPromise,s.installationEntry});return e.fid===Gl?{installationEntry:await A}:{installationEntry:e,registrationPromise:A}}function a_(t){const A=t||{fid:e_(),registrationStatus:0};return AB(A)}function l_(t,A){if(A.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject($r.create("app-offline"));return{installationEntry:A,registrationPromise:n}}const e={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},r=c_(t,e);return{installationEntry:e,registrationPromise:r}}else return A.registrationStatus===1?{installationEntry:A,registrationPromise:u_(t)}:{installationEntry:A}}async function c_(t,A){try{const e=await $y(t,A);return Fo(t.appConfig,e)}catch(e){throw Kp(e)&&e.customData.serverCode===409?await Zp(t.appConfig):await Fo(t.appConfig,{fid:A.fid,registrationStatus:0}),e}}async function u_(t){let A=await jh(t.appConfig);for(;A.registrationStatus===1;)await qp(100),A=await jh(t.appConfig);if(A.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await kc(t);return r||e}return A}function jh(t){return sa(t,A=>{if(!A)throw $r.create("installation-not-found");return AB(A)})}function AB(t){return h_(t)?{fid:t.fid,registrationStatus:0}:t}function h_(t){return t.registrationStatus===1&&t.registrationTime+xp<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_({appConfig:t,heartbeatServiceProvider:A},e){const r=d_(t,e),n=qy(t,e),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={installation:{sdkVersion:Vp,appId:t.appId}},o={method:"POST",headers:n,body:JSON.stringify(i)},a=await Xp(()=>fetch(r,o));if(a.ok){const c=await a.json();return Wp(c)}else throw await jp("Generate Auth Token",a)}function d_(t,{fid:A}){return`${Gp(t)}/${A}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,A=!1){let e;const r=await sa(t.appConfig,s=>{if(!eB(s))throw $r.create("not-registered");const i=s.authToken;if(!A&&B_(i))return s;if(i.requestStatus===1)return e=g_(t,A),s;{if(!navigator.onLine)throw $r.create("app-offline");const o=w_(s);return e=p_(t,o),o}});return e?await e:r.authToken}async function g_(t,A){let e=await Jh(t.appConfig);for(;e.authToken.requestStatus===1;)await qp(100),e=await Jh(t.appConfig);const r=e.authToken;return r.requestStatus===0?Dc(t,A):r}function Jh(t){return sa(t,A=>{if(!eB(A))throw $r.create("not-registered");const e=A.authToken;return C_(e)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}async function p_(t,A){try{const e=await f_(t,A),r=Object.assign(Object.assign({},A),{authToken:e});return await Fo(t.appConfig,r),e}catch(e){if(Kp(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await Zp(t.appConfig);else{const r=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});await Fo(t.appConfig,r)}throw e}}function eB(t){return t!==void 0&&t.registrationStatus===2}function B_(t){return t.requestStatus===2&&!m_(t)}function m_(t){const A=Date.now();return A<t.creationTime||t.creationTime+t.expiresIn<A+Wy}function w_(t){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:A})}function C_(t){return t.requestStatus===1&&t.requestTime+xp<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(t){const A=t,{installationEntry:e,registrationPromise:r}=await kc(A);return r?r.catch(console.error):Dc(A).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(t,A=!1){const e=t;return await v_(e),(await Dc(e,A)).token}async function v_(t){const{registrationPromise:A}=await kc(t);A&&await A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){if(!t||!t.options)throw ll("App Configuration");if(!t.name)throw ll("App Name");const A=["projectId","apiKey","appId"];for(const e of A)if(!t.options[e])throw ll(e);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ll(t){return $r.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="installations",Q_="installations-internal",I_=t=>{const A=t.getProvider("app").getImmediate(),e=E_(A),r=ri(A,"heartbeat");return{app:A,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},U_=t=>{const A=t.getProvider("app").getImmediate(),e=ri(A,tB).getImmediate();return{getId:()=>y_(e),getToken:n=>__(e,n)}};function F_(){St(new mt(tB,I_,"PUBLIC")),St(new mt(Q_,U_,"PRIVATE"))}F_();ot(Mp,Rc);ot(Mp,Rc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="analytics",b_="firebase_id",T_="origin",S_=60*1e3,R_="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=new ra("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},at=new nn("analytics","Analytics",H_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){if(!t.startsWith(Lc)){const A=at.create("invalid-gtag-resource",{gtagURL:t});return Ve.warn(A.message),""}return t}function rB(t){return Promise.all(t.map(A=>A.catch(e=>e)))}function D_(t,A){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(t,A)),e}function L_(t,A){const e=D_("firebase-js-sdk-policy",{createScriptURL:k_}),r=document.createElement("script"),n=`${Lc}?l=${t}&id=${A}`;r.src=e?e==null?void 0:e.createScriptURL(n):n,r.async=!0,document.head.appendChild(r)}function P_(t){let A=[];return Array.isArray(window[t])?A=window[t]:window[t]=A,A}async function O_(t,A,e,r,n,s){const i=r[n];try{if(i)await A[i];else{const a=(await rB(e)).find(c=>c.measurementId===n);a&&await A[a.appId]}}catch(o){Ve.error(o)}t("config",n,s)}async function M_(t,A,e,r,n){try{let s=[];if(n&&n.send_to){let i=n.send_to;Array.isArray(i)||(i=[i]);const o=await rB(e);for(const a of i){const c=o.find(f=>f.measurementId===a),u=c&&A[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(A)),await Promise.all(s),t("event",r,n||{})}catch(s){Ve.error(s)}}function x_(t,A,e,r){async function n(s,...i){try{if(s==="event"){const[o,a]=i;await M_(t,A,e,o,a)}else if(s==="config"){const[o,a]=i;await O_(t,A,e,r,o,a)}else if(s==="consent"){const[o,a]=i;t("consent",o,a)}else if(s==="get"){const[o,a,c]=i;t("get",o,a,c)}else if(s==="set"){const[o]=i;t("set",o)}else t(s,...i)}catch(o){Ve.error(o)}}return n}function V_(t,A,e,r,n){let s=function(...i){window[r].push(arguments)};return window[n]&&typeof window[n]=="function"&&(s=window[n]),window[n]=x_(s,t,A,e),{gtagCore:s,wrappedGtag:window[n]}}function N_(t){const A=window.document.getElementsByTagName("script");for(const e of Object.values(A))if(e.src&&e.src.includes(Lc)&&e.src.includes(t))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=30,G_=1e3;class W_{constructor(A={},e=G_){this.throttleMetadata=A,this.intervalMillis=e}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,e){this.throttleMetadata[A]=e}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}}const nB=new W_;function j_(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function J_(t){var A;const{appId:e,apiKey:r}=t,n={method:"GET",headers:j_(r)},s=R_.replace("{app-id}",e),i=await fetch(s,n);if(i.status!==200&&i.status!==304){let o="";try{const a=await i.json();!((A=a.error)===null||A===void 0)&&A.message&&(o=a.error.message)}catch{}throw at.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function X_(t,A=nB,e){const{appId:r,apiKey:n,measurementId:s}=t.options;if(!r)throw at.create("no-app-id");if(!n){if(s)return{measurementId:s,appId:r};throw at.create("no-api-key")}const i=A.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Y_;return setTimeout(async()=>{o.abort()},S_),sB({appId:r,apiKey:n,measurementId:s},i,o,A)}async function sB(t,{throttleEndTimeMillis:A,backoffCount:e},r,n=nB){var s;const{appId:i,measurementId:o}=t;try{await q_(r,A)}catch(a){if(o)return Ve.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a==null?void 0:a.message}]`),{appId:i,measurementId:o};throw a}try{const a=await J_(t);return n.deleteThrottleMetadata(i),a}catch(a){const c=a;if(!z_(c)){if(n.deleteThrottleMetadata(i),o)return Ve.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw a}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Ph(e,n.intervalMillis,K_):Ph(e,n.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return n.setThrottleMetadata(i,f),Ve.debug(`Calling attemptFetch again in ${u} millis`),sB(t,f,r,n)}}function q_(t,A){return new Promise((e,r)=>{const n=Math.max(A-Date.now(),0),s=setTimeout(e,n);t.addEventListener(()=>{clearTimeout(s),r(at.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function z_(t){if(!(t instanceof wt)||!t.customData)return!1;const A=Number(t.customData.httpStatus);return A===429||A===500||A===503||A===504}class Y_{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}async function $_(t,A,e,r,n){if(n&&n.global){t("event",e,r);return}else{const s=await A,i=Object.assign(Object.assign({},r),{send_to:s});t("event",e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z_(){if(Tp())try{await Sp()}catch(t){return Ve.warn(at.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ve.warn(at.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Av(t,A,e,r,n,s,i){var o;const a=X_(t);a.then(p=>{e[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ve.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ve.error(p)),A.push(a);const c=Z_().then(p=>{if(p)return r.getId()}),[u,f]=await Promise.all([a,c]);N_(s)||L_(s,u.measurementId),n("js",new Date);const d=(o=i==null?void 0:i.config)!==null&&o!==void 0?o:{};return d[T_]="firebase",d.update=!0,f!=null&&(d[b_]=f),n("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(A){this.app=A}_delete(){return delete Hs[this.app.options.appId],Promise.resolve()}}let Hs={},qh=[];const zh={};let cl="dataLayer",tv="gtag",Yh,iB,$h=!1;function rv(){const t=[];if(bp()&&t.push("This is a browser extension environment."),vC()||t.push("Cookies are not available."),t.length>0){const A=t.map((r,n)=>`(${n+1}) ${r}`).join(" "),e=at.create("invalid-analytics-context",{errorInfo:A});Ve.warn(e.message)}}function nv(t,A,e){rv();const r=t.options.appId;if(!r)throw at.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ve.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw at.create("no-api-key");if(Hs[r]!=null)throw at.create("already-exists",{id:r});if(!$h){P_(cl);const{wrappedGtag:s,gtagCore:i}=V_(Hs,qh,zh,cl,tv);iB=s,Yh=i,$h=!0}return Hs[r]=Av(t,qh,zh,A,Yh,cl,e),new ev(t)}function sv(t,A,e,r){t=Se(t),$_(iB,Hs[t.app.options.appId],A,e,r).catch(n=>Ve.error(n))}const Zh="@firebase/analytics",Af="0.10.12";function iv(){St(new mt(Xh,(A,{options:e})=>{const r=A.getProvider("app").getImmediate(),n=A.getProvider("installations-internal").getImmediate();return nv(r,n,e)},"PUBLIC")),St(new mt("analytics-internal",t,"PRIVATE")),ot(Zh,Af),ot(Zh,Af,"esm2017");function t(A){try{const e=A.getProvider(Xh).getImmediate();return{logEvent:(r,n,s)=>sv(e,r,n,s)}}catch(e){throw at.create("interop-component-reg-failed",{reason:e})}}}iv();function Pc(t,A){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&A.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)A.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(e[r[n]]=t[r[n]]);return e}function oB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ov=oB,aB=new nn("auth","Firebase",oB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new ra("@firebase/auth");function av(t,...A){bo.logLevel<=RA.WARN&&bo.warn(`Auth (${zn}): ${t}`,...A)}function uo(t,...A){bo.logLevel<=RA.ERROR&&bo.error(`Auth (${zn}): ${t}`,...A)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,...A){throw Oc(t,...A)}function It(t,...A){return Oc(t,...A)}function lB(t,A,e){const r=Object.assign(Object.assign({},ov()),{[A]:e});return new nn("auth","Firebase",r).create(A,{appName:t.name})}function wr(t){return lB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oc(t,...A){if(typeof t!="string"){const e=A[0],r=[...A.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(e,...r)}return aB.create(t,...A)}function CA(t,A,...e){if(!t)throw Oc(A,...e)}function Kt(t){const A="INTERNAL ASSERTION FAILED: "+t;throw uo(A),new Error(A)}function qt(t,A){t||Kt(A)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lv(){return ef()==="http:"||ef()==="https:"}function ef(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lv()||bp()||"connection"in navigator)?navigator.onLine:!0}function uv(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(A,e){this.shortDelay=A,this.longDelay=e,qt(e>A,"Short delay should be less than long delay!"),this.isMobile=BC()||CC()}get(){return cv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,A){qt(t.emulator,"Emulator should always be set here");const{url:e}=t.emulator;return A?`${e}${A.startsWith("/")?A.slice(1):A}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{static initialize(A,e,r){this.fetchImpl=A,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new ni(3e4,6e4);function ia(t,A){return t.tenantId&&!A.tenantId?Object.assign(Object.assign({},A),{tenantId:t.tenantId}):A}async function Yn(t,A,e,r,n={}){return uB(t,n,async()=>{let s={},i={};r&&(A==="GET"?i=r:s={body:JSON.stringify(r)});const o=ti(Object.assign({key:t.config.apiKey},i)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:A,headers:a},s);return wC()||(c.referrerPolicy="no-referrer"),cB.fetch()(fB(t,t.config.apiHost,e,o),c)})}async function uB(t,A,e){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hv),A);try{const n=new dv(t),s=await Promise.race([e(),n.promise]);n.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Di(t,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const o=s.ok?i.errorMessage:i.error.message,[a,c]=o.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Di(t,"credential-already-in-use",i);if(a==="EMAIL_EXISTS")throw Di(t,"email-already-in-use",i);if(a==="USER_DISABLED")throw Di(t,"user-disabled",i);const u=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lB(t,u,c);Xt(t,u)}}catch(n){if(n instanceof wt)throw n;Xt(t,"network-request-failed",{message:String(n)})}}async function hB(t,A,e,r,n={}){const s=await Yn(t,A,e,r,n);return"mfaPendingCredential"in s&&Xt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function fB(t,A,e,r){const n=`${A}${e}?${r}`;return t.config.emulator?Mc(t.config,n):`${t.config.apiScheme}://${n}`}class dv{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(A){this.auth=A,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(It(this.auth,"network-request-failed")),fv.get())})}}function Di(t,A,e){const r={appName:t.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const n=It(t,A,r);return n.customData._tokenResponse=e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gv(t,A){return Yn(t,"POST","/v1/accounts:delete",A)}async function dB(t,A){return Yn(t,"POST","/v1/accounts:lookup",A)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){if(t)try{const A=new Date(Number(t));if(!isNaN(A.getTime()))return A.toUTCString()}catch{}}async function pv(t,A=!1){const e=Se(t),r=await e.getIdToken(A),n=xc(r);CA(n&&n.exp&&n.auth_time&&n.iat,e.auth,"internal-error");const s=typeof n.firebase=="object"?n.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:n,token:r,authTime:ks(ul(n.auth_time)),issuedAtTime:ks(ul(n.iat)),expirationTime:ks(ul(n.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ul(t){return Number(t)*1e3}function xc(t){const[A,e,r]=t.split(".");if(A===void 0||e===void 0||r===void 0)return uo("JWT malformed, contained fewer than 3 sections"),null;try{const n=Qp(e);return n?JSON.parse(n):(uo("Failed to decode base64 JWT payload"),null)}catch(n){return uo("Caught error parsing JWT payload as JSON",n==null?void 0:n.toString()),null}}function tf(t){const A=xc(t);return CA(A,"internal-error"),CA(typeof A.exp<"u","internal-error"),CA(typeof A.iat<"u","internal-error"),Number(A.exp)-Number(A.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,A,e=!1){if(e)return A;try{return await A}catch(r){throw r instanceof wt&&Bv(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bv({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(A){this.user=A,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(A){var e;if(A){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,n)}}schedule(A=!1){if(!this.isRunning)return;const e=this.getInterval(A);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(A){(A==null?void 0:A.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(A,e){this.createdAt=A,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ks(this.lastLoginAt),this.creationTime=ks(this.createdAt)}_copy(A){this.createdAt=A.createdAt,this.lastLoginAt=A.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t){var A;const e=t.auth,r=await t.getIdToken(),n=await Js(t,dB(e,{idToken:r}));CA(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];t._notifyReloadListener(s);const i=!((A=s.providerUserInfo)===null||A===void 0)&&A.length?gB(s.providerUserInfo):[],o=Cv(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new jl(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function wv(t){const A=Se(t);await To(A),await A.auth._persistUserIfCurrent(A),A.auth._notifyListenersIfCurrent(A)}function Cv(t,A){return[...t.filter(r=>!A.some(n=>n.providerId===r.providerId)),...A]}function gB(t){return t.map(A=>{var{providerId:e}=A,r=Pc(A,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(t,A){const e=await uB(t,{},async()=>{const r=ti({grant_type:"refresh_token",refresh_token:A}).slice(1),{tokenApiHost:n,apiKey:s}=t.config,i=fB(t,n,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",cB.fetch()(i,{method:"POST",headers:o,body:r})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function _v(t,A){return Yn(t,"POST","/v2/accounts:revokeToken",ia(t,A))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(A){CA(A.idToken,"internal-error"),CA(typeof A.idToken<"u","internal-error"),CA(typeof A.refreshToken<"u","internal-error");const e="expiresIn"in A&&typeof A.expiresIn<"u"?Number(A.expiresIn):tf(A.idToken);this.updateTokensAndExpiration(A.idToken,A.refreshToken,e)}updateFromIdToken(A){CA(A.length!==0,"internal-error");const e=tf(A);this.updateTokensAndExpiration(A,null,e)}async getToken(A,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(CA(this.refreshToken,A,"user-token-expired"),this.refreshToken?(await this.refresh(A,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(A,e){const{accessToken:r,refreshToken:n,expiresIn:s}=await yv(A,e);this.updateTokensAndExpiration(r,n,Number(s))}updateTokensAndExpiration(A,e,r){this.refreshToken=e||null,this.accessToken=A||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(A,e){const{refreshToken:r,accessToken:n,expirationTime:s}=e,i=new Hn;return r&&(CA(typeof r=="string","internal-error",{appName:A}),i.refreshToken=r),n&&(CA(typeof n=="string","internal-error",{appName:A}),i.accessToken=n),s&&(CA(typeof s=="number","internal-error",{appName:A}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(A){this.accessToken=A.accessToken,this.refreshToken=A.refreshToken,this.expirationTime=A.expirationTime}_clone(){return Object.assign(new Hn,this.toJSON())}_performRefresh(){return Kt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,A){CA(typeof t=="string"||typeof t>"u","internal-error",{appName:A})}class Gt{constructor(A){var{uid:e,auth:r,stsTokenManager:n}=A,s=Pc(A,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jl(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(A){const e=await Js(this,this.stsTokenManager.getToken(this.auth,A));return CA(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(A){return pv(this,A)}reload(){return wv(this)}_assign(A){this!==A&&(CA(this.uid===A.uid,this.auth,"internal-error"),this.displayName=A.displayName,this.photoURL=A.photoURL,this.email=A.email,this.emailVerified=A.emailVerified,this.phoneNumber=A.phoneNumber,this.isAnonymous=A.isAnonymous,this.tenantId=A.tenantId,this.providerData=A.providerData.map(e=>Object.assign({},e)),this.metadata._copy(A.metadata),this.stsTokenManager._assign(A.stsTokenManager))}_clone(A){const e=new Gt(Object.assign(Object.assign({},this),{auth:A,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(A){CA(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=A,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(A){this.reloadListener?this.reloadListener(A):this.reloadUserInfo=A}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(A,e=!1){let r=!1;A.idToken&&A.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(A),r=!0),e&&await To(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pt(this.auth.app))return Promise.reject(wr(this.auth));const A=await this.getIdToken();return await Js(this,gv(this.auth,{idToken:A})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(A=>Object.assign({},A)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(A,e){var r,n,s,i,o,a,c,u;const f=(r=e.displayName)!==null&&r!==void 0?r:void 0,d=(n=e.email)!==null&&n!==void 0?n:void 0,p=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,w=(i=e.photoURL)!==null&&i!==void 0?i:void 0,y=(o=e.tenantId)!==null&&o!==void 0?o:void 0,I=(a=e._redirectEventId)!==null&&a!==void 0?a:void 0,S=(c=e.createdAt)!==null&&c!==void 0?c:void 0,T=(u=e.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:L,emailVerified:R,isAnonymous:M,providerData:D,stsTokenManager:Q}=e;CA(L&&Q,A,"internal-error");const B=Hn.fromJSON(this.name,Q);CA(typeof L=="string",A,"internal-error"),nr(f,A.name),nr(d,A.name),CA(typeof R=="boolean",A,"internal-error"),CA(typeof M=="boolean",A,"internal-error"),nr(p,A.name),nr(w,A.name),nr(y,A.name),nr(I,A.name),nr(S,A.name),nr(T,A.name);const v=new Gt({uid:L,auth:A,email:d,emailVerified:R,displayName:f,isAnonymous:M,photoURL:w,phoneNumber:p,tenantId:y,stsTokenManager:B,createdAt:S,lastLoginAt:T});return D&&Array.isArray(D)&&(v.providerData=D.map(F=>Object.assign({},F))),I&&(v._redirectEventId=I),v}static async _fromIdTokenResponse(A,e,r=!1){const n=new Hn;n.updateFromServerResponse(e);const s=new Gt({uid:e.localId,auth:A,stsTokenManager:n,isAnonymous:r});return await To(s),s}static async _fromGetAccountInfoResponse(A,e,r){const n=e.users[0];CA(n.localId!==void 0,"internal-error");const s=n.providerUserInfo!==void 0?gB(n.providerUserInfo):[],i=!(n.email&&n.passwordHash)&&!(s!=null&&s.length),o=new Hn;o.updateFromIdToken(r);const a=new Gt({uid:n.localId,auth:A,stsTokenManager:o,isAnonymous:i}),c={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:s,metadata:new jl(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(s!=null&&s.length)};return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Map;function Wt(t){qt(t instanceof Function,"Expected a class definition");let A=rf.get(t);return A?(qt(A instanceof t,"Instance stored in cache mismatched with class"),A):(A=new t,rf.set(t,A),A)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(A,e){this.storage[A]=e}async _get(A){const e=this.storage[A];return e===void 0?null:e}async _remove(A){delete this.storage[A]}_addListener(A,e){}_removeListener(A,e){}}pB.type="NONE";const nf=pB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,A,e){return`firebase:${t}:${A}:${e}`}class kn{constructor(A,e,r){this.persistence=A,this.auth=e,this.userKey=r;const{config:n,name:s}=this.auth;this.fullUserKey=ho(this.userKey,n.apiKey,s),this.fullPersistenceKey=ho("persistence",n.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(A){return this.persistence._set(this.fullUserKey,A.toJSON())}async getCurrentUser(){const A=await this.persistence._get(this.fullUserKey);return A?Gt._fromJSON(this.auth,A):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(A){if(this.persistence===A)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=A,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(A,e,r="authUser"){if(!e.length)return new kn(Wt(nf),A,r);const n=(await Promise.all(e.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=n[0]||Wt(nf);const i=ho(r,A.config.apiKey,A.name);let o=null;for(const c of e)try{const u=await c._get(i);if(u){const f=Gt._fromJSON(A,u);c!==s&&(o=f),s=c;break}}catch{}const a=n.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new kn(s,A,r):(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(e.map(async c=>{if(c!==s)try{await c._remove(i)}catch{}})),new kn(s,A,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){const A=t.toLowerCase();if(A.includes("opera/")||A.includes("opr/")||A.includes("opios/"))return"Opera";if(CB(A))return"IEMobile";if(A.includes("msie")||A.includes("trident/"))return"IE";if(A.includes("edge/"))return"Edge";if(BB(A))return"Firefox";if(A.includes("silk/"))return"Silk";if(_B(A))return"Blackberry";if(vB(A))return"Webos";if(mB(A))return"Safari";if((A.includes("chrome/")||wB(A))&&!A.includes("edge/"))return"Chrome";if(yB(A))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BB(t=Te()){return/firefox\//i.test(t)}function mB(t=Te()){const A=t.toLowerCase();return A.includes("safari/")&&!A.includes("chrome/")&&!A.includes("crios/")&&!A.includes("android")}function wB(t=Te()){return/crios\//i.test(t)}function CB(t=Te()){return/iemobile/i.test(t)}function yB(t=Te()){return/android/i.test(t)}function _B(t=Te()){return/blackberry/i.test(t)}function vB(t=Te()){return/webos/i.test(t)}function Vc(t=Te()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vv(t=Te()){var A;return Vc(t)&&!!(!((A=window.navigator)===null||A===void 0)&&A.standalone)}function Ev(){return yC()&&document.documentMode===10}function EB(t=Te()){return Vc(t)||yB(t)||vB(t)||_B(t)||/windows phone/i.test(t)||CB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t,A=[]){let e;switch(t){case"Browser":e=sf(Te());break;case"Worker":e=`${sf(Te())}-${t}`;break;default:e=t}const r=A.length?A.join(","):"FirebaseCore-web";return`${e}/JsCore/${zn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(A){this.auth=A,this.queue=[]}pushCallback(A,e){const r=s=>new Promise((i,o)=>{try{const a=A(s);i(a)}catch(a){o(a)}});r.onAbort=e,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(A){if(this.auth.currentUser===A)return;const e=[];try{for(const r of this.queue)await r(A),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const n of e)try{n()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(t,A={}){return Yn(t,"GET","/v2/passwordPolicy",ia(t,A))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=6;class Fv{constructor(A){var e,r,n,s;const i=A.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=i.minPasswordLength)!==null&&e!==void 0?e:Uv,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=A.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(n=(r=A.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&n!==void 0?n:"",this.forceUpgradeOnSignin=(s=A.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=A.schemaVersion}validatePassword(A){var e,r,n,s,i,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(A,a),this.validatePasswordCharacterOptions(A,a),a.isValid&&(a.isValid=(e=a.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(n=a.containsLowercaseLetter)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(i=a.containsNumericCharacter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(o=a.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),a}validatePasswordLengthOptions(A,e){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=A.length>=r),n&&(e.meetsMaxPasswordLength=A.length<=n)}validatePasswordCharacterOptions(A,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let n=0;n<A.length;n++)r=A.charAt(n),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(A,e,r,n,s){this.customStrengthOptions.containsLowercaseLetter&&(A.containsLowercaseLetter||(A.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(A.containsUppercaseLetter||(A.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(A.containsNumericCharacter||(A.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(A.containsNonAlphanumericCharacter||(A.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(A,e,r,n){this.app=A,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new of(this),this.idTokenSubscription=new of(this),this.beforeStateQueue=new Qv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=A.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(A,e){return e&&(this._popupRedirectResolver=Wt(e)),this._initializationPromise=this.queue(async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await kn.create(this,A),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((n=this.currentUser)===null||n===void 0?void 0:n.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const A=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!A)){if(this.currentUser&&A&&this.currentUser.uid===A.uid){this._currentUser._assign(A),await this.currentUser.getIdToken();return}await this._updateCurrentUser(A,!0)}}async initializeCurrentUserFromIdToken(A){try{const e=await dB(this,{idToken:A}),r=await Gt._fromGetAccountInfoResponse(this,e,A);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(A){var e;if(pt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(A&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,o=n==null?void 0:n._redirectEventId,a=await this.tryRedirectSignIn(A);(!i||i===o)&&(a!=null&&a.user)&&(n=a.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return CA(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(A){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,A,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(A){try{await To(A)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(A)}useDeviceLanguage(){this.languageCode=uv()}async _delete(){this._deleted=!0}async updateCurrentUser(A){if(pt(this.app))return Promise.reject(wr(this));const e=A?Se(A):null;return e&&CA(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(A,e=!1){if(!this._deleted)return A&&CA(this.tenantId===A.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(A),this.queue(async()=>{await this.directlySetCurrentUser(A),this.notifyAuthListeners()})}async signOut(){return pt(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(A){return pt(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wt(A))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(A){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(A)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const A=await Iv(this),e=new Fv(A);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(A){this._errorFactory=new nn("auth","Firebase",A())}onAuthStateChanged(A,e,r){return this.registerStateListener(this.authStateSubscription,A,e,r)}beforeAuthStateChanged(A,e){return this.beforeStateQueue.pushCallback(A,e)}onIdTokenChanged(A,e,r){return this.registerStateListener(this.idTokenSubscription,A,e,r)}authStateReady(){return new Promise((A,e)=>{if(this.currentUser)A();else{const r=this.onAuthStateChanged(()=>{r(),A()},e)}})}async revokeAccessToken(A){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:A,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await _v(this,r)}}toJSON(){var A;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(A=this._currentUser)===null||A===void 0?void 0:A.toJSON()}}async _setRedirectUser(A,e){const r=await this.getOrInitRedirectPersistenceManager(e);return A===null?r.removeCurrentUser():r.setCurrentUser(A)}async getOrInitRedirectPersistenceManager(A){if(!this.redirectPersistenceManager){const e=A&&Wt(A)||this._popupRedirectResolver;CA(e,this,"argument-error"),this.redirectPersistenceManager=await kn.create(this,[Wt(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(A){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===A?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===A?this.redirectUser:null}async _persistUserIfCurrent(A){if(A===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(A))}_notifyListenersIfCurrent(A){A===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var A,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(A=this.currentUser)===null||A===void 0?void 0:A.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(A,e,r,n){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(CA(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),typeof e=="function"){const a=A.addObserver(e,r,n);return()=>{i=!0,a()}}else{const a=A.addObserver(e);return()=>{i=!0,a()}}}async directlySetCurrentUser(A){this.currentUser&&this.currentUser!==A&&this._currentUser._stopProactiveRefresh(),A&&this.isProactiveRefreshEnabled&&A._startProactiveRefresh(),this.currentUser=A,A?await this.assertedPersistence.setCurrentUser(A):await this.assertedPersistence.removeCurrentUser()}queue(A){return this.operations=this.operations.then(A,A),this.operations}get assertedPersistence(){return CA(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(A){!A||this.frameworks.includes(A)||(this.frameworks.push(A),this.frameworks.sort(),this.clientVersion=QB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var A;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((A=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||A===void 0?void 0:A.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var A;if(pt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((A=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||A===void 0?void 0:A.getToken());return e!=null&&e.error&&av(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oa(t){return Se(t)}class of{constructor(A){this.auth=A,this.observer=null,this.addObserver=FC(e=>this.observer=e)}get next(){return CA(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tv(t){Nc=t}function Sv(t){return Nc.loadJS(t)}function Rv(){return Nc.gapiScript}function Hv(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,A){const e=ri(t,"auth");if(e.isInitialized()){const n=e.getImmediate(),s=e.getOptions();if(Er(s,A??{}))return n;Xt(n,"already-initialized")}return e.initialize({options:A})}function Dv(t,A){const e=(A==null?void 0:A.persistence)||[],r=(Array.isArray(e)?e:[e]).map(Wt);A!=null&&A.errorMap&&t._updateErrorMap(A.errorMap),t._initializeWithPersistence(r,A==null?void 0:A.popupRedirectResolver)}function Lv(t,A,e){const r=oa(t);CA(/^https?:\/\//.test(A),r,"invalid-emulator-scheme");const n=!1,s=IB(A),{host:i,port:o}=Pv(A),a=o===null?"":`:${o}`,c={url:`${s}//${i}${a}/`},u=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:n})});if(!r._canInitEmulator){CA(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),CA(Er(c,r.config.emulator)&&Er(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ov()}function IB(t){const A=t.indexOf(":");return A<0?"":t.substr(0,A+1)}function Pv(t){const A=IB(t),e=/(\/\/)?([^?#/]+)/.exec(t.substr(A.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(r);if(n){const s=n[1];return{host:s,port:af(r.substr(s.length+1))}}else{const[s,i]=r.split(":");return{host:s,port:af(i)}}}function af(t){if(!t)return null;const A=Number(t);return isNaN(A)?null:A}function Ov(){function t(){const A=document.createElement("p"),e=A.style;A.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",A.classList.add("firebase-emulator-warning"),document.body.appendChild(A)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(A,e){this.providerId=A,this.signInMethod=e}toJSON(){return Kt("not implemented")}_getIdTokenResponse(A){return Kt("not implemented")}_linkToIdToken(A,e){return Kt("not implemented")}_getReauthenticationResolver(A){return Kt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dn(t,A){return hB(t,"POST","/v1/accounts:signInWithIdp",ia(t,A))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="http://localhost";class An extends UB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(A){const e=new An(A.providerId,A.signInMethod);return A.idToken||A.accessToken?(A.idToken&&(e.idToken=A.idToken),A.accessToken&&(e.accessToken=A.accessToken),A.nonce&&!A.pendingToken&&(e.nonce=A.nonce),A.pendingToken&&(e.pendingToken=A.pendingToken)):A.oauthToken&&A.oauthTokenSecret?(e.accessToken=A.oauthToken,e.secret=A.oauthTokenSecret):Xt("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(A){const e=typeof A=="string"?JSON.parse(A):A,{providerId:r,signInMethod:n}=e,s=Pc(e,["providerId","signInMethod"]);if(!r||!n)return null;const i=new An(r,n);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(A){const e=this.buildRequest();return Dn(A,e)}_linkToIdToken(A,e){const r=this.buildRequest();return r.idToken=e,Dn(A,r)}_getReauthenticationResolver(A){const e=this.buildRequest();return e.autoCreate=!1,Dn(A,e)}buildRequest(){const A={requestUri:Mv,returnSecureToken:!0};if(this.pendingToken)A.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),A.postBody=ti(e)}return A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(A){this.providerId=A,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(A){this.defaultLanguageCode=A}setCustomParameters(A){return this.customParameters=A,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends FB{constructor(){super(...arguments),this.scopes=[]}addScope(A){return this.scopes.includes(A)||this.scopes.push(A),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends si{constructor(){super("facebook.com")}static credential(A){return An._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return ar.credentialFromTaggedObject(A)}static credentialFromError(A){return ar.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return ar.credential(A.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends si{constructor(){super("google.com"),this.addScope("profile")}static credential(A,e){return An._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:A,accessToken:e})}static credentialFromResult(A){return lr.credentialFromTaggedObject(A)}static credentialFromError(A){return lr.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthIdToken:e,oauthAccessToken:r}=A;if(!e&&!r)return null;try{return lr.credential(e,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends si{constructor(){super("github.com")}static credential(A){return An._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return cr.credentialFromTaggedObject(A)}static credentialFromError(A){return cr.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return cr.credential(A.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends si{constructor(){super("twitter.com")}static credential(A,e){return An._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:A,oauthTokenSecret:e})}static credentialFromResult(A){return ur.credentialFromTaggedObject(A)}static credentialFromError(A){return ur.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=A;if(!e||!r)return null;try{return ur.credential(e,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(t,A){return hB(t,"POST","/v1/accounts:signUp",ia(t,A))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(A){this.user=A.user,this.providerId=A.providerId,this._tokenResponse=A._tokenResponse,this.operationType=A.operationType}static async _fromIdTokenResponse(A,e,r,n=!1){const s=await Gt._fromIdTokenResponse(A,r,n),i=lf(r);return new Qr({user:s,providerId:i,_tokenResponse:r,operationType:e})}static async _forOperation(A,e,r){await A._updateTokensIfNecessary(r,!0);const n=lf(r);return new Qr({user:A,providerId:n,_tokenResponse:r,operationType:e})}}function lf(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vv(t){var A;if(pt(t.app))return Promise.reject(wr(t));const e=oa(t);if(await e._initializationPromise,!((A=e.currentUser)===null||A===void 0)&&A.isAnonymous)return new Qr({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await xv(e,{returnSecureToken:!0}),n=await Qr._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(n.user),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends wt{constructor(A,e,r,n){var s;super(e.code,e.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,So.prototype),this.customData={appName:A.name,tenantId:(s=A.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(A,e,r,n){return new So(A,e,r,n)}}function bB(t,A,e,r){return(A==="reauthenticate"?e._getReauthenticationResolver(t):e._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?So._fromErrorAndOperation(t,s,A,r):s})}async function Nv(t,A,e=!1){const r=await Js(t,A._linkToIdToken(t.auth,await t.getIdToken()),e);return Qr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t,A,e=!1){const{auth:r}=t;if(pt(r.app))return Promise.reject(wr(r));const n="reauthenticate";try{const s=await Js(t,bB(r,n,A,t),e);CA(s.idToken,r,"internal-error");const i=xc(s.idToken);CA(i,r,"internal-error");const{sub:o}=i;return CA(t.uid===o,r,"user-mismatch"),Qr._forOperation(t,n,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(t,A,e=!1){if(pt(t.app))return Promise.reject(wr(t));const r="signIn",n=await bB(t,r,A),s=await Qr._fromIdTokenResponse(t,r,n);return e||await t._updateCurrentUser(s.user),s}function Wv(t,A,e,r){return Se(t).onIdTokenChanged(A,e,r)}function jv(t,A,e){return Se(t).beforeAuthStateChanged(A,e)}const Ro="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(A,e){this.storageRetriever=A,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ro,"1"),this.storage.removeItem(Ro),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(A,e){return this.storage.setItem(A,JSON.stringify(e)),Promise.resolve()}_get(A){const e=this.storage.getItem(A);return Promise.resolve(e?JSON.parse(e):null)}_remove(A){return this.storage.removeItem(A),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=1e3,Xv=10;class SB extends TB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(A,e)=>this.onStorageEvent(A,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EB(),this._shouldAllowMigration=!0}forAllChangedKeys(A){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),n=this.localCache[e];r!==n&&A(e,n,r)}}onStorageEvent(A,e=!1){if(!A.key){this.forAllChangedKeys((i,o,a)=>{this.notifyListeners(i,a)});return}const r=A.key;e?this.detachListener():this.stopPolling();const n=()=>{const i=this.storage.getItem(r);!e&&this.localCache[r]===i||this.notifyListeners(r,i)},s=this.storage.getItem(r);Ev()&&s!==A.newValue&&A.newValue!==A.oldValue?setTimeout(n,Xv):n()}notifyListeners(A,e){this.localCache[A]=e;const r=this.listeners[A];if(r)for(const n of Array.from(r))n(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((A,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:A,oldValue:e,newValue:r}),!0)})},Jv)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(A,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[A]||(this.listeners[A]=new Set,this.localCache[A]=this.storage.getItem(A)),this.listeners[A].add(e)}_removeListener(A,e){this.listeners[A]&&(this.listeners[A].delete(e),this.listeners[A].size===0&&delete this.listeners[A]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(A,e){await super._set(A,e),this.localCache[A]=JSON.stringify(e)}async _get(A){const e=await super._get(A);return this.localCache[A]=JSON.stringify(e),e}async _remove(A){await super._remove(A),delete this.localCache[A]}}SB.type="LOCAL";const qv=SB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB extends TB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(A,e){}_removeListener(A,e){}}RB.type="SESSION";const HB=RB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){return Promise.all(t.map(async A=>{try{return{fulfilled:!0,value:await A}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(A){this.eventTarget=A,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(A){const e=this.receivers.find(n=>n.isListeningto(A));if(e)return e;const r=new aa(A);return this.receivers.push(r),r}isListeningto(A){return this.eventTarget===A}async handleEvent(A){const e=A,{eventId:r,eventType:n,data:s}=e.data,i=this.handlersMap[n];if(!(i!=null&&i.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const o=Array.from(i).map(async c=>c(e.origin,s)),a=await zv(o);e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:a})}_subscribe(A,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[A]||(this.handlersMap[A]=new Set),this.handlersMap[A].add(e)}_unsubscribe(A,e){this.handlersMap[A]&&e&&this.handlersMap[A].delete(e),(!e||this.handlersMap[A].size===0)&&delete this.handlersMap[A],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}aa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t="",A=10){let e="";for(let r=0;r<A;r++)e+=Math.floor(Math.random()*10);return t+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(A){this.target=A,this.handlers=new Set}removeMessageHandler(A){A.messageChannel&&(A.messageChannel.port1.removeEventListener("message",A.onMessage),A.messageChannel.port1.close()),this.handlers.delete(A)}async _send(A,e,r=50){const n=typeof MessageChannel<"u"?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let s,i;return new Promise((o,a)=>{const c=Kc("",20);n.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},r);i={messageChannel:n,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(i),n.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:A,eventId:c,data:e},[n.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return window}function $v(t){Ut().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){return typeof Ut().WorkerGlobalScope<"u"&&typeof Ut().importScripts=="function"}async function Zv(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AE(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eE(){return kB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="firebaseLocalStorageDb",tE=1,Ho="firebaseLocalStorage",LB="fbase_key";class ii{constructor(A){this.request=A}toPromise(){return new Promise((A,e)=>{this.request.addEventListener("success",()=>{A(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function la(t,A){return t.transaction([Ho],A?"readwrite":"readonly").objectStore(Ho)}function rE(){const t=indexedDB.deleteDatabase(DB);return new ii(t).toPromise()}function Jl(){const t=indexedDB.open(DB,tE);return new Promise((A,e)=>{t.addEventListener("error",()=>{e(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ho,{keyPath:LB})}catch(n){e(n)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ho)?A(r):(r.close(),await rE(),A(await Jl()))})})}async function cf(t,A,e){const r=la(t,!0).put({[LB]:A,value:e});return new ii(r).toPromise()}async function nE(t,A){const e=la(t,!1).get(A),r=await new ii(e).toPromise();return r===void 0?null:r.value}function uf(t,A){const e=la(t,!0).delete(A);return new ii(e).toPromise()}const sE=800,iE=3;class PB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jl(),this.db)}async _withRetries(A){let e=0;for(;;)try{const r=await this._openDb();return await A(r)}catch(r){if(e++>iE)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=aa._getInstance(eE()),this.receiver._subscribe("keyChanged",async(A,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(A,e)=>["keyChanged"])}async initializeSender(){var A,e;if(this.activeServiceWorker=await Zv(),!this.activeServiceWorker)return;this.sender=new Yv(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((A=r[0])===null||A===void 0)&&A.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(A){if(!(!this.sender||!this.activeServiceWorker||AE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:A},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const A=await Jl();return await cf(A,Ro,"1"),await uf(A,Ro),!0}catch{}return!1}async _withPendingWrite(A){this.pendingWrites++;try{await A()}finally{this.pendingWrites--}}async _set(A,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>cf(r,A,e)),this.localCache[A]=e,this.notifyServiceWorker(A)))}async _get(A){const e=await this._withRetries(r=>nE(r,A));return this.localCache[A]=e,e}async _remove(A){return this._withPendingWrite(async()=>(await this._withRetries(e=>uf(e,A)),delete this.localCache[A],this.notifyServiceWorker(A)))}async _poll(){const A=await this._withRetries(n=>{const s=la(n,!1).getAll();return new ii(s).toPromise()});if(!A)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(A.length!==0)for(const{fbase_key:n,value:s}of A)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(s)&&(this.notifyListeners(n,s),e.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),e.push(n));return e}notifyListeners(A,e){this.localCache[A]=e;const r=this.listeners[A];if(r)for(const n of Array.from(r))n(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(A,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[A]||(this.listeners[A]=new Set,this._get(A)),this.listeners[A].add(e)}_removeListener(A,e){this.listeners[A]&&(this.listeners[A].delete(e),this.listeners[A].size===0&&delete this.listeners[A]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PB.type="LOCAL";const oE=PB;new ni(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,A){return A?Wt(A):(CA(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends UB{constructor(A){super("custom","custom"),this.params=A}_getIdTokenResponse(A){return Dn(A,this._buildIdpRequest())}_linkToIdToken(A,e){return Dn(A,this._buildIdpRequest(e))}_getReauthenticationResolver(A){return Dn(A,this._buildIdpRequest())}_buildIdpRequest(A){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return A&&(e.idToken=A),e}}function lE(t){return Gv(t.auth,new Gc(t),t.bypassAuthState)}function cE(t){const{auth:A,user:e}=t;return CA(e,A,"internal-error"),Kv(e,new Gc(t),t.bypassAuthState)}async function uE(t){const{auth:A,user:e}=t;return CA(e,A,"internal-error"),Nv(e,new Gc(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(A,e,r,n,s=!1){this.auth=A,this.resolver=r,this.user=n,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(A,e)=>{this.pendingPromise={resolve:A,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(A){const{urlResponse:e,sessionId:r,postBody:n,tenantId:s,error:i,type:o}=A;if(i){this.reject(i);return}const a={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(A){this.reject(A)}getIdpTask(A){switch(A){case"signInViaPopup":case"signInViaRedirect":return lE;case"linkViaPopup":case"linkViaRedirect":return uE;case"reauthViaPopup":case"reauthViaRedirect":return cE;default:Xt(this.auth,"internal-error")}}resolve(A){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(A),this.unregisterAndCleanUp()}reject(A){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(A),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new ni(2e3,1e4);class Sn extends OB{constructor(A,e,r,n,s){super(A,e,n,s),this.provider=r,this.authWindow=null,this.pollId=null,Sn.currentPopupAction&&Sn.currentPopupAction.cancel(),Sn.currentPopupAction=this}async executeNotNull(){const A=await this.execute();return CA(A,this.auth,"internal-error"),A}async onExecution(){qt(this.filter.length===1,"Popup operations only handle one event");const A=Kc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],A),this.authWindow.associatedEvent=A,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(It(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var A;return((A=this.authWindow)===null||A===void 0?void 0:A.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sn.currentPopupAction=null}pollUserCancellation(){const A=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(A,hE.get())};A()}}Sn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="pendingRedirect",fo=new Map;class dE extends OB{constructor(A,e,r=!1){super(A,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let A=fo.get(this.auth._key());if(!A){try{const r=await gE(this.resolver,this.auth)?await super.execute():null;A=()=>Promise.resolve(r)}catch(e){A=()=>Promise.reject(e)}fo.set(this.auth._key(),A)}return this.bypassAuthState||fo.set(this.auth._key(),()=>Promise.resolve(null)),A()}async onAuthEvent(A){if(A.type==="signInViaRedirect")return super.onAuthEvent(A);if(A.type==="unknown"){this.resolve(null);return}if(A.eventId){const e=await this.auth._redirectUserForId(A.eventId);if(e)return this.user=e,super.onAuthEvent(A);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gE(t,A){const e=mE(A),r=BE(t);if(!await r._isAvailable())return!1;const n=await r._get(e)==="true";return await r._remove(e),n}function pE(t,A){fo.set(t._key(),A)}function BE(t){return Wt(t._redirectPersistence)}function mE(t){return ho(fE,t.config.apiKey,t.name)}async function wE(t,A,e=!1){if(pt(t.app))return Promise.reject(wr(t));const r=oa(t),n=aE(r,A),i=await new dE(r,n,e).execute();return i&&!e&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,A)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=10*60*1e3;class yE{constructor(A){this.auth=A,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(A){this.consumers.add(A),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,A)&&(this.sendToConsumer(this.queuedRedirectEvent,A),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(A){this.consumers.delete(A)}onEvent(A){if(this.hasEventBeenHandled(A))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(A,r)&&(e=!0,this.sendToConsumer(A,r),this.saveEventToCache(A))}),this.hasHandledPotentialRedirect||!_E(A)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=A,e=!0)),e}sendToConsumer(A,e){var r;if(A.error&&!MB(A)){const n=((r=A.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(It(this.auth,n))}else e.onAuthEvent(A)}isEventForConsumer(A,e){const r=e.eventId===null||!!A.eventId&&A.eventId===e.eventId;return e.filter.includes(A.type)&&r}hasEventBeenHandled(A){return Date.now()-this.lastProcessedEventTime>=CE&&this.cachedEventUids.clear(),this.cachedEventUids.has(hf(A))}saveEventToCache(A){this.cachedEventUids.add(hf(A)),this.lastProcessedEventTime=Date.now()}}function hf(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(A=>A).join("-")}function MB({type:t,error:A}){return t==="unknown"&&(A==null?void 0:A.code)==="auth/no-auth-event"}function _E(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vE(t,A={}){return Yn(t,"GET","/v1/projects",A)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QE=/^https?/;async function IE(t){if(t.config.emulator)return;const{authorizedDomains:A}=await vE(t);for(const e of A)try{if(UE(e))return}catch{}Xt(t,"unauthorized-domain")}function UE(t){const A=Wl(),{protocol:e,hostname:r}=new URL(A);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?e==="chrome-extension:"&&t.replace("chrome-extension://","")===A.replace("chrome-extension://",""):e==="chrome-extension:"&&i.hostname===r}if(!QE.test(e))return!1;if(EE.test(t))return r===t;const n=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new ni(3e4,6e4);function ff(){const t=Ut().___jsl;if(t!=null&&t.H){for(const A of Object.keys(t.H))if(t.H[A].r=t.H[A].r||[],t.H[A].L=t.H[A].L||[],t.H[A].r=[...t.H[A].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}}function bE(t){return new Promise((A,e)=>{var r,n,s;function i(){ff(),gapi.load("gapi.iframes",{callback:()=>{A(gapi.iframes.getContext())},ontimeout:()=>{ff(),e(It(t,"network-request-failed"))},timeout:FE.get()})}if(!((n=(r=Ut().gapi)===null||r===void 0?void 0:r.iframes)===null||n===void 0)&&n.Iframe)A(gapi.iframes.getContext());else if(!((s=Ut().gapi)===null||s===void 0)&&s.load)i();else{const o=Hv("iframefcb");return Ut()[o]=()=>{gapi.load?i():e(It(t,"network-request-failed"))},Sv(`${Rv()}?onload=${o}`).catch(a=>e(a))}}).catch(A=>{throw go=null,A})}let go=null;function TE(t){return go=go||bE(t),go}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new ni(5e3,15e3),RE="__/auth/iframe",HE="emulator/auth/iframe",kE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LE(t){const A=t.config;CA(A.authDomain,t,"auth-domain-config-required");const e=A.emulator?Mc(A,HE):`https://${t.config.authDomain}/${RE}`,r={apiKey:A.apiKey,appName:t.name,v:zn},n=DE.get(t.config.apiHost);n&&(r.eid=n);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${ti(r).slice(1)}`}async function PE(t){const A=await TE(t),e=Ut().gapi;return CA(e,t,"internal-error"),A.open({where:document.body,url:LE(t),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kE,dontclear:!0},r=>new Promise(async(n,s)=>{await r.restyle({setHideOnLeave:!1});const i=It(t,"network-request-failed"),o=Ut().setTimeout(()=>{s(i)},SE.get());function a(){Ut().clearTimeout(o),n(r)}r.ping(a).then(a,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ME=500,xE=600,VE="_blank",NE="http://localhost";class df{constructor(A){this.window=A,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KE(t,A,e,r=ME,n=xE){const s=Math.max((window.screen.availHeight-n)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const a=Object.assign(Object.assign({},OE),{width:r.toString(),height:n.toString(),top:s,left:i}),c=Te().toLowerCase();e&&(o=wB(c)?VE:e),BB(c)&&(A=A||NE,a.scrollbars="yes");const u=Object.entries(a).reduce((d,[p,w])=>`${d}${p}=${w},`,"");if(vv(c)&&o!=="_self")return GE(A||"",o),new df(null);const f=window.open(A||"",o,u);CA(f,t,"popup-blocked");try{f.focus()}catch{}return new df(f)}function GE(t,A){const e=document.createElement("a");e.href=t,e.target=A;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="__/auth/handler",jE="emulator/auth/handler",JE=encodeURIComponent("fac");async function gf(t,A,e,r,n,s){CA(t.config.authDomain,t,"auth-domain-config-required"),CA(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:e,redirectUrl:r,v:zn,eventId:n};if(A instanceof FB){A.setDefaultLanguage(t.languageCode),i.providerId=A.providerId||"",UC(A.getCustomParameters())||(i.customParameters=JSON.stringify(A.getCustomParameters()));for(const[u,f]of Object.entries({}))i[u]=f}if(A instanceof si){const u=A.getScopes().filter(f=>f!=="");u.length>0&&(i.scopes=u.join(","))}t.tenantId&&(i.tid=t.tenantId);const o=i;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const a=await t._getAppCheckToken(),c=a?`#${JE}=${encodeURIComponent(a)}`:"";return`${XE(t)}?${ti(o).slice(1)}${c}`}function XE({config:t}){return t.emulator?Mc(t,jE):`https://${t.authDomain}/${WE}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="webStorageSupport";class qE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HB,this._completeRedirectFn=wE,this._overrideRedirectResult=pE}async _openPopup(A,e,r,n){var s;qt((s=this.eventManagers[A._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await gf(A,e,r,Wl(),n);return KE(A,i,Kc())}async _openRedirect(A,e,r,n){await this._originValidation(A);const s=await gf(A,e,r,Wl(),n);return $v(s),new Promise(()=>{})}_initialize(A){const e=A._key();if(this.eventManagers[e]){const{manager:n,promise:s}=this.eventManagers[e];return n?Promise.resolve(n):(qt(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(A);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(A){const e=await PE(A),r=new yE(A);return e.register("authEvent",n=>(CA(n==null?void 0:n.authEvent,A,"invalid-auth-event"),{status:r.onEvent(n.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[A._key()]={manager:r},this.iframes[A._key()]=e,r}_isIframeWebStorageSupported(A,e){this.iframes[A._key()].send(hl,{type:hl},n=>{var s;const i=(s=n==null?void 0:n[0])===null||s===void 0?void 0:s[hl];i!==void 0&&e(!!i),Xt(A,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(A){const e=A._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=IE(A)),this.originValidationPromises[e]}get _shouldInitProactively(){return EB()||mB()||Vc()}}const zE=qE;var pf="@firebase/auth",Bf="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(A){this.auth=A,this.internalListeners=new Map}getUid(){var A;return this.assertAuthConfigured(),((A=this.auth.currentUser)===null||A===void 0?void 0:A.uid)||null}async getToken(A){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(A)}:null}addAuthTokenListener(A){if(this.assertAuthConfigured(),this.internalListeners.has(A))return;const e=this.auth.onIdTokenChanged(r=>{A((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(A,e),this.updateProactiveRefresh()}removeAuthTokenListener(A){this.assertAuthConfigured();const e=this.internalListeners.get(A);e&&(this.internalListeners.delete(A),e(),this.updateProactiveRefresh())}assertAuthConfigured(){CA(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZE(t){St(new mt("auth",(A,{options:e})=>{const r=A.getProvider("app").getImmediate(),n=A.getProvider("heartbeat"),s=A.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=r.options;CA(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QB(t)},c=new bv(r,n,s,a);return Dv(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((A,e,r)=>{A.getProvider("auth-internal").initialize()})),St(new mt("auth-internal",A=>{const e=oa(A.getProvider("auth").getImmediate());return(r=>new YE(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(pf,Bf,$E(t)),ot(pf,Bf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=5*60,eQ=Fp("authIdTokenMaxAge")||AQ;let mf=null;const tQ=t=>async A=>{const e=A&&await A.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>eQ)return;const n=e==null?void 0:e.token;mf!==n&&(mf=n,await fetch(t,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))};function rQ(t=Lp()){const A=ri(t,"auth");if(A.isInitialized())return A.getImmediate();const e=kv(t,{popupRedirectResolver:zE,persistence:[oE,qv,HB]}),r=Fp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const i=tQ(s.toString());jv(e,i,()=>i(e.currentUser)),Wv(e,o=>i(o))}}const n=Ip("auth");return n&&Lv(e,`http://${n}`),e}function nQ(){var t,A;return(A=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&A!==void 0?A:document}Tv({loadJS(t){return new Promise((A,e)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=A,r.onerror=n=>{const s=It("internal-error");s.customData=n,e(s)},r.type="text/javascript",r.charset="UTF-8",nQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZE("Browser");var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,xB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function A(Q,B){function v(){}v.prototype=B.prototype,Q.D=B.prototype,Q.prototype=new v,Q.prototype.constructor=Q,Q.C=function(F,U,b){for(var m=Array(arguments.length-2),$=2;$<arguments.length;$++)m[$-2]=arguments[$];return B.prototype[U].apply(F,m)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}A(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(Q,B,v){v||(v=0);var F=Array(16);if(typeof B=="string")for(var U=0;16>U;++U)F[U]=B.charCodeAt(v++)|B.charCodeAt(v++)<<8|B.charCodeAt(v++)<<16|B.charCodeAt(v++)<<24;else for(U=0;16>U;++U)F[U]=B[v++]|B[v++]<<8|B[v++]<<16|B[v++]<<24;B=Q.g[0],v=Q.g[1],U=Q.g[2];var b=Q.g[3],m=B+(b^v&(U^b))+F[0]+3614090360&4294967295;B=v+(m<<7&4294967295|m>>>25),m=b+(U^B&(v^U))+F[1]+3905402710&4294967295,b=B+(m<<12&4294967295|m>>>20),m=U+(v^b&(B^v))+F[2]+606105819&4294967295,U=b+(m<<17&4294967295|m>>>15),m=v+(B^U&(b^B))+F[3]+3250441966&4294967295,v=U+(m<<22&4294967295|m>>>10),m=B+(b^v&(U^b))+F[4]+4118548399&4294967295,B=v+(m<<7&4294967295|m>>>25),m=b+(U^B&(v^U))+F[5]+1200080426&4294967295,b=B+(m<<12&4294967295|m>>>20),m=U+(v^b&(B^v))+F[6]+2821735955&4294967295,U=b+(m<<17&4294967295|m>>>15),m=v+(B^U&(b^B))+F[7]+4249261313&4294967295,v=U+(m<<22&4294967295|m>>>10),m=B+(b^v&(U^b))+F[8]+1770035416&4294967295,B=v+(m<<7&4294967295|m>>>25),m=b+(U^B&(v^U))+F[9]+2336552879&4294967295,b=B+(m<<12&4294967295|m>>>20),m=U+(v^b&(B^v))+F[10]+4294925233&4294967295,U=b+(m<<17&4294967295|m>>>15),m=v+(B^U&(b^B))+F[11]+2304563134&4294967295,v=U+(m<<22&4294967295|m>>>10),m=B+(b^v&(U^b))+F[12]+1804603682&4294967295,B=v+(m<<7&4294967295|m>>>25),m=b+(U^B&(v^U))+F[13]+4254626195&4294967295,b=B+(m<<12&4294967295|m>>>20),m=U+(v^b&(B^v))+F[14]+2792965006&4294967295,U=b+(m<<17&4294967295|m>>>15),m=v+(B^U&(b^B))+F[15]+1236535329&4294967295,v=U+(m<<22&4294967295|m>>>10),m=B+(U^b&(v^U))+F[1]+4129170786&4294967295,B=v+(m<<5&4294967295|m>>>27),m=b+(v^U&(B^v))+F[6]+3225465664&4294967295,b=B+(m<<9&4294967295|m>>>23),m=U+(B^v&(b^B))+F[11]+643717713&4294967295,U=b+(m<<14&4294967295|m>>>18),m=v+(b^B&(U^b))+F[0]+3921069994&4294967295,v=U+(m<<20&4294967295|m>>>12),m=B+(U^b&(v^U))+F[5]+3593408605&4294967295,B=v+(m<<5&4294967295|m>>>27),m=b+(v^U&(B^v))+F[10]+38016083&4294967295,b=B+(m<<9&4294967295|m>>>23),m=U+(B^v&(b^B))+F[15]+3634488961&4294967295,U=b+(m<<14&4294967295|m>>>18),m=v+(b^B&(U^b))+F[4]+3889429448&4294967295,v=U+(m<<20&4294967295|m>>>12),m=B+(U^b&(v^U))+F[9]+568446438&4294967295,B=v+(m<<5&4294967295|m>>>27),m=b+(v^U&(B^v))+F[14]+3275163606&4294967295,b=B+(m<<9&4294967295|m>>>23),m=U+(B^v&(b^B))+F[3]+4107603335&4294967295,U=b+(m<<14&4294967295|m>>>18),m=v+(b^B&(U^b))+F[8]+1163531501&4294967295,v=U+(m<<20&4294967295|m>>>12),m=B+(U^b&(v^U))+F[13]+2850285829&4294967295,B=v+(m<<5&4294967295|m>>>27),m=b+(v^U&(B^v))+F[2]+4243563512&4294967295,b=B+(m<<9&4294967295|m>>>23),m=U+(B^v&(b^B))+F[7]+1735328473&4294967295,U=b+(m<<14&4294967295|m>>>18),m=v+(b^B&(U^b))+F[12]+2368359562&4294967295,v=U+(m<<20&4294967295|m>>>12),m=B+(v^U^b)+F[5]+4294588738&4294967295,B=v+(m<<4&4294967295|m>>>28),m=b+(B^v^U)+F[8]+2272392833&4294967295,b=B+(m<<11&4294967295|m>>>21),m=U+(b^B^v)+F[11]+1839030562&4294967295,U=b+(m<<16&4294967295|m>>>16),m=v+(U^b^B)+F[14]+4259657740&4294967295,v=U+(m<<23&4294967295|m>>>9),m=B+(v^U^b)+F[1]+2763975236&4294967295,B=v+(m<<4&4294967295|m>>>28),m=b+(B^v^U)+F[4]+1272893353&4294967295,b=B+(m<<11&4294967295|m>>>21),m=U+(b^B^v)+F[7]+4139469664&4294967295,U=b+(m<<16&4294967295|m>>>16),m=v+(U^b^B)+F[10]+3200236656&4294967295,v=U+(m<<23&4294967295|m>>>9),m=B+(v^U^b)+F[13]+681279174&4294967295,B=v+(m<<4&4294967295|m>>>28),m=b+(B^v^U)+F[0]+3936430074&4294967295,b=B+(m<<11&4294967295|m>>>21),m=U+(b^B^v)+F[3]+3572445317&4294967295,U=b+(m<<16&4294967295|m>>>16),m=v+(U^b^B)+F[6]+76029189&4294967295,v=U+(m<<23&4294967295|m>>>9),m=B+(v^U^b)+F[9]+3654602809&4294967295,B=v+(m<<4&4294967295|m>>>28),m=b+(B^v^U)+F[12]+3873151461&4294967295,b=B+(m<<11&4294967295|m>>>21),m=U+(b^B^v)+F[15]+530742520&4294967295,U=b+(m<<16&4294967295|m>>>16),m=v+(U^b^B)+F[2]+3299628645&4294967295,v=U+(m<<23&4294967295|m>>>9),m=B+(U^(v|~b))+F[0]+4096336452&4294967295,B=v+(m<<6&4294967295|m>>>26),m=b+(v^(B|~U))+F[7]+1126891415&4294967295,b=B+(m<<10&4294967295|m>>>22),m=U+(B^(b|~v))+F[14]+2878612391&4294967295,U=b+(m<<15&4294967295|m>>>17),m=v+(b^(U|~B))+F[5]+4237533241&4294967295,v=U+(m<<21&4294967295|m>>>11),m=B+(U^(v|~b))+F[12]+1700485571&4294967295,B=v+(m<<6&4294967295|m>>>26),m=b+(v^(B|~U))+F[3]+2399980690&4294967295,b=B+(m<<10&4294967295|m>>>22),m=U+(B^(b|~v))+F[10]+4293915773&4294967295,U=b+(m<<15&4294967295|m>>>17),m=v+(b^(U|~B))+F[1]+2240044497&4294967295,v=U+(m<<21&4294967295|m>>>11),m=B+(U^(v|~b))+F[8]+1873313359&4294967295,B=v+(m<<6&4294967295|m>>>26),m=b+(v^(B|~U))+F[15]+4264355552&4294967295,b=B+(m<<10&4294967295|m>>>22),m=U+(B^(b|~v))+F[6]+2734768916&4294967295,U=b+(m<<15&4294967295|m>>>17),m=v+(b^(U|~B))+F[13]+1309151649&4294967295,v=U+(m<<21&4294967295|m>>>11),m=B+(U^(v|~b))+F[4]+4149444226&4294967295,B=v+(m<<6&4294967295|m>>>26),m=b+(v^(B|~U))+F[11]+3174756917&4294967295,b=B+(m<<10&4294967295|m>>>22),m=U+(B^(b|~v))+F[2]+718787259&4294967295,U=b+(m<<15&4294967295|m>>>17),m=v+(b^(U|~B))+F[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+B&4294967295,Q.g[1]=Q.g[1]+(U+(m<<21&4294967295|m>>>11))&4294967295,Q.g[2]=Q.g[2]+U&4294967295,Q.g[3]=Q.g[3]+b&4294967295}r.prototype.u=function(Q,B){B===void 0&&(B=Q.length);for(var v=B-this.blockSize,F=this.B,U=this.h,b=0;b<B;){if(U==0)for(;b<=v;)n(this,Q,b),b+=this.blockSize;if(typeof Q=="string"){for(;b<B;)if(F[U++]=Q.charCodeAt(b++),U==this.blockSize){n(this,F),U=0;break}}else for(;b<B;)if(F[U++]=Q[b++],U==this.blockSize){n(this,F),U=0;break}}this.h=U,this.o+=B},r.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var B=1;B<Q.length-8;++B)Q[B]=0;var v=8*this.o;for(B=Q.length-8;B<Q.length;++B)Q[B]=v&255,v/=256;for(this.u(Q),Q=Array(16),B=v=0;4>B;++B)for(var F=0;32>F;F+=8)Q[v++]=this.g[B]>>>F&255;return Q};function s(Q,B){var v=o;return Object.prototype.hasOwnProperty.call(v,Q)?v[Q]:v[Q]=B(Q)}function i(Q,B){this.h=B;for(var v=[],F=!0,U=Q.length-1;0<=U;U--){var b=Q[U]|0;F&&b==B||(v[U]=b,F=!1)}this.g=v}var o={};function a(Q){return-128<=Q&&128>Q?s(Q,function(B){return new i([B|0],0>B?-1:0)}):new i([Q|0],0>Q?-1:0)}function c(Q){if(isNaN(Q)||!isFinite(Q))return f;if(0>Q)return I(c(-Q));for(var B=[],v=1,F=0;Q>=v;F++)B[F]=Q/v|0,v*=4294967296;return new i(B,0)}function u(Q,B){if(Q.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(Q.charAt(0)=="-")return I(u(Q.substring(1),B));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=c(Math.pow(B,8)),F=f,U=0;U<Q.length;U+=8){var b=Math.min(8,Q.length-U),m=parseInt(Q.substring(U,U+b),B);8>b?(b=c(Math.pow(B,b)),F=F.j(b).add(c(m))):(F=F.j(v),F=F.add(c(m)))}return F}var f=a(0),d=a(1),p=a(16777216);t=i.prototype,t.m=function(){if(y(this))return-I(this).m();for(var Q=0,B=1,v=0;v<this.g.length;v++){var F=this.i(v);Q+=(0<=F?F:4294967296+F)*B,B*=4294967296}return Q},t.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(w(this))return"0";if(y(this))return"-"+I(this).toString(Q);for(var B=c(Math.pow(Q,6)),v=this,F="";;){var U=R(v,B).g;v=S(v,U.j(B));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(Q);if(v=U,w(v))return b+F;for(;6>b.length;)b="0"+b;F=b+F}},t.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function w(Q){if(Q.h!=0)return!1;for(var B=0;B<Q.g.length;B++)if(Q.g[B]!=0)return!1;return!0}function y(Q){return Q.h==-1}t.l=function(Q){return Q=S(this,Q),y(Q)?-1:w(Q)?0:1};function I(Q){for(var B=Q.g.length,v=[],F=0;F<B;F++)v[F]=~Q.g[F];return new i(v,~Q.h).add(d)}t.abs=function(){return y(this)?I(this):this},t.add=function(Q){for(var B=Math.max(this.g.length,Q.g.length),v=[],F=0,U=0;U<=B;U++){var b=F+(this.i(U)&65535)+(Q.i(U)&65535),m=(b>>>16)+(this.i(U)>>>16)+(Q.i(U)>>>16);F=m>>>16,b&=65535,m&=65535,v[U]=m<<16|b}return new i(v,v[v.length-1]&-2147483648?-1:0)};function S(Q,B){return Q.add(I(B))}t.j=function(Q){if(w(this)||w(Q))return f;if(y(this))return y(Q)?I(this).j(I(Q)):I(I(this).j(Q));if(y(Q))return I(this.j(I(Q)));if(0>this.l(p)&&0>Q.l(p))return c(this.m()*Q.m());for(var B=this.g.length+Q.g.length,v=[],F=0;F<2*B;F++)v[F]=0;for(F=0;F<this.g.length;F++)for(var U=0;U<Q.g.length;U++){var b=this.i(F)>>>16,m=this.i(F)&65535,$=Q.i(U)>>>16,AA=Q.i(U)&65535;v[2*F+2*U]+=m*AA,T(v,2*F+2*U),v[2*F+2*U+1]+=b*AA,T(v,2*F+2*U+1),v[2*F+2*U+1]+=m*$,T(v,2*F+2*U+1),v[2*F+2*U+2]+=b*$,T(v,2*F+2*U+2)}for(F=0;F<B;F++)v[F]=v[2*F+1]<<16|v[2*F];for(F=B;F<2*B;F++)v[F]=0;return new i(v,0)};function T(Q,B){for(;(Q[B]&65535)!=Q[B];)Q[B+1]+=Q[B]>>>16,Q[B]&=65535,B++}function L(Q,B){this.g=Q,this.h=B}function R(Q,B){if(w(B))throw Error("division by zero");if(w(Q))return new L(f,f);if(y(Q))return B=R(I(Q),B),new L(I(B.g),I(B.h));if(y(B))return B=R(Q,I(B)),new L(I(B.g),B.h);if(30<Q.g.length){if(y(Q)||y(B))throw Error("slowDivide_ only works with positive integers.");for(var v=d,F=B;0>=F.l(Q);)v=M(v),F=M(F);var U=D(v,1),b=D(F,1);for(F=D(F,2),v=D(v,2);!w(F);){var m=b.add(F);0>=m.l(Q)&&(U=U.add(v),b=m),F=D(F,1),v=D(v,1)}return B=S(Q,U.j(B)),new L(U,B)}for(U=f;0<=Q.l(B);){for(v=Math.max(1,Math.floor(Q.m()/B.m())),F=Math.ceil(Math.log(v)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),b=c(v),m=b.j(B);y(m)||0<m.l(Q);)v-=F,b=c(v),m=b.j(B);w(b)&&(b=d),U=U.add(b),Q=S(Q,m)}return new L(U,Q)}t.A=function(Q){return R(this,Q).h},t.and=function(Q){for(var B=Math.max(this.g.length,Q.g.length),v=[],F=0;F<B;F++)v[F]=this.i(F)&Q.i(F);return new i(v,this.h&Q.h)},t.or=function(Q){for(var B=Math.max(this.g.length,Q.g.length),v=[],F=0;F<B;F++)v[F]=this.i(F)|Q.i(F);return new i(v,this.h|Q.h)},t.xor=function(Q){for(var B=Math.max(this.g.length,Q.g.length),v=[],F=0;F<B;F++)v[F]=this.i(F)^Q.i(F);return new i(v,this.h^Q.h)};function M(Q){for(var B=Q.g.length+1,v=[],F=0;F<B;F++)v[F]=Q.i(F)<<1|Q.i(F-1)>>>31;return new i(v,Q.h)}function D(Q,B){var v=B>>5;B%=32;for(var F=Q.g.length-v,U=[],b=0;b<F;b++)U[b]=0<B?Q.i(b+v)>>>B|Q.i(b+v+1)<<32-B:Q.i(b+v);return new i(U,Q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xB=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=u,Cr=i}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VB,ys,NB,po,Xl,KB,GB,WB;(function(){var t,A=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function e(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Li=="object"&&Li];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=e(this);function n(l,h){if(h)A:{var g=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var O=l[C];if(!(O in g))break A;g=g[O]}l=l[l.length-1],C=g[l],h=h(C),h!=C&&h!=null&&A(g,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var g=0,C=!1,O={next:function(){if(!C&&g<l.length){var x=g++;return{value:h(x,l[x]),done:!1}}return C=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}n("Array.prototype.values",function(l){return l||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,g){return l.call.apply(l.bind,arguments)}function f(l,h,g){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,C),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function d(l,h,g){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,d.apply(null,arguments)}function p(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function w(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(C,O,x){for(var z=Array(arguments.length-2),GA=2;GA<arguments.length;GA++)z[GA-2]=arguments[GA];return h.prototype[O].apply(C,z)}}function y(l){const h=l.length;if(0<h){const g=Array(h);for(let C=0;C<h;C++)g[C]=l[C];return g}return[]}function I(l,h){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(a(C)){const O=l.length||0,x=C.length||0;l.length=O+x;for(let z=0;z<x;z++)l[O+z]=C[z]}else l.push(C)}}class S{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function T(l){return/^[\s\xa0]*$/.test(l)}function L(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function R(l){return R[" "](l),l}R[" "]=function(){};var M=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function D(l,h,g){for(const C in l)h.call(g,l[C],C,l)}function Q(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function B(l){const h={};for(const g in l)h[g]=l[g];return h}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(l,h){let g,C;for(let O=1;O<arguments.length;O++){C=arguments[O];for(g in C)l[g]=C[g];for(let x=0;x<v.length;x++)g=v[x],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function U(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function b(l){o.setTimeout(()=>{throw l},0)}function m(){var l=TA;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class ${constructor(){this.h=this.g=null}add(h,g){const C=AA.get();C.set(h,g),this.h?this.h.next=C:this.g=C,this.h=C}}var AA=new S(()=>new QA,l=>l.reset());class QA{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,wA=!1,TA=new $,P=()=>{const l=o.Promise.resolve(void 0);V=()=>{l.then(k)}};var k=()=>{for(var l;l=m();){try{l.h.call(l.g)}catch(g){b(g)}var h=AA;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}wA=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var uA=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return l}();function oA(l,h){if(q.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(M){A:{try{R(h.nodeName);var O=!0;break A}catch{}O=!1}O||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:iA[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&oA.aa.h.call(this)}}w(oA,q);var iA={2:"touch",3:"pen",4:"mouse"};oA.prototype.h=function(){oA.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),X=0;function IA(l,h,g,C,O){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!C,this.ha=O,this.key=++X,this.da=this.fa=!1}function UA(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function hA(l){this.src=l,this.g={},this.h=0}hA.prototype.add=function(l,h,g,C,O){var x=l.toString();l=this.g[x],l||(l=this.g[x]=[],this.h++);var z=vA(l,h,C,O);return-1<z?(h=l[z],g||(h.fa=!1)):(h=new IA(h,this.src,x,!!C,O),h.fa=g,l.push(h)),h};function pA(l,h){var g=h.type;if(g in l.g){var C=l.g[g],O=Array.prototype.indexOf.call(C,h,void 0),x;(x=0<=O)&&Array.prototype.splice.call(C,O,1),x&&(UA(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function vA(l,h,g,C){for(var O=0;O<l.length;++O){var x=l[O];if(!x.da&&x.listener==h&&x.capture==!!g&&x.ha==C)return O}return-1}var dA="closure_lm_"+(1e6*Math.random()|0),gA={};function FA(l,h,g,C,O){if(Array.isArray(h)){for(var x=0;x<h.length;x++)FA(l,h[x],g,C,O);return null}return g=Pt(g),l&&l[J]?l.K(h,g,c(C)?!!C.capture:!!C,O):xA(l,h,g,!1,C,O)}function xA(l,h,g,C,O,x){if(!h)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,GA=_t(l);if(GA||(l[dA]=GA=new hA(l)),g=GA.add(h,g,C,z,x),g.proxy)return g;if(C=DA(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)uA||(O=z),O===void 0&&(O=!1),l.addEventListener(h.toString(),C,O);else if(l.attachEvent)l.attachEvent(Ze(h.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function DA(){function l(g){return h.call(l.src,l.listener,g)}const h=yt;return l}function VA(l,h,g,C,O){if(Array.isArray(h))for(var x=0;x<h.length;x++)VA(l,h[x],g,C,O);else C=c(C)?!!C.capture:!!C,g=Pt(g),l&&l[J]?(l=l.i,h=String(h).toString(),h in l.g&&(x=l.g[h],g=vA(x,g,C,O),-1<g&&(UA(x[g]),Array.prototype.splice.call(x,g,1),x.length==0&&(delete l.g[h],l.h--)))):l&&(l=_t(l))&&(h=l.g[h.toString()],l=-1,h&&(l=vA(h,g,C,O)),(g=-1<l?h[l]:null)&&ee(g))}function ee(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[J])pA(h.i,l);else{var g=l.type,C=l.proxy;h.removeEventListener?h.removeEventListener(g,C,l.capture):h.detachEvent?h.detachEvent(Ze(g),C):h.addListener&&h.removeListener&&h.removeListener(C),(g=_t(h))?(pA(g,l),g.h==0&&(g.src=null,h[dA]=null)):UA(l)}}}function Ze(l){return l in gA?gA[l]:gA[l]="on"+l}function yt(l,h){if(l.da)l=!0;else{h=new oA(h,this);var g=l.listener,C=l.ha||l.src;l.fa&&ee(l),l=g.call(C,h)}return l}function _t(l){return l=l[dA],l instanceof hA?l:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(l){return typeof l=="function"?l:(l[Le]||(l[Le]=function(h){return l.handleEvent(h)}),l[Le])}function NA(){Y.call(this),this.i=new hA(this),this.M=this,this.F=null}w(NA,Y),NA.prototype[J]=!0,NA.prototype.removeEventListener=function(l,h,g,C){VA(this,l,h,g,C)};function BA(l,h){var g,C=l.F;if(C)for(g=[];C;C=C.F)g.push(C);if(l=l.M,C=h.type||h,typeof h=="string")h=new q(h,l);else if(h instanceof q)h.target=h.target||l;else{var O=h;h=new q(C,l),F(h,O)}if(O=!0,g)for(var x=g.length-1;0<=x;x--){var z=h.g=g[x];O=KA(z,C,!0,h)&&O}if(z=h.g=l,O=KA(z,C,!0,h)&&O,O=KA(z,C,!1,h)&&O,g)for(x=0;x<g.length;x++)z=h.g=g[x],O=KA(z,C,!1,h)&&O}NA.prototype.N=function(){if(NA.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],C=0;C<g.length;C++)UA(g[C]);delete l.g[h],l.h--}}this.F=null},NA.prototype.K=function(l,h,g,C){return this.i.add(String(l),h,!1,g,C)},NA.prototype.L=function(l,h,g,C){return this.i.add(String(l),h,!0,g,C)};function KA(l,h,g,C){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,x=0;x<h.length;++x){var z=h[x];if(z&&!z.da&&z.capture==g){var GA=z.listener,me=z.ha||z.src;z.fa&&pA(l.i,z),O=GA.call(me,C)!==!1&&O}}return O&&!C.defaultPrevented}function ut(l,h,g){if(typeof l=="function")g&&(l=d(l,g));else if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:o.setTimeout(l,h||0)}function ht(l){l.g=ut(()=>{l.g=null,l.i&&(l.i=!1,ht(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class ft extends Y{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(l){Y.call(this),this.h=l,this.g={}}w(Ge,Y);var vt=[];function Zt(l){D(l.g,function(h,g){this.g.hasOwnProperty(g)&&ee(h)},l),l.g={}}Ge.prototype.N=function(){Ge.aa.N.call(this),Zt(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=o.JSON.stringify,Bi=o.JSON.parse,mi=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function cn(){}cn.prototype.h=null;function rs(l){return l.h||(l.h=l.i())}function ns(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){q.call(this,"d")}w(un,q);function Na(){q.call(this,"c")}w(Na,q);var Or={},Nu=null;function wi(){return Nu=Nu||new NA}Or.La="serverreachability";function Ku(l){q.call(this,Or.La,l)}w(Ku,q);function ss(l){const h=wi();BA(h,new Ku(h))}Or.STAT_EVENT="statevent";function Gu(l,h){q.call(this,Or.STAT_EVENT,l),this.stat=h}w(Gu,q);function Re(l){const h=wi();BA(h,new Gu(h,l))}Or.Ma="timingevent";function Wu(l,h){q.call(this,Or.Ma,l),this.size=h}w(Wu,q);function is(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function E0(l,h,g,C,O,x){l.info(function(){if(l.g)if(x)for(var z="",GA=x.split("&"),me=0;me<GA.length;me++){var LA=GA[me].split("=");if(1<LA.length){var Ee=LA[0];LA=LA[1];var Qe=Ee.split("_");z=2<=Qe.length&&Qe[1]=="type"?z+(Ee+"="+LA+"&"):z+(Ee+"=redacted&")}}else z=null;else z=x;return"XMLHTTP REQ ("+C+") [attempt "+O+"]: "+h+`
`+g+`
`+z})}function Q0(l,h,g,C,O,x,z){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+O+"]: "+h+`
`+g+`
`+x+" "+z})}function hn(l,h,g,C){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+U0(l,g)+(C?" "+C:"")})}function I0(l,h){l.info(function(){return"TIMEOUT: "+h})}os.prototype.info=function(){};function U0(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var C=g[l];if(!(2>C.length)){var O=C[1];if(Array.isArray(O)&&!(1>O.length)){var x=O[0];if(x!="noop"&&x!="stop"&&x!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return ln(g)}catch{return h}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ju={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ka;function yi(){}w(yi,cn),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},Ka=new yi;function er(l,h,g,C){this.j=l,this.i=h,this.l=g,this.R=C||1,this.U=new Ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var Xu={},Ga={};function Wa(l,h,g){l.L=1,l.v=Qi(Ot(h)),l.m=g,l.P=!0,qu(l,null)}function qu(l,h){l.F=Date.now(),_i(l),l.A=Ot(l.v);var g=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),lh(g.i,"t",C),l.C=0,g=l.j.J,l.h=new Ju,l.g=Uh(l.j,g?h:null,!l.m),0<l.O&&(l.M=new ft(d(l.Y,l,l.g),l.O)),h=l.U,g=l.g,C=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(vt[0]=O.toString()),O=vt);for(var x=0;x<O.length;x++){var z=FA(g,O[x],C||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?B(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ss(),E0(l.i,l.u,l.A,l.l,l.R,l.m)}er.prototype.ca=function(l){l=l.target;const h=this.M;h&&Mt(l)==3?h.j():this.Y(l)},er.prototype.Y=function(l){try{if(l==this.g)A:{const Qe=Mt(this.g);var h=this.g.Ba();const gn=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||ph(this.g)))){this.J||Qe!=4||h==7||(h==8||0>=gn?ss(3):ss(2)),ja(this);var g=this.g.Z();this.X=g;e:if(zu(this)){var C=ph(this.g);l="";var O=C.length,x=Mt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),as(this);var z="";break e}this.h.i=new o.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(C[h],{stream:!(x&&h==O-1)});C.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,Q0(this.i,this.u,this.A,this.l,this.R,Qe,g),this.o){if(this.T&&!this.K){e:{if(this.g){var GA,me=this.g;if((GA=me.g?me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(GA)){var LA=GA;break e}}LA=null}if(g=LA)hn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,g);else{this.o=!1,this.s=3,Re(12),Mr(this),as(this);break A}}if(this.P){g=!0;let dt;for(;!this.J&&this.C<z.length;)if(dt=F0(this,z),dt==Ga){Qe==4&&(this.s=4,Re(14),g=!1),hn(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Xu){this.s=4,Re(15),hn(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else hn(this.i,this.l,dt,null),Ja(this,dt);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||z.length!=0||this.h.h||(this.s=1,Re(16),g=!1),this.o=this.o&&g,!g)hn(this.i,this.l,z,"[Invalid Chunked Response]"),Mr(this),as(this);else if(0<z.length&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.ba&&!Ee.M&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Za(Ee),Ee.M=!0,Re(11))}}else hn(this.i,this.l,z,null),Ja(this,z);Qe==4&&Mr(this),this.o&&!this.J&&(Qe==4?vh(this.j,this):(this.o=!1,_i(this)))}else W0(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,Re(12)):(this.s=0,Re(13)),Mr(this),as(this)}}}catch{}finally{}};function zu(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function F0(l,h){var g=l.C,C=h.indexOf(`
`,g);return C==-1?Ga:(g=Number(h.substring(g,C)),isNaN(g)?Xu:(C+=1,C+g>h.length?Ga:(h=h.slice(C,C+g),l.C=C+g,h)))}er.prototype.cancel=function(){this.J=!0,Mr(this)};function _i(l){l.S=Date.now()+l.I,Yu(l,l.I)}function Yu(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=is(d(l.ba,l),h)}function ja(l){l.B&&(o.clearTimeout(l.B),l.B=null)}er.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(I0(this.i,this.A),this.L!=2&&(ss(),Re(17)),Mr(this),this.s=2,as(this)):Yu(this,this.S-l)};function as(l){l.j.G==0||l.J||vh(l.j,l)}function Mr(l){ja(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Zt(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Ja(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||Xa(g.h,l))){if(!l.K&&Xa(g.h,l)&&g.G==3){try{var C=g.Da.g.parse(h)}catch{C=null}if(Array.isArray(C)&&C.length==3){var O=C;if(O[0]==0){A:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Si(g),bi(g);else break A;$a(g),Re(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=is(d(g.Za,g),6e3));if(1>=Ah(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Vr(g,11)}else if((l.K||g.g==l)&&Si(g),!T(h))for(O=g.Da.g.parse(h),h=0;h<O.length;h++){let LA=O[h];if(g.T=LA[0],LA=LA[1],g.G==2)if(LA[0]=="c"){g.K=LA[1],g.ia=LA[2];const Ee=LA[3];Ee!=null&&(g.la=Ee,g.j.info("VER="+g.la));const Qe=LA[4];Qe!=null&&(g.Aa=Qe,g.j.info("SVER="+g.Aa));const gn=LA[5];gn!=null&&typeof gn=="number"&&0<gn&&(C=1.5*gn,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const dt=l.g;if(dt){const Hi=dt.g?dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var x=C.h;x.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(qa(x,x.h),x.h=null))}if(C.D){const Al=dt.g?dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(C.ya=Al,jA(C.I,C.D,Al))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var z=l;if(C.qa=Ih(C,C.J?C.ia:null,C.W),z.K){eh(C.h,z);var GA=z,me=C.L;me&&(GA.I=me),GA.B&&(ja(GA),_i(GA)),C.g=z}else yh(C);0<g.i.length&&Ti(g)}else LA[0]!="stop"&&LA[0]!="close"||Vr(g,7);else g.G==3&&(LA[0]=="stop"||LA[0]=="close"?LA[0]=="stop"?Vr(g,7):Ya(g):LA[0]!="noop"&&g.l&&g.l.ta(LA),g.v=0)}}ss(4)}catch{}}var b0=class{constructor(l,h){this.g=l,this.map=h}};function $u(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zu(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ah(l){return l.h?1:l.g?l.g.size:0}function Xa(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function qa(l,h){l.g?l.g.add(h):l.h=h}function eh(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}$u.prototype.cancel=function(){if(this.i=th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function th(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return y(l.i)}function T0(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(a(l)){for(var h=[],g=l.length,C=0;C<g;C++)h.push(l[C]);return h}h=[],g=0;for(C in l)h[g++]=l[C];return h}function S0(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(a(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const C in l)h[g++]=C;return h}}}function rh(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(a(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=S0(l),C=T0(l),O=C.length,x=0;x<O;x++)h.call(void 0,C[x],g&&g[x],l)}var nh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R0(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var C=l[g].indexOf("="),O=null;if(0<=C){var x=l[g].substring(0,C);O=l[g].substring(C+1)}else x=l[g];h(x,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function xr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof xr){this.h=l.h,vi(this,l.j),this.o=l.o,this.g=l.g,Ei(this,l.s),this.l=l.l;var h=l.i,g=new us;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),sh(this,g),this.m=l.m}else l&&(h=String(l).match(nh))?(this.h=!1,vi(this,h[1]||"",!0),this.o=ls(h[2]||""),this.g=ls(h[3]||"",!0),Ei(this,h[4]),this.l=ls(h[5]||"",!0),sh(this,h[6]||"",!0),this.m=ls(h[7]||"")):(this.h=!1,this.i=new us(null,this.h))}xr.prototype.toString=function(){var l=[],h=this.j;h&&l.push(cs(h,ih,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(cs(h,ih,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(cs(g,g.charAt(0)=="/"?D0:k0,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",cs(g,P0)),l.join("")};function Ot(l){return new xr(l)}function vi(l,h,g){l.j=g?ls(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ei(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function sh(l,h,g){h instanceof us?(l.i=h,O0(l.i,l.h)):(g||(h=cs(h,L0)),l.i=new us(h,l.h))}function jA(l,h,g){l.i.set(h,g)}function Qi(l){return jA(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ls(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function cs(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,H0),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function H0(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ih=/[#\/\?@]/g,k0=/[#\?:]/g,D0=/[#\?]/g,L0=/[#\?@]/g,P0=/#/g;function us(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function tr(l){l.g||(l.g=new Map,l.h=0,l.i&&R0(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=us.prototype,t.add=function(l,h){tr(this),this.i=null,l=fn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function oh(l,h){tr(l),h=fn(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function ah(l,h){return tr(l),h=fn(l,h),l.g.has(h)}t.forEach=function(l,h){tr(this),this.g.forEach(function(g,C){g.forEach(function(O){l.call(h,O,C,this)},this)},this)},t.na=function(){tr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let C=0;C<h.length;C++){const O=l[C];for(let x=0;x<O.length;x++)g.push(h[C])}return g},t.V=function(l){tr(this);let h=[];if(typeof l=="string")ah(this,l)&&(h=h.concat(this.g.get(fn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return tr(this),this.i=null,l=fn(this,l),ah(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function lh(l,h,g){oh(l,h),0<g.length&&(l.i=null,l.g.set(fn(l,h),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var C=h[g];const x=encodeURIComponent(String(C)),z=this.V(C);for(C=0;C<z.length;C++){var O=x;z[C]!==""&&(O+="="+encodeURIComponent(String(z[C]))),l.push(O)}}return this.i=l.join("&")};function fn(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function O0(l,h){h&&!l.j&&(tr(l),l.i=null,l.g.forEach(function(g,C){var O=C.toLowerCase();C!=O&&(oh(this,C),lh(this,O,g))},l)),l.j=h}function M0(l,h){const g=new os;if(o.Image){const C=new Image;C.onload=p(rr,g,"TestLoadImage: loaded",!0,h,C),C.onerror=p(rr,g,"TestLoadImage: error",!1,h,C),C.onabort=p(rr,g,"TestLoadImage: abort",!1,h,C),C.ontimeout=p(rr,g,"TestLoadImage: timeout",!1,h,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else h(!1)}function x0(l,h){const g=new os,C=new AbortController,O=setTimeout(()=>{C.abort(),rr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:C.signal}).then(x=>{clearTimeout(O),x.ok?rr(g,"TestPingServer: ok",!0,h):rr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),rr(g,"TestPingServer: error",!1,h)})}function rr(l,h,g,C,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),C(g)}catch{}}function V0(){this.g=new mi}function N0(l,h,g){const C=g||"";try{rh(l,function(O,x){let z=O;c(O)&&(z=ln(O)),h.push(C+x+"="+encodeURIComponent(z))})}catch(O){throw h.push(C+"type="+encodeURIComponent("_badmap")),O}}function Ii(l){this.l=l.Ub||null,this.j=l.eb||!1}w(Ii,cn),Ii.prototype.g=function(){return new Ui(this.l,this.j)},Ii.prototype.i=function(l){return function(){return l}}({});function Ui(l,h){NA.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ui,NA),t=Ui.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,fs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||o).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ch(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ch(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?hs(this):fs(this),this.readyState==3&&ch(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,hs(this))},t.Qa=function(l){this.g&&(this.response=l,hs(this))},t.ga=function(){this.g&&hs(this)};function hs(l){l.readyState=4,l.l=null,l.j=null,l.v=null,fs(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function fs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function uh(l){let h="";return D(l,function(g,C){h+=C,h+=":",h+=g,h+=`\r
`}),h}function za(l,h,g){A:{for(C in g){var C=!1;break A}C=!0}C||(g=uh(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):jA(l,h,g))}function ZA(l){NA.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ZA,NA);var K0=/^https?$/i,G0=["POST","PUT"];t=ZA.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ka.g(),this.v=this.o?rs(this.o):rs(Ka),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(x){hh(this,x);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var O in C)g.set(O,C[O]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const x of C.keys())g.set(x,C.get(x));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(x=>x.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(G0,h,void 0))||C||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,z]of g)this.g.setRequestHeader(x,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gh(this),this.u=!0,this.g.send(l),this.u=!1}catch(x){hh(this,x)}};function hh(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,fh(l),Fi(l)}function fh(l){l.A||(l.A=!0,BA(l,"complete"),BA(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,BA(this,"complete"),BA(this,"abort"),Fi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),ZA.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dh(this):this.bb())},t.bb=function(){dh(this)};function dh(l){if(l.h&&typeof i<"u"&&(!l.v[1]||Mt(l)!=4||l.Z()!=2)){if(l.u&&Mt(l)==4)ut(l.Ea,0,l);else if(BA(l,"readystatechange"),Mt(l)==4){l.h=!1;try{const z=l.Z();A:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break A;default:h=!1}var g;if(!(g=h)){var C;if(C=z===0){var O=String(l.D).match(nh)[1]||null;!O&&o.self&&o.self.location&&(O=o.self.location.protocol.slice(0,-1)),C=!K0.test(O?O.toLowerCase():"")}g=C}if(g)BA(l,"complete"),BA(l,"success");else{l.m=6;try{var x=2<Mt(l)?l.g.statusText:""}catch{x=""}l.l=x+" ["+l.Z()+"]",fh(l)}}finally{Fi(l)}}}}function Fi(l,h){if(l.g){gh(l);const g=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||BA(l,"ready");try{g.onreadystatechange=C}catch{}}}function gh(l){l.I&&(o.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Mt(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Mt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Bi(h)}};function ph(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function W0(l){const h={};l=(l.g&&2<=Mt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(T(l[C]))continue;var g=U(l[C]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const x=h[O]||[];h[O]=x,x.push(g)}Q(h,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function Bh(l){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,l),this.cb=ds("retryDelaySeedMs",1e4,l),this.Wa=ds("forwardChannelMaxRetries",2,l),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $u(l&&l.concurrentRequestLimit),this.Da=new V0,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bh.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,C){Re(0),this.W=l,this.H=h||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=Ih(this,null,this.W),Ti(this)};function Ya(l){if(mh(l),l.G==3){var h=l.U++,g=Ot(l.I);if(jA(g,"SID",l.K),jA(g,"RID",h),jA(g,"TYPE","terminate"),gs(l,g),h=new er(l,l.j,h),h.L=2,h.v=Qi(Ot(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.v,g=!0),g||(h.g=Uh(h.j,null),h.g.ea(h.v)),h.F=Date.now(),_i(h)}Qh(l)}function bi(l){l.g&&(Za(l),l.g.cancel(),l.g=null)}function mh(l){bi(l),l.u&&(o.clearTimeout(l.u),l.u=null),Si(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function Ti(l){if(!Zu(l.h)&&!l.s){l.s=!0;var h=l.Ga;V||P(),wA||(V(),wA=!0),TA.add(h,l),l.B=0}}function j0(l,h){return Ah(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=is(d(l.Ga,l,h),Eh(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new er(this,this.j,l);let x=this.o;if(this.S&&(x?(x=B(x),F(x,this.S)):x=this.S),this.m!==null||this.O||(O.H=x,x=null),this.P)A:{for(var h=0,g=0;g<this.i.length;g++){e:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(h+=C,4096<h){h=g;break A}if(h===4096||g===this.i.length-1){h=g+1;break A}}h=1e3}else h=1e3;h=Ch(this,O,h),g=Ot(this.I),jA(g,"RID",l),jA(g,"CVER",22),this.D&&jA(g,"X-HTTP-Session-Id",this.D),gs(this,g),x&&(this.O?h="headers="+encodeURIComponent(String(uh(x)))+"&"+h:this.m&&za(g,this.m,x)),qa(this.h,O),this.Ua&&jA(g,"TYPE","init"),this.P?(jA(g,"$req",h),jA(g,"SID","null"),O.T=!0,Wa(O,g,null)):Wa(O,g,h),this.G=2}}else this.G==3&&(l?wh(this,l):this.i.length==0||Zu(this.h)||wh(this))};function wh(l,h){var g;h?g=h.l:g=l.U++;const C=Ot(l.I);jA(C,"SID",l.K),jA(C,"RID",g),jA(C,"AID",l.T),gs(l,C),l.m&&l.o&&za(C,l.m,l.o),g=new er(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Ch(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),qa(l.h,g),Wa(g,C,h)}function gs(l,h){l.H&&D(l.H,function(g,C){jA(h,C,g)}),l.l&&rh({},function(g,C){jA(h,C,g)})}function Ch(l,h,g){g=Math.min(l.i.length,g);var C=l.l?d(l.l.Na,l.l,l):null;A:{var O=l.i;let x=-1;for(;;){const z=["count="+g];x==-1?0<g?(x=O[0].g,z.push("ofs="+x)):x=0:z.push("ofs="+x);let GA=!0;for(let me=0;me<g;me++){let LA=O[me].g;const Ee=O[me].map;if(LA-=x,0>LA)x=Math.max(0,O[me].g-100),GA=!1;else try{N0(Ee,z,"req"+LA+"_")}catch{C&&C(Ee)}}if(GA){C=z.join("&");break A}}}return l=l.i.splice(0,g),h.D=l,C}function yh(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;V||P(),wA||(V(),wA=!0),TA.add(h,l),l.v=0}}function $a(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=is(d(l.Fa,l),Eh(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,_h(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=is(d(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Re(10),bi(this),_h(this))};function Za(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function _h(l){l.g=new er(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Ot(l.qa);jA(h,"RID","rpc"),jA(h,"SID",l.K),jA(h,"AID",l.T),jA(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&jA(h,"TO",l.ja),jA(h,"TYPE","xmlhttp"),gs(l,h),l.m&&l.o&&za(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Qi(Ot(h)),g.m=null,g.P=!0,qu(g,l)}t.Za=function(){this.C!=null&&(this.C=null,bi(this),$a(this),Re(19))};function Si(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function vh(l,h){var g=null;if(l.g==h){Si(l),Za(l),l.g=null;var C=2}else if(Xa(l.h,h))g=h.D,eh(l.h,h),C=1;else return;if(l.G!=0){if(h.o)if(C==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;C=wi(),BA(C,new Wu(C,g)),Ti(l)}else yh(l);else if(O=h.s,O==3||O==0&&0<h.X||!(C==1&&j0(l,h)||C==2&&$a(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),O){case 1:Vr(l,5);break;case 4:Vr(l,10);break;case 3:Vr(l,6);break;default:Vr(l,2)}}}function Eh(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Vr(l,h){if(l.j.info("Error code "+h),h==2){var g=d(l.fb,l),C=l.Xa;const O=!C;C=new xr(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vi(C,"https"),Qi(C),O?M0(C.toString(),g):x0(C.toString(),g)}else Re(2);l.G=0,l.l&&l.l.sa(h),Qh(l),mh(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Qh(l){if(l.G=0,l.ka=[],l.l){const h=th(l.h);(h.length!=0||l.i.length!=0)&&(I(l.ka,h),I(l.ka,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.ra()}}function Ih(l,h,g){var C=g instanceof xr?Ot(g):new xr(g);if(C.g!="")h&&(C.g=h+"."+C.g),Ei(C,C.s);else{var O=o.location;C=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var x=new xr(null);C&&vi(x,C),h&&(x.g=h),O&&Ei(x,O),g&&(x.l=g),C=x}return g=l.D,h=l.ya,g&&h&&jA(C,g,h),jA(C,"VER",l.la),gs(l,C),C}function Uh(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ZA(new Ii({eb:g})):new ZA(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}t=Fh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ri(){}Ri.prototype.g=function(l,h){return new We(l,h)};function We(l,h){NA.call(this),this.g=new Bh(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!T(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!T(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new dn(this)}w(We,NA),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ya(this.g)},We.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=ln(l),l=g);h.i.push(new b0(h.Ya++,l)),h.G==3&&Ti(h)},We.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,We.aa.N.call(this)};function bh(l){un.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){A:{for(const g in h){l=g;break A}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(bh,un);function Th(){Na.call(this),this.status=1}w(Th,Na);function dn(l){this.g=l}w(dn,Fh),dn.prototype.ua=function(){BA(this.g,"a")},dn.prototype.ta=function(l){BA(this.g,new bh(l))},dn.prototype.sa=function(l){BA(this.g,new Th)},dn.prototype.ra=function(){BA(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,WB=function(){return new Ri},GB=function(){return wi()},KB=Or,Xl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,po=Ci,ju.COMPLETE="complete",NB=ju,ns.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",NA.prototype.listen=NA.prototype.K,ys=ns,ZA.prototype.listenOnce=ZA.prototype.L,ZA.prototype.getLastError=ZA.prototype.Ka,ZA.prototype.getLastErrorCode=ZA.prototype.Ba,ZA.prototype.getStatus=ZA.prototype.Z,ZA.prototype.getResponseJson=ZA.prototype.Oa,ZA.prototype.getResponseText=ZA.prototype.oa,ZA.prototype.send=ZA.prototype.ea,ZA.prototype.setWithCredentials=ZA.prototype.Ha,VB=ZA}).apply(typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{});const Cf="@firebase/firestore",yf="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(A){this.uid=A}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(A){return A.uid===this.uid}}Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $n="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new ra("@firebase/firestore");function Qn(){return en.logLevel}function eA(t,...A){if(en.logLevel<=RA.DEBUG){const e=A.map(Wc);en.debug(`Firestore (${$n}): ${t}`,...e)}}function zt(t,...A){if(en.logLevel<=RA.ERROR){const e=A.map(Wc);en.error(`Firestore (${$n}): ${t}`,...e)}}function xn(t,...A){if(en.logLevel<=RA.WARN){const e=A.map(Wc);en.warn(`Firestore (${$n}): ${t}`,...e)}}function Wc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t="Unexpected state"){const A=`FIRESTORE (${$n}) INTERNAL ASSERTION FAILED: `+t;throw zt(A),new Error(A)}function MA(t,A){t||mA()}function _A(t,A){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class aA extends wt{constructor(A,e){super(A,e),this.code=A,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(){this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(A,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${A}`)}}class sQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(A,e){A.enqueueRetryable(()=>e(Ue.UNAUTHENTICATED))}shutdown(){}}class iQ{constructor(A){this.token=A,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(A,e){this.changeListener=e,A.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class oQ{constructor(A){this.t=A,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(A,e){MA(this.o===void 0);let r=this.i;const n=a=>this.i!==r?(r=this.i,e(a)):Promise.resolve();let s=new jt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jt,A.enqueueRetryable(()=>n(this.currentUser))};const i=()=>{const a=s;A.enqueueRetryable(async()=>{await a.promise,await n(this.currentUser)})},o=a=>{eA("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(a=>o(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?o(a):(eA("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jt)}},0),i()}getToken(){const A=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==A?(eA("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(MA(typeof r.accessToken=="string"),new jB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const A=this.auth&&this.auth.getUid();return MA(A===null||typeof A=="string"),new Ue(A)}}class aQ{constructor(A,e,r){this.l=A,this.h=e,this.P=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const A=this.I();return A&&this.T.set("Authorization",A),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lQ{constructor(A,e,r){this.l=A,this.h=e,this.P=r}getToken(){return Promise.resolve(new aQ(this.l,this.h,this.P))}start(A,e){A.enqueueRetryable(()=>e(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _f{constructor(A){this.value=A,this.type="AppCheck",this.headers=new Map,A&&A.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cQ{constructor(A,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pt(A)&&A.settings.appCheckToken&&(this.V=A.settings.appCheckToken)}start(A,e){MA(this.o===void 0);const r=s=>{s.error!=null&&eA("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,eA("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(s.token):Promise.resolve()};this.o=s=>{A.enqueueRetryable(()=>r(s))};const n=s=>{eA("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>n(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?n(s):eA("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new _f(this.V));const A=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(A).then(e=>e?(MA(typeof e.token=="string"),this.R=e.token,new _f(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){const A=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(A&&typeof A.getRandomValues=="function")A.getRandomValues(e);else for(let r=0;r<t;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{static newId(){const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const n=uQ(40);for(let s=0;s<n.length;++s)r.length<20&&n[s]<e&&(r+=A.charAt(n[s]%62))}return r}}function bA(t,A){return t<A?-1:t>A?1:0}function ql(t,A){let e=0;for(;e<t.length&&e<A.length;){const r=t.codePointAt(e),n=A.codePointAt(e);if(r!==n){if(r<128&&n<128)return bA(r,n);{const s=JB(),i=hQ(s.encode(vf(t,e)),s.encode(vf(A,e)));return i!==0?i:bA(r,n)}}e+=r>65535?2:1}return bA(t.length,A.length)}function vf(t,A){return t.codePointAt(A)>65535?t.substring(A,A+2):t.substring(A,A+1)}function hQ(t,A){for(let e=0;e<t.length&&e<A.length;++e)if(t[e]!==A[e])return bA(t[e],A[e]);return bA(t.length,A.length)}function Vn(t,A,e){return t.length===A.length&&t.every((r,n)=>e(r,A[n]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=-62135596800,Qf=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(A){return ue.fromMillis(A.getTime())}static fromMillis(A){const e=Math.floor(A/1e3),r=Math.floor((A-1e3*e)*Qf);return new ue(e,r)}constructor(A,e){if(this.seconds=A,this.nanoseconds=e,e<0)throw new aA(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new aA(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(A<Ef)throw new aA(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A);if(A>=253402300800)throw new aA(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qf}_compareTo(A){return this.seconds===A.seconds?bA(this.nanoseconds,A.nanoseconds):bA(this.seconds,A.seconds)}isEqual(A){return A.seconds===this.seconds&&A.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const A=this.seconds-Ef;return String(A).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static fromTimestamp(A){return new yA(A)}static min(){return new yA(new ue(0,0))}static max(){return new yA(new ue(253402300799,999999999))}constructor(A){this.timestamp=A}compareTo(A){return this.timestamp._compareTo(A.timestamp)}isEqual(A){return this.timestamp.isEqual(A.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="__name__";class Qt{constructor(A,e,r){e===void 0?e=0:e>A.length&&mA(),r===void 0?r=A.length-e:r>A.length-e&&mA(),this.segments=A,this.offset=e,this.len=r}get length(){return this.len}isEqual(A){return Qt.comparator(this,A)===0}child(A){const e=this.segments.slice(this.offset,this.limit());return A instanceof Qt?A.forEach(r=>{e.push(r)}):e.push(A),this.construct(e)}limit(){return this.offset+this.length}popFirst(A){return A=A===void 0?1:A,this.construct(this.segments,this.offset+A,this.length-A)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(A){return this.segments[this.offset+A]}isEmpty(){return this.length===0}isPrefixOf(A){if(A.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}isImmediateParentOf(A){if(this.length+1!==A.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}forEach(A){for(let e=this.offset,r=this.limit();e<r;e++)A(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(A,e){const r=Math.min(A.length,e.length);for(let n=0;n<r;n++){const s=Qt.compareSegments(A.get(n),e.get(n));if(s!==0)return s}return bA(A.length,e.length)}static compareSegments(A,e){const r=Qt.isNumericId(A),n=Qt.isNumericId(e);return r&&!n?-1:!r&&n?1:r&&n?Qt.extractNumericId(A).compare(Qt.extractNumericId(e)):ql(A,e)}static isNumericId(A){return A.startsWith("__id")&&A.endsWith("__")}static extractNumericId(A){return Cr.fromString(A.substring(4,A.length-2))}}class qA extends Qt{construct(A,e,r){return new qA(A,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...A){const e=[];for(const r of A){if(r.indexOf("//")>=0)throw new aA(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(n=>n.length>0))}return new qA(e)}static emptyPath(){return new qA([])}}const fQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ce extends Qt{construct(A,e,r){return new Ce(A,e,r)}static isValidIdentifier(A){return fQ.test(A)}canonicalString(){return this.toArray().map(A=>(A=A.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ce.isValidIdentifier(A)||(A="`"+A+"`"),A)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===If}static keyField(){return new Ce([If])}static fromServerFormat(A){const e=[];let r="",n=0;const s=()=>{if(r.length===0)throw new aA(j.INVALID_ARGUMENT,`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let i=!1;for(;n<A.length;){const o=A[n];if(o==="\\"){if(n+1===A.length)throw new aA(j.INVALID_ARGUMENT,"Path has trailing escape character: "+A);const a=A[n+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new aA(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+A);r+=a,n+=2}else o==="`"?(i=!i,n++):o!=="."||i?(r+=o,n++):(s(),n++)}if(s(),i)throw new aA(j.INVALID_ARGUMENT,"Unterminated ` in path: "+A);return new Ce(e)}static emptyPath(){return new Ce([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(A){this.path=A}static fromPath(A){return new fA(qA.fromString(A))}static fromName(A){return new fA(qA.fromString(A).popFirst(5))}static empty(){return new fA(qA.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(A){return this.path.length>=2&&this.path.get(this.path.length-2)===A}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(A){return A!==null&&qA.comparator(this.path,A.path)===0}toString(){return this.path.toString()}static comparator(A,e){return qA.comparator(A.path,e.path)}static isDocumentKey(A){return A.length%2==0}static fromSegments(A){return new fA(new qA(A.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=-1;function dQ(t,A){const e=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,n=yA.fromTimestamp(r===1e9?new ue(e+1,0):new ue(e,r));return new Ir(n,fA.empty(),A)}function gQ(t){return new Ir(t.readTime,t.key,Xs)}class Ir{constructor(A,e,r){this.readTime=A,this.documentKey=e,this.largestBatchId=r}static min(){return new Ir(yA.min(),fA.empty(),Xs)}static max(){return new Ir(yA.max(),fA.empty(),Xs)}}function pQ(t,A){let e=t.readTime.compareTo(A.readTime);return e!==0?e:(e=fA.comparator(t.documentKey,A.documentKey),e!==0?e:bA(t.largestBatchId,A.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(A){this.onCommittedListeners.push(A)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(A=>A())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zn(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==BQ)throw t;eA("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(A){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,A(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(A){return this.next(void 0,A)}next(A,e){return this.callbackAttached&&mA(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(A,this.result):new N((r,n)=>{this.nextCallback=s=>{this.wrapSuccess(A,s).next(r,n)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,n)}})}toPromise(){return new Promise((A,e)=>{this.next(A,e)})}wrapUserFunction(A){try{const e=A();return e instanceof N?e:N.resolve(e)}catch(e){return N.reject(e)}}wrapSuccess(A,e){return A?this.wrapUserFunction(()=>A(e)):N.resolve(e)}wrapFailure(A,e){return A?this.wrapUserFunction(()=>A(e)):N.reject(e)}static resolve(A){return new N((e,r)=>{e(A)})}static reject(A){return new N((e,r)=>{r(A)})}static waitFor(A){return new N((e,r)=>{let n=0,s=0,i=!1;A.forEach(o=>{++n,o.next(()=>{++s,i&&s===n&&e()},a=>r(a))}),i=!0,s===n&&e()})}static or(A){let e=N.resolve(!1);for(const r of A)e=e.next(n=>n?N.resolve(n):r());return e}static forEach(A,e){const r=[];return A.forEach((n,s)=>{r.push(e.call(this,n,s))}),this.waitFor(r)}static mapArray(A,e){return new N((r,n)=>{const s=A.length,i=new Array(s);let o=0;for(let a=0;a<s;a++){const c=a;e(A[c]).next(u=>{i[c]=u,++o,o===s&&r(i)},u=>n(u))}})}static doWhile(A,e){return new N((r,n)=>{const s=()=>{A()===!0?e().next(()=>{s()},n):r()};s()})}}function wQ(t){const A=t.match(/Android ([\d.]+)/i),e=A?A[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function As(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(A,e){this.previousValue=A,e&&(e.sequenceNumberHandler=r=>this.oe(r),this._e=r=>e.writeSequenceNumber(r))}oe(A){return this.previousValue=Math.max(A,this.previousValue),this.previousValue}next(){const A=++this.previousValue;return this._e&&this._e(A),A}}ca.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=-1;function ua(t){return t==null}function ko(t){return t===0&&1/t==-1/0}function CQ(t){return typeof t=="number"&&Number.isInteger(t)&&!ko(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="";function yQ(t){let A="";for(let e=0;e<t.length;e++)A.length>0&&(A=Uf(A)),A=_Q(t.get(e),A);return Uf(A)}function _Q(t,A){let e=A;const r=t.length;for(let n=0;n<r;n++){const s=t.charAt(n);switch(s){case"\0":e+="";break;case qB:e+="";break;default:e+=s}}return e}function Uf(t){return t+qB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){let A=0;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A++;return A}function Dr(t,A){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A(e,t[e])}function zB(t){for(const A in t)if(Object.prototype.hasOwnProperty.call(t,A))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(A,e){this.comparator=A,this.root=e||we.EMPTY}insert(A,e){return new $A(this.comparator,this.root.insert(A,e,this.comparator).copy(null,null,we.BLACK,null,null))}remove(A){return new $A(this.comparator,this.root.remove(A,this.comparator).copy(null,null,we.BLACK,null,null))}get(A){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(A,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(A){let e=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(A,r.key);if(n===0)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(A){return this.root.inorderTraversal(A)}forEach(A){this.inorderTraversal((e,r)=>(A(e,r),!1))}toString(){const A=[];return this.inorderTraversal((e,r)=>(A.push(`${e}:${r}`),!1)),`{${A.join(", ")}}`}reverseTraversal(A){return this.root.reverseTraversal(A)}getIterator(){return new Pi(this.root,null,this.comparator,!1)}getIteratorFrom(A){return new Pi(this.root,A,this.comparator,!1)}getReverseIterator(){return new Pi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(A){return new Pi(this.root,A,this.comparator,!0)}}class Pi{constructor(A,e,r,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!A.isEmpty();)if(s=e?r(A.key,e):1,e&&n&&(s*=-1),s<0)A=this.isReverse?A.left:A.right;else{if(s===0){this.nodeStack.push(A);break}this.nodeStack.push(A),A=this.isReverse?A.right:A.left}}getNext(){let A=this.nodeStack.pop();const e={key:A.key,value:A.value};if(this.isReverse)for(A=A.left;!A.isEmpty();)this.nodeStack.push(A),A=A.right;else for(A=A.right;!A.isEmpty();)this.nodeStack.push(A),A=A.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const A=this.nodeStack[this.nodeStack.length-1];return{key:A.key,value:A.value}}}class we{constructor(A,e,r,n,s){this.key=A,this.value=e,this.color=r??we.RED,this.left=n??we.EMPTY,this.right=s??we.EMPTY,this.size=this.left.size+1+this.right.size}copy(A,e,r,n,s){return new we(A??this.key,e??this.value,r??this.color,n??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(A){return this.left.inorderTraversal(A)||A(this.key,this.value)||this.right.inorderTraversal(A)}reverseTraversal(A){return this.right.reverseTraversal(A)||A(this.key,this.value)||this.left.reverseTraversal(A)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(A,e,r){let n=this;const s=r(A,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(A,e,r),null):s===0?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(A,e,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return we.EMPTY;let A=this;return A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.removeMin(),null),A.fixUp()}remove(A,e){let r,n=this;if(e(A,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(A,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),e(A,n.key)===0){if(n.right.isEmpty())return we.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(A,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let A=this;return A.right.isRed()&&!A.left.isRed()&&(A=A.rotateLeft()),A.left.isRed()&&A.left.left.isRed()&&(A=A.rotateRight()),A.left.isRed()&&A.right.isRed()&&(A=A.colorFlip()),A}moveRedLeft(){let A=this.colorFlip();return A.right.left.isRed()&&(A=A.copy(null,null,null,null,A.right.rotateRight()),A=A.rotateLeft(),A=A.colorFlip()),A}moveRedRight(){let A=this.colorFlip();return A.left.left.isRed()&&(A=A.rotateRight(),A=A.colorFlip()),A}rotateLeft(){const A=this.copy(null,null,we.RED,null,this.right.left);return this.right.copy(null,null,this.color,A,null)}rotateRight(){const A=this.copy(null,null,we.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,A)}colorFlip(){const A=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,A,e)}checkMaxDepth(){const A=this.check();return Math.pow(2,A)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mA();const A=this.left.check();if(A!==this.right.check())throw mA();return A+(this.isRed()?0:1)}}we.EMPTY=null,we.RED=!0,we.BLACK=!1;we.EMPTY=new class{constructor(){this.size=0}get key(){throw mA()}get value(){throw mA()}get color(){throw mA()}get left(){throw mA()}get right(){throw mA()}copy(A,e,r,n,s){return this}insert(A,e,r){return new we(A,e)}remove(A,e){return this}isEmpty(){return!0}inorderTraversal(A){return!1}reverseTraversal(A){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(A){this.comparator=A,this.data=new $A(this.comparator)}has(A){return this.data.get(A)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(A){return this.data.indexOf(A)}forEach(A){this.data.inorderTraversal((e,r)=>(A(e),!1))}forEachInRange(A,e){const r=this.data.getIteratorFrom(A[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,A[1])>=0)return;e(n.key)}}forEachWhile(A,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!A(r.getNext().key))return}firstAfterOrEqual(A){const e=this.data.getIteratorFrom(A);return e.hasNext()?e.getNext().key:null}getIterator(){return new bf(this.data.getIterator())}getIteratorFrom(A){return new bf(this.data.getIteratorFrom(A))}add(A){return this.copy(this.data.remove(A).insert(A,!0))}delete(A){return this.has(A)?this.copy(this.data.remove(A)):this}isEmpty(){return this.data.isEmpty()}unionWith(A){let e=this;return e.size<A.size&&(e=A,A=this),A.forEach(r=>{e=e.add(r)}),e}isEqual(A){if(!(A instanceof he)||this.size!==A.size)return!1;const e=this.data.getIterator(),r=A.data.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(this.comparator(n,s)!==0)return!1}return!0}toArray(){const A=[];return this.forEach(e=>{A.push(e)}),A}toString(){const A=[];return this.forEach(e=>A.push(e)),"SortedSet("+A.toString()+")"}copy(A){const e=new he(this.comparator);return e.data=A,e}}class bf{constructor(A){this.iter=A}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(A){this.fields=A,A.sort(Ce.comparator)}static empty(){return new qe([])}unionWith(A){let e=new he(Ce.comparator);for(const r of this.fields)e=e.add(r);for(const r of A)e=e.add(r);return new qe(e.toArray())}covers(A){for(const e of this.fields)if(e.isPrefixOf(A))return!0;return!1}isEqual(A){return Vn(this.fields,A.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(A){this.binaryString=A}static fromBase64String(A){const e=function(n){try{return atob(n)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YB("Invalid base64 string: "+s):s}}(A);return new _e(e)}static fromUint8Array(A){const e=function(n){let s="";for(let i=0;i<n.length;++i)s+=String.fromCharCode(n[i]);return s}(A);return new _e(e)}[Symbol.iterator](){let A=0;return{next:()=>A<this.binaryString.length?{value:this.binaryString.charCodeAt(A++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(A){return bA(this.binaryString,A.binaryString)}isEqual(A){return this.binaryString===A.binaryString}}_e.EMPTY_BYTE_STRING=new _e("");const vQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(MA(!!t),typeof t=="string"){let A=0;const e=vQ.exec(t);if(MA(!!e),e[1]){let n=e[1];n=(n+"000000000").substr(0,9),A=Number(n)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:A}}return{seconds:ne(t.seconds),nanos:ne(t.nanos)}}function ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?_e.fromBase64String(t):_e.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="server_timestamp",ZB="__type__",Am="__previous_value__",em="__local_write_time__";function Jc(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[ZB])===null||e===void 0?void 0:e.stringValue)===$B}function ha(t){const A=t.mapValue.fields[Am];return Jc(A)?ha(A):A}function qs(t){const A=Ur(t.mapValue.fields[em].timestampValue);return new ue(A.seconds,A.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(A,e,r,n,s,i,o,a,c){this.databaseId=A,this.appId=e,this.persistenceKey=r,this.host=n,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}const Do="(default)";class zs{constructor(A,e){this.projectId=A,this.database=e||Do}static empty(){return new zs("","")}get isDefaultDatabase(){return this.database===Do}isEqual(A){return A instanceof zs&&A.projectId===this.projectId&&A.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="__type__",rm="__max__",Oi={mapValue:{fields:{__type__:{stringValue:rm}}}},nm="__vector__",Lo="value";function br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jc(t)?4:IQ(t)?9007199254740991:QQ(t)?10:11:mA()}function Rt(t,A){if(t===A)return!0;const e=br(t);if(e!==br(A))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===A.booleanValue;case 4:return qs(t).isEqual(qs(A));case 3:return function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const i=Ur(n.timestampValue),o=Ur(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,A);case 5:return t.stringValue===A.stringValue;case 6:return function(n,s){return Fr(n.bytesValue).isEqual(Fr(s.bytesValue))}(t,A);case 7:return t.referenceValue===A.referenceValue;case 8:return function(n,s){return ne(n.geoPointValue.latitude)===ne(s.geoPointValue.latitude)&&ne(n.geoPointValue.longitude)===ne(s.geoPointValue.longitude)}(t,A);case 2:return function(n,s){if("integerValue"in n&&"integerValue"in s)return ne(n.integerValue)===ne(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const i=ne(n.doubleValue),o=ne(s.doubleValue);return i===o?ko(i)===ko(o):isNaN(i)&&isNaN(o)}return!1}(t,A);case 9:return Vn(t.arrayValue.values||[],A.arrayValue.values||[],Rt);case 10:case 11:return function(n,s){const i=n.mapValue.fields||{},o=s.mapValue.fields||{};if(Ff(i)!==Ff(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Rt(i[a],o[a])))return!1;return!0}(t,A);default:return mA()}}function Ys(t,A){return(t.values||[]).find(e=>Rt(e,A))!==void 0}function Nn(t,A){if(t===A)return 0;const e=br(t),r=br(A);if(e!==r)return bA(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return bA(t.booleanValue,A.booleanValue);case 2:return function(s,i){const o=ne(s.integerValue||s.doubleValue),a=ne(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,A);case 3:return Tf(t.timestampValue,A.timestampValue);case 4:return Tf(qs(t),qs(A));case 5:return ql(t.stringValue,A.stringValue);case 6:return function(s,i){const o=Fr(s),a=Fr(i);return o.compareTo(a)}(t.bytesValue,A.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=bA(o[c],a[c]);if(u!==0)return u}return bA(o.length,a.length)}(t.referenceValue,A.referenceValue);case 8:return function(s,i){const o=bA(ne(s.latitude),ne(i.latitude));return o!==0?o:bA(ne(s.longitude),ne(i.longitude))}(t.geoPointValue,A.geoPointValue);case 9:return Sf(t.arrayValue,A.arrayValue);case 10:return function(s,i){var o,a,c,u;const f=s.fields||{},d=i.fields||{},p=(o=f[Lo])===null||o===void 0?void 0:o.arrayValue,w=(a=d[Lo])===null||a===void 0?void 0:a.arrayValue,y=bA(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:Sf(p,w)}(t.mapValue,A.mapValue);case 11:return function(s,i){if(s===Oi.mapValue&&i===Oi.mapValue)return 0;if(s===Oi.mapValue)return 1;if(i===Oi.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),c=i.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let f=0;f<a.length&&f<u.length;++f){const d=ql(a[f],u[f]);if(d!==0)return d;const p=Nn(o[a[f]],c[u[f]]);if(p!==0)return p}return bA(a.length,u.length)}(t.mapValue,A.mapValue);default:throw mA()}}function Tf(t,A){if(typeof t=="string"&&typeof A=="string"&&t.length===A.length)return bA(t,A);const e=Ur(t),r=Ur(A),n=bA(e.seconds,r.seconds);return n!==0?n:bA(e.nanos,r.nanos)}function Sf(t,A){const e=t.values||[],r=A.values||[];for(let n=0;n<e.length&&n<r.length;++n){const s=Nn(e[n],r[n]);if(s)return s}return bA(e.length,r.length)}function Kn(t){return zl(t)}function zl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const r=Ur(e);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return Fr(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return fA.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let r="[",n=!0;for(const s of e.values||[])n?n=!1:r+=",",r+=zl(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(e){const r=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const i of r)s?s=!1:n+=",",n+=`${i}:${zl(e.fields[i])}`;return n+"}"}(t.mapValue):mA()}function Bo(t){switch(br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const A=ha(t);return A?16+Bo(A):16;case 5:return 2*t.stringValue.length;case 6:return Fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((n,s)=>n+Bo(s),0)}(t.arrayValue);case 10:case 11:return function(r){let n=0;return Dr(r.fields,(s,i)=>{n+=s.length+Bo(i)}),n}(t.mapValue);default:throw mA()}}function Yl(t){return!!t&&"integerValue"in t}function Xc(t){return!!t&&"arrayValue"in t}function Rf(t){return!!t&&"nullValue"in t}function Hf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mo(t){return!!t&&"mapValue"in t}function QQ(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[tm])===null||e===void 0?void 0:e.stringValue)===nm}function Ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const A={mapValue:{fields:{}}};return Dr(t.mapValue.fields,(e,r)=>A.mapValue.fields[e]=Ds(r)),A}if(t.arrayValue){const A={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)A.arrayValue.values[e]=Ds(t.arrayValue.values[e]);return A}return Object.assign({},t)}function IQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rm}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(A){this.value=A}static empty(){return new Me({mapValue:{}})}field(A){if(A.isEmpty())return this.value;{let e=this.value;for(let r=0;r<A.length-1;++r)if(e=(e.mapValue.fields||{})[A.get(r)],!mo(e))return null;return e=(e.mapValue.fields||{})[A.lastSegment()],e||null}}set(A,e){this.getFieldsMap(A.popLast())[A.lastSegment()]=Ds(e)}setAll(A){let e=Ce.emptyPath(),r={},n=[];A.forEach((i,o)=>{if(!e.isImmediateParentOf(o)){const a=this.getFieldsMap(e);this.applyChanges(a,r,n),r={},n=[],e=o.popLast()}i?r[o.lastSegment()]=Ds(i):n.push(o.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,n)}delete(A){const e=this.field(A.popLast());mo(e)&&e.mapValue.fields&&delete e.mapValue.fields[A.lastSegment()]}isEqual(A){return Rt(this.value,A.value)}getFieldsMap(A){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<A.length;++r){let n=e.mapValue.fields[A.get(r)];mo(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[A.get(r)]=n),e=n}return e.mapValue.fields}applyChanges(A,e,r){Dr(e,(n,s)=>A[n]=s);for(const n of r)delete A[n]}clone(){return new Me(Ds(this.value))}}function sm(t){const A=[];return Dr(t.fields,(e,r)=>{const n=new Ce([e]);if(mo(r)){const s=sm(r.mapValue).fields;if(s.length===0)A.push(n);else for(const i of s)A.push(n.child(i))}else A.push(n)}),new qe(A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(A,e,r,n,s,i,o){this.key=A,this.documentType=e,this.version=r,this.readTime=n,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(A){return new be(A,0,yA.min(),yA.min(),yA.min(),Me.empty(),0)}static newFoundDocument(A,e,r,n){return new be(A,1,e,yA.min(),r,n,0)}static newNoDocument(A,e){return new be(A,2,e,yA.min(),yA.min(),Me.empty(),0)}static newUnknownDocument(A,e){return new be(A,3,e,yA.min(),yA.min(),Me.empty(),2)}convertToFoundDocument(A,e){return!this.createTime.isEqual(yA.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=A),this.version=A,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(A){return this.version=A,this.documentType=2,this.data=Me.empty(),this.documentState=0,this}convertToUnknownDocument(A){return this.version=A,this.documentType=3,this.data=Me.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yA.min(),this}setReadTime(A){return this.readTime=A,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(A){return A instanceof be&&this.key.isEqual(A.key)&&this.version.isEqual(A.version)&&this.documentType===A.documentType&&this.documentState===A.documentState&&this.data.isEqual(A.data)}mutableCopy(){return new be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(A,e){this.position=A,this.inclusive=e}}function kf(t,A,e){let r=0;for(let n=0;n<t.position.length;n++){const s=A[n],i=t.position[n];if(s.field.isKeyField()?r=fA.comparator(fA.fromName(i.referenceValue),e.key):r=Nn(i,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Df(t,A){if(t===null)return A===null;if(A===null||t.inclusive!==A.inclusive||t.position.length!==A.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!Rt(t.position[e],A.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(A,e="asc"){this.field=A,this.dir=e}}function UQ(t,A){return t.dir===A.dir&&t.field.isEqual(A.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{}class ce extends im{constructor(A,e,r){super(),this.field=A,this.op=e,this.value=r}static create(A,e,r){return A.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(A,e,r):new bQ(A,e,r):e==="array-contains"?new RQ(A,r):e==="in"?new HQ(A,r):e==="not-in"?new kQ(A,r):e==="array-contains-any"?new DQ(A,r):new ce(A,e,r)}static createKeyFieldInFilter(A,e,r){return e==="in"?new TQ(A,r):new SQ(A,r)}matches(A){const e=A.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Nn(e,this.value)):e!==null&&br(this.value)===br(e)&&this.matchesComparison(Nn(e,this.value))}matchesComparison(A){switch(this.op){case"<":return A<0;case"<=":return A<=0;case"==":return A===0;case"!=":return A!==0;case">":return A>0;case">=":return A>=0;default:return mA()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends im{constructor(A,e){super(),this.filters=A,this.op=e,this.ce=null}static create(A,e){return new Ht(A,e)}matches(A){return om(this)?this.filters.find(e=>!e.matches(A))===void 0:this.filters.find(e=>e.matches(A))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((A,e)=>A.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function om(t){return t.op==="and"}function am(t){return FQ(t)&&om(t)}function FQ(t){for(const A of t.filters)if(A instanceof Ht)return!1;return!0}function $l(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+Kn(t.value);if(am(t))return t.filters.map(A=>$l(A)).join(",");{const A=t.filters.map(e=>$l(e)).join(",");return`${t.op}(${A})`}}function lm(t,A){return t instanceof ce?function(r,n){return n instanceof ce&&r.op===n.op&&r.field.isEqual(n.field)&&Rt(r.value,n.value)}(t,A):t instanceof Ht?function(r,n){return n instanceof Ht&&r.op===n.op&&r.filters.length===n.filters.length?r.filters.reduce((s,i,o)=>s&&lm(i,n.filters[o]),!0):!1}(t,A):void mA()}function cm(t){return t instanceof ce?function(e){return`${e.field.canonicalString()} ${e.op} ${Kn(e.value)}`}(t):t instanceof Ht?function(e){return e.op.toString()+" {"+e.getFilters().map(cm).join(" ,")+"}"}(t):"Filter"}class bQ extends ce{constructor(A,e,r){super(A,e,r),this.key=fA.fromName(r.referenceValue)}matches(A){const e=fA.comparator(A.key,this.key);return this.matchesComparison(e)}}class TQ extends ce{constructor(A,e){super(A,"in",e),this.keys=um("in",e)}matches(A){return this.keys.some(e=>e.isEqual(A.key))}}class SQ extends ce{constructor(A,e){super(A,"not-in",e),this.keys=um("not-in",e)}matches(A){return!this.keys.some(e=>e.isEqual(A.key))}}function um(t,A){var e;return(((e=A.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>fA.fromName(r.referenceValue))}class RQ extends ce{constructor(A,e){super(A,"array-contains",e)}matches(A){const e=A.data.field(this.field);return Xc(e)&&Ys(e.arrayValue,this.value)}}class HQ extends ce{constructor(A,e){super(A,"in",e)}matches(A){const e=A.data.field(this.field);return e!==null&&Ys(this.value.arrayValue,e)}}class kQ extends ce{constructor(A,e){super(A,"not-in",e)}matches(A){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=A.data.field(this.field);return e!==null&&!Ys(this.value.arrayValue,e)}}class DQ extends ce{constructor(A,e){super(A,"array-contains-any",e)}matches(A){const e=A.data.field(this.field);return!(!Xc(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Ys(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(A,e=null,r=[],n=[],s=null,i=null,o=null){this.path=A,this.collectionGroup=e,this.orderBy=r,this.filters=n,this.limit=s,this.startAt=i,this.endAt=o,this.le=null}}function Lf(t,A=null,e=[],r=[],n=null,s=null,i=null){return new LQ(t,A,e,r,n,s,i)}function qc(t){const A=_A(t);if(A.le===null){let e=A.path.canonicalString();A.collectionGroup!==null&&(e+="|cg:"+A.collectionGroup),e+="|f:",e+=A.filters.map(r=>$l(r)).join(","),e+="|ob:",e+=A.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ua(A.limit)||(e+="|l:",e+=A.limit),A.startAt&&(e+="|lb:",e+=A.startAt.inclusive?"b:":"a:",e+=A.startAt.position.map(r=>Kn(r)).join(",")),A.endAt&&(e+="|ub:",e+=A.endAt.inclusive?"a:":"b:",e+=A.endAt.position.map(r=>Kn(r)).join(",")),A.le=e}return A.le}function zc(t,A){if(t.limit!==A.limit||t.orderBy.length!==A.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(!UQ(t.orderBy[e],A.orderBy[e]))return!1;if(t.filters.length!==A.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(!lm(t.filters[e],A.filters[e]))return!1;return t.collectionGroup===A.collectionGroup&&!!t.path.isEqual(A.path)&&!!Df(t.startAt,A.startAt)&&Df(t.endAt,A.endAt)}function Zl(t){return fA.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(A,e=null,r=[],n=[],s=null,i="F",o=null,a=null){this.path=A,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=n,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function PQ(t,A,e,r,n,s,i,o){return new fa(t,A,e,r,n,s,i,o)}function da(t){return new fa(t)}function Pf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OQ(t){return t.collectionGroup!==null}function Ls(t){const A=_A(t);if(A.he===null){A.he=[];const e=new Set;for(const s of A.explicitOrderBy)A.he.push(s),e.add(s.field.canonicalString());const r=A.explicitOrderBy.length>0?A.explicitOrderBy[A.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new he(Ce.comparator);return i.filters.forEach(a=>{a.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(A).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||A.he.push(new Oo(s,r))}),e.has(Ce.keyField().canonicalString())||A.he.push(new Oo(Ce.keyField(),r))}return A.he}function Ft(t){const A=_A(t);return A.Pe||(A.Pe=MQ(A,Ls(t))),A.Pe}function MQ(t,A){if(t.limitType==="F")return Lf(t.path,t.collectionGroup,A,t.filters,t.limit,t.startAt,t.endAt);{A=A.map(n=>{const s=n.dir==="desc"?"asc":"desc";return new Oo(n.field,s)});const e=t.endAt?new Po(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Po(t.startAt.position,t.startAt.inclusive):null;return Lf(t.path,t.collectionGroup,A,t.filters,t.limit,e,r)}}function Ac(t,A,e){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),A,e,t.startAt,t.endAt)}function ga(t,A){return zc(Ft(t),Ft(A))&&t.limitType===A.limitType}function hm(t){return`${qc(Ft(t))}|lt:${t.limitType}`}function In(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>cm(n)).join(", ")}]`),ua(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Kn(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Kn(n)).join(",")),`Target(${r})`}(Ft(t))}; limitType=${t.limitType})`}function pa(t,A){return A.isFoundDocument()&&function(r,n){const s=n.key.path;return r.collectionGroup!==null?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fA.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,A)&&function(r,n){for(const s of Ls(r))if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0}(t,A)&&function(r,n){for(const s of r.filters)if(!s.matches(n))return!1;return!0}(t,A)&&function(r,n){return!(r.startAt&&!function(i,o,a){const c=kf(i,o,a);return i.inclusive?c<=0:c<0}(r.startAt,Ls(r),n)||r.endAt&&!function(i,o,a){const c=kf(i,o,a);return i.inclusive?c>=0:c>0}(r.endAt,Ls(r),n))}(t,A)}function xQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fm(t){return(A,e)=>{let r=!1;for(const n of Ls(t)){const s=VQ(n,A,e);if(s!==0)return s;r=r||n.field.isKeyField()}return 0}}function VQ(t,A,e){const r=t.field.isKeyField()?fA.comparator(A.key,e.key):function(s,i,o){const a=i.data.field(s),c=o.data.field(s);return a!==null&&c!==null?Nn(a,c):mA()}(t.field,A,e);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return mA()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(A,e){this.mapKeyFn=A,this.equalsFn=e,this.inner={},this.innerSize=0}get(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r!==void 0){for(const[n,s]of r)if(this.equalsFn(n,A))return s}}has(A){return this.get(A)!==void 0}set(A,e){const r=this.mapKeyFn(A),n=this.inner[r];if(n===void 0)return this.inner[r]=[[A,e]],void this.innerSize++;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],A))return void(n[s]=[A,e]);n.push([A,e]),this.innerSize++}delete(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r===void 0)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],A))return r.length===1?delete this.inner[e]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(A){Dr(this.inner,(e,r)=>{for(const[n,s]of r)A(n,s)})}isEmpty(){return zB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=new $A(fA.comparator);function Yt(){return NQ}const dm=new $A(fA.comparator);function _s(...t){let A=dm;for(const e of t)A=A.insert(e.key,e);return A}function gm(t){let A=dm;return t.forEach((e,r)=>A=A.insert(e,r.overlayedDocument)),A}function Jr(){return Ps()}function pm(){return Ps()}function Ps(){return new sn(t=>t.toString(),(t,A)=>t.isEqual(A))}const KQ=new $A(fA.comparator),GQ=new he(fA.comparator);function HA(...t){let A=GQ;for(const e of t)A=A.add(e);return A}const WQ=new he(bA);function jQ(){return WQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,A){if(t.useProto3Json){if(isNaN(A))return{doubleValue:"NaN"};if(A===1/0)return{doubleValue:"Infinity"};if(A===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(A)?"-0":A}}function Bm(t){return{integerValue:""+t}}function JQ(t,A){return CQ(A)?Bm(A):Yc(t,A)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this._=void 0}}function XQ(t,A,e){return t instanceof Mo?function(n,s){const i={fields:{[ZB]:{stringValue:$B},[em]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&Jc(s)&&(s=ha(s)),s&&(i.fields[Am]=s),{mapValue:i}}(e,A):t instanceof Gn?wm(t,A):t instanceof $s?Cm(t,A):function(n,s){const i=mm(n,s),o=Of(i)+Of(n.Ie);return Yl(i)&&Yl(n.Ie)?Bm(o):Yc(n.serializer,o)}(t,A)}function qQ(t,A,e){return t instanceof Gn?wm(t,A):t instanceof $s?Cm(t,A):e}function mm(t,A){return t instanceof xo?function(r){return Yl(r)||function(s){return!!s&&"doubleValue"in s}(r)}(A)?A:{integerValue:0}:null}class Mo extends Ba{}class Gn extends Ba{constructor(A){super(),this.elements=A}}function wm(t,A){const e=ym(A);for(const r of t.elements)e.some(n=>Rt(n,r))||e.push(r);return{arrayValue:{values:e}}}class $s extends Ba{constructor(A){super(),this.elements=A}}function Cm(t,A){let e=ym(A);for(const r of t.elements)e=e.filter(n=>!Rt(n,r));return{arrayValue:{values:e}}}class xo extends Ba{constructor(A,e){super(),this.serializer=A,this.Ie=e}}function Of(t){return ne(t.integerValue||t.doubleValue)}function ym(t){return Xc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(A,e){this.field=A,this.transform=e}}function YQ(t,A){return t.field.isEqual(A.field)&&function(r,n){return r instanceof Gn&&n instanceof Gn||r instanceof $s&&n instanceof $s?Vn(r.elements,n.elements,Rt):r instanceof xo&&n instanceof xo?Rt(r.Ie,n.Ie):r instanceof Mo&&n instanceof Mo}(t.transform,A.transform)}class $Q{constructor(A,e){this.version=A,this.transformResults=e}}class Bt{constructor(A,e){this.updateTime=A,this.exists=e}static none(){return new Bt}static exists(A){return new Bt(void 0,A)}static updateTime(A){return new Bt(A)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(A){return this.exists===A.exists&&(this.updateTime?!!A.updateTime&&this.updateTime.isEqual(A.updateTime):!A.updateTime)}}function wo(t,A){return t.updateTime!==void 0?A.isFoundDocument()&&A.version.isEqual(t.updateTime):t.exists===void 0||t.exists===A.isFoundDocument()}class ma{}function _m(t,A){if(!t.hasLocalMutations||A&&A.fields.length===0)return null;if(A===null)return t.isNoDocument()?new $c(t.key,Bt.none()):new oi(t.key,t.data,Bt.none());{const e=t.data,r=Me.empty();let n=new he(Ce.comparator);for(let s of A.fields)if(!n.has(s)){let i=e.field(s);i===null&&s.length>1&&(s=s.popLast(),i=e.field(s)),i===null?r.delete(s):r.set(s,i),n=n.add(s)}return new Lr(t.key,r,new qe(n.toArray()),Bt.none())}}function ZQ(t,A,e){t instanceof oi?function(n,s,i){const o=n.value.clone(),a=xf(n.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,A,e):t instanceof Lr?function(n,s,i){if(!wo(n.precondition,s))return void s.convertToUnknownDocument(i.version);const o=xf(n.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(vm(n)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,A,e):function(n,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,A,e)}function Os(t,A,e,r){return t instanceof oi?function(s,i,o,a){if(!wo(s.precondition,i))return o;const c=s.value.clone(),u=Vf(s.fieldTransforms,a,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,A,e,r):t instanceof Lr?function(s,i,o,a){if(!wo(s.precondition,i))return o;const c=Vf(s.fieldTransforms,a,i),u=i.data;return u.setAll(vm(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,A,e,r):function(s,i,o){return wo(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,A,e)}function AI(t,A){let e=null;for(const r of t.fieldTransforms){const n=A.data.field(r.field),s=mm(r.transform,n||null);s!=null&&(e===null&&(e=Me.empty()),e.set(r.field,s))}return e||null}function Mf(t,A){return t.type===A.type&&!!t.key.isEqual(A.key)&&!!t.precondition.isEqual(A.precondition)&&!!function(r,n){return r===void 0&&n===void 0||!(!r||!n)&&Vn(r,n,(s,i)=>YQ(s,i))}(t.fieldTransforms,A.fieldTransforms)&&(t.type===0?t.value.isEqual(A.value):t.type!==1||t.data.isEqual(A.data)&&t.fieldMask.isEqual(A.fieldMask))}class oi extends ma{constructor(A,e,r,n=[]){super(),this.key=A,this.value=e,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Lr extends ma{constructor(A,e,r,n,s=[]){super(),this.key=A,this.data=e,this.fieldMask=r,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vm(t){const A=new Map;return t.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=t.data.field(e);A.set(e,r)}}),A}function xf(t,A,e){const r=new Map;MA(t.length===e.length);for(let n=0;n<e.length;n++){const s=t[n],i=s.transform,o=A.data.field(s.field);r.set(s.field,qQ(i,o,e[n]))}return r}function Vf(t,A,e){const r=new Map;for(const n of t){const s=n.transform,i=e.data.field(n.field);r.set(n.field,XQ(s,i,A))}return r}class $c extends ma{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends ma{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(A,e,r,n){this.batchId=A,this.localWriteTime=e,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(A,e){const r=e.mutationResults;for(let n=0;n<this.mutations.length;n++){const s=this.mutations[n];s.key.isEqual(A.key)&&ZQ(s,A,r[n])}}applyToLocalView(A,e){for(const r of this.baseMutations)r.key.isEqual(A.key)&&(e=Os(r,A,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(A.key)&&(e=Os(r,A,e,this.localWriteTime));return e}applyToLocalDocumentSet(A,e){const r=pm();return this.mutations.forEach(n=>{const s=A.get(n.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=e.has(n.key)?null:o;const a=_m(i,o);a!==null&&r.set(n.key,a),i.isValidDocument()||i.convertToNoDocument(yA.min())}),r}keys(){return this.mutations.reduce((A,e)=>A.add(e.key),HA())}isEqual(A){return this.batchId===A.batchId&&Vn(this.mutations,A.mutations,(e,r)=>Mf(e,r))&&Vn(this.baseMutations,A.baseMutations,(e,r)=>Mf(e,r))}}class Zc{constructor(A,e,r,n){this.batch=A,this.commitVersion=e,this.mutationResults=r,this.docVersions=n}static from(A,e,r){MA(A.mutations.length===r.length);let n=function(){return KQ}();const s=A.mutations;for(let i=0;i<s.length;i++)n=n.insert(s[i].key,r[i].version);return new Zc(A,e,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(A,e){this.largestBatchId=A,this.mutation=e}getKey(){return this.mutation.key}isEqual(A){return A!==null&&this.mutation===A.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(A,e){this.count=A,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se,kA;function sI(t){switch(t){case j.OK:return mA();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return mA()}}function Em(t){if(t===void 0)return zt("GRPC error has no .code"),j.UNKNOWN;switch(t){case se.OK:return j.OK;case se.CANCELLED:return j.CANCELLED;case se.UNKNOWN:return j.UNKNOWN;case se.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case se.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case se.INTERNAL:return j.INTERNAL;case se.UNAVAILABLE:return j.UNAVAILABLE;case se.UNAUTHENTICATED:return j.UNAUTHENTICATED;case se.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case se.NOT_FOUND:return j.NOT_FOUND;case se.ALREADY_EXISTS:return j.ALREADY_EXISTS;case se.PERMISSION_DENIED:return j.PERMISSION_DENIED;case se.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case se.ABORTED:return j.ABORTED;case se.OUT_OF_RANGE:return j.OUT_OF_RANGE;case se.UNIMPLEMENTED:return j.UNIMPLEMENTED;case se.DATA_LOSS:return j.DATA_LOSS;default:return mA()}}(kA=se||(se={}))[kA.OK=0]="OK",kA[kA.CANCELLED=1]="CANCELLED",kA[kA.UNKNOWN=2]="UNKNOWN",kA[kA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kA[kA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kA[kA.NOT_FOUND=5]="NOT_FOUND",kA[kA.ALREADY_EXISTS=6]="ALREADY_EXISTS",kA[kA.PERMISSION_DENIED=7]="PERMISSION_DENIED",kA[kA.UNAUTHENTICATED=16]="UNAUTHENTICATED",kA[kA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kA[kA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kA[kA.ABORTED=10]="ABORTED",kA[kA.OUT_OF_RANGE=11]="OUT_OF_RANGE",kA[kA.UNIMPLEMENTED=12]="UNIMPLEMENTED",kA[kA.INTERNAL=13]="INTERNAL",kA[kA.UNAVAILABLE=14]="UNAVAILABLE",kA[kA.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Cr([4294967295,4294967295],0);function Nf(t){const A=JB().encode(t),e=new xB;return e.update(A),new Uint8Array(e.digest())}function Kf(t){const A=new DataView(t.buffer),e=A.getUint32(0,!0),r=A.getUint32(4,!0),n=A.getUint32(8,!0),s=A.getUint32(12,!0);return[new Cr([e,r],0),new Cr([n,s],0)]}class Au{constructor(A,e,r){if(this.bitmap=A,this.padding=e,this.hashCount=r,e<0||e>=8)throw new vs(`Invalid padding: ${e}`);if(r<0)throw new vs(`Invalid hash count: ${r}`);if(A.length>0&&this.hashCount===0)throw new vs(`Invalid hash count: ${r}`);if(A.length===0&&e!==0)throw new vs(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*A.length-e,this.de=Cr.fromNumber(this.Ee)}Ae(A,e,r){let n=A.add(e.multiply(Cr.fromNumber(r)));return n.compare(iI)===1&&(n=new Cr([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(A){return!!(this.bitmap[Math.floor(A/8)]&1<<A%8)}mightContain(A){if(this.Ee===0)return!1;const e=Nf(A),[r,n]=Kf(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);if(!this.Re(i))return!1}return!0}static create(A,e,r){const n=A%8==0?0:8-A%8,s=new Uint8Array(Math.ceil(A/8)),i=new Au(s,n,e);return r.forEach(o=>i.insert(o)),i}insert(A){if(this.Ee===0)return;const e=Nf(A),[r,n]=Kf(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);this.Ve(i)}}Ve(A){const e=Math.floor(A/8),r=A%8;this.bitmap[e]|=1<<r}}class vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(A,e,r,n,s){this.snapshotVersion=A,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(A,e,r){const n=new Map;return n.set(A,ai.createSynthesizedTargetChangeForCurrentChange(A,e,r)),new wa(yA.min(),n,new $A(bA),Yt(),HA())}}class ai{constructor(A,e,r,n,s){this.resumeToken=A,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(A,e,r){return new ai(r,e,HA(),HA(),HA())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(A,e,r,n){this.me=A,this.removedTargetIds=e,this.key=r,this.fe=n}}class Qm{constructor(A,e){this.targetId=A,this.ge=e}}class Im{constructor(A,e,r=_e.EMPTY_BYTE_STRING,n=null){this.state=A,this.targetIds=e,this.resumeToken=r,this.cause=n}}class Gf{constructor(){this.pe=0,this.ye=Wf(),this.we=_e.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(A){A.approximateByteSize()>0&&(this.be=!0,this.we=A)}Fe(){let A=HA(),e=HA(),r=HA();return this.ye.forEach((n,s)=>{switch(s){case 0:A=A.add(n);break;case 2:e=e.add(n);break;case 1:r=r.add(n);break;default:mA()}}),new ai(this.we,this.Se,A,e,r)}Me(){this.be=!1,this.ye=Wf()}xe(A,e){this.be=!0,this.ye=this.ye.insert(A,e)}Oe(A){this.be=!0,this.ye=this.ye.remove(A)}Ne(){this.pe+=1}Be(){this.pe-=1,MA(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class oI{constructor(A){this.ke=A,this.qe=new Map,this.Qe=Yt(),this.$e=Mi(),this.Ue=Mi(),this.Ke=new $A(bA)}We(A){for(const e of A.me)A.fe&&A.fe.isFoundDocument()?this.Ge(e,A.fe):this.ze(e,A.key,A.fe);for(const e of A.removedTargetIds)this.ze(e,A.key,A.fe)}je(A){this.forEachTarget(A,e=>{const r=this.He(e);switch(A.state){case 0:this.Je(e)&&r.Ce(A.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(A.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(e);break;case 3:this.Je(e)&&(r.Le(),r.Ce(A.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),r.Ce(A.resumeToken));break;default:mA()}})}forEachTarget(A,e){A.targetIds.length>0?A.targetIds.forEach(e):this.qe.forEach((r,n)=>{this.Je(n)&&e(n)})}Ze(A){const e=A.targetId,r=A.ge.count,n=this.Xe(e);if(n){const s=n.target;if(Zl(s))if(r===0){const i=new fA(s.path);this.ze(e,i,be.newNoDocument(i,yA.min()))}else MA(r===1);else{const i=this.et(e);if(i!==r){const o=this.tt(A),a=o?this.nt(o,A,i):1;if(a!==0){this.Ye(e);const c=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,c)}}}}}tt(A){const e=A.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:s=0}=e;let i,o;try{i=Fr(r).toUint8Array()}catch(a){if(a instanceof YB)return xn("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new Au(i,n,s)}catch(a){return xn(a instanceof vs?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return o.Ee===0?null:o}nt(A,e,r){return e.ge.count===r-this.st(A,e.targetId)?0:2}st(A,e){const r=this.ke.getRemoteKeysForTarget(e);let n=0;return r.forEach(s=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;A.mightContain(o)||(this.ze(e,s,null),n++)}),n}ot(A){const e=new Map;this.qe.forEach((s,i)=>{const o=this.Xe(i);if(o){if(s.current&&Zl(o.target)){const a=new fA(o.target.path);this._t(a).has(i)||this.ut(i,a)||this.ze(i,a,be.newNoDocument(a,A))}s.ve&&(e.set(i,s.Fe()),s.Me())}});let r=HA();this.Ue.forEach((s,i)=>{let o=!0;i.forEachWhile(a=>{const c=this.Xe(a);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.Qe.forEach((s,i)=>i.setReadTime(A));const n=new wa(A,e,this.Ke,this.Qe,r);return this.Qe=Yt(),this.$e=Mi(),this.Ue=Mi(),this.Ke=new $A(bA),n}Ge(A,e){if(!this.Je(A))return;const r=this.ut(A,e.key)?2:0;this.He(A).xe(e.key,r),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(A)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(A))}ze(A,e,r){if(!this.Je(A))return;const n=this.He(A);this.ut(A,e)?n.xe(e,1):n.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(A)),this.Ue=this.Ue.insert(e,this.ct(e).add(A)),r&&(this.Qe=this.Qe.insert(e,r))}removeTarget(A){this.qe.delete(A)}et(A){const e=this.He(A).Fe();return this.ke.getRemoteKeysForTarget(A).size+e.addedDocuments.size-e.removedDocuments.size}Ne(A){this.He(A).Ne()}He(A){let e=this.qe.get(A);return e||(e=new Gf,this.qe.set(A,e)),e}ct(A){let e=this.Ue.get(A);return e||(e=new he(bA),this.Ue=this.Ue.insert(A,e)),e}_t(A){let e=this.$e.get(A);return e||(e=new he(bA),this.$e=this.$e.insert(A,e)),e}Je(A){const e=this.Xe(A)!==null;return e||eA("WatchChangeAggregator","Detected inactive target",A),e}Xe(A){const e=this.qe.get(A);return e&&e.De?null:this.ke.lt(A)}Ye(A){this.qe.set(A,new Gf),this.ke.getRemoteKeysForTarget(A).forEach(e=>{this.ze(A,e,null)})}ut(A,e){return this.ke.getRemoteKeysForTarget(A).has(e)}}function Mi(){return new $A(fA.comparator)}function Wf(){return new $A(fA.comparator)}const aI={asc:"ASCENDING",desc:"DESCENDING"},lI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cI={and:"AND",or:"OR"};class uI{constructor(A,e){this.databaseId=A,this.useProto3Json=e}}function ec(t,A){return t.useProto3Json||ua(A)?A:{value:A}}function Vo(t,A){return t.useProto3Json?`${new Date(1e3*A.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+A.nanoseconds).slice(-9)}Z`:{seconds:""+A.seconds,nanos:A.nanoseconds}}function Um(t,A){return t.useProto3Json?A.toBase64():A.toUint8Array()}function hI(t,A){return Vo(t,A.toTimestamp())}function bt(t){return MA(!!t),yA.fromTimestamp(function(e){const r=Ur(e);return new ue(r.seconds,r.nanos)}(t))}function eu(t,A){return tc(t,A).canonicalString()}function tc(t,A){const e=function(n){return new qA(["projects",n.projectId,"databases",n.database])}(t).child("documents");return A===void 0?e:e.child(A)}function Fm(t){const A=qA.fromString(t);return MA(Hm(A)),A}function rc(t,A){return eu(t.databaseId,A.path)}function fl(t,A){const e=Fm(A);if(e.get(1)!==t.databaseId.projectId)throw new aA(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new aA(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new fA(Tm(e))}function bm(t,A){return eu(t.databaseId,A)}function fI(t){const A=Fm(t);return A.length===4?qA.emptyPath():Tm(A)}function nc(t){return new qA(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tm(t){return MA(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jf(t,A,e){return{name:rc(t,A),fields:e.value.mapValue.fields}}function dI(t,A){let e;if("targetChange"in A){A.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:mA()}(A.targetChange.targetChangeType||"NO_CHANGE"),n=A.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(MA(u===void 0||typeof u=="string"),_e.fromBase64String(u||"")):(MA(u===void 0||u instanceof Buffer||u instanceof Uint8Array),_e.fromUint8Array(u||new Uint8Array))}(t,A.targetChange.resumeToken),i=A.targetChange.cause,o=i&&function(c){const u=c.code===void 0?j.UNKNOWN:Em(c.code);return new aA(u,c.message||"")}(i);e=new Im(r,n,s,o||null)}else if("documentChange"in A){A.documentChange;const r=A.documentChange;r.document,r.document.name,r.document.updateTime;const n=fl(t,r.document.name),s=bt(r.document.updateTime),i=r.document.createTime?bt(r.document.createTime):yA.min(),o=new Me({mapValue:{fields:r.document.fields}}),a=be.newFoundDocument(n,s,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];e=new Co(c,u,a.key,a)}else if("documentDelete"in A){A.documentDelete;const r=A.documentDelete;r.document;const n=fl(t,r.document),s=r.readTime?bt(r.readTime):yA.min(),i=be.newNoDocument(n,s),o=r.removedTargetIds||[];e=new Co([],o,i.key,i)}else if("documentRemove"in A){A.documentRemove;const r=A.documentRemove;r.document;const n=fl(t,r.document),s=r.removedTargetIds||[];e=new Co([],s,n,null)}else{if(!("filter"in A))return mA();{A.filter;const r=A.filter;r.targetId;const{count:n=0,unchangedNames:s}=r,i=new nI(n,s),o=r.targetId;e=new Qm(o,i)}}return e}function gI(t,A){let e;if(A instanceof oi)e={update:jf(t,A.key,A.value)};else if(A instanceof $c)e={delete:rc(t,A.key)};else if(A instanceof Lr)e={update:jf(t,A.key,A.data),updateMask:EI(A.fieldMask)};else{if(!(A instanceof eI))return mA();e={verify:rc(t,A.key)}}return A.fieldTransforms.length>0&&(e.updateTransforms=A.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Mo)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Gn)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $s)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xo)return{fieldPath:i.field.canonicalString(),increment:o.Ie};throw mA()}(0,r))),A.precondition.isNone||(e.currentDocument=function(n,s){return s.updateTime!==void 0?{updateTime:hI(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:mA()}(t,A.precondition)),e}function pI(t,A){return t&&t.length>0?(MA(A!==void 0),t.map(e=>function(n,s){let i=n.updateTime?bt(n.updateTime):bt(s);return i.isEqual(yA.min())&&(i=bt(s)),new $Q(i,n.transformResults||[])}(e,A))):[]}function BI(t,A){return{documents:[bm(t,A.path)]}}function mI(t,A){const e={structuredQuery:{}},r=A.path;let n;A.collectionGroup!==null?(n=r,e.structuredQuery.from=[{collectionId:A.collectionGroup,allDescendants:!0}]):(n=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=bm(t,n);const s=function(c){if(c.length!==0)return Rm(Ht.create(c,"and"))}(A.filters);s&&(e.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Un(d.field),direction:yI(d.dir)}}(u))}(A.orderBy);i&&(e.structuredQuery.orderBy=i);const o=ec(t,A.limit);return o!==null&&(e.structuredQuery.limit=o),A.startAt&&(e.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(A.startAt)),A.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(A.endAt)),{ht:e,parent:n}}function wI(t){let A=fI(t.parent);const e=t.structuredQuery,r=e.from?e.from.length:0;let n=null;if(r>0){MA(r===1);const u=e.from[0];u.allDescendants?n=u.collectionId:A=A.child(u.collectionId)}let s=[];e.where&&(s=function(f){const d=Sm(f);return d instanceof Ht&&am(d)?d.getFilters():[d]}(e.where));let i=[];e.orderBy&&(i=function(f){return f.map(d=>function(w){return new Oo(Fn(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(e.orderBy));let o=null;e.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,ua(d)?null:d}(e.limit));let a=null;e.startAt&&(a=function(f){const d=!!f.before,p=f.values||[];return new Po(p,d)}(e.startAt));let c=null;return e.endAt&&(c=function(f){const d=!f.before,p=f.values||[];return new Po(p,d)}(e.endAt)),PQ(A,n,i,s,o,"F",a,c)}function CI(t,A){const e=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mA()}}(A.purpose);return e==null?null:{"goog-listen-tags":e}}function Sm(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Fn(e.unaryFilter.field);return ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=Fn(e.unaryFilter.field);return ce.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fn(e.unaryFilter.field);return ce.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fn(e.unaryFilter.field);return ce.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mA()}}(t):t.fieldFilter!==void 0?function(e){return ce.create(Fn(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mA()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ht.create(e.compositeFilter.filters.map(r=>Sm(r)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return mA()}}(e.compositeFilter.op))}(t):mA()}function yI(t){return aI[t]}function _I(t){return lI[t]}function vI(t){return cI[t]}function Un(t){return{fieldPath:t.canonicalString()}}function Fn(t){return Ce.fromServerFormat(t.fieldPath)}function Rm(t){return t instanceof ce?function(e){if(e.op==="=="){if(Hf(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NAN"}};if(Rf(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Hf(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NOT_NAN"}};if(Rf(e.value))return{unaryFilter:{field:Un(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Un(e.field),op:_I(e.op),value:e.value}}}(t):t instanceof Ht?function(e){const r=e.getFilters().map(n=>Rm(n));return r.length===1?r[0]:{compositeFilter:{op:vI(e.op),filters:r}}}(t):mA()}function EI(t){const A=[];return t.fields.forEach(e=>A.push(e.canonicalString())),{fieldPaths:A}}function Hm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(A,e,r,n,s=yA.min(),i=yA.min(),o=_e.EMPTY_BYTE_STRING,a=null){this.target=A,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(A){return new fr(this.target,this.targetId,this.purpose,A,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(A,e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,A,null)}withExpectedCount(A){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,A)}withLastLimboFreeSnapshotVersion(A){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,A,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(A){this.Tt=A}}function II(t){const A=wI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ac(A,A.limit,"L"):A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.Tn=new FI}addToCollectionParentIndex(A,e){return this.Tn.add(e),N.resolve()}getCollectionParents(A,e){return N.resolve(this.Tn.getEntries(e))}addFieldIndex(A,e){return N.resolve()}deleteFieldIndex(A,e){return N.resolve()}deleteAllFieldIndexes(A){return N.resolve()}createTargetIndexes(A,e){return N.resolve()}getDocumentsMatchingTarget(A,e){return N.resolve(null)}getIndexType(A,e){return N.resolve(0)}getFieldIndexes(A,e){return N.resolve([])}getNextCollectionGroupToUpdate(A){return N.resolve(null)}getMinOffset(A,e){return N.resolve(Ir.min())}getMinOffsetFromCollectionGroup(A,e){return N.resolve(Ir.min())}updateCollectionGroup(A,e,r){return N.resolve()}updateIndexEntries(A,e){return N.resolve()}}class FI{constructor(){this.index={}}add(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e]||new he(qA.comparator),s=!n.has(r);return this.index[e]=n.add(r),s}has(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e];return n&&n.has(r)}getEntries(A){return(this.index[A]||new he(qA.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},km=41943040;class Pe{static withCacheSize(A){return new Pe(A,Pe.DEFAULT_COLLECTION_PERCENTILE,Pe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(A,e,r){this.cacheSizeCollectionThreshold=A,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pe.DEFAULT_COLLECTION_PERCENTILE=10,Pe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pe.DEFAULT=new Pe(km,Pe.DEFAULT_COLLECTION_PERCENTILE,Pe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pe.DISABLED=new Pe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(A){this.$n=A}next(){return this.$n+=2,this.$n}static Un(){return new Wn(0)}static Kn(){return new Wn(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="LruGarbageCollector",bI=1048576;function qf([t,A],[e,r]){const n=bA(t,e);return n===0?bA(A,r):n}class TI{constructor(A){this.Hn=A,this.buffer=new he(qf),this.Jn=0}Yn(){return++this.Jn}Zn(A){const e=[A,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();qf(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class SI{constructor(A,e,r){this.garbageCollector=A,this.asyncQueue=e,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(A){eA(Xf,`Garbage collection scheduled in ${A}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",A,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){As(e)?eA(Xf,"Ignoring IndexedDB error during garbage collection: ",e):await Zn(e)}await this.er(3e5)})}}class RI{constructor(A,e){this.tr=A,this.params=e}calculateTargetCount(A,e){return this.tr.nr(A).next(r=>Math.floor(e/100*r))}nthSequenceNumber(A,e){if(e===0)return N.resolve(ca.ae);const r=new TI(e);return this.tr.forEachTarget(A,n=>r.Zn(n.sequenceNumber)).next(()=>this.tr.rr(A,n=>r.Zn(n))).next(()=>r.maxValue)}removeTargets(A,e,r){return this.tr.removeTargets(A,e,r)}removeOrphanedDocuments(A,e){return this.tr.removeOrphanedDocuments(A,e)}collect(A,e){return this.params.cacheSizeCollectionThreshold===-1?(eA("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(Jf)):this.getCacheSize(A).next(r=>r<this.params.cacheSizeCollectionThreshold?(eA("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jf):this.ir(A,e))}getCacheSize(A){return this.tr.getCacheSize(A)}ir(A,e){let r,n,s,i,o,a,c;const u=Date.now();return this.calculateTargetCount(A,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(eA("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),n=this.params.maximumSequenceNumbersToCollect):n=f,i=Date.now(),this.nthSequenceNumber(A,n))).next(f=>(r=f,o=Date.now(),this.removeTargets(A,r,e))).next(f=>(s=f,a=Date.now(),this.removeOrphanedDocuments(A,r))).next(f=>(c=Date.now(),Qn()<=RA.DEBUG&&eA("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-u}ms
	Determined least recently used ${n} in `+(o-i)+`ms
	Removed ${s} targets in `+(a-o)+`ms
	Removed ${f} documents in `+(c-a)+`ms
Total Duration: ${c-u}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:s,documentsRemoved:f})))}}function HI(t,A){return new RI(t,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.changes=new sn(A=>A.toString(),(A,e)=>A.isEqual(e)),this.changesApplied=!1}addEntry(A){this.assertNotApplied(),this.changes.set(A.key,A)}removeEntry(A,e){this.assertNotApplied(),this.changes.set(A,be.newInvalidDocument(A).setReadTime(e))}getEntry(A,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?N.resolve(r):this.getFromCache(A,e)}getEntries(A,e){return this.getAllFromCache(A,e)}apply(A){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(A)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(A,e){this.overlayedDocument=A,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(A,e,r,n){this.remoteDocumentCache=A,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=n}getDocument(A,e){let r=null;return this.documentOverlayCache.getOverlay(A,e).next(n=>(r=n,this.remoteDocumentCache.getEntry(A,e))).next(n=>(r!==null&&Os(r.mutation,n,qe.empty(),ue.now()),n))}getDocuments(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.getLocalViewOfDocuments(A,r,HA()).next(()=>r))}getLocalViewOfDocuments(A,e,r=HA()){const n=Jr();return this.populateOverlays(A,n,e).next(()=>this.computeViews(A,e,n,r).next(s=>{let i=_s();return s.forEach((o,a)=>{i=i.insert(o,a.overlayedDocument)}),i}))}getOverlayedDocuments(A,e){const r=Jr();return this.populateOverlays(A,r,e).next(()=>this.computeViews(A,e,r,HA()))}populateOverlays(A,e,r){const n=[];return r.forEach(s=>{e.has(s)||n.push(s)}),this.documentOverlayCache.getOverlays(A,n).next(s=>{s.forEach((i,o)=>{e.set(i,o)})})}computeViews(A,e,r,n){let s=Yt();const i=Ps(),o=function(){return Ps()}();return e.forEach((a,c)=>{const u=r.get(c.key);n.has(c.key)&&(u===void 0||u.mutation instanceof Lr)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),Os(u.mutation,c,u.mutation.getFieldMask(),ue.now())):i.set(c.key,qe.empty())}),this.recalculateAndSaveOverlays(A,s).next(a=>(a.forEach((c,u)=>i.set(c,u)),e.forEach((c,u)=>{var f;return o.set(c,new DI(u,(f=i.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(A,e){const r=Ps();let n=new $A((i,o)=>i-o),s=HA();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(A,e).next(i=>{for(const o of i)o.keys().forEach(a=>{const c=e.get(a);if(c===null)return;let u=r.get(a)||qe.empty();u=o.applyToLocalView(c,u),r.set(a,u);const f=(n.get(o.batchId)||HA()).add(a);n=n.insert(o.batchId,f)})}).next(()=>{const i=[],o=n.getReverseIterator();for(;o.hasNext();){const a=o.getNext(),c=a.key,u=a.value,f=pm();u.forEach(d=>{if(!s.has(d)){const p=_m(e.get(d),r.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),i.push(this.documentOverlayCache.saveOverlays(A,c,f))}return N.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.recalculateAndSaveOverlays(A,r))}getDocumentsMatchingQuery(A,e,r,n){return function(i){return fA.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(A,e.path):OQ(e)?this.getDocumentsMatchingCollectionGroupQuery(A,e,r,n):this.getDocumentsMatchingCollectionQuery(A,e,r,n)}getNextDocuments(A,e,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(A,e,r,n).next(s=>{const i=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(A,e,r.largestBatchId,n-s.size):N.resolve(Jr());let o=Xs,a=s;return i.next(c=>N.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?N.resolve():this.remoteDocumentCache.getEntry(A,u).next(d=>{a=a.insert(u,d)}))).next(()=>this.populateOverlays(A,c,s)).next(()=>this.computeViews(A,a,c,HA())).next(u=>({batchId:o,changes:gm(u)})))})}getDocumentsMatchingDocumentQuery(A,e){return this.getDocument(A,new fA(e)).next(r=>{let n=_s();return r.isFoundDocument()&&(n=n.insert(r.key,r)),n})}getDocumentsMatchingCollectionGroupQuery(A,e,r,n){const s=e.collectionGroup;let i=_s();return this.indexManager.getCollectionParents(A,s).next(o=>N.forEach(o,a=>{const c=function(f,d){return new fa(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e,a.child(s));return this.getDocumentsMatchingCollectionQuery(A,c,r,n).next(u=>{u.forEach((f,d)=>{i=i.insert(f,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(A,e,r,n){let s;return this.documentOverlayCache.getOverlaysForCollection(A,e.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(A,e,r,s,n))).next(i=>{s.forEach((a,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,be.newInvalidDocument(u)))});let o=_s();return i.forEach((a,c)=>{const u=s.get(a);u!==void 0&&Os(u.mutation,c,qe.empty(),ue.now()),pa(e,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(A){this.serializer=A,this.dr=new Map,this.Ar=new Map}getBundleMetadata(A,e){return N.resolve(this.dr.get(e))}saveBundleMetadata(A,e){return this.dr.set(e.id,function(n){return{id:n.id,version:n.version,createTime:bt(n.createTime)}}(e)),N.resolve()}getNamedQuery(A,e){return N.resolve(this.Ar.get(e))}saveNamedQuery(A,e){return this.Ar.set(e.name,function(n){return{name:n.name,query:II(n.bundledQuery),readTime:bt(n.readTime)}}(e)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.overlays=new $A(fA.comparator),this.Rr=new Map}getOverlay(A,e){return N.resolve(this.overlays.get(e))}getOverlays(A,e){const r=Jr();return N.forEach(e,n=>this.getOverlay(A,n).next(s=>{s!==null&&r.set(n,s)})).next(()=>r)}saveOverlays(A,e,r){return r.forEach((n,s)=>{this.Et(A,e,s)}),N.resolve()}removeOverlaysForBatchId(A,e,r){const n=this.Rr.get(r);return n!==void 0&&(n.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),N.resolve()}getOverlaysForCollection(A,e,r){const n=Jr(),s=e.length+1,i=new fA(e.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const a=o.getNext().value,c=a.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&a.largestBatchId>r&&n.set(a.getKey(),a)}return N.resolve(n)}getOverlaysForCollectionGroup(A,e,r,n){let s=new $A((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Jr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Jr(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=n)););return N.resolve(o)}Et(A,e,r){const n=this.overlays.get(r.key);if(n!==null){const i=this.Rr.get(n.largestBatchId).delete(r.key);this.Rr.set(n.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new rI(e,r));let s=this.Rr.get(e);s===void 0&&(s=HA(),this.Rr.set(e,s)),this.Rr.set(e,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.sessionToken=_e.EMPTY_BYTE_STRING}getSessionToken(A){return N.resolve(this.sessionToken)}setSessionToken(A,e){return this.sessionToken=e,N.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.Vr=new he(Be.mr),this.gr=new he(Be.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(A,e){const r=new Be(A,e);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(A,e){A.forEach(r=>this.addReference(r,e))}removeReference(A,e){this.wr(new Be(A,e))}Sr(A,e){A.forEach(r=>this.removeReference(r,e))}br(A){const e=new fA(new qA([])),r=new Be(e,A),n=new Be(e,A+1),s=[];return this.gr.forEachInRange([r,n],i=>{this.wr(i),s.push(i.key)}),s}Dr(){this.Vr.forEach(A=>this.wr(A))}wr(A){this.Vr=this.Vr.delete(A),this.gr=this.gr.delete(A)}vr(A){const e=new fA(new qA([])),r=new Be(e,A),n=new Be(e,A+1);let s=HA();return this.gr.forEachInRange([r,n],i=>{s=s.add(i.key)}),s}containsKey(A){const e=new Be(A,0),r=this.Vr.firstAfterOrEqual(e);return r!==null&&A.isEqual(r.key)}}class Be{constructor(A,e){this.key=A,this.Cr=e}static mr(A,e){return fA.comparator(A.key,e.key)||bA(A.Cr,e.Cr)}static pr(A,e){return bA(A.Cr,e.Cr)||fA.comparator(A.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(A,e){this.indexManager=A,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new he(Be.mr)}checkEmpty(A){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(A,e,r,n){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new tI(s,e,r,n);this.mutationQueue.push(i);for(const o of n)this.Mr=this.Mr.add(new Be(o.key,s)),this.indexManager.addToCollectionParentIndex(A,o.key.path.popLast());return N.resolve(i)}lookupMutationBatch(A,e){return N.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(A,e){const r=e+1,n=this.Nr(r),s=n<0?0:n;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?jc:this.Fr-1)}getAllMutationBatches(A){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(A,e){const r=new Be(e,0),n=new Be(e,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,n],i=>{const o=this.Or(i.Cr);s.push(o)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(A,e){let r=new he(bA);return e.forEach(n=>{const s=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,i],o=>{r=r.add(o.Cr)})}),N.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(A,e){const r=e.path,n=r.length+1;let s=r;fA.isDocumentKey(s)||(s=s.child(""));const i=new Be(new fA(s),0);let o=new he(bA);return this.Mr.forEachWhile(a=>{const c=a.key.path;return!!r.isPrefixOf(c)&&(c.length===n&&(o=o.add(a.Cr)),!0)},i),N.resolve(this.Br(o))}Br(A){const e=[];return A.forEach(r=>{const n=this.Or(r);n!==null&&e.push(n)}),e}removeMutationBatch(A,e){MA(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return N.forEach(e.mutations,n=>{const s=new Be(n.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(A,n.key)}).next(()=>{this.Mr=r})}qn(A){}containsKey(A,e){const r=new Be(e,0),n=this.Mr.firstAfterOrEqual(r);return N.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(A){return this.mutationQueue.length,N.resolve()}Lr(A,e){return this.Nr(A)}Nr(A){return this.mutationQueue.length===0?0:A-this.mutationQueue[0].batchId}Or(A){const e=this.Nr(A);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(A){this.kr=A,this.docs=function(){return new $A(fA.comparator)}(),this.size=0}setIndexManager(A){this.indexManager=A}addEntry(A,e){const r=e.key,n=this.docs.get(r),s=n?n.size:0,i=this.kr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(A,r.path.popLast())}removeEntry(A){const e=this.docs.get(A);e&&(this.docs=this.docs.remove(A),this.size-=e.size)}getEntry(A,e){const r=this.docs.get(e);return N.resolve(r?r.document.mutableCopy():be.newInvalidDocument(e))}getEntries(A,e){let r=Yt();return e.forEach(n=>{const s=this.docs.get(n);r=r.insert(n,s?s.document.mutableCopy():be.newInvalidDocument(n))}),N.resolve(r)}getDocumentsMatchingQuery(A,e,r,n){let s=Yt();const i=e.path,o=new fA(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:c,value:{document:u}}=a.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||pQ(gQ(u),r)<=0||(n.has(u.key)||pa(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(A,e,r,n){mA()}qr(A,e){return N.forEach(this.docs,r=>e(r))}newChangeBuffer(A){return new NI(this)}getSize(A){return N.resolve(this.size)}}class NI extends kI{constructor(A){super(),this.Ir=A}applyChanges(A){const e=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?e.push(this.Ir.addEntry(A,n)):this.Ir.removeEntry(r)}),N.waitFor(e)}getFromCache(A,e){return this.Ir.getEntry(A,e)}getAllFromCache(A,e){return this.Ir.getEntries(A,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(A){this.persistence=A,this.Qr=new sn(e=>qc(e),zc),this.lastRemoteSnapshotVersion=yA.min(),this.highestTargetId=0,this.$r=0,this.Ur=new tu,this.targetCount=0,this.Kr=Wn.Un()}forEachTarget(A,e){return this.Qr.forEach((r,n)=>e(n)),N.resolve()}getLastRemoteSnapshotVersion(A){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(A){return N.resolve(this.$r)}allocateTargetId(A){return this.highestTargetId=this.Kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(A,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$r&&(this.$r=e),N.resolve()}zn(A){this.Qr.set(A.target,A);const e=A.targetId;e>this.highestTargetId&&(this.Kr=new Wn(e),this.highestTargetId=e),A.sequenceNumber>this.$r&&(this.$r=A.sequenceNumber)}addTargetData(A,e){return this.zn(e),this.targetCount+=1,N.resolve()}updateTargetData(A,e){return this.zn(e),N.resolve()}removeTargetData(A,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,N.resolve()}removeTargets(A,e,r){let n=0;const s=[];return this.Qr.forEach((i,o)=>{o.sequenceNumber<=e&&r.get(o.targetId)===null&&(this.Qr.delete(i),s.push(this.removeMatchingKeysForTargetId(A,o.targetId)),n++)}),N.waitFor(s).next(()=>n)}getTargetCount(A){return N.resolve(this.targetCount)}getTargetData(A,e){const r=this.Qr.get(e)||null;return N.resolve(r)}addMatchingKeys(A,e,r){return this.Ur.yr(e,r),N.resolve()}removeMatchingKeys(A,e,r){this.Ur.Sr(e,r);const n=this.persistence.referenceDelegate,s=[];return n&&e.forEach(i=>{s.push(n.markPotentiallyOrphaned(A,i))}),N.waitFor(s)}removeMatchingKeysForTargetId(A,e){return this.Ur.br(e),N.resolve()}getMatchingKeysForTargetId(A,e){const r=this.Ur.vr(e);return N.resolve(r)}containsKey(A,e){return N.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(A,e){this.Wr={},this.overlays={},this.Gr=new ca(0),this.zr=!1,this.zr=!0,this.jr=new MI,this.referenceDelegate=A(this),this.Hr=new KI(this),this.indexManager=new UI,this.remoteDocumentCache=function(n){return new VI(n)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new QI(e),this.Yr=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(A){return this.indexManager}getDocumentOverlayCache(A){let e=this.overlays[A.toKey()];return e||(e=new OI,this.overlays[A.toKey()]=e),e}getMutationQueue(A,e){let r=this.Wr[A.toKey()];return r||(r=new xI(e,this.referenceDelegate),this.Wr[A.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(A,e,r){eA("MemoryPersistence","Starting transaction:",A);const n=new GI(this.Gr.next());return this.referenceDelegate.Zr(),r(n).next(s=>this.referenceDelegate.Xr(n).next(()=>s)).toPromise().then(s=>(n.raiseOnCommittedEvent(),s))}ei(A,e){return N.or(Object.values(this.Wr).map(r=>()=>r.containsKey(A,e)))}}class GI extends mQ{constructor(A){super(),this.currentSequenceNumber=A}}class ru{constructor(A){this.persistence=A,this.ti=new tu,this.ni=null}static ri(A){return new ru(A)}get ii(){if(this.ni)return this.ni;throw mA()}addReference(A,e,r){return this.ti.addReference(r,e),this.ii.delete(r.toString()),N.resolve()}removeReference(A,e,r){return this.ti.removeReference(r,e),this.ii.add(r.toString()),N.resolve()}markPotentiallyOrphaned(A,e){return this.ii.add(e.toString()),N.resolve()}removeTarget(A,e){this.ti.br(e.targetId).forEach(n=>this.ii.add(n.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(A,e.targetId).next(n=>{n.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(A,e))}Zr(){this.ni=new Set}Xr(A){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.ii,r=>{const n=fA.fromPath(r);return this.si(A,n).next(s=>{s||e.removeEntry(n,yA.min())})}).next(()=>(this.ni=null,e.apply(A)))}updateLimboDocument(A,e){return this.si(A,e).next(r=>{r?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(A){return 0}si(A,e){return N.or([()=>N.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(A,e),()=>this.persistence.ei(A,e)])}}class No{constructor(A,e){this.persistence=A,this.oi=new sn(r=>yQ(r.path),(r,n)=>r.isEqual(n)),this.garbageCollector=HI(this,e)}static ri(A,e){return new No(A,e)}Zr(){}Xr(A){return N.resolve()}forEachTarget(A,e){return this.persistence.getTargetCache().forEachTarget(A,e)}nr(A){const e=this.sr(A);return this.persistence.getTargetCache().getTargetCount(A).next(r=>e.next(n=>r+n))}sr(A){let e=0;return this.rr(A,r=>{e++}).next(()=>e)}rr(A,e){return N.forEach(this.oi,(r,n)=>this.ar(A,r,n).next(s=>s?N.resolve():e(n)))}removeTargets(A,e,r){return this.persistence.getTargetCache().removeTargets(A,e,r)}removeOrphanedDocuments(A,e){let r=0;const n=this.persistence.getRemoteDocumentCache(),s=n.newChangeBuffer();return n.qr(A,i=>this.ar(A,i,e).next(o=>{o||(r++,s.removeEntry(i,yA.min()))})).next(()=>s.apply(A)).next(()=>r)}markPotentiallyOrphaned(A,e){return this.oi.set(e,A.currentSequenceNumber),N.resolve()}removeTarget(A,e){const r=e.withSequenceNumber(A.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(A,r)}addReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),N.resolve()}removeReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),N.resolve()}updateLimboDocument(A,e){return this.oi.set(e,A.currentSequenceNumber),N.resolve()}Jr(A){let e=A.key.toString().length;return A.isFoundDocument()&&(e+=Bo(A.data.value)),e}ar(A,e,r){return N.or([()=>this.persistence.ei(A,e),()=>this.persistence.getTargetCache().containsKey(A,e),()=>{const n=this.oi.get(e);return N.resolve(n!==void 0&&n>r)}])}getCacheSize(A){return this.persistence.getRemoteDocumentCache().getSize(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(A,e,r,n){this.targetId=A,this.fromCache=e,this.Hi=r,this.Ji=n}static Yi(A,e){let r=HA(),n=HA();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:n=n.add(s.doc.key)}return new nu(A,e.fromCache,r,n)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(A){this._documentReadCount+=A}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _C()?8:wQ(Te())>0?6:4}()}initialize(A,e){this.ns=A,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(A,e,r,n){const s={result:null};return this.rs(A,e).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ss(A,e,n,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new WI;return this._s(A,e,i).next(o=>{if(s.result=o,this.Xi)return this.us(A,e,i,o.size)})}).next(()=>s.result)}us(A,e,r,n){return r.documentReadCount<this.es?(Qn()<=RA.DEBUG&&eA("QueryEngine","SDK will not create cache indexes for query:",In(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),N.resolve()):(Qn()<=RA.DEBUG&&eA("QueryEngine","Query:",In(e),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ts*n?(Qn()<=RA.DEBUG&&eA("QueryEngine","The SDK decides to create cache indexes for query:",In(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(A,Ft(e))):N.resolve())}rs(A,e){if(Pf(e))return N.resolve(null);let r=Ft(e);return this.indexManager.getIndexType(A,r).next(n=>n===0?null:(e.limit!==null&&n===1&&(e=Ac(e,null,"F"),r=Ft(e)),this.indexManager.getDocumentsMatchingTarget(A,r).next(s=>{const i=HA(...s);return this.ns.getDocuments(A,i).next(o=>this.indexManager.getMinOffset(A,r).next(a=>{const c=this.cs(e,o);return this.ls(e,c,i,a.readTime)?this.rs(A,Ac(e,null,"F")):this.hs(A,c,e,a)}))})))}ss(A,e,r,n){return Pf(e)||n.isEqual(yA.min())?N.resolve(null):this.ns.getDocuments(A,r).next(s=>{const i=this.cs(e,s);return this.ls(e,i,r,n)?N.resolve(null):(Qn()<=RA.DEBUG&&eA("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),In(e)),this.hs(A,i,e,dQ(n,Xs)).next(o=>o))})}cs(A,e){let r=new he(fm(A));return e.forEach((n,s)=>{pa(A,s)&&(r=r.add(s))}),r}ls(A,e,r,n){if(A.limit===null)return!1;if(r.size!==e.size)return!0;const s=A.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}_s(A,e,r){return Qn()<=RA.DEBUG&&eA("QueryEngine","Using full collection scan to execute query:",In(e)),this.ns.getDocumentsMatchingQuery(A,e,Ir.min(),r)}hs(A,e,r,n){return this.ns.getDocumentsMatchingQuery(A,r,n).next(s=>(e.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="LocalStore",JI=3e8;class XI{constructor(A,e,r,n){this.persistence=A,this.Ps=e,this.serializer=n,this.Ts=new $A(bA),this.Is=new sn(s=>qc(s),zc),this.Es=new Map,this.ds=A.getRemoteDocumentCache(),this.Hr=A.getTargetCache(),this.Yr=A.getBundleCache(),this.As(r)}As(A){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(A),this.indexManager=this.persistence.getIndexManager(A),this.mutationQueue=this.persistence.getMutationQueue(A,this.indexManager),this.localDocuments=new LI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(A){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>A.collect(e,this.Ts))}}function qI(t,A,e,r){return new XI(t,A,e,r)}async function Lm(t,A){const e=_A(t);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(s=>(n=s,e.As(A),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],o=[];let a=HA();for(const c of n){i.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}return e.localDocuments.getDocuments(r,a).next(c=>({Rs:c,removedBatchIds:i,addedBatchIds:o}))})})}function zI(t,A){const e=_A(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const n=A.batch.keys(),s=e.ds.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const f=c.batch,d=f.keys();let p=N.resolve();return d.forEach(w=>{p=p.next(()=>u.getEntry(a,w)).next(y=>{const I=c.docVersions.get(w);MA(I!==null),y.version.compareTo(I)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,f))}(e,r,A,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,n,A.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=HA();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(A))).next(()=>e.localDocuments.getDocuments(r,n))})}function Pm(t){const A=_A(t);return A.persistence.runTransaction("Get last remote snapshot version","readonly",e=>A.Hr.getLastRemoteSnapshotVersion(e))}function YI(t,A){const e=_A(t),r=A.snapshotVersion;let n=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=e.ds.newChangeBuffer({trackRemovals:!0});n=e.Ts;const o=[];A.targetChanges.forEach((u,f)=>{const d=n.get(f);if(!d)return;o.push(e.Hr.removeMatchingKeys(s,u.removedDocuments,f).next(()=>e.Hr.addMatchingKeys(s,u.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);A.targetMismatches.get(f)!==null?p=p.withResumeToken(_e.EMPTY_BYTE_STRING,yA.min()).withLastLimboFreeSnapshotVersion(yA.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),n=n.insert(f,p),function(y,I,S){return y.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=JI?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,p,u)&&o.push(e.Hr.updateTargetData(s,p))});let a=Yt(),c=HA();if(A.documentUpdates.forEach(u=>{A.resolvedLimboDocuments.has(u)&&o.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push($I(s,i,A.documentUpdates).next(u=>{a=u.Vs,c=u.fs})),!r.isEqual(yA.min())){const u=e.Hr.getLastRemoteSnapshotVersion(s).next(f=>e.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return N.waitFor(o).next(()=>i.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,a,c)).next(()=>a)}).then(s=>(e.Ts=n,s))}function $I(t,A,e){let r=HA(),n=HA();return e.forEach(s=>r=r.add(s)),A.getEntries(t,r).next(s=>{let i=Yt();return e.forEach((o,a)=>{const c=s.get(o);a.isFoundDocument()!==c.isFoundDocument()&&(n=n.add(o)),a.isNoDocument()&&a.version.isEqual(yA.min())?(A.removeEntry(o,a.readTime),i=i.insert(o,a)):!c.isValidDocument()||a.version.compareTo(c.version)>0||a.version.compareTo(c.version)===0&&c.hasPendingWrites?(A.addEntry(a),i=i.insert(o,a)):eA(su,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",a.version)}),{Vs:i,fs:n}})}function ZI(t,A){const e=_A(t);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(A===void 0&&(A=jc),e.mutationQueue.getNextMutationBatchAfterBatchId(r,A)))}function AU(t,A){const e=_A(t);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.Hr.getTargetData(r,A).next(s=>s?(n=s,N.resolve(n)):e.Hr.allocateTargetId(r).next(i=>(n=new fr(A,i,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,n).next(()=>n))))}).then(r=>{const n=e.Ts.get(r.targetId);return(n===null||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(A,r.targetId)),r})}async function sc(t,A,e){const r=_A(t),n=r.Ts.get(A),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,n))}catch(i){if(!As(i))throw i;eA(su,`Failed to update sequence numbers for target ${A}: ${i}`)}r.Ts=r.Ts.remove(A),r.Is.delete(n.target)}function zf(t,A,e){const r=_A(t);let n=yA.min(),s=HA();return r.persistence.runTransaction("Execute query","readwrite",i=>function(a,c,u){const f=_A(a),d=f.Is.get(u);return d!==void 0?N.resolve(f.Ts.get(d)):f.Hr.getTargetData(c,u)}(r,i,Ft(A)).next(o=>{if(o)return n=o.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(i,o.targetId).next(a=>{s=a})}).next(()=>r.Ps.getDocumentsMatchingQuery(i,A,e?n:yA.min(),e?s:HA())).next(o=>(eU(r,xQ(A),o),{documents:o,gs:s})))}function eU(t,A,e){let r=t.Es.get(A)||yA.min();e.forEach((n,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(A,r)}class Yf{constructor(){this.activeTargetIds=jQ()}Ds(A){this.activeTargetIds=this.activeTargetIds.add(A)}vs(A){this.activeTargetIds=this.activeTargetIds.delete(A)}bs(){const A={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(A)}}class tU{constructor(){this.ho=new Yf,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(A){}updateMutationState(A,e,r){}addLocalQueryTarget(A,e=!0){return e&&this.ho.Ds(A),this.Po[A]||"not-current"}updateQueryState(A,e,r){this.Po[A]=e}removeLocalQueryTarget(A){this.ho.vs(A)}isLocalQueryTarget(A){return this.ho.activeTargetIds.has(A)}clearQueryState(A){delete this.Po[A]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(A){return this.ho.activeTargetIds.has(A)}start(){return this.ho=new Yf,Promise.resolve()}handleUserChange(A,e,r){}setOnlineState(A){}shutdown(){}writeSequenceNumber(A){}notifyBundleLoaded(A){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{To(A){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="ConnectivityMonitor";class Zf{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(A){this.Vo.push(A)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){eA($f,"Network connectivity changed: AVAILABLE");for(const A of this.Vo)A(0)}Ro(){eA($f,"Network connectivity changed: UNAVAILABLE");for(const A of this.Vo)A(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi=null;function ic(){return xi===null?xi=function(){return 268435456+Math.round(2147483648*Math.random())}():xi++,"0x"+xi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="RestConnection",nU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sU{get fo(){return!1}constructor(A){this.databaseInfo=A,this.databaseId=A.databaseId;const e=A.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=e+"://"+A.host,this.yo=`projects/${r}/databases/${n}`,this.wo=this.databaseId.database===Do?`project_id=${r}`:`project_id=${r}&database_id=${n}`}So(A,e,r,n,s){const i=ic(),o=this.bo(A,e.toUriEncodedString());eA(dl,`Sending RPC '${A}' ${i}:`,o,r);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,n,s),this.vo(A,o,a,r).then(c=>(eA(dl,`Received RPC '${A}' ${i}: `,c),c),c=>{throw xn(dl,`RPC '${A}' ${i} failed with error: `,c,"url: ",o,"request:",r),c})}Co(A,e,r,n,s,i){return this.So(A,e,r,n,s)}Do(A,e,r){A["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$n}(),A["Content-Type"]="text/plain",this.databaseInfo.appId&&(A["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((n,s)=>A[s]=n),r&&r.headers.forEach((n,s)=>A[s]=n)}bo(A,e){const r=nU[A];return`${this.po}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(A){this.Fo=A.Fo,this.Mo=A.Mo}xo(A){this.Oo=A}No(A){this.Bo=A}Lo(A){this.ko=A}onMessage(A){this.qo=A}close(){this.Mo()}send(A){this.Fo(A)}Qo(){this.Oo()}$o(){this.Bo()}Uo(A){this.ko(A)}Ko(A){this.qo(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie="WebChannelConnection";class oU extends sU{constructor(A){super(A),this.forceLongPolling=A.forceLongPolling,this.autoDetectLongPolling=A.autoDetectLongPolling,this.useFetchStreams=A.useFetchStreams,this.longPollingOptions=A.longPollingOptions}vo(A,e,r,n){const s=ic();return new Promise((i,o)=>{const a=new VB;a.setWithCredentials(!0),a.listenOnce(NB.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case po.NO_ERROR:const u=a.getResponseJson();eA(Ie,`XHR for RPC '${A}' ${s} received:`,JSON.stringify(u)),i(u);break;case po.TIMEOUT:eA(Ie,`RPC '${A}' ${s} timed out`),o(new aA(j.DEADLINE_EXCEEDED,"Request time out"));break;case po.HTTP_ERROR:const f=a.getStatus();if(eA(Ie,`RPC '${A}' ${s} failed with status:`,f,"response text:",a.getResponseText()),f>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const w=function(I){const S=I.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(S)>=0?S:j.UNKNOWN}(p.status);o(new aA(w,p.message))}else o(new aA(j.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new aA(j.UNAVAILABLE,"Connection failed."));break;default:mA()}}finally{eA(Ie,`RPC '${A}' ${s} completed.`)}});const c=JSON.stringify(n);eA(Ie,`RPC '${A}' ${s} sending request:`,n),a.send(e,"POST",c,r,15)})}Wo(A,e,r){const n=ic(),s=[this.po,"/","google.firestore.v1.Firestore","/",A,"/channel"],i=WB(),o=GB(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,e,r),a.encodeInitMessageHeaders=!0;const u=s.join("");eA(Ie,`Creating RPC '${A}' stream ${n}: ${u}`,a);const f=i.createWebChannel(u,a);let d=!1,p=!1;const w=new iU({Fo:I=>{p?eA(Ie,`Not sending because RPC '${A}' stream ${n} is closed:`,I):(d||(eA(Ie,`Opening RPC '${A}' stream ${n} transport.`),f.open(),d=!0),eA(Ie,`RPC '${A}' stream ${n} sending:`,I),f.send(I))},Mo:()=>f.close()}),y=(I,S,T)=>{I.listen(S,L=>{try{T(L)}catch(R){setTimeout(()=>{throw R},0)}})};return y(f,ys.EventType.OPEN,()=>{p||(eA(Ie,`RPC '${A}' stream ${n} transport opened.`),w.Qo())}),y(f,ys.EventType.CLOSE,()=>{p||(p=!0,eA(Ie,`RPC '${A}' stream ${n} transport closed`),w.Uo())}),y(f,ys.EventType.ERROR,I=>{p||(p=!0,xn(Ie,`RPC '${A}' stream ${n} transport errored:`,I),w.Uo(new aA(j.UNAVAILABLE,"The operation could not be completed")))}),y(f,ys.EventType.MESSAGE,I=>{var S;if(!p){const T=I.data[0];MA(!!T);const L=T,R=(L==null?void 0:L.error)||((S=L[0])===null||S===void 0?void 0:S.error);if(R){eA(Ie,`RPC '${A}' stream ${n} received error:`,R);const M=R.status;let D=function(v){const F=se[v];if(F!==void 0)return Em(F)}(M),Q=R.message;D===void 0&&(D=j.INTERNAL,Q="Unknown error status: "+M+" with message "+R.message),p=!0,w.Uo(new aA(D,Q)),f.close()}else eA(Ie,`RPC '${A}' stream ${n} received:`,T),w.Ko(T)}}),y(o,KB.STAT_EVENT,I=>{I.stat===Xl.PROXY?eA(Ie,`RPC '${A}' stream ${n} detected buffering proxy`):I.stat===Xl.NOPROXY&&eA(Ie,`RPC '${A}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function gl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return new uI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(A,e,r=1e3,n=1.5,s=6e4){this.Ti=A,this.timerId=e,this.Go=r,this.zo=n,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(A){this.cancel();const e=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),n=Math.max(0,e-r);n>0&&eA("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,()=>(this.Yo=Date.now(),A())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="PersistentStream";class Mm{constructor(A,e,r,n,s,i,o,a){this.Ti=A,this.n_=r,this.r_=n,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Om(A,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(A){this.E_(),this.stream.send(A)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(A,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,A!==4?this.a_.reset():e&&e.code===j.RESOURCE_EXHAUSTED?(zt(e.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=A,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const A=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,n])=>{this.i_===e&&this.V_(r,n)},r=>{A(()=>{const n=new aA(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(n)})})}V_(A,e){const r=this.R_(this.i_);this.stream=this.f_(A,e),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(n=>{r(()=>this.m_(n))}),this.stream.onMessage(n=>{r(()=>++this.__==1?this.g_(n):this.onNext(n))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(A){return eA(Ad,`close with error: ${A}`),this.stream=null,this.close(4,A)}R_(A){return e=>{this.Ti.enqueueAndForget(()=>this.i_===A?e():(eA(Ad,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aU extends Mm{constructor(A,e,r,n,s,i){super(A,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}f_(A,e){return this.connection.Wo("Listen",A,e)}g_(A){return this.onNext(A)}onNext(A){this.a_.reset();const e=dI(this.serializer,A),r=function(s){if(!("targetChange"in s))return yA.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?yA.min():i.readTime?bt(i.readTime):yA.min()}(A);return this.listener.p_(e,r)}y_(A){const e={};e.database=nc(this.serializer),e.addTarget=function(s,i){let o;const a=i.target;if(o=Zl(a)?{documents:BI(s,a)}:{query:mI(s,a).ht},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=Um(s,i.resumeToken);const c=ec(s,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(yA.min())>0){o.readTime=Vo(s,i.snapshotVersion.toTimestamp());const c=ec(s,i.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,A);const r=CI(this.serializer,A);r&&(e.labels=r),this.I_(e)}w_(A){const e={};e.database=nc(this.serializer),e.removeTarget=A,this.I_(e)}}class lU extends Mm{constructor(A,e,r,n,s,i){super(A,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(A,e){return this.connection.Wo("Write",A,e)}g_(A){return MA(!!A.streamToken),this.lastStreamToken=A.streamToken,MA(!A.writeResults||A.writeResults.length===0),this.listener.D_()}onNext(A){MA(!!A.streamToken),this.lastStreamToken=A.streamToken,this.a_.reset();const e=pI(A.writeResults,A.commitTime),r=bt(A.commitTime);return this.listener.v_(r,e)}C_(){const A={};A.database=nc(this.serializer),this.I_(A)}b_(A){const e={streamToken:this.lastStreamToken,writes:A.map(r=>gI(this.serializer,r))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{}class uU extends cU{constructor(A,e,r,n){super(),this.authCredentials=A,this.appCheckCredentials=e,this.connection=r,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new aA(j.FAILED_PRECONDITION,"The client has already been terminated.")}So(A,e,r,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.So(A,tc(e,r),n,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new aA(j.UNKNOWN,s.toString())})}Co(A,e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(A,tc(e,r),n,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new aA(j.UNKNOWN,i.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class hU{constructor(A,e){this.asyncQueue=A,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(A){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${A.toString()}`),this.L_("Offline")))}set(A){this.Q_(),this.x_=0,A==="Online"&&(this.N_=!1),this.L_(A)}L_(A){A!==this.state&&(this.state=A,this.onlineStateHandler(A))}k_(A){const e=`Could not reach Cloud Firestore backend. ${A}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zt(e),this.N_=!1):eA("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="RemoteStore";class fU{constructor(A,e,r,n,s){this.localStore=A,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(i=>{r.enqueueAndForget(async()=>{on(this)&&(eA(tn,"Restarting streams for network reachability change."),await async function(a){const c=_A(a);c.W_.add(4),await li(c),c.j_.set("Unknown"),c.W_.delete(4),await ya(c)}(this))})}),this.j_=new hU(r,n)}}async function ya(t){if(on(t))for(const A of t.G_)await A(!0)}async function li(t){for(const A of t.G_)await A(!1)}function xm(t,A){const e=_A(t);e.K_.has(A.targetId)||(e.K_.set(A.targetId,A),lu(e)?au(e):es(e).c_()&&ou(e,A))}function iu(t,A){const e=_A(t),r=es(e);e.K_.delete(A),r.c_()&&Vm(e,A),e.K_.size===0&&(r.c_()?r.P_():on(e)&&e.j_.set("Unknown"))}function ou(t,A){if(t.H_.Ne(A.targetId),A.resumeToken.approximateByteSize()>0||A.snapshotVersion.compareTo(yA.min())>0){const e=t.remoteSyncer.getRemoteKeysForTarget(A.targetId).size;A=A.withExpectedCount(e)}es(t).y_(A)}function Vm(t,A){t.H_.Ne(A),es(t).w_(A)}function au(t){t.H_=new oI({getRemoteKeysForTarget:A=>t.remoteSyncer.getRemoteKeysForTarget(A),lt:A=>t.K_.get(A)||null,it:()=>t.datastore.serializer.databaseId}),es(t).start(),t.j_.B_()}function lu(t){return on(t)&&!es(t).u_()&&t.K_.size>0}function on(t){return _A(t).W_.size===0}function Nm(t){t.H_=void 0}async function dU(t){t.j_.set("Online")}async function gU(t){t.K_.forEach((A,e)=>{ou(t,A)})}async function pU(t,A){Nm(t),lu(t)?(t.j_.q_(A),au(t)):t.j_.set("Unknown")}async function BU(t,A,e){if(t.j_.set("Online"),A instanceof Im&&A.state===2&&A.cause)try{await async function(n,s){const i=s.cause;for(const o of s.targetIds)n.K_.has(o)&&(await n.remoteSyncer.rejectListen(o,i),n.K_.delete(o),n.H_.removeTarget(o))}(t,A)}catch(r){eA(tn,"Failed to remove targets %s: %s ",A.targetIds.join(","),r),await Ko(t,r)}else if(A instanceof Co?t.H_.We(A):A instanceof Qm?t.H_.Ze(A):t.H_.je(A),!e.isEqual(yA.min()))try{const r=await Pm(t.localStore);e.compareTo(r)>=0&&await function(s,i){const o=s.H_.ot(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.K_.get(c);u&&s.K_.set(c,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,c)=>{const u=s.K_.get(a);if(!u)return;s.K_.set(a,u.withResumeToken(_e.EMPTY_BYTE_STRING,u.snapshotVersion)),Vm(s,a);const f=new fr(u.target,a,c,u.sequenceNumber);ou(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,e)}catch(r){eA(tn,"Failed to raise snapshot:",r),await Ko(t,r)}}async function Ko(t,A,e){if(!As(A))throw A;t.W_.add(1),await li(t),t.j_.set("Offline"),e||(e=()=>Pm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{eA(tn,"Retrying IndexedDB access"),await e(),t.W_.delete(1),await ya(t)})}function Km(t,A){return A().catch(e=>Ko(t,e,A))}async function _a(t){const A=_A(t),e=Tr(A);let r=A.U_.length>0?A.U_[A.U_.length-1].batchId:jc;for(;mU(A);)try{const n=await ZI(A.localStore,r);if(n===null){A.U_.length===0&&e.P_();break}r=n.batchId,wU(A,n)}catch(n){await Ko(A,n)}Gm(A)&&Wm(A)}function mU(t){return on(t)&&t.U_.length<10}function wU(t,A){t.U_.push(A);const e=Tr(t);e.c_()&&e.S_&&e.b_(A.mutations)}function Gm(t){return on(t)&&!Tr(t).u_()&&t.U_.length>0}function Wm(t){Tr(t).start()}async function CU(t){Tr(t).C_()}async function yU(t){const A=Tr(t);for(const e of t.U_)A.b_(e.mutations)}async function _U(t,A,e){const r=t.U_.shift(),n=Zc.from(r,A,e);await Km(t,()=>t.remoteSyncer.applySuccessfulWrite(n)),await _a(t)}async function vU(t,A){A&&Tr(t).S_&&await async function(r,n){if(function(i){return sI(i)&&i!==j.ABORTED}(n.code)){const s=r.U_.shift();Tr(r).h_(),await Km(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,n)),await _a(r)}}(t,A),Gm(t)&&Wm(t)}async function ed(t,A){const e=_A(t);e.asyncQueue.verifyOperationInProgress(),eA(tn,"RemoteStore received new credentials");const r=on(e);e.W_.add(3),await li(e),r&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(A),e.W_.delete(3),await ya(e)}async function EU(t,A){const e=_A(t);A?(e.W_.delete(2),await ya(e)):A||(e.W_.add(2),await li(e),e.j_.set("Unknown"))}function es(t){return t.J_||(t.J_=function(e,r,n){const s=_A(e);return s.M_(),new aU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:dU.bind(null,t),No:gU.bind(null,t),Lo:pU.bind(null,t),p_:BU.bind(null,t)}),t.G_.push(async A=>{A?(t.J_.h_(),lu(t)?au(t):t.j_.set("Unknown")):(await t.J_.stop(),Nm(t))})),t.J_}function Tr(t){return t.Y_||(t.Y_=function(e,r,n){const s=_A(e);return s.M_(),new lU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:CU.bind(null,t),Lo:vU.bind(null,t),D_:yU.bind(null,t),v_:_U.bind(null,t)}),t.G_.push(async A=>{A?(t.Y_.h_(),await _a(t)):(await t.Y_.stop(),t.U_.length>0&&(eA(tn,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(A,e,r,n,s){this.asyncQueue=A,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=s,this.deferred=new jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(A,e,r,n,s){const i=Date.now()+r,o=new cu(A,e,i,n,s);return o.start(r),o}start(A){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),A)}skipDelay(){return this.handleDelayElapsed()}cancel(A){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new aA(j.CANCELLED,"Operation cancelled"+(A?": "+A:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(A=>this.deferred.resolve(A))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uu(t,A){if(zt("AsyncQueue",`${A}: ${t}`),As(t))return new aA(j.UNAVAILABLE,`${A}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{static emptySet(A){return new Ln(A.comparator)}constructor(A){this.comparator=A?(e,r)=>A(e,r)||fA.comparator(e.key,r.key):(e,r)=>fA.comparator(e.key,r.key),this.keyedMap=_s(),this.sortedSet=new $A(this.comparator)}has(A){return this.keyedMap.get(A)!=null}get(A){return this.keyedMap.get(A)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(A){const e=this.keyedMap.get(A);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(A){this.sortedSet.inorderTraversal((e,r)=>(A(e),!1))}add(A){const e=this.delete(A.key);return e.copy(e.keyedMap.insert(A.key,A),e.sortedSet.insert(A,null))}delete(A){const e=this.get(A);return e?this.copy(this.keyedMap.remove(A),this.sortedSet.remove(e)):this}isEqual(A){if(!(A instanceof Ln)||this.size!==A.size)return!1;const e=this.sortedSet.getIterator(),r=A.sortedSet.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(!n.isEqual(s))return!1}return!0}toString(){const A=[];return this.forEach(e=>{A.push(e.toString())}),A.length===0?"DocumentSet ()":`DocumentSet (
  `+A.join(`  
`)+`
)`}copy(A,e){const r=new Ln;return r.comparator=this.comparator,r.keyedMap=A,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.Z_=new $A(fA.comparator)}track(A){const e=A.doc.key,r=this.Z_.get(e);r?A.type!==0&&r.type===3?this.Z_=this.Z_.insert(e,A):A.type===3&&r.type!==1?this.Z_=this.Z_.insert(e,{type:r.type,doc:A.doc}):A.type===2&&r.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):A.type===2&&r.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:A.doc}):A.type===1&&r.type===0?this.Z_=this.Z_.remove(e):A.type===1&&r.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:r.doc}):A.type===0&&r.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):mA():this.Z_=this.Z_.insert(e,A)}X_(){const A=[];return this.Z_.inorderTraversal((e,r)=>{A.push(r)}),A}}class jn{constructor(A,e,r,n,s,i,o,a,c){this.query=A,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(A,e,r,n,s){const i=[];return e.forEach(o=>{i.push({type:0,doc:o})}),new jn(A,e,Ln.emptySet(e),i,r,n,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(A){if(!(this.fromCache===A.fromCache&&this.hasCachedResults===A.hasCachedResults&&this.syncStateChanged===A.syncStateChanged&&this.mutatedKeys.isEqual(A.mutatedKeys)&&ga(this.query,A.query)&&this.docs.isEqual(A.docs)&&this.oldDocs.isEqual(A.oldDocs)))return!1;const e=this.docChanges,r=A.docChanges;if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==r[n].type||!e[n].doc.isEqual(r[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(A=>A.ra())}}class IU{constructor(){this.queries=rd(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,r){const n=_A(e),s=n.queries;n.queries=rd(),s.forEach((i,o)=>{for(const a of o.ta)a.onError(r)})})(this,new aA(j.ABORTED,"Firestore shutting down"))}}function rd(){return new sn(t=>hm(t),ga)}async function hu(t,A){const e=_A(t);let r=3;const n=A.query;let s=e.queries.get(n);s?!s.na()&&A.ra()&&(r=2):(s=new QU,r=A.ra()?0:1);try{switch(r){case 0:s.ea=await e.onListen(n,!0);break;case 1:s.ea=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(i){const o=uu(i,`Initialization of query '${In(A.query)}' failed`);return void A.onError(o)}e.queries.set(n,s),s.ta.push(A),A.sa(e.onlineState),s.ea&&A.oa(s.ea)&&du(e)}async function fu(t,A){const e=_A(t),r=A.query;let n=3;const s=e.queries.get(r);if(s){const i=s.ta.indexOf(A);i>=0&&(s.ta.splice(i,1),s.ta.length===0?n=A.ra()?0:1:!s.na()&&A.ra()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function UU(t,A){const e=_A(t);let r=!1;for(const n of A){const s=n.query,i=e.queries.get(s);if(i){for(const o of i.ta)o.oa(n)&&(r=!0);i.ea=n}}r&&du(e)}function FU(t,A,e){const r=_A(t),n=r.queries.get(A);if(n)for(const s of n.ta)s.onError(e);r.queries.delete(A)}function du(t){t.ia.forEach(A=>{A.next()})}var oc,nd;(nd=oc||(oc={}))._a="default",nd.Cache="cache";class gu{constructor(A,e,r){this.query=A,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(A){if(!this.options.includeMetadataChanges){const r=[];for(const n of A.docChanges)n.type!==3&&r.push(n);A=new jn(A.query,A.docs,A.oldDocs,r,A.mutatedKeys,A.fromCache,A.syncStateChanged,!0,A.hasCachedResults)}let e=!1;return this.ua?this.la(A)&&(this.aa.next(A),e=!0):this.ha(A,this.onlineState)&&(this.Pa(A),e=!0),this.ca=A,e}onError(A){this.aa.error(A)}sa(A){this.onlineState=A;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,A)&&(this.Pa(this.ca),e=!0),e}ha(A,e){if(!A.fromCache||!this.ra())return!0;const r=e!=="Offline";return(!this.options.Ta||!r)&&(!A.docs.isEmpty()||A.hasCachedResults||e==="Offline")}la(A){if(A.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==A.hasPendingWrites;return!(!A.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(A){A=jn.fromInitialDocuments(A.query,A.docs,A.mutatedKeys,A.fromCache,A.hasCachedResults),this.ua=!0,this.aa.next(A)}ra(){return this.options.source!==oc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(A){this.key=A}}class Jm{constructor(A){this.key=A}}class bU{constructor(A,e){this.query=A,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=HA(),this.mutatedKeys=HA(),this.ya=fm(A),this.wa=new Ln(this.ya)}get Sa(){return this.fa}ba(A,e){const r=e?e.Da:new td,n=e?e.wa:this.wa;let s=e?e.mutatedKeys:this.mutatedKeys,i=n,o=!1;const a=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,c=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(A.inorderTraversal((u,f)=>{const d=n.get(u),p=pa(this.query,f)?f:null,w=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let I=!1;d&&p?d.data.isEqual(p.data)?w!==y&&(r.track({type:3,doc:p}),I=!0):this.va(d,p)||(r.track({type:2,doc:p}),I=!0,(a&&this.ya(p,a)>0||c&&this.ya(p,c)<0)&&(o=!0)):!d&&p?(r.track({type:0,doc:p}),I=!0):d&&!p&&(r.track({type:1,doc:d}),I=!0,(a||c)&&(o=!0)),I&&(p?(i=i.add(p),s=y?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:i,Da:r,ls:o,mutatedKeys:s}}va(A,e){return A.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(A,e,r,n){const s=this.wa;this.wa=A.wa,this.mutatedKeys=A.mutatedKeys;const i=A.Da.X_();i.sort((u,f)=>function(p,w){const y=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mA()}};return y(p)-y(w)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),n=n!=null&&n;const o=e&&!n?this.Fa():[],a=this.pa.size===0&&this.current&&!n?1:0,c=a!==this.ga;return this.ga=a,i.length!==0||c?{snapshot:new jn(this.query,A.wa,s,i,A.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(A){return this.current&&A==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new td,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(A){return!this.fa.has(A)&&!!this.wa.has(A)&&!this.wa.get(A).hasLocalMutations}Ca(A){A&&(A.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),A.modifiedDocuments.forEach(e=>{}),A.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=A.current)}Fa(){if(!this.current)return[];const A=this.pa;this.pa=HA(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const e=[];return A.forEach(r=>{this.pa.has(r)||e.push(new Jm(r))}),this.pa.forEach(r=>{A.has(r)||e.push(new jm(r))}),e}Oa(A){this.fa=A.gs,this.pa=HA();const e=this.ba(A.documents);return this.applyChanges(e,!0)}Na(){return jn.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pu="SyncEngine";class TU{constructor(A,e,r){this.query=A,this.targetId=e,this.view=r}}class SU{constructor(A){this.key=A,this.Ba=!1}}class RU{constructor(A,e,r,n,s,i){this.localStore=A,this.remoteStore=e,this.eventManager=r,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.La={},this.ka=new sn(o=>hm(o),ga),this.qa=new Map,this.Qa=new Set,this.$a=new $A(fA.comparator),this.Ua=new Map,this.Ka=new tu,this.Wa={},this.Ga=new Map,this.za=Wn.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function HU(t,A,e=!0){const r=Zm(t);let n;const s=r.ka.get(A);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Na()):n=await Xm(r,A,e,!0),n}async function kU(t,A){const e=Zm(t);await Xm(e,A,!0,!1)}async function Xm(t,A,e,r){const n=await AU(t.localStore,Ft(A)),s=n.targetId,i=t.sharedClientState.addLocalQueryTarget(s,e);let o;return r&&(o=await DU(t,A,s,i==="current",n.resumeToken)),t.isPrimaryClient&&e&&xm(t.remoteStore,n),o}async function DU(t,A,e,r,n){t.Ha=(f,d,p)=>async function(y,I,S,T){let L=I.view.ba(S);L.ls&&(L=await zf(y.localStore,I.query,!1).then(({documents:Q})=>I.view.ba(Q,L)));const R=T&&T.targetChanges.get(I.targetId),M=T&&T.targetMismatches.get(I.targetId)!=null,D=I.view.applyChanges(L,y.isPrimaryClient,R,M);return id(y,I.targetId,D.Ma),D.snapshot}(t,f,d,p);const s=await zf(t.localStore,A,!0),i=new bU(A,s.gs),o=i.ba(s.documents),a=ai.createSynthesizedTargetChangeForCurrentChange(e,r&&t.onlineState!=="Offline",n),c=i.applyChanges(o,t.isPrimaryClient,a);id(t,e,c.Ma);const u=new TU(A,e,i);return t.ka.set(A,u),t.qa.has(e)?t.qa.get(e).push(A):t.qa.set(e,[A]),c.snapshot}async function LU(t,A,e){const r=_A(t),n=r.ka.get(A),s=r.qa.get(n.targetId);if(s.length>1)return r.qa.set(n.targetId,s.filter(i=>!ga(i,A))),void r.ka.delete(A);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await sc(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),e&&iu(r.remoteStore,n.targetId),ac(r,n.targetId)}).catch(Zn)):(ac(r,n.targetId),await sc(r.localStore,n.targetId,!0))}async function PU(t,A){const e=_A(t),r=e.ka.get(A),n=e.qa.get(r.targetId);e.isPrimaryClient&&n.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),iu(e.remoteStore,r.targetId))}async function OU(t,A,e){const r=WU(t);try{const n=await function(i,o){const a=_A(i),c=ue.now(),u=o.reduce((p,w)=>p.add(w.key),HA());let f,d;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=Yt(),y=HA();return a.ds.getEntries(p,u).next(I=>{w=I,w.forEach((S,T)=>{T.isValidDocument()||(y=y.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,w)).next(I=>{f=I;const S=[];for(const T of o){const L=AI(T,f.get(T.key).overlayedDocument);L!=null&&S.push(new Lr(T.key,L,sm(L.value.mapValue),Bt.exists(!0)))}return a.mutationQueue.addMutationBatch(p,c,S,o)}).next(I=>{d=I;const S=I.applyToLocalDocumentSet(f,y);return a.documentOverlayCache.saveOverlays(p,I.batchId,S)})}).then(()=>({batchId:d.batchId,changes:gm(f)}))}(r.localStore,A);r.sharedClientState.addPendingMutation(n.batchId),function(i,o,a){let c=i.Wa[i.currentUser.toKey()];c||(c=new $A(bA)),c=c.insert(o,a),i.Wa[i.currentUser.toKey()]=c}(r,n.batchId,e),await ci(r,n.changes),await _a(r.remoteStore)}catch(n){const s=uu(n,"Failed to persist write");e.reject(s)}}async function qm(t,A){const e=_A(t);try{const r=await YI(e.localStore,A);A.targetChanges.forEach((n,s)=>{const i=e.Ua.get(s);i&&(MA(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?i.Ba=!0:n.modifiedDocuments.size>0?MA(i.Ba):n.removedDocuments.size>0&&(MA(i.Ba),i.Ba=!1))}),await ci(e,r,A)}catch(r){await Zn(r)}}function sd(t,A,e){const r=_A(t);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const n=[];r.ka.forEach((s,i)=>{const o=i.view.sa(A);o.snapshot&&n.push(o.snapshot)}),function(i,o){const a=_A(i);a.onlineState=o;let c=!1;a.queries.forEach((u,f)=>{for(const d of f.ta)d.sa(o)&&(c=!0)}),c&&du(a)}(r.eventManager,A),n.length&&r.La.p_(n),r.onlineState=A,r.isPrimaryClient&&r.sharedClientState.setOnlineState(A)}}async function MU(t,A,e){const r=_A(t);r.sharedClientState.updateQueryState(A,"rejected",e);const n=r.Ua.get(A),s=n&&n.key;if(s){let i=new $A(fA.comparator);i=i.insert(s,be.newNoDocument(s,yA.min()));const o=HA().add(s),a=new wa(yA.min(),new Map,new $A(bA),i,o);await qm(r,a),r.$a=r.$a.remove(s),r.Ua.delete(A),Bu(r)}else await sc(r.localStore,A,!1).then(()=>ac(r,A,e)).catch(Zn)}async function xU(t,A){const e=_A(t),r=A.batch.batchId;try{const n=await zI(e.localStore,A);Ym(e,r,null),zm(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ci(e,n)}catch(n){await Zn(n)}}async function VU(t,A,e){const r=_A(t);try{const n=await function(i,o){const a=_A(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(f=>(MA(f!==null),u=f.keys(),a.mutationQueue.removeMutationBatch(c,f))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,A);Ym(r,A,e),zm(r,A),r.sharedClientState.updateMutationState(A,"rejected",e),await ci(r,n)}catch(n){await Zn(n)}}function zm(t,A){(t.Ga.get(A)||[]).forEach(e=>{e.resolve()}),t.Ga.delete(A)}function Ym(t,A,e){const r=_A(t);let n=r.Wa[r.currentUser.toKey()];if(n){const s=n.get(A);s&&(e?s.reject(e):s.resolve(),n=n.remove(A)),r.Wa[r.currentUser.toKey()]=n}}function ac(t,A,e=null){t.sharedClientState.removeLocalQueryTarget(A);for(const r of t.qa.get(A))t.ka.delete(r),e&&t.La.Ja(r,e);t.qa.delete(A),t.isPrimaryClient&&t.Ka.br(A).forEach(r=>{t.Ka.containsKey(r)||$m(t,r)})}function $m(t,A){t.Qa.delete(A.path.canonicalString());const e=t.$a.get(A);e!==null&&(iu(t.remoteStore,e),t.$a=t.$a.remove(A),t.Ua.delete(e),Bu(t))}function id(t,A,e){for(const r of e)r instanceof jm?(t.Ka.addReference(r.key,A),NU(t,r)):r instanceof Jm?(eA(pu,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,A),t.Ka.containsKey(r.key)||$m(t,r.key)):mA()}function NU(t,A){const e=A.key,r=e.path.canonicalString();t.$a.get(e)||t.Qa.has(r)||(eA(pu,"New document in limbo: "+e),t.Qa.add(r),Bu(t))}function Bu(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const A=t.Qa.values().next().value;t.Qa.delete(A);const e=new fA(qA.fromString(A)),r=t.za.next();t.Ua.set(r,new SU(e)),t.$a=t.$a.insert(e,r),xm(t.remoteStore,new fr(Ft(da(e.path)),r,"TargetPurposeLimboResolution",ca.ae))}}async function ci(t,A,e){const r=_A(t),n=[],s=[],i=[];r.ka.isEmpty()||(r.ka.forEach((o,a)=>{i.push(r.Ha(a,A,e).then(c=>{var u;if((c||e)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=e==null?void 0:e.targetChanges.get(a.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(a.targetId,f?"current":"not-current")}if(c){n.push(c);const f=nu.Yi(a.targetId,c);s.push(f)}}))}),await Promise.all(i),r.La.p_(n),await async function(a,c){const u=_A(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>N.forEach(c,d=>N.forEach(d.Hi,p=>u.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>N.forEach(d.Ji,p=>u.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!As(f))throw f;eA(su,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const p=u.Ts.get(d),w=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(w);u.Ts=u.Ts.insert(d,y)}}}(r.localStore,s))}async function KU(t,A){const e=_A(t);if(!e.currentUser.isEqual(A)){eA(pu,"User change. New user:",A.toKey());const r=await Lm(e.localStore,A);e.currentUser=A,function(s,i){s.Ga.forEach(o=>{o.forEach(a=>{a.reject(new aA(j.CANCELLED,i))})}),s.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(A,r.removedBatchIds,r.addedBatchIds),await ci(e,r.Rs)}}function GU(t,A){const e=_A(t),r=e.Ua.get(A);if(r&&r.Ba)return HA().add(r.key);{let n=HA();const s=e.qa.get(A);if(!s)return n;for(const i of s){const o=e.ka.get(i);n=n.unionWith(o.view.Sa)}return n}}function Zm(t){const A=_A(t);return A.remoteStore.remoteSyncer.applyRemoteEvent=qm.bind(null,A),A.remoteStore.remoteSyncer.getRemoteKeysForTarget=GU.bind(null,A),A.remoteStore.remoteSyncer.rejectListen=MU.bind(null,A),A.La.p_=UU.bind(null,A.eventManager),A.La.Ja=FU.bind(null,A.eventManager),A}function WU(t){const A=_A(t);return A.remoteStore.remoteSyncer.applySuccessfulWrite=xU.bind(null,A),A.remoteStore.remoteSyncer.rejectFailedWrite=VU.bind(null,A),A}class Go{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(A){this.serializer=Ca(A.databaseInfo.databaseId),this.sharedClientState=this.Za(A),this.persistence=this.Xa(A),await this.persistence.start(),this.localStore=this.eu(A),this.gcScheduler=this.tu(A,this.localStore),this.indexBackfillerScheduler=this.nu(A,this.localStore)}tu(A,e){return null}nu(A,e){return null}eu(A){return qI(this.persistence,new jI,A.initialUser,this.serializer)}Xa(A){return new Dm(ru.ri,this.serializer)}Za(A){return new tU}async terminate(){var A,e;(A=this.gcScheduler)===null||A===void 0||A.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Go.provider={build:()=>new Go};class jU extends Go{constructor(A){super(),this.cacheSizeBytes=A}tu(A,e){MA(this.persistence.referenceDelegate instanceof No);const r=this.persistence.referenceDelegate.garbageCollector;return new SI(r,A.asyncQueue,e)}Xa(A){const e=this.cacheSizeBytes!==void 0?Pe.withCacheSize(this.cacheSizeBytes):Pe.DEFAULT;return new Dm(r=>No.ri(r,e),this.serializer)}}class lc{async initialize(A,e){this.localStore||(this.localStore=A.localStore,this.sharedClientState=A.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!A.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KU.bind(null,this.syncEngine),await EU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(A){return function(){return new IU}()}createDatastore(A){const e=Ca(A.databaseInfo.databaseId),r=function(s){return new oU(s)}(A.databaseInfo);return function(s,i,o,a){return new uU(s,i,o,a)}(A.authCredentials,A.appCheckCredentials,r,e)}createRemoteStore(A){return function(r,n,s,i,o){return new fU(r,n,s,i,o)}(this.localStore,this.datastore,A.asyncQueue,e=>sd(this.syncEngine,e,0),function(){return Zf.D()?new Zf:new rU}())}createSyncEngine(A,e){return function(n,s,i,o,a,c,u){const f=new RU(n,s,i,o,a,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,A.initialUser,A.maxConcurrentLimboResolutions,e)}async terminate(){var A,e;await async function(n){const s=_A(n);eA(tn,"RemoteStore shutting down."),s.W_.add(5),await li(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(A=this.datastore)===null||A===void 0||A.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}lc.provider={build:()=>new lc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(A){this.observer=A,this.muted=!1}next(A){this.muted||this.observer.next&&this.iu(this.observer.next,A)}error(A){this.muted||(this.observer.error?this.iu(this.observer.error,A):zt("Uncaught Error in snapshot listener:",A.toString()))}su(){this.muted=!0}iu(A,e){setTimeout(()=>{this.muted||A(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class JU{constructor(A,e,r,n,s){this.authCredentials=A,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=n,this.user=Ue.UNAUTHENTICATED,this.clientId=XB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async i=>{eA(Sr,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(eA(Sr,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(A){this.authCredentialListener=A}setAppCheckTokenChangeListener(A){this.appCheckCredentialListener=A}terminate(){this.asyncQueue.enterRestrictedMode();const A=new jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),A.resolve()}catch(e){const r=uu(e,"Failed to shutdown persistence");A.reject(r)}}),A.promise}}async function pl(t,A){t.asyncQueue.verifyOperationInProgress(),eA(Sr,"Initializing OfflineComponentProvider");const e=t.configuration;await A.initialize(e);let r=e.initialUser;t.setCredentialChangeListener(async n=>{r.isEqual(n)||(await Lm(A.localStore,n),r=n)}),A.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=A}async function od(t,A){t.asyncQueue.verifyOperationInProgress();const e=await XU(t);eA(Sr,"Initializing OnlineComponentProvider"),await A.initialize(e,t.configuration),t.setCredentialChangeListener(r=>ed(A.remoteStore,r)),t.setAppCheckTokenChangeListener((r,n)=>ed(A.remoteStore,n)),t._onlineComponents=A}async function XU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){eA(Sr,"Using user provided OfflineComponentProvider");try{await pl(t,t._uninitializedComponentsProvider._offline)}catch(A){const e=A;if(!function(n){return n.name==="FirebaseError"?n.code===j.FAILED_PRECONDITION||n.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(e))throw e;xn("Error using user provided cache. Falling back to memory cache: "+e),await pl(t,new Go)}}else eA(Sr,"Using default OfflineComponentProvider"),await pl(t,new jU(void 0));return t._offlineComponents}async function Aw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(eA(Sr,"Using user provided OnlineComponentProvider"),await od(t,t._uninitializedComponentsProvider._online)):(eA(Sr,"Using default OnlineComponentProvider"),await od(t,new lc))),t._onlineComponents}function qU(t){return Aw(t).then(A=>A.syncEngine)}async function Wo(t){const A=await Aw(t),e=A.eventManager;return e.onListen=HU.bind(null,A.syncEngine),e.onUnlisten=LU.bind(null,A.syncEngine),e.onFirstRemoteStoreListen=kU.bind(null,A.syncEngine),e.onLastRemoteStoreUnlisten=PU.bind(null,A.syncEngine),e}function zU(t,A,e={}){const r=new jt;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,c){const u=new mu({next:d=>{u.su(),i.enqueueAndForget(()=>fu(s,f));const p=d.docs.has(o);!p&&d.fromCache?c.reject(new aA(j.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&a&&a.source==="server"?c.reject(new aA(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new gu(da(o.path),u,{includeMetadataChanges:!0,Ta:!0});return hu(s,f)}(await Wo(t),t.asyncQueue,A,e,r)),r.promise}function YU(t,A,e={}){const r=new jt;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,c){const u=new mu({next:d=>{u.su(),i.enqueueAndForget(()=>fu(s,f)),d.fromCache&&a.source==="server"?c.reject(new aA(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new gu(o,u,{includeMetadataChanges:!0,Ta:!0});return hu(s,f)}(await Wo(t),t.asyncQueue,A,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){const A={};return t.timeoutSeconds!==void 0&&(A.timeoutSeconds=t.timeoutSeconds),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,A,e){if(!e)throw new aA(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${A}.`)}function $U(t,A,e,r){if(A===!0&&r===!0)throw new aA(j.INVALID_ARGUMENT,`${t} and ${e} cannot be used together.`)}function ld(t){if(!fA.isDocumentKey(t))throw new aA(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cd(t){if(fA.isDocumentKey(t))throw new aA(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const A=function(r){return r.constructor?r.constructor.name:null}(t);return A?`a custom ${A} object`:"an object"}}return typeof t=="function"?"a function":mA()}function ze(t,A){if("_delegate"in t&&(t=t._delegate),!(t instanceof A)){if(A.name===t.constructor.name)throw new aA(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wu(t);throw new aA(j.INVALID_ARGUMENT,`Expected type '${A.name}', but it was: ${e}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firestore.googleapis.com",ud=!0;class hd{constructor(A){var e,r;if(A.host===void 0){if(A.ssl!==void 0)throw new aA(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rw,this.ssl=ud}else this.host=A.host,this.ssl=(e=A.ssl)!==null&&e!==void 0?e:ud;if(this.credentials=A.credentials,this.ignoreUndefinedProperties=!!A.ignoreUndefinedProperties,this.localCache=A.localCache,A.cacheSizeBytes===void 0)this.cacheSizeBytes=km;else{if(A.cacheSizeBytes!==-1&&A.cacheSizeBytes<bI)throw new aA(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=A.cacheSizeBytes}$U("experimentalForceLongPolling",A.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",A.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!A.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:A.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!A.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ew((r=A.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new aA(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new aA(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new aA(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!A.useFetchStreams}isEqual(A){return this.host===A.host&&this.ssl===A.ssl&&this.credentials===A.credentials&&this.cacheSizeBytes===A.cacheSizeBytes&&this.experimentalForceLongPolling===A.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===A.experimentalAutoDetectLongPolling&&function(r,n){return r.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,A.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===A.ignoreUndefinedProperties&&this.useFetchStreams===A.useFetchStreams}}class va{constructor(A,e,r,n){this._authCredentials=A,this._appCheckCredentials=e,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new aA(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(A){if(this._settingsFrozen)throw new aA(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hd(A),this._emulatorOptions=A.emulatorOptions||{},A.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sQ;switch(r.type){case"firstParty":return new lQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new aA(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(A.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=ad.get(e);r&&(eA("ComponentProvider","Removing Datastore"),ad.delete(e),r.terminate())}(this),Promise.resolve()}}function ZU(t,A,e,r={}){var n;const s=(t=ze(t,va))._getSettings(),i=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),o=`${A}:${e}`;s.host!==rw&&s.host!==o&&xn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const a=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!Er(a,i)&&(t._setSettings(a),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ue.MOCK_USER;else{c=pC(r.mockUserToken,(n=t._app)===null||n===void 0?void 0:n.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new aA(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ue(f)}t._authCredentials=new iQ(new jB(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(A,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=A}withConverter(A){return new ui(this.firestore,A,this._query)}}class ke{constructor(A,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=A}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(A){return new ke(this.firestore,A,this._key)}}class yr extends ui{constructor(A,e,r){super(A,e,da(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const A=this._path.popLast();return A.isEmpty()?null:new ke(this.firestore,null,new fA(A))}withConverter(A){return new yr(this.firestore,A,this._path)}}function hi(t,A,...e){if(t=Se(t),tw("collection","path",A),t instanceof va){const r=qA.fromString(A,...e);return cd(r),new yr(t,null,r)}{if(!(t instanceof ke||t instanceof yr))throw new aA(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qA.fromString(A,...e));return cd(r),new yr(t.firestore,null,r)}}function ct(t,A,...e){if(t=Se(t),arguments.length===1&&(A=XB.newId()),tw("doc","path",A),t instanceof va){const r=qA.fromString(A,...e);return ld(r),new ke(t,null,new fA(r))}{if(!(t instanceof ke||t instanceof yr))throw new aA(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qA.fromString(A,...e));return ld(r),new ke(t.firestore,t instanceof yr?t.converter:null,new fA(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="AsyncQueue";class dd{constructor(A=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Om(this,"async_queue_retry"),this.Su=()=>{const r=gl();r&&eA(fd,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=A;const e=gl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(A){this.enqueue(A)}enqueueAndForgetEvenWhileRestricted(A){this.Du(),this.vu(A)}enterRestrictedMode(A){if(!this.mu){this.mu=!0,this.yu=A||!1;const e=gl();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(A){if(this.Du(),this.mu)return new Promise(()=>{});const e=new jt;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(A().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(A){this.enqueueAndForget(()=>(this.Vu.push(A),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(A){if(!As(A))throw A;eA(fd,"Operation failed with retryable error: "+A)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(A){const e=this.bu.then(()=>(this.pu=!0,A().catch(r=>{this.gu=r,this.pu=!1;const n=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw zt("INTERNAL UNHANDLED ERROR: ",n),r}).then(r=>(this.pu=!1,r))));return this.bu=e,e}enqueueAfterDelay(A,e,r){this.Du(),this.wu.indexOf(A)>-1&&(e=0);const n=cu.createAndSchedule(this,A,e,r,s=>this.Fu(s));return this.fu.push(n),n}Du(){this.gu&&mA()}verifyOperationInProgress(){}async Mu(){let A;do A=this.bu,await A;while(A!==this.bu)}xu(A){for(const e of this.fu)if(e.timerId===A)return!0;return!1}Ou(A){return this.Mu().then(()=>{this.fu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),A!=="all"&&e.timerId===A)break;return this.Mu()})}Nu(A){this.wu.push(A)}Fu(A){const e=this.fu.indexOf(A);this.fu.splice(e,1)}}function gd(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const n=e;for(const s of r)if(s in n&&typeof n[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Rr extends va{constructor(A,e,r,n){super(A,e,r,n),this.type="firestore",this._queue=new dd,this._persistenceKey=(n==null?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const A=this._firestoreClient.terminate();this._queue=new dd(A),this._firestoreClient=void 0,await A}}}function nw(t,A){const e=typeof t=="object"?t:Lp(),r=typeof t=="string"?t:Do,n=ri(e,"firestore").getImmediate({identifier:r});if(!n._initialized){const s=dC("firestore");s&&ZU(n,...s)}return n}function Ea(t){if(t._terminated)throw new aA(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AF(t),t._firestoreClient}function AF(t){var A,e,r;const n=t._freezeSettings(),s=function(o,a,c,u){return new EQ(o,a,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ew(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((A=t._app)===null||A===void 0?void 0:A.options.appId)||"",t._persistenceKey,n);t._componentsProvider||!((e=n.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=n.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),t._firestoreClient=new JU(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const a=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(A){this._byteString=A}static fromBase64String(A){try{return new Jn(_e.fromBase64String(A))}catch(e){throw new aA(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(A){return new Jn(_e.fromUint8Array(A))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(A){return this._byteString.isEqual(A._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(...A){for(let e=0;e<A.length;++e)if(A[e].length===0)throw new aA(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ce(A)}isEqual(A){return this._internalPath.isEqual(A._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(A){this._methodName=A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(A,e){if(!isFinite(A)||A<-90||A>90)throw new aA(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+A);if(!isFinite(e)||e<-180||e>180)throw new aA(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=A,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(A){return this._lat===A._lat&&this._long===A._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(A){return bA(this._lat,A._lat)||bA(this._long,A._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(A){this._values=(A||[]).map(e=>e)}toArray(){return this._values.map(A=>A)}isEqual(A){return function(r,n){if(r.length!==n.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==n[s])return!1;return!0}(this._values,A._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=/^__.*__$/;class tF{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return this.fieldMask!==null?new Lr(A,this.data,this.fieldMask,e,this.fieldTransforms):new oi(A,this.data,e,this.fieldTransforms)}}class sw{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return new Lr(A,this.data,this.fieldMask,e,this.fieldTransforms)}}function iw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mA()}}class Ua{constructor(A,e,r,n,s,i){this.settings=A,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=n,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(A){return new Ua(Object.assign(Object.assign({},this.settings),A),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.$u(A),n}Uu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.Bu(),n}Ku(A){return this.ku({path:void 0,Qu:!0})}Wu(A){return jo(A,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(A){return this.fieldMask.find(e=>A.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>A.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let A=0;A<this.path.length;A++)this.$u(this.path.get(A))}$u(A){if(A.length===0)throw this.Wu("Document fields must not be empty");if(iw(this.Lu)&&eF.test(A))throw this.Wu('Document fields cannot begin and end with "__"')}}class rF{constructor(A,e,r){this.databaseId=A,this.ignoreUndefinedProperties=e,this.serializer=r||Ca(A)}ju(A,e,r,n=!1){return new Ua({Lu:A,methodName:e,zu:r,path:Ce.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ow(t){const A=t._freezeSettings(),e=Ca(t._databaseId);return new rF(t._databaseId,!!A.ignoreUndefinedProperties,e)}function nF(t,A,e,r,n,s={}){const i=t.ju(s.merge||s.mergeFields?2:0,A,e,n);vu("Data must be an object, but it was:",i,r);const o=aw(r,i);let a,c;if(s.merge)a=new qe(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=cc(A,f,e);if(!i.contains(d))throw new aA(j.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);cw(u,d)||u.push(d)}a=new qe(u),c=i.fieldTransforms.filter(f=>a.covers(f.field))}else a=null,c=i.fieldTransforms;return new tF(new Me(o),a,c)}class Fa extends Ia{_toFieldTransform(A){if(A.Lu!==2)throw A.Lu===1?A.Wu(`${this._methodName}() can only appear at the top level of your update data`):A.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return A.fieldMask.push(A.path),null}isEqual(A){return A instanceof Fa}}function sF(t,A,e){return new Ua({Lu:3,zu:A.settings.zu,methodName:t._methodName,Qu:e},A.databaseId,A.serializer,A.ignoreUndefinedProperties)}class _u extends Ia{constructor(A,e){super(A),this.Hu=e}_toFieldTransform(A){const e=sF(this,A,!0),r=this.Hu.map(s=>fi(s,e)),n=new Gn(r);return new zQ(A.path,n)}isEqual(A){return A instanceof _u&&Er(this.Hu,A.Hu)}}function iF(t,A,e,r){const n=t.ju(1,A,e);vu("Data must be an object, but it was:",n,r);const s=[],i=Me.empty();Dr(r,(a,c)=>{const u=Eu(A,a,e);c=Se(c);const f=n.Uu(u);if(c instanceof Fa)s.push(u);else{const d=fi(c,f);d!=null&&(s.push(u),i.set(u,d))}});const o=new qe(s);return new sw(i,o,n.fieldTransforms)}function oF(t,A,e,r,n,s){const i=t.ju(1,A,e),o=[cc(A,r,e)],a=[n];if(s.length%2!=0)throw new aA(j.INVALID_ARGUMENT,`Function ${A}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(cc(A,s[d])),a.push(s[d+1]);const c=[],u=Me.empty();for(let d=o.length-1;d>=0;--d)if(!cw(c,o[d])){const p=o[d];let w=a[d];w=Se(w);const y=i.Uu(p);if(w instanceof Fa)c.push(p);else{const I=fi(w,y);I!=null&&(c.push(p),u.set(p,I))}}const f=new qe(c);return new sw(u,f,i.fieldTransforms)}function fi(t,A){if(lw(t=Se(t)))return vu("Unsupported field value:",A,t),aw(t,A);if(t instanceof Ia)return function(r,n){if(!iw(n.Lu))throw n.Wu(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(n);s&&n.fieldTransforms.push(s)}(t,A),null;if(t===void 0&&A.ignoreUndefinedProperties)return null;if(A.path&&A.fieldMask.push(A.path),t instanceof Array){if(A.settings.Qu&&A.Lu!==4)throw A.Wu("Nested arrays are not supported");return function(r,n){const s=[];let i=0;for(const o of r){let a=fi(o,n.Ku(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,A)}return function(r,n){if((r=Se(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JQ(n.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ue.fromDate(r);return{timestampValue:Vo(n.serializer,s)}}if(r instanceof ue){const s=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vo(n.serializer,s)}}if(r instanceof Cu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:Um(n.serializer,r._byteString)};if(r instanceof ke){const s=n.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw n.Wu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eu(r.firestore._databaseId||n.databaseId,r._key.path)}}if(r instanceof yu)return function(i,o){return{mapValue:{fields:{[tm]:{stringValue:nm},[Lo]:{arrayValue:{values:i.toArray().map(c=>{if(typeof c!="number")throw o.Wu("VectorValues must only contain numeric values.");return Yc(o.serializer,c)})}}}}}}(r,n);throw n.Wu(`Unsupported field value: ${wu(r)}`)}(t,A)}function aw(t,A){const e={};return zB(t)?A.path&&A.path.length>0&&A.fieldMask.push(A.path):Dr(t,(r,n)=>{const s=fi(n,A.qu(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function lw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ue||t instanceof Cu||t instanceof Jn||t instanceof ke||t instanceof Ia||t instanceof yu)}function vu(t,A,e){if(!lw(e)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(e)){const r=wu(e);throw r==="an object"?A.Wu(t+" a custom object"):A.Wu(t+" "+r)}}function cc(t,A,e){if((A=Se(A))instanceof Qa)return A._internalPath;if(typeof A=="string")return Eu(t,A);throw jo("Field path arguments must be of type string or ",t,!1,void 0,e)}const aF=new RegExp("[~\\*/\\[\\]]");function Eu(t,A,e){if(A.search(aF)>=0)throw jo(`Invalid field path (${A}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,e);try{return new Qa(...A.split("."))._internalPath}catch{throw jo(`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,e)}}function jo(t,A,e,r,n){const s=r&&!r.isEmpty(),i=n!==void 0;let o=`Function ${A}() called with invalid data`;e&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(s||i)&&(a+=" (found",s&&(a+=` in field ${r}`),i&&(a+=` in document ${n}`),a+=")"),new aA(j.INVALID_ARGUMENT,o+t+a)}function cw(t,A){return t.some(e=>e.isEqual(A))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(A,e,r,n,s){this._firestore=A,this._userDataWriter=e,this._key=r,this._document=n,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const A=new lF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(A)}return this._userDataWriter.convertValue(this._document.data.value)}}get(A){if(this._document){const e=this._document.data.field(hw("DocumentSnapshot.get",A));if(e!==null)return this._userDataWriter.convertValue(e)}}}class lF extends uw{data(){return super.data()}}function hw(t,A){return typeof A=="string"?Eu(t,A):A instanceof Qa?A._internalPath:A._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new aA(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cF{convertValue(A,e="none"){switch(br(A)){case 0:return null;case 1:return A.booleanValue;case 2:return ne(A.integerValue||A.doubleValue);case 3:return this.convertTimestamp(A.timestampValue);case 4:return this.convertServerTimestamp(A,e);case 5:return A.stringValue;case 6:return this.convertBytes(Fr(A.bytesValue));case 7:return this.convertReference(A.referenceValue);case 8:return this.convertGeoPoint(A.geoPointValue);case 9:return this.convertArray(A.arrayValue,e);case 11:return this.convertObject(A.mapValue,e);case 10:return this.convertVectorValue(A.mapValue);default:throw mA()}}convertObject(A,e){return this.convertObjectMap(A.fields,e)}convertObjectMap(A,e="none"){const r={};return Dr(A,(n,s)=>{r[n]=this.convertValue(s,e)}),r}convertVectorValue(A){var e,r,n;const s=(n=(r=(e=A.fields)===null||e===void 0?void 0:e[Lo].arrayValue)===null||r===void 0?void 0:r.values)===null||n===void 0?void 0:n.map(i=>ne(i.doubleValue));return new yu(s)}convertGeoPoint(A){return new Cu(ne(A.latitude),ne(A.longitude))}convertArray(A,e){return(A.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(A,e){switch(e){case"previous":const r=ha(A);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(qs(A));default:return null}}convertTimestamp(A){const e=Ur(A);return new ue(e.seconds,e.nanos)}convertDocumentKey(A,e){const r=qA.fromString(A);MA(Hm(r));const n=new zs(r.get(1),r.get(3)),s=new fA(r.popFirst(5));return n.isEqual(e)||zt(`Document ${s} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t,A,e){let r;return r=t?t.toFirestore(A):A,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(A,e){this.hasPendingWrites=A,this.fromCache=e}isEqual(A){return this.hasPendingWrites===A.hasPendingWrites&&this.fromCache===A.fromCache}}class dw extends uw{constructor(A,e,r,n,s,i){super(A,e,r,n,i),this._firestore=A,this._firestoreImpl=A,this.metadata=s}exists(){return super.exists()}data(A={}){if(this._document){if(this._converter){const e=new yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,A)}return this._userDataWriter.convertValue(this._document.data.value,A.serverTimestamps)}}get(A,e={}){if(this._document){const r=this._document.data.field(hw("DocumentSnapshot.get",A));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class yo extends dw{data(A={}){return super.data(A)}}class gw{constructor(A,e,r,n){this._firestore=A,this._userDataWriter=e,this._snapshot=n,this.metadata=new Es(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const A=[];return this.forEach(e=>A.push(e)),A}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(A,e){this._snapshot.docs.forEach(r=>{A.call(e,new yo(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(A={}){const e=!!A.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new aA(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,s){if(n._snapshot.oldDocs.isEmpty()){let i=0;return n._snapshot.docChanges.map(o=>{const a=new yo(n._firestore,n._userDataWriter,o.doc.key,o.doc,new Es(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new yo(n._firestore,n._userDataWriter,o.doc.key,o.doc,new Es(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,u=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:hF(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function hF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){t=ze(t,ke);const A=ze(t.firestore,Rr);return zU(Ea(A),t._key).then(e=>pw(A,t,e))}class Iu extends cF{constructor(A){super(),this.firestore=A}convertBytes(A){return new Jn(A)}convertReference(A){const e=this.convertDocumentKey(A,this.firestore._databaseId);return new ke(this.firestore,null,e)}}function $t(t){t=ze(t,ui);const A=ze(t.firestore,Rr),e=Ea(A),r=new Iu(A);return fw(t._query),YU(e,t._query).then(n=>new gw(A,r,t,n))}function fF(t,A,e){t=ze(t,ke);const r=ze(t.firestore,Rr),n=uF(t.converter,A);return Uu(r,[nF(ow(r),"setDoc",t._key,n,t.converter!==null,e).toMutation(t._key,Bt.none())])}function ts(t,A,e,...r){t=ze(t,ke);const n=ze(t.firestore,Rr),s=ow(n);let i;return i=typeof(A=Se(A))=="string"||A instanceof Qa?oF(s,"updateDoc",t._key,A,e,r):iF(s,"updateDoc",t._key,A),Uu(n,[i.toMutation(t._key,Bt.exists(!0))])}function dF(t){return Uu(ze(t.firestore,Rr),[new $c(t._key,Bt.none())])}function gF(t,...A){var e,r,n;t=Se(t);let s={includeMetadataChanges:!1,source:"default"},i=0;typeof A[i]!="object"||gd(A[i])||(s=A[i],i++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gd(A[i])){const f=A[i];A[i]=(e=f.next)===null||e===void 0?void 0:e.bind(f),A[i+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),A[i+2]=(n=f.complete)===null||n===void 0?void 0:n.bind(f)}let a,c,u;if(t instanceof ke)c=ze(t.firestore,Rr),u=da(t._key.path),a={next:f=>{A[i]&&A[i](pw(c,t,f))},error:A[i+1],complete:A[i+2]};else{const f=ze(t,ui);c=ze(f.firestore,Rr),u=f._query;const d=new Iu(c);a={next:p=>{A[i]&&A[i](new gw(c,d,f,p))},error:A[i+1],complete:A[i+2]},fw(t._query)}return function(d,p,w,y){const I=new mu(y),S=new gu(p,I,w);return d.asyncQueue.enqueueAndForget(async()=>hu(await Wo(d),S)),()=>{I.su(),d.asyncQueue.enqueueAndForget(async()=>fu(await Wo(d),S))}}(Ea(c),u,o,a)}function Uu(t,A){return function(r,n){const s=new jt;return r.asyncQueue.enqueueAndForget(async()=>OU(await qU(r),n,s)),s.promise}(Ea(t),A)}function pw(t,A,e){const r=e.docs.get(A._key),n=new Iu(t);return new dw(t,n,A._key,r,new Es(e.hasPendingWrites,e.fromCache),A.converter)}function Bw(...t){return new _u("arrayUnion",t)}(function(A,e=!0){(function(n){$n=n})(zn),St(new mt("firestore",(r,{instanceIdentifier:n,options:s})=>{const i=r.getProvider("app").getImmediate(),o=new Rr(new oQ(r.getProvider("auth-internal")),new cQ(i,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new aA(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(c.options.projectId,u)}(i,n),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ot(Cf,yf,A),ot(Cf,yf,"esm2017")})();var Fu={};(function t(A,e,r,n){var s=!!(A.Worker&&A.Blob&&A.Promise&&A.OffscreenCanvas&&A.OffscreenCanvasRenderingContext2D&&A.HTMLCanvasElement&&A.HTMLCanvasElement.prototype.transferControlToOffscreen&&A.URL&&A.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!A.OffscreenCanvas)return!1;var P=new OffscreenCanvas(1,1),k=P.getContext("2d");k.fillRect(0,0,1,1);var Y=P.transferToImageBitmap();try{k.createPattern(Y,"no-repeat")}catch{return!1}return!0}();function a(){}function c(P){var k=e.exports.Promise,Y=k!==void 0?k:A.Promise;return typeof Y=="function"?new Y(P):(P(a,a),null)}var u=function(P,k){return{transform:function(Y){if(P)return Y;if(k.has(Y))return k.get(Y);var q=new OffscreenCanvas(Y.width,Y.height),uA=q.getContext("2d");return uA.drawImage(Y,0,0),k.set(Y,q),q},clear:function(){k.clear()}}}(o,new Map),f=function(){var P=Math.floor(16.666666666666668),k,Y,q={},uA=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(k=function(oA){var iA=Math.random();return q[iA]=requestAnimationFrame(function J(X){uA===X||uA+P-1<X?(uA=X,delete q[iA],oA()):q[iA]=requestAnimationFrame(J)}),iA},Y=function(oA){q[oA]&&cancelAnimationFrame(q[oA])}):(k=function(oA){return setTimeout(oA,P)},Y=function(oA){return clearTimeout(oA)}),{frame:k,cancel:Y}}(),d=function(){var P,k,Y={};function q(uA){function oA(iA,J){uA.postMessage({options:iA||{},callback:J})}uA.init=function(J){var X=J.transferControlToOffscreen();uA.postMessage({canvas:X},[X])},uA.fire=function(J,X,IA){if(k)return oA(J,null),k;var UA=Math.random().toString(36).slice(2);return k=c(function(hA){function pA(vA){vA.data.callback===UA&&(delete Y[UA],uA.removeEventListener("message",pA),k=null,u.clear(),IA(),hA())}uA.addEventListener("message",pA),oA(J,UA),Y[UA]=pA.bind(null,{data:{callback:UA}})}),k},uA.reset=function(){uA.postMessage({reset:!0});for(var J in Y)Y[J](),delete Y[J]}}return function(){if(P)return P;if(!r&&s){var uA=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{P=new Worker(URL.createObjectURL(new Blob([uA])))}catch(oA){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",oA),null}q(P)}return P}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(P,k){return k?k(P):P}function y(P){return P!=null}function I(P,k,Y){return w(P&&y(P[k])?P[k]:p[k],Y)}function S(P){return P<0?0:Math.floor(P)}function T(P,k){return Math.floor(Math.random()*(k-P))+P}function L(P){return parseInt(P,16)}function R(P){return P.map(M)}function M(P){var k=String(P).replace(/[^0-9a-f]/gi,"");return k.length<6&&(k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2]),{r:L(k.substring(0,2)),g:L(k.substring(2,4)),b:L(k.substring(4,6))}}function D(P){var k=I(P,"origin",Object);return k.x=I(k,"x",Number),k.y=I(k,"y",Number),k}function Q(P){P.width=document.documentElement.clientWidth,P.height=document.documentElement.clientHeight}function B(P){var k=P.getBoundingClientRect();P.width=k.width,P.height=k.height}function v(P){var k=document.createElement("canvas");return k.style.position="fixed",k.style.top="0px",k.style.left="0px",k.style.pointerEvents="none",k.style.zIndex=P,k}function F(P,k,Y,q,uA,oA,iA,J,X){P.save(),P.translate(k,Y),P.rotate(oA),P.scale(q,uA),P.arc(0,0,1,iA,J,X),P.restore()}function U(P){var k=P.angle*(Math.PI/180),Y=P.spread*(Math.PI/180);return{x:P.x,y:P.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:P.startVelocity*.5+Math.random()*P.startVelocity,angle2D:-k+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:P.color,shape:P.shape,tick:0,totalTicks:P.ticks,decay:P.decay,drift:P.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:P.gravity*3,ovalScalar:.6,scalar:P.scalar,flat:P.flat}}function b(P,k){k.x+=Math.cos(k.angle2D)*k.velocity+k.drift,k.y+=Math.sin(k.angle2D)*k.velocity+k.gravity,k.velocity*=k.decay,k.flat?(k.wobble=0,k.wobbleX=k.x+10*k.scalar,k.wobbleY=k.y+10*k.scalar,k.tiltSin=0,k.tiltCos=0,k.random=1):(k.wobble+=k.wobbleSpeed,k.wobbleX=k.x+10*k.scalar*Math.cos(k.wobble),k.wobbleY=k.y+10*k.scalar*Math.sin(k.wobble),k.tiltAngle+=.1,k.tiltSin=Math.sin(k.tiltAngle),k.tiltCos=Math.cos(k.tiltAngle),k.random=Math.random()+2);var Y=k.tick++/k.totalTicks,q=k.x+k.random*k.tiltCos,uA=k.y+k.random*k.tiltSin,oA=k.wobbleX+k.random*k.tiltCos,iA=k.wobbleY+k.random*k.tiltSin;if(P.fillStyle="rgba("+k.color.r+", "+k.color.g+", "+k.color.b+", "+(1-Y)+")",P.beginPath(),i&&k.shape.type==="path"&&typeof k.shape.path=="string"&&Array.isArray(k.shape.matrix))P.fill(V(k.shape.path,k.shape.matrix,k.x,k.y,Math.abs(oA-q)*.1,Math.abs(iA-uA)*.1,Math.PI/10*k.wobble));else if(k.shape.type==="bitmap"){var J=Math.PI/10*k.wobble,X=Math.abs(oA-q)*.1,IA=Math.abs(iA-uA)*.1,UA=k.shape.bitmap.width*k.scalar,hA=k.shape.bitmap.height*k.scalar,pA=new DOMMatrix([Math.cos(J)*X,Math.sin(J)*X,-Math.sin(J)*IA,Math.cos(J)*IA,k.x,k.y]);pA.multiplySelf(new DOMMatrix(k.shape.matrix));var vA=P.createPattern(u.transform(k.shape.bitmap),"no-repeat");vA.setTransform(pA),P.globalAlpha=1-Y,P.fillStyle=vA,P.fillRect(k.x-UA/2,k.y-hA/2,UA,hA),P.globalAlpha=1}else if(k.shape==="circle")P.ellipse?P.ellipse(k.x,k.y,Math.abs(oA-q)*k.ovalScalar,Math.abs(iA-uA)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI):F(P,k.x,k.y,Math.abs(oA-q)*k.ovalScalar,Math.abs(iA-uA)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI);else if(k.shape==="star")for(var dA=Math.PI/2*3,gA=4*k.scalar,FA=8*k.scalar,xA=k.x,DA=k.y,VA=5,ee=Math.PI/VA;VA--;)xA=k.x+Math.cos(dA)*FA,DA=k.y+Math.sin(dA)*FA,P.lineTo(xA,DA),dA+=ee,xA=k.x+Math.cos(dA)*gA,DA=k.y+Math.sin(dA)*gA,P.lineTo(xA,DA),dA+=ee;else P.moveTo(Math.floor(k.x),Math.floor(k.y)),P.lineTo(Math.floor(k.wobbleX),Math.floor(uA)),P.lineTo(Math.floor(oA),Math.floor(iA)),P.lineTo(Math.floor(q),Math.floor(k.wobbleY));return P.closePath(),P.fill(),k.tick<k.totalTicks}function m(P,k,Y,q,uA){var oA=k.slice(),iA=P.getContext("2d"),J,X,IA=c(function(UA){function hA(){J=X=null,iA.clearRect(0,0,q.width,q.height),u.clear(),uA(),UA()}function pA(){r&&!(q.width===n.width&&q.height===n.height)&&(q.width=P.width=n.width,q.height=P.height=n.height),!q.width&&!q.height&&(Y(P),q.width=P.width,q.height=P.height),iA.clearRect(0,0,q.width,q.height),oA=oA.filter(function(vA){return b(iA,vA)}),oA.length?J=f.frame(pA):hA()}J=f.frame(pA),X=hA});return{addFettis:function(UA){return oA=oA.concat(UA),IA},canvas:P,promise:IA,reset:function(){J&&f.cancel(J),X&&X()}}}function $(P,k){var Y=!P,q=!!I(k||{},"resize"),uA=!1,oA=I(k,"disableForReducedMotion",Boolean),iA=s&&!!I(k||{},"useWorker"),J=iA?d():null,X=Y?Q:B,IA=P&&J?!!P.__confetti_initialized:!1,UA=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,hA;function pA(dA,gA,FA){for(var xA=I(dA,"particleCount",S),DA=I(dA,"angle",Number),VA=I(dA,"spread",Number),ee=I(dA,"startVelocity",Number),Ze=I(dA,"decay",Number),yt=I(dA,"gravity",Number),_t=I(dA,"drift",Number),Le=I(dA,"colors",R),Pt=I(dA,"ticks",Number),NA=I(dA,"shapes"),BA=I(dA,"scalar"),KA=!!I(dA,"flat"),ut=D(dA),ht=xA,ft=[],Ge=P.width*ut.x,vt=P.height*ut.y;ht--;)ft.push(U({x:Ge,y:vt,angle:DA,spread:VA,startVelocity:ee,color:Le[ht%Le.length],shape:NA[T(0,NA.length)],ticks:Pt,decay:Ze,gravity:yt,drift:_t,scalar:BA,flat:KA}));return hA?hA.addFettis(ft):(hA=m(P,ft,X,gA,FA),hA.promise)}function vA(dA){var gA=oA||I(dA,"disableForReducedMotion",Boolean),FA=I(dA,"zIndex",Number);if(gA&&UA)return c(function(ee){ee()});Y&&hA?P=hA.canvas:Y&&!P&&(P=v(FA),document.body.appendChild(P)),q&&!IA&&X(P);var xA={width:P.width,height:P.height};J&&!IA&&J.init(P),IA=!0,J&&(P.__confetti_initialized=!0);function DA(){if(J){var ee={getBoundingClientRect:function(){if(!Y)return P.getBoundingClientRect()}};X(ee),J.postMessage({resize:{width:ee.width,height:ee.height}});return}xA.width=xA.height=null}function VA(){hA=null,q&&(uA=!1,A.removeEventListener("resize",DA)),Y&&P&&(document.body.contains(P)&&document.body.removeChild(P),P=null,IA=!1)}return q&&!uA&&(uA=!0,A.addEventListener("resize",DA,!1)),J?J.fire(dA,xA,VA):pA(dA,xA,VA)}return vA.reset=function(){J&&J.reset(),hA&&hA.reset()},vA}var AA;function QA(){return AA||(AA=$(null,{useWorker:!0,resize:!0})),AA}function V(P,k,Y,q,uA,oA,iA){var J=new Path2D(P),X=new Path2D;X.addPath(J,new DOMMatrix(k));var IA=new Path2D;return IA.addPath(X,new DOMMatrix([Math.cos(iA)*uA,Math.sin(iA)*uA,-Math.sin(iA)*oA,Math.cos(iA)*oA,Y,q])),IA}function wA(P){if(!i)throw new Error("path confetti are not supported in this browser");var k,Y;typeof P=="string"?k=P:(k=P.path,Y=P.matrix);var q=new Path2D(k),uA=document.createElement("canvas"),oA=uA.getContext("2d");if(!Y){for(var iA=1e3,J=iA,X=iA,IA=0,UA=0,hA,pA,vA=0;vA<iA;vA+=2)for(var dA=0;dA<iA;dA+=2)oA.isPointInPath(q,vA,dA,"nonzero")&&(J=Math.min(J,vA),X=Math.min(X,dA),IA=Math.max(IA,vA),UA=Math.max(UA,dA));hA=IA-J,pA=UA-X;var gA=10,FA=Math.min(gA/hA,gA/pA);Y=[FA,0,0,FA,-Math.round(hA/2+J)*FA,-Math.round(pA/2+X)*FA]}return{type:"path",path:k,matrix:Y}}function TA(P){var k,Y=1,q="#000000",uA='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof P=="string"?k=P:(k=P.text,Y="scalar"in P?P.scalar:Y,uA="fontFamily"in P?P.fontFamily:uA,q="color"in P?P.color:q);var oA=10*Y,iA=""+oA+"px "+uA,J=new OffscreenCanvas(oA,oA),X=J.getContext("2d");X.font=iA;var IA=X.measureText(k),UA=Math.ceil(IA.actualBoundingBoxRight+IA.actualBoundingBoxLeft),hA=Math.ceil(IA.actualBoundingBoxAscent+IA.actualBoundingBoxDescent),pA=2,vA=IA.actualBoundingBoxLeft+pA,dA=IA.actualBoundingBoxAscent+pA;UA+=pA+pA,hA+=pA+pA,J=new OffscreenCanvas(UA,hA),X=J.getContext("2d"),X.font=iA,X.fillStyle=q,X.fillText(k,vA,dA);var gA=1/Y;return{type:"bitmap",bitmap:J.transferToImageBitmap(),matrix:[gA,0,0,gA,-UA*gA/2,-hA*gA/2]}}e.exports=function(){return QA().apply(this,arguments)},e.exports.reset=function(){QA().reset()},e.exports.create=$,e.exports.shapeFromPath=wA,e.exports.shapeFromText=TA})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Fu,!1);const pF=Fu.exports;Fu.exports.create;function Ms(t){const A=document.createElement("div");A.className="toast toast-top toast-end",A.innerHTML=`
        <div class="alert bg-primary/80 text-black border-2 border-primary shadow-lg">
            <span>${t}</span>
        </div>
    `,document.body.appendChild(A),setTimeout(()=>{A.remove()},5e3),pF({particleCount:100,spread:70,origin:{y:.6}})}const BF={apiKey:"AIzaSyCTe1si_Cg2Pkl2X77JpscYfW6KajberCM",authDomain:"drawit-1f620.firebaseapp.com",projectId:"drawit-1f620",storageBucket:"drawit-1f620.firebasestorage.app",messagingSenderId:"513679195329",appId:"1:513679195329:web:d650c7307b461788dc6840",measurementId:"G-P8GR3KFS0H"},mw=Dp(BF),ba=nw(mw),Pr=hi(ba,"games"),kt=hi(ba,"users");hi(ba,"drawings");const ww=hi(ba,"words"),mF=rQ(mw);async function wF(t){try{const A=vr(xe),e=t.filter(s=>!A[s]);if(e.length===0)return;const r=await $t(kt),n={};r.docs.forEach(s=>{const i=s.data();e.includes(i.name)&&(n[i.name]={...i,id:s.id})}),xe.update(s=>({...s,...n}))}catch(A){console.error("Error loading users:",A)}}async function CF(t,A,e,r){const n=ct(Pr,t),i=(await Qu(n)).data();return i.drawings[A].comments.push({content:e,createdBy:r}),await ts(n,{drawings:i.drawings}),i.drawings[A]}async function yF(){try{return(await $t(ww)).docs.map(e=>e.data())}catch(t){console.error("Error loading words:",t)}return[]}async function _F(t,A){try{if(!/^[a-zA-Z0-9]+$/.test(t))throw new Error("Invalid word format - only English letters and numbers are allowed");const e=ct(ww);await Su(e,{word:t,createdBy:A,createdAt:new Date})}catch(e){throw console.error("Error creating custom word:",e),e}}async function bu(){try{const t=await Vv(mF);return Ws.set(t.user),t.user}catch(t){return console.error("Error initializing auth:",t),null}}async function vF(t){try{vr(Ws)||await bu();const r=(await $t(kt)).docs.find(o=>o.data().name===t);if(r){const a={...r.data(),id:r.id};return zA.set(a),xe.update(c=>({...c,[a.name]:a})),await Cw(a.name),a}const n=vr(Ws);if(!n)throw new Error("No authenticated user");const s=ct(kt,n.uid),i={name:t,coins:0,createdAt:new Date,id:n.uid,dailyRewards:[],upgrades:[]};return await Su(s,i),zA.set(i),xe.update(o=>({...o,[i.name]:i})),i}catch(A){throw console.error("Error creating/retrieving user:",A),A}}async function Tu(t){try{const e=(await $t(kt)).docs.find(r=>r.data().name===t);if(e){const n={...e.data(),id:e.id};return xe.update(s=>({...s,[n.name]:n})),n}return null}catch(A){return console.error("Error getting user:",A),null}}async function uc(t){try{if(!t){const i=(await $t(kt)).docs.map(o=>({...o.data(),id:o.id}));return xe.update(o=>{const a={...o};return i.forEach(c=>{a[c.name]=c}),a}),i}const A=vr(xe),e=Object.values(A).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));if(e.length>0)return e;const n=(await $t(kt)).docs.map(s=>({...s.data(),id:s.id})).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));return xe.update(s=>{const i={...s};return n.forEach(o=>{i[o.name]=o}),i}),n}catch(A){return console.error("Error searching users:",A),[]}}async function Cw(t){try{const e=(await $t(Pr)).docs.filter(n=>{const s=n.data();return s.users&&s.users.includes(t)}).map(n=>({...n.data(),id:n.id})),r={};return e.forEach(n=>{r[n.id]=n}),Tc.update(n=>({...n,...r})),qn.set(e.map(n=>n.id)),e}catch(A){return console.error("Error in loadGames:",A),[]}}async function EF(t){const A=ct(Pr),e={id:A.id,users:t,createdAt:new Date,drawings:[],wordOptions:[]};return await Su(A,e),Mn.set(!1),e}async function di(t){if(!t.id)return console.error("Cannot update game without ID"),t;try{const A=ct(Pr,t.id);return await ts(A,{drawings:t.drawings,wordOptions:t.wordOptions}),t}catch(A){return console.error("Error updating game:",A),t}}async function qr(t,A){const e=await Tu(t);if(!e)return console.error("Cannot add coins to user without ID"),e;try{const r=ct(kt,e.id),n=e.coins+A;await ts(r,{coins:n});const s={...e,coins:n},i=vr(zA);return i&&i.name===t&&zA.set(s),xe.update(o=>({...o,[t]:s})),s}catch(r){return console.error("Error adding coins:",r),e}}async function QF(t,A,e){try{if(console.log(`likeDrawing called with gameId: ${t}, drawingIndex: ${A}, userName: ${e}`),!t||A===void 0)return console.error("Invalid gameId or drawingIndex",{gameId:t,drawingIndex:A}),!1;const r=ct(Pr,t);console.log(`Getting game ref for ${t}`);const n=await Qu(r);if(!n.exists())return console.error("Game not found"),!1;const s=n.data();if(console.log("Game data retrieved:",s),!s.drawings||!Array.isArray(s.drawings))return console.error("Game has no drawings array",s),!1;if(A>=s.drawings.length)return console.error(`Drawing index out of bounds: ${A}, max: ${s.drawings.length-1}`),!1;const i=s.drawings[A];if(!i)return console.error("Drawing not found"),!1;i.likes||(i.likes=[]),console.log("Current likes:",i.likes);const o=i.likes.indexOf(e);return o>=0?(console.log(`Removing like from ${e}`),i.likes.splice(o,1)):(console.log(`Adding like from ${e}`),i.likes.push(e)),console.log("Updated likes:",i.likes),console.log("Updating game document"),await ts(r,{drawings:s.drawings}),console.log("Like operation successful"),!0}catch(r){return console.error("Error liking drawing:",r),!1}}async function IF(){try{const t=vr(zA);if(!t)return!1;const e=(await $t(kt)).docs.find(s=>s.data().name===t.name);if(!e)return zA.set(null),localStorage.removeItem("drawIt-user-v2"),localStorage.removeItem("drawIt-games-v2"),localStorage.removeItem("drawIt-users-v2"),!1;const n={...e.data(),id:e.id};return zA.set(n),!0}catch(t){return console.error("Error validating user session:",t),!1}}async function pd(t){try{const A=await Qu(ct(Pr,t));return A.exists()?{...A.data(),id:A.id}:null}catch(A){return console.error("Error loading game:",A),null}}async function UF(){try{const t=await $t(Pr),A=[];t.docs.forEach(r=>{const n=r.data();if(n.drawings&&n.drawings.length>0){const s=n.drawings.map((i,o)=>({...i,gameId:r.id,index:o}));for(const i of s)i.guessedBy=n.users.find(o=>o!==i.artist)??"";A.push(...s)}});const e=A.sort((r,n)=>{function s(a){return a?a instanceof Date?a:typeof a.toDate=="function"?a.toDate():typeof a=="string"?new Date(a):new Date(a):new Date(0)}const i=s(r.createdAt);return s(n.createdAt).getTime()-i.getTime()});return console.log(e),e.slice(0,100)}catch(t){return console.error("Error fetching recent drawings:",t),[]}}async function Su(t,A,e){const{_middleware:r,...n}=A;return fF(t,n,e)}async function FF(t){var A;try{const e=new Date().toISOString().split("T")[0];if((A=t.dailyRewards)!=null&&A.includes(e))return!1;const r=Math.floor(Math.random()*10)+3,n=ct(kt,t.id);await ts(n,{coins:t.coins+r,dailyRewards:Bw(e)});const s={...t,coins:t.coins+r,dailyRewards:[...t.dailyRewards||[],e]};return zA.set(s),xe.update(i=>({...i,[t.name]:s})),Ms(`Daily reward: ${r} coins!`),!0}catch(e){return console.error("Error giving daily reward:",e),!1}}async function Bd(t,A,e){try{if(t.upgrades.includes(A)||t.coins<e)return!1;const r=ct(kt,t.id);await ts(r,{upgrades:Bw(A),coins:t.coins-e});const n=await Tu(t.name);if(n){const s={...n,upgrades:Array.isArray(n.upgrades)?n.upgrades:[],dailyRewards:Array.isArray(n.dailyRewards)?n.dailyRewards:[]};zA.set(s)}return!0}catch(r){return console.error("Error purchasing upgrade:",r),!1}}async function bF(t){try{const A=ct(Pr,t);return await dF(A),Mn.set(!1),!0}catch(A){return console.error("Error deleting game:",A),!1}}async function yw(){try{vr(Ws)||await bu();const A=vr(zA);if(A!=null&&A.name){const e=await Tu(A.name);if(!e)return zA.set(null),!1;const r={...e,upgrades:Array.isArray(e.upgrades)?e.upgrades:[],dailyRewards:Array.isArray(e.dailyRewards)?e.dailyRewards:[]};await FF(r);const s=(await Cw(r.name)).flatMap(i=>i.users.filter(o=>o!==r.name));return await wF(s),Mn.set(!0),zA.set(r),!0}return!1}catch(t){return console.error("Error initializing user session:",t),!1}}let TF=["accident","air","airbag","airconditioner","airplane","airport","alarm","alarmclock","almanac","anchor","angry","animal","answer","ant","antler","anvil","apple","apron","arch","arm","armchair","armrest","army","arrow","art","artichoke","ashtray","ask","atom","avalanche","awning","baby","back","backhoe","backpack","bad","badge","bag","bagpipe","ball","balloon","banana","band","bandana","banjo","bank","bar","barbecue","barbell","barge","barn","barrel","baseball","basement","basket","basketball","bat","bath","bathtub","battery","beach","beachball","beacon","beaker","bear","beard","beautiful","bed","bedspread","bee","beehive","beer","beerglass","bell","bellhop","belt","bench","beverage","bicycle","big","bike","bin","binder","binoculars","bird","birth","blender","blizzard","block","blood","blouse","blueprint","boardgame","boat","boathouse","body","bodyguard","boiler","bonnet","book","bookcase","bookend","bookmark","boots","bottle","bottlecap","bouquet","bowler","bowtie","box","boy","bracelet","brainstorm","brake","branch","brass","bread","breadbasket","break","breeze","bridge","briefcase","bright","broom","broomstick","brother","brush","bucket","buffalo","build","bulldozer","bullet","bullhorn","bumper","bunkbed","burger","bus","bush","bushel","busstop","busy","butter","butterfly","buy","cabinet","cactus","cafe","cage","cairn","cake","calculator","calendar","calf","call","calm","camera","candle","candleholder","candy","cannonball","captain","car","carabiner","card","cardboard","carpet","carrot","cartridge","cartwheel","castle","cat","catch","catwalk","cave","ceiling","cellphone","chair","change","cheese","chest","chicken","child","chocolate","choose","church","city","clean","climb","clock","close","closed","cloud","coach","coal","coat","coffee","cold","come","compass","computer","contact","continent","cook","cookie","cool","cost","country","couple","cow","crab","crop","cross","crown","cry","cup","cushion","cut","dad","dance","dangerous","dark","daughter","day","deal","death","deep","degree","desert","desk","difficult","dinner","dirty","dock","doctor","dog","dolphin","door","doorbell","doorknob","draw","dream","dress","drink","drive","driver","drug","drum","dry","duck","dull","eagle","early","earrings","earth","easy","eat","egg","election","elephant","empire","empty","engine","eye","eyeglasses","face","factory","fall","family","farm","fast","father","faucet","feel","field","fight","film","finish","fire","fireplace","fish","fix","flag","flashlight","flat","flight","floor","flower","fly","food","foot","football","forest","fountain","fox","fresh","fries","frog","fruit","fuel","full","fun","furniture","game","garden","gate","gift","giraffe","girl","glass","glasses","glove","go","goal","god","golf","good","grass","group","grow","guitar","hair","hairbrush","hall","hand","happy","harbor","hard","hat","hate","head","headphones","hear","heart","heavy","helmet","help","high","highway","hill","hit","home","horse","hospital","hot","hotel","hour","house","husband","ice","idle","island","jacket","job","john","juice","jump","jungle","key","keyboard","kick","king","know","ladder","lady","lake","lamp","late","laugh","leaf","learn","leg","life","light","lighthouse","lion","list","lobster","lock","long","look","loose","lose","loss","lot","loud","love","low","lunch","machine","mailbox","man","map","market","match","meat","meet","message","microscope","microwave","milk","mirror","money","monkey","month","moon","morning","mosque","mother","motorcycle","mountain","mouse","music","name","narrow","neck","new","news","night","nose","note","notebook","ocean","octopus","office","officer","oil","old","open","owl","package","paddle","paint","paintbrush","palace","pants","paper","park","party","passport","pay","pen","pencil","pencilcase","pepper","person","phone","photograph","picture","pie","pier","pig","pillow","pizza","plane","plant","play","player","playground","plow","pointy","police","poor","port","postcard","pound","prince","product","pub","pull","push","quiet","rabbit","racket","radio","rain","read","record","referee","refrigerator","rest","restaurant","retirement","rich","ring","rise","river","road","roadsign","rock","roof","room","root","rough","round","run","sad","safe","salad","sale","salt","sand","sandwich","satellite","saxophone","say","school","score","screen","sea","see","seed","sell","shallow","shark","sharp","sheep","shelf","ship","shirt","shoe","shop","shoppingcart","short","show","shrink","side","sing","size","skateboard","skill","skirt","sleep","sleepingbag","slow","small","smell","smile","smooth","snake","snow","sock","soda","sofa","soft","song","sound","soup","space","speaker","spider","square","stale","star","starfish","start","station","stay","stone","stop","store","storm","street","strong","style","sugar","suitcase","summer","sun","sunflower","swim","table","talk","task","taste","tea","teach","teacher","team","teapot","television","temple","tent","thick","thin","think","throw","tie","tiger","tight","toothbrush","toothpaste","touch","tower","town","tractor","trafficlight","train","travel","tree","trombone","truck","trunk","turn","turtle","typewriter","ugly","umbrella","university","valley","vase","vegetable","vehicle","video","village","visit","volcano","wait","wake","walk","wall","wallet","war","warm","wash","watch","water","weak","week","wet","whale","wheel","wheelchair","wide","wife","win","wind","windmill","window","wine","wolf","woman","work","worker","wristwatch","write","yogurt","young","zebra","zipper","time","way","year","government","world","part","course","case","system","place","end","company","information","fact","point","example","state","business","area","thing","order","development","power","council","use","service","problem","court","a","interest","law","form","education","policy","research","sort","health","question","period","level","control","society","minister","view","line","community","south","centre","effect","staff","position","kind","action","management","act","process","north","age","evidence","idea","west","support","moment","sense","report","mind","industry","land","care","century","range","trade","history","study","committee","rate","word","language","experience","result","other","sir","section","programme","authority","role","reason","price","class","nature","subject","department","union","member","value","need","east","practice","type","date","decision","figure","right","president","friend","club","quality","voice","lord","stage","us","situation","tax","production","march","secretary","board","may","award","issue","project","chapter","amount","basis","knowledge","approach","series","top","front","future","manager","account","security","labour","structure","bill","force","attention","movement","success","letter","agreement","capital","analysis","population","environment","performance","model","material","theory","growth","chance","relationship","son","property","term","director","plan","behaviour","treatment","energy","st","peter","income","scheme","design","response","association","choice","pressure","technology","defence","chairman","activity","contract","county","paul","difference","set","colour","season","unit","investment","test","employment","science","charge","economy","page","risk","advice","event","commission","college","opportunity","conference","operation","application","press","extent","addition","access","region","doubt","majority","statement","parliament","site","mark","importance","title","species","increase","return","concern","public","competition","software","purpose","responsibility","leader","ability","appeal","opposition","campaign","respect","instance","whole","method","division","source","piece","pattern","lack","disease","equipment","surface","oxford","demand","post","mouth","provision","attempt","sector","firm","status","peace","variety","base","miss","safety","trouble","culture","direction","context","character","discussion","past","weight","organisation","league","condition","argument","sex","budget","english","transport","share","mum","cash","principle","exchange","aid","library","version","rule","balance","afternoon","reference","protection","truth","district","smith","review","minute","duty","survey","presence","influence","benefit","collection","executive","speech","function","queen","marriage","stock","failure","kitchen","student","effort","holiday","career","attack","length","progress","relation","memory","opinion","quarter","impact","scale","race","image","trust","justice","edge","gas","railway","expression","advantage","gold","wood","network","text","sister","cause","half","winter","corner","insurance","step","damage","credit","pain","possibility","legislation","strength","speed","crime","debate","will","supply","present","confidence","mary","patient","solution","museum","henry","assessment","no","skin","scene","article","stuff","introduction","administration","fear","proportion","japan","claim","kingdom","tv","existence","telephone","move","traffic","distance","relief","unemployment","reality","target","trial","concept","spirit","organization","construction","distribution","sight","difficulty","factor","exercise","weekend","battle","prison","grant","aircraft","strategy","contrast","juggling","communication","background","shape","hope","selection","detail","user","path","client","search","master","offer","freedom","attitude","while","agency","seat","manner","favour","fig","pair","crisis","danger","capacity","output","procedure","theatre","tour","recognition","middle","absence","sentence","track","sign","commitment","threat","weather","element","conflict","notice","victory","bottom","finance","fund","violence","file","profit","standard","jack","route","china","expenditure","second","discipline","cell","pp","reaction","congress","individual","lead","consideration","debt","option","payment","exhibition","reform","emphasis","spring","audience","feature","estate","assembly","volume","youth","contribution","curriculum","appearance","martin","tom","institute","membership","waste","heat","object","challenge","conversation","occasion","code","silence","literature","faith","hell","entry","transfer","gentleman","investigation","belief","total","major","document","description","murder","aim","manchester","conclusion","tradition","pleasure","connection","owner","treaty","tony","alan","desire","professor","copy","ministry","acid","address","institution","generation","partner","newspaper","reduction","welfare","definition","release","vote","examination","judge","atmosphere","leadership","sky","breath","creation","row","guide","cover","intention","criticism","jones","silver","customer","journey","explanation","green","measure","brain","significance","phase","injury","coast","technique","magazine","potential","revolution","bishop","settlement","christ","metal","motion","index","adult","inflation","sport","surprise","pension","tape","flow","iron","trip","lane","pool","independence","hole","un","content","noise","combination","session","appointment","fashion","consumer","accommodation","temperature","mike","religion","author","nation","northern","sample","assistance","interpretation","aspect","display","shoulder","agent","gallery","republic","cancer","proposal","sequence","interview","democracy","improvement","involvement","general","enterprise","van","meal","breakfast","motor","channel","impression","tone","sheet","pollution","bob","beauty","vision","spot","distinction","brown","crowd","sum","decline","revenue","diet","bedroom","soil","reader","shock","behalf","deputy","steel","co","artist","graham","plate","maintenance","formation","spokesman","program","link","expert","establishment","plastic","candidate","rail","passage","joe","parish","ref","emergency","liability","identity","location","framework","strike","countryside","household","approval","border","constitution","autumn","agriculture","concentration","guy","victim","editor","theme","error","loan","stress","recovery","electricity","recession","wealth","request","comparison","lewis","white","focus","chief","parent","mass","jane","foundation","item","lifespan","lee","publication","decade","height","charity","writer","panel","struggle","outcome","efficiency","offence","resolution","reputation","specialist","taylor","co-operation","incident","representation","chain","initiative","clause","resistance","mistake","advance","notion","delivery","licence","frank","average","awareness","expansion","alternative","chancellor","self","drama","corporation","currency","extension","convention","partnership","regime","inquiry","rugby","philosophy","scope","minority","intelligence","consequence","mill","priority","gun","gap","core","uncle","thatcher","arrival","command","abuse","limit","championship","quest","unity","zone","glory","joy","yard","amber","crystal","echo","flame","magic","rose","shadow","thunder","yellow","zeal","diamond","giant","jewel","legend","oracle","sword","treasure","voyage","wizard","yacht","zephyr","alien","angel","beast","bomb","button","champion","circle","cliff","dragon","feather","ghost","gravity","hammer","hero","honey","hunter","iceberg","joker","lab","laser","lightning","medal","monster","needle","oasis","orbit","painter","piano","planet","robot","rocket","shield","shoot","signal","skull","soldier","vapor","virus","warrior","weapon","witch"];function Ru(t,A){return t.drawings.filter(r=>!r.guessed)[0]||null}async function SF(t,A,e){const r=Ru(t,A.name);if(!r)return;const n=e.toLowerCase().trim(),s=r.secretWord.toLowerCase().trim();let i=!1;return n===s?(i=!0,r.guessed=!0,r.guessedBy=A.name,{...A},await qr(A.name,r.coins),await qr(r.artist,r.coins),Ms(`It was ${r.secretWord}! You both get ${r.coins} coins!`),await _o(3,t)):r.guesses.includes(e)||r.guesses.push(e),await di(t),i}async function _o(t,A,e=!1){if(A!=null&&A.wordOptions&&A.wordOptions.length>0&&!e)return A.wordOptions;const r=[];for(const i of TF)r.push({secretWord:i,coins:0});let n=await yF();r.push(...n.map(i=>({secretWord:i.word,coins:0,createdBy:i.createdBy,createdAt:i.createdAt})));const s=r.sort(()=>Math.random()-.5).slice(0,t);for(let i=0;i<s.length;i++)s[i].coins=i+1;return A&&(A.wordOptions=s,await di(A)),s}async function RF(t,A,e){return e}function ps(t,A){const e=Ru(t);if(!e){if(t.drawings.length===0)return t.users[0]===A?"draw":"waiting";const r=[...t.drawings].reverse().find(o=>o.guessed);if(!r)return t.users[0]===A?"draw":"waiting";const s=(t.users.indexOf(r.artist)+1)%t.users.length;return t.users[s]===A?"draw":"waiting"}return e.artist===A?"waiting":"guess"}function HF(t){return{...t,hintPurchased:t.hintPurchased??!1,superHintPurchased:t.superHintPurchased??!1}}function md(t){return`The word is ${t.secretWord.length} letters long`}function wd(t){const A=t.secretWord.split("");for(let e=A.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[A[e],A[r]]=[A[r],A[e]]}return`Letters: ${A.join("  ").toUpperCase()}`}function Jo(t){return t?t instanceof Date?t.getTime():typeof t.toDate=="function"?t.toDate().getTime():typeof t=="string"?new Date(t).getTime():new Date(t).getTime():0}async function kF(t,A,e){if(e.coins<5||A.hintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&Jo(n.createdAt)===Jo(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,hintPurchased:!0},await di(t),!0)}async function DF(t,A,e){if(e.coins<10||!A.hintPurchased||A.superHintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&Jo(n.createdAt)===Jo(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,superHintPurchased:!0},await di(t),!0)}const an="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAASUExURQAAAAYGCP/4Vf/QLPGZEf///5e4X0EAAAABdFJOUwBA5thmAAAAAWJLR0QF+G/pxwAAAAd0SU1FB+kFEQMBEaw38IoAAABMSURBVEjHY2CAA0EsgAEbGFVIP4VgQSUsAF31qEL6KUSoMcYCXEAAonpU4ajCUYWjCkcVjiokQyGisnHBArDWXKMK6adwKLQfR5pCAFjAgTiNHXoCAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI1LTA1LTE3VDAzOjAwOjU0KzAwOjAwAqVpBwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNS0wNS0xN1QwMzowMDo1NCswMDowMHP40bsAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjUtMDUtMTdUMDM6MDE6MTcrMDA6MDB+jY89AAAAAElFTkSuQmCC";function Cd(t){let A,e=t[0][0].toUpperCase()+"",r;return{c(){A=H("div"),r=tA(e),_(A,"class","w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold")},m(n,s){G(n,A,s),E(A,r)},p(n,s){s&1&&e!==(e=n[0][0].toUpperCase()+"")&&EA(r,e)},d(n){n&&K(A)}}}function yd(t){let A,e,r,n,s;return{c(){A=H("span"),e=tA(t[1]),r=W(),n=H("img"),Ne(n.src,s=an)||_(n,"src",s),_(n,"class","w-4 h-4"),_(n,"alt","coins")},m(i,o){G(i,A,o),E(A,e),G(i,r,o),G(i,n,o)},p(i,o){o&2&&EA(e,i[1])},d(i){i&&(K(A),K(r),K(n))}}}function _d(t){let A,e,r;return{c(){A=tA(" "),e=H("span"),r=tA(t[3]),_(e,"class","text-xs text-black/60")},m(n,s){G(n,A,s),G(n,e,s),E(e,r)},p(n,s){s&8&&EA(r,n[3])},d(n){n&&(K(A),K(e))}}}function vd(t){let A,e;return{c(){A=tt("svg"),e=tt("path"),_(e,"fill-rule","evenodd"),_(e,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),_(e,"clip-rule","evenodd"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"class","h-5 w-5 text-gray-400"),_(A,"viewBox","0 0 20 20"),_(A,"fill","currentColor")},m(r,n){G(r,A,n),E(A,e)},d(r){r&&K(A)}}}function LF(t){let A,e,r,n,s,i=t[0].toLowerCase()+"",o,a,c,u,f,d,p,w,y=t[2]&&Cd(t),I=t[1]!==null&&yd(t),S=t[3]&&_d(t),T=t[4]&&vd();return{c(){A=H("button"),e=H("div"),y&&y.c(),r=W(),n=H("div"),s=H("span"),o=tA(i),a=W(),c=H("div"),I&&I.c(),u=W(),S&&S.c(),f=W(),T&&T.c(),_(s,"class","font-medium text-black"),_(c,"class","flex items-center gap-1 text-sm text-black/60"),_(n,"class","flex flex-col items-start"),_(e,"class","flex items-center gap-3"),_(A,"class","flex items-center justify-between w-full p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:border-primary/20 transition-colors active:bg-gray-50"),A.disabled=d=t[4]===null,hr(A,"cursor-pointer",t[4]!==null),hr(A,"cursor-default",t[4]===null)},m(L,R){G(L,A,R),E(A,e),y&&y.m(e,null),E(e,r),E(e,n),E(n,s),E(s,o),E(n,a),E(n,c),I&&I.m(c,null),E(c,u),S&&S.m(c,null),E(A,f),T&&T.m(A,null),p||(w=cA(A,"click",t[5]),p=!0)},p(L,[R]){L[2]?y?y.p(L,R):(y=Cd(L),y.c(),y.m(e,r)):y&&(y.d(1),y=null),R&1&&i!==(i=L[0].toLowerCase()+"")&&EA(o,i),L[1]!==null?I?I.p(L,R):(I=yd(L),I.c(),I.m(c,u)):I&&(I.d(1),I=null),L[3]?S?S.p(L,R):(S=_d(L),S.c(),S.m(c,null)):S&&(S.d(1),S=null),L[4]?T||(T=vd(),T.c(),T.m(A,null)):T&&(T.d(1),T=null),R&16&&d!==(d=L[4]===null)&&(A.disabled=d),R&16&&hr(A,"cursor-pointer",L[4]!==null),R&16&&hr(A,"cursor-default",L[4]===null)},i:sA,o:sA,d(L){L&&K(A),y&&y.d(),I&&I.d(),S&&S.d(),T&&T.d(),p=!1,w()}}}function PF(t,A,e){let{name:r}=A,{coins:n=null}=A,{showAvatar:s=!1}=A,{subtitle:i=null}=A,{onClick:o=null}=A;const a=()=>o==null?void 0:o();return t.$$set=c=>{"name"in c&&e(0,r=c.name),"coins"in c&&e(1,n=c.coins),"showAvatar"in c&&e(2,s=c.showAvatar),"subtitle"in c&&e(3,i=c.subtitle),"onClick"in c&&e(4,o=c.onClick)},[r,n,s,i,o,a]}class Hu extends $e{constructor(A){super(),Ye(this,A,PF,LF,Ke,{name:0,coins:1,showAvatar:2,subtitle:3,onClick:4})}}function Ed(t,A,e){const r=t.slice();return r[11]=A[e],r}function OF(t){let A,e,r=OA(t[0].users.filter(t[9])),n=[];for(let i=0;i<r.length;i+=1)n[i]=Qd(Ed(t,r,i));const s=i=>lA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=lt()},m(i,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,o);G(i,A,o),e=!0},p(i,o){if(o&99){r=OA(i[0].users.filter(i[9]));let a;for(a=0;a<r.length;a+=1){const c=Ed(i,r,a);n[a]?(n[a].p(c,o),rA(n[a],1)):(n[a]=Qd(c),n[a].c(),rA(n[a],1),n[a].m(A.parentNode,A))}for(fe(),a=r.length;a<n.length;a+=1)s(a);de()}},i(i){if(!e){for(let o=0;o<r.length;o+=1)rA(n[o]);e=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)lA(n[o]);e=!1},d(i){i&&K(A),De(n,i)}}}function MF(t){let A,e,r;return e=new Hu({props:{name:t[2],coins:t[3],onClick:t[6]}}),{c(){A=H("div"),ge(e.$$.fragment),_(A,"class","flex flex-row text-start w-full")},m(n,s){G(n,A,s),oe(e,A,null),r=!0},p(n,s){const i={};s&4&&(i.name=n[2]),s&8&&(i.coins=n[3]),e.$set(i)},i(n){r||(rA(e.$$.fragment,n),r=!0)},o(n){lA(e.$$.fragment,n),r=!1},d(n){n&&K(A),ae(e)}}}function xF(t){let A,e=t[11]+"",r;return{c(){A=H("span"),r=tA(e),_(A,"class","font-bold text-black")},m(n,s){G(n,A,s),E(A,r)},p(n,s){s&3&&e!==(e=n[11]+"")&&EA(r,e)},i:sA,o:sA,d(n){n&&K(A)}}}function VF(t){let A,e;return A=new Hu({props:{name:t[11],coins:t[5][t[11]].coins,subtitle:`${t[0].drawings.length} drawing${t[0].drawings.length===1?"":"s"}`,onClick:t[6]}}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p(r,n){const s={};n&3&&(s.name=r[11]),n&35&&(s.coins=r[5][r[11]].coins),n&1&&(s.subtitle=`${r[0].drawings.length} drawing${r[0].drawings.length===1?"":"s"}`),A.$set(s)},i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function Qd(t){let A,e,r,n,s;const i=[VF,xF],o=[];function a(c,u){return c[5][c[11]]?0:1}return e=a(t),r=o[e]=i[e](t),{c(){A=H("div"),r.c(),n=W(),_(A,"class","w-full flex flex-col items-center justify-center gap-0.5")},m(c,u){G(c,A,u),o[e].m(A,null),E(A,n),s=!0},p(c,u){let f=e;e=a(c),e===f?o[e].p(c,u):(fe(),lA(o[f],1,1,()=>{o[f]=null}),de(),r=o[e],r?r.p(c,u):(r=o[e]=i[e](c),r.c()),rA(r,1),r.m(A,n))},i(c){s||(rA(r),s=!0)},o(c){lA(r),s=!1},d(c){c&&K(A),o[e].d()}}}function NF(t){let A,e,r,n;const s=[MF,OF],i=[];function o(a,c){return a[4]?0:a[0]?1:-1}return~(e=o(t))&&(r=i[e]=s[e](t)),{c(){A=H("div"),r&&r.c(),_(A,"class","cursor-pointer py-1 rounded-lg transition-colors w-full mb-2 flex flex-col gap-2 items-center justify-between"),hr(A,"bg-primary-10",!t[4]),hr(A,"bg-secondary-10",t[4])},m(a,c){G(a,A,c),~e&&i[e].m(A,null),n=!0},p(a,[c]){let u=e;e=o(a),e===u?~e&&i[e].p(a,c):(r&&(fe(),lA(i[u],1,1,()=>{i[u]=null}),de()),~e?(r=i[e],r?r.p(a,c):(r=i[e]=s[e](a),r.c()),rA(r,1),r.m(A,null)):r=null),(!n||c&16)&&hr(A,"bg-primary-10",!a[4]),(!n||c&16)&&hr(A,"bg-secondary-10",a[4])},i(a){n||(rA(r),n=!0)},o(a){lA(r),n=!1},d(a){a&&K(A),~e&&i[e].d()}}}function KF(t,A,e){let r,n;YA(t,He,w=>e(10,r=w)),YA(t,xe,w=>e(5,n=w));let{game:s=null}=A,{currentUserName:i=""}=A,{user:o=""}=A,{coins:a=null}=A,{isNewGame:c=!1}=A,{onClick:u=null}=A,{navigate:f=null}=A;function d(){c&&u?u():s&&f&&(nt(He,r=s,r),f("home"))}const p=w=>w!==i;return t.$$set=w=>{"game"in w&&e(0,s=w.game),"currentUserName"in w&&e(1,i=w.currentUserName),"user"in w&&e(2,o=w.user),"coins"in w&&e(3,a=w.coins),"isNewGame"in w&&e(4,c=w.isNewGame),"onClick"in w&&e(7,u=w.onClick),"navigate"in w&&e(8,f=w.navigate)},[s,i,o,a,c,n,d,u,f,p]}class GF extends $e{constructor(A){super(),Ye(this,A,KF,NF,Ke,{game:0,currentUserName:1,user:2,coins:3,isNewGame:4,onClick:7,navigate:8})}}function Id(t,A,e){const r=t.slice();return r[5]=A[e],r}function Ud(t){let A,e;return A=new GF({props:{game:t[5],currentUserName:t[2],navigate:t[4]}}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p(r,n){const s={};n&2&&(s.game=r[5]),n&4&&(s.currentUserName=r[2]),n&16&&(s.navigate=r[4]),A.$set(s)},i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function WF(t){let A,e,r,n,s,i=OA(t[1]),o=[];for(let c=0;c<i.length;c+=1)o[c]=Ud(Id(t,i,c));const a=c=>lA(o[c],1,1,()=>{o[c]=null});return{c(){A=H("div"),e=H("h3"),r=tA(t[0]),n=W();for(let c=0;c<o.length;c+=1)o[c].c();_(e,"class",t[3]),_(A,"class","flex flex-col gap-0")},m(c,u){G(c,A,u),E(A,e),E(e,r),E(A,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(A,null);s=!0},p(c,[u]){if((!s||u&1)&&EA(r,c[0]),(!s||u&8)&&_(e,"class",c[3]),u&22){i=OA(c[1]);let f;for(f=0;f<i.length;f+=1){const d=Id(c,i,f);o[f]?(o[f].p(d,u),rA(o[f],1)):(o[f]=Ud(d),o[f].c(),rA(o[f],1),o[f].m(A,null))}for(fe(),f=i.length;f<o.length;f+=1)a(f);de()}},i(c){if(!s){for(let u=0;u<i.length;u+=1)rA(o[u]);s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)lA(o[u]);s=!1},d(c){c&&K(A),De(o,c)}}}function jF(t,A,e){let{title:r}=A,{games:n}=A,{currentUserName:s}=A,{titleClass:i="text-sm font-semibold text-primary"}=A,{navigate:o=null}=A;return t.$$set=a=>{"title"in a&&e(0,r=a.title),"games"in a&&e(1,n=a.games),"currentUserName"in a&&e(2,s=a.currentUserName),"titleClass"in a&&e(3,i=a.titleClass),"navigate"in a&&e(4,o=a.navigate)},[r,n,s,i,o]}class _w extends $e{constructor(A){super(),Ye(this,A,jF,WF,Ke,{title:0,games:1,currentUserName:2,titleClass:3,navigate:4})}}const vw=""+new URL("logo-BEMpbk-Y.svg",import.meta.url).href;function JF(t){let A,e,r,n;return{c(){A=H("img"),Ne(A.src,e=vw)||_(A,"src",e),_(A,"alt","drawIt"),_(A,"class","w-48 mx-auto mb-6 drop-shadow-md cursor-pointer")},m(s,i){G(s,A,i),r||(n=cA(A,"click",t[0]),r=!0)},p:sA,i:sA,o:sA,d(s){s&&K(A),r=!1,n()}}}function XF(t,A,e){let{navigate:r}=A;function n(){r?r("home"):window.location.href="/"}return t.$$set=s=>{"navigate"in s&&e(1,r=s.navigate)},[n,r]}class Ta extends $e{constructor(A){super(),Ye(this,A,XF,JF,Ke,{navigate:1})}}const{Boolean:Ew}=_p;function Fd(t,A,e){const r=t.slice();return r[23]=A[e],r}function bd(t,A,e){const r=t.slice();return r[23]=A[e],r}function qF(t){let A,e,r,n,s,i,o,a,c,u;return{c(){var f;A=H("div"),e=H("span"),e.textContent="Who are you?",r=W(),n=H("input"),s=W(),i=H("button"),o=tA("get drawin'"),_(e,"class","text-2xl font-bold text-primary"),_(n,"type","text"),_(n,"placeholder","Your name"),_(n,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-lg px-4 py-2 shadow"),_(n,"autocapitalize","off"),_(n,"autocorrect","off"),_(n,"maxlength","14"),_(i,"class","btn btn-primary text-white w-full rounded-xl text-lg py-2 shadow"),i.disabled=a=!((f=t[4])!=null&&f.trim()),_(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto mt-8")},m(f,d){G(f,A,d),E(A,e),E(A,r),E(A,n),Tt(n,t[4]),E(A,s),E(A,i),E(i,o),c||(u=[cA(n,"input",t[18]),cA(i,"click",t[19])],c=!0)},p(f,d){var p;d&16&&n.value!==f[4]&&Tt(n,f[4]),d&16&&a!==(a=!((p=f[4])!=null&&p.trim()))&&(i.disabled=a)},i:sA,o:sA,d(f){f&&K(A),c=!1,ve(u)}}}function zF(t){let A,e,r,n;const s=[ZF,$F],i=[];function o(a,c){return a[5].length!==0?0:1}return A=o(t),e=i[A]=s[A](t),{c(){e.c(),r=lt()},m(a,c){i[A].m(a,c),G(a,r,c),n=!0},p(a,c){let u=A;A=o(a),A===u?i[A].p(a,c):(fe(),lA(i[u],1,1,()=>{i[u]=null}),de(),e=i[A],e?e.p(a,c):(e=i[A]=s[A](a),e.c()),rA(e,1),e.m(r.parentNode,r))},i(a){n||(rA(e),n=!0)},o(a){lA(e),n=!1},d(a){a&&K(r),i[A].d(a)}}}function YF(t){let A;return{c(){A=H("div"),A.innerHTML='<div class="text-primary text-lg font-semibold">Loading...</div>',_(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto")},m(e,r){G(e,A,r)},p:sA,i:sA,o:sA,d(e){e&&K(A)}}}function $F(t){let A;return{c(){A=H("div"),A.textContent="No games yet. Start a new one!",_(A,"class","text-center text-gray-500 mt-8")},m(e,r){G(e,A,r)},p:sA,i:sA,o:sA,d(e){e&&K(A)}}}function ZF(t){let A,e,r=t[3]&&Td(t);return{c(){A=H("div"),r&&r.c(),_(A,"class","flex flex-col gap-6 w-full max-w-xs mx-auto")},m(n,s){G(n,A,s),r&&r.m(A,null),e=!0},p(n,s){n[3]?r?(r.p(n,s),s&8&&rA(r,1)):(r=Td(n),r.c(),rA(r,1),r.m(A,null)):r&&(fe(),lA(r,1,1,()=>{r=null}),de())},i(n){e||(rA(r),e=!0)},o(n){lA(r),e=!1},d(n){n&&K(A),r&&r.d()}}}function Td(t){let A=t[5].filter(t[12]).length>0,e,r=t[5].filter(t[11]).length>0,n,s,i=A&&Sd(t),o=r&&Hd(t);return{c(){i&&i.c(),e=W(),o&&o.c(),n=lt()},m(a,c){i&&i.m(a,c),G(a,e,c),o&&o.m(a,c),G(a,n,c),s=!0},p(a,c){c&40&&(A=a[5].filter(a[12]).length>0),A?i?(i.p(a,c),c&40&&rA(i,1)):(i=Sd(a),i.c(),rA(i,1),i.m(e.parentNode,e)):i&&(fe(),lA(i,1,1,()=>{i=null}),de()),c&40&&(r=a[5].filter(a[11]).length>0),r?o?(o.p(a,c),c&40&&rA(o,1)):(o=Hd(a),o.c(),rA(o,1),o.m(n.parentNode,n)):o&&(fe(),lA(o,1,1,()=>{o=null}),de())},i(a){s||(rA(i),rA(o),s=!0)},o(a){lA(i),lA(o),s=!1},d(a){a&&(K(e),K(n)),i&&i.d(a),o&&o.d(a)}}}function Sd(t){let A,e,r,n,s=OA(t[5].filter(t[13])),i=[];for(let a=0;a<s.length;a+=1)i[a]=Rd(bd(t,s,a));const o=a=>lA(i[a],1,1,()=>{i[a]=null});return{c(){A=H("div"),e=H("div"),e.textContent="Your Turn!",r=W();for(let a=0;a<i.length;a+=1)i[a].c();_(e,"class","text-center text-2xl font-bold mb-2 animate-gradient-text svelte-1by7pf7"),_(A,"class","rounded-2xl bg-white/90 shadow-md p-4")},m(a,c){G(a,A,c),E(A,e),E(A,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(A,null);n=!0},p(a,c){if(c&297){s=OA(a[5].filter(a[13]));let u;for(u=0;u<s.length;u+=1){const f=bd(a,s,u);i[u]?(i[u].p(f,c),rA(i[u],1)):(i[u]=Rd(f),i[u].c(),rA(i[u],1),i[u].m(A,null))}for(fe(),u=s.length;u<i.length;u+=1)o(u);de()}},i(a){if(!n){for(let c=0;c<s.length;c+=1)rA(i[c]);n=!0}},o(a){i=i.filter(Ew);for(let c=0;c<i.length;c+=1)lA(i[c]);n=!1},d(a){a&&K(A),De(i,a)}}}function Rd(t){let A,e,r,n,s,i,o,a;function c(){return t[14](t[23])}return n=new _w({props:{title:"",games:[t[23]],currentUserName:t[3],navigate:t[0]}}),{c(){A=H("div"),e=H("button"),e.textContent="",r=W(),ge(n.$$.fragment),s=W(),_(e,"class","absolute -top-2 -right-1 opacity-50 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md z-10"),_(e,"title","Delete game"),_(A,"class","relative")},m(u,f){G(u,A,f),E(A,e),E(A,r),oe(n,A,null),E(A,s),i=!0,o||(a=cA(e,"click",c),o=!0)},p(u,f){t=u;const d={};f&40&&(d.games=[t[23]]),f&8&&(d.currentUserName=t[3]),f&1&&(d.navigate=t[0]),n.$set(d)},i(u){i||(rA(n.$$.fragment,u),i=!0)},o(u){lA(n.$$.fragment,u),i=!1},d(u){u&&K(A),ae(n),o=!1,a()}}}function Hd(t){let A,e,r,n=t[5].filter(t[15]).length+"",s,i,o,a,c=OA(t[5].filter(t[16])),u=[];for(let d=0;d<c.length;d+=1)u[d]=kd(Fd(t,c,d));const f=d=>lA(u[d],1,1,()=>{u[d]=null});return{c(){A=H("div"),e=H("div"),r=tA("Waiting ("),s=tA(n),i=tA(")"),o=W();for(let d=0;d<u.length;d+=1)u[d].c();_(e,"class","text-center text-secondary/60 font-semibold text-xs mb-2"),_(A,"class","rounded-2xl bg-white/60 shadow-sm p-4 opacity-60")},m(d,p){G(d,A,p),E(A,e),E(e,r),E(e,s),E(e,i),E(A,o);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(A,null);a=!0},p(d,p){if((!a||p&40)&&n!==(n=d[5].filter(d[15]).length+"")&&EA(s,n),p&297){c=OA(d[5].filter(d[16]));let w;for(w=0;w<c.length;w+=1){const y=Fd(d,c,w);u[w]?(u[w].p(y,p),rA(u[w],1)):(u[w]=kd(y),u[w].c(),rA(u[w],1),u[w].m(A,null))}for(fe(),w=c.length;w<u.length;w+=1)f(w);de()}},i(d){if(!a){for(let p=0;p<c.length;p+=1)rA(u[p]);a=!0}},o(d){u=u.filter(Ew);for(let p=0;p<u.length;p+=1)lA(u[p]);a=!1},d(d){d&&K(A),De(u,d)}}}function kd(t){let A,e,r,n,s,i,o,a;function c(){return t[17](t[23])}return n=new _w({props:{title:"",games:[t[23]],currentUserName:t[3],navigate:t[0]}}),{c(){A=H("div"),e=H("button"),e.textContent="",r=W(),ge(n.$$.fragment),s=W(),_(e,"class","absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md z-10"),_(e,"title","Delete game"),_(A,"class","relative")},m(u,f){G(u,A,f),E(A,e),E(A,r),oe(n,A,null),E(A,s),i=!0,o||(a=cA(e,"click",c),o=!0)},p(u,f){t=u;const d={};f&40&&(d.games=[t[23]]),f&8&&(d.currentUserName=t[3]),f&1&&(d.navigate=t[0]),n.$set(d)},i(u){i||(rA(n.$$.fragment,u),i=!0)},o(u){lA(n.$$.fragment,u),i=!1},d(u){u&&K(A),ae(n),o=!1,a()}}}function Ab(t){let A,e,r,n,s,i;e=new Ta({props:{navigate:t[0]}});const o=[YF,zF,qF],a=[];function c(u,f){return u[2]||u[1]&&!u[6]?0:u[1]?1:2}return n=c(t),s=a[n]=o[n](t),{c(){A=H("div"),ge(e.$$.fragment),r=W(),s.c(),_(A,"class","w-full min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-background-gradient-start to-background-gradient-end text-black")},m(u,f){G(u,A,f),oe(e,A,null),E(A,r),a[n].m(A,null),i=!0},p(u,[f]){const d={};f&1&&(d.navigate=u[0]),e.$set(d);let p=n;n=c(u),n===p?a[n].p(u,f):(fe(),lA(a[p],1,1,()=>{a[p]=null}),de(),s=a[n],s?s.p(u,f):(s=a[n]=o[n](u),s.c()),rA(s,1),s.m(A,null))},i(u){i||(rA(e.$$.fragment,u),rA(s),i=!0)},o(u){lA(e.$$.fragment,u),lA(s),i=!1},d(u){u&&K(A),ae(e),a[n].d()}}}function eb(t,A,e){let r,n,s,i,o,a;YA(t,Ws,B=>e(21,n=B)),YA(t,Mn,B=>e(6,s=B)),YA(t,Tc,B=>e(9,i=B)),YA(t,qn,B=>e(10,o=B)),YA(t,zA,B=>e(1,a=B));let c=!0,u=null,f="",{navigate:d}=A;async function p(B){B.trim()&&/^[a-zA-Z0-9]+$/.test(B)?(e(2,c=!0),await vF(B.trim()),e(2,c=!1),window.location.reload()):B.trim()}async function w(B){if(!confirm("Are you sure you want to delete this game? This cannot be undone."))return;await bF(B)&&window.location.reload()}Xn(async()=>{e(2,c=!0),nt(Mn,s=!1,s),n||await bu(),await yw(),e(2,c=!1)});const y=B=>ps(B,u)==="waiting",I=B=>["draw","guess"].includes(ps(B,u)),S=B=>["draw","guess"].includes(ps(B,u)),T=B=>w(B.id),L=B=>ps(B,u)==="waiting",R=B=>ps(B,u)==="waiting",M=B=>w(B.id);function D(){f=this.value,e(4,f)}const Q=()=>p(f);return t.$$set=B=>{"navigate"in B&&e(0,d=B.navigate)},t.$$.update=()=>{t.$$.dirty&2&&e(3,u=a?a.name:null),t.$$.dirty&1536&&e(5,r=o.map(B=>i[B]).filter(Boolean))},[d,a,c,u,f,r,s,p,w,i,o,y,I,S,T,L,R,M,D,Q]}class Qw extends $e{constructor(A){super(),Ye(this,A,eb,Ab,Ke,{navigate:0})}}var XA=(t=>(t.MoreWordOptions="moreWordOptions",t.ColorPicker="colorPicker",t))(XA||{});function Dd(t,A,e){const r=t.slice();return r[31]=A[e],r}function Ld(t,A,e){const r=t.slice();return r[34]=A[e],r}function Pd(t){let A,e,r;return{c(){A=H("input"),_(A,"type","color"),_(A,"class","w-8 h-8 p-1 rounded-2xl border-2 border-primary cursor-pointer"),A.value=t[1]},m(n,s){G(n,A,s),e||(r=cA(A,"input",t[15]),e=!0)},p(n,s){s[0]&2&&(A.value=n[1])},d(n){n&&K(A),e=!1,r()}}}function Od(t){let A,e,r,n;function s(){return t[16](t[34])}return{c(){A=H("button"),_(A,"class",e="w-8 h-8 rounded-full border-2 "+(t[1]===t[34]?"border-primary":"")),Ll(A,"background-color",t[34])},m(i,o){G(i,A,o),r||(n=cA(A,"click",s),r=!0)},p(i,o){t=i,o[0]&2&&e!==(e="w-8 h-8 rounded-full border-2 "+(t[1]===t[34]?"border-primary":""))&&_(A,"class",e)},d(i){i&&K(A),r=!1,n()}}}function Md(t){let A,e,r,n,s;function i(){return t[17](t[31])}return{c(){A=H("button"),e=H("div"),_(e,"class","w-4 h-4 rounded-full bg-black mx-auto"),Ll(e,"width",t[31]+"px"),Ll(e,"height",t[31]+"px"),_(A,"class",r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[31]?"border-primary":"border-transparent"))},m(o,a){G(o,A,a),E(A,e),n||(s=cA(A,"click",i),n=!0)},p(o,a){t=o,a[0]&1&&r!==(r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[31]?"border-primary":"border-transparent"))&&_(A,"class",r)},d(o){o&&K(A),n=!1,s()}}}function tb(t){var T,L;let A,e,r=(L=(T=t[6])==null?void 0:T.upgrades)==null?void 0:L.includes(XA.ColorPicker),n,s,i,o,a,c,u,f,d,p=r&&Pd(t),w=OA(t[7]),y=[];for(let R=0;R<w.length;R+=1)y[R]=Od(Ld(t,w,R));let I=OA(t[8]),S=[];for(let R=0;R<I.length;R+=1)S[R]=Md(Dd(t,I,R));return{c(){A=H("div"),e=H("div"),p&&p.c(),n=W();for(let R=0;R<y.length;R+=1)y[R].c();s=W(),i=H("div");for(let R=0;R<S.length;R+=1)S[R].c();o=W(),a=H("button"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path></svg>',c=W(),u=H("canvas"),_(e,"class","flex gap-2 justify-start items-center flex-wrap"),_(a,"class","w-8 h-8 rounded-full border-2 bg-white border-transparent"),_(i,"class","flex gap-2 justify-start items-center"),_(u,"class","border-2 border-gray-300 rounded-lg touch-none w-full aspect-square"),_(A,"class","flex flex-col gap-2 w-full")},m(R,M){G(R,A,M),E(A,e),p&&p.m(e,null),E(e,n);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(e,null);E(A,s),E(A,i);for(let D=0;D<S.length;D+=1)S[D]&&S[D].m(i,null);E(i,o),E(i,a),E(A,c),E(A,u),t[18](u),t[19](A),f||(d=[cA(a,"click",t[2]),cA(u,"mousedown",t[9]),cA(u,"mousemove",t[10]),cA(u,"mouseup",t[11]),cA(u,"mouseleave",t[11]),cA(u,"touchstart",t[9]),cA(u,"touchmove",t[10]),cA(u,"touchend",t[11],{passive:!0})],f=!0)},p(R,M){var D,Q;if(M[0]&64&&(r=(Q=(D=R[6])==null?void 0:D.upgrades)==null?void 0:Q.includes(XA.ColorPicker)),r?p?p.p(R,M):(p=Pd(R),p.c(),p.m(e,n)):p&&(p.d(1),p=null),M[0]&146){w=OA(R[7]);let B;for(B=0;B<w.length;B+=1){const v=Ld(R,w,B);y[B]?y[B].p(v,M):(y[B]=Od(v),y[B].c(),y[B].m(e,null))}for(;B<y.length;B+=1)y[B].d(1);y.length=w.length}if(M[0]&273){I=OA(R[8]);let B;for(B=0;B<I.length;B+=1){const v=Dd(R,I,B);S[B]?S[B].p(v,M):(S[B]=Md(v),S[B].c(),S[B].m(i,o))}for(;B<S.length;B+=1)S[B].d(1);S.length=I.length}},i:sA,o:sA,d(R){R&&K(A),p&&p.d(),De(y,R),De(S,R),t[18](null),t[19](null),f=!1,ve(d)}}}function rb(t,A,e){let r;YA(t,zA,V=>e(6,r=V));let n=400,s=400,{lineWidth:i=5}=A,{strokeColor:o="#000000"}=A,a,c,u=!1,f,d=[],p=null;const w=["#E74C3C","#E67E22","#F1C40F","#2ECC71","#1ABC9C","#3498DB","#4834D4","#9B59B6","#D291BC","#F5E6DE","#D2A679","#8D5524","#000000","#7F8C8D","#FFFFFF"],y=[2,5,15,25];function I(){if(!a)return;const V=window.devicePixelRatio||1;e(3,a.width=n*V,a),e(3,a.height=s*V,a),e(3,a.style.width=n+"px",a),e(3,a.style.height=s+"px",a),e(4,c=a.getContext("2d")),c.setTransform(1,0,0,1,0,0),c.scale(V,V),e(4,c.lineCap="round",c),e(4,c.lineJoin="round",c),e(4,c.strokeStyle=o,c),e(4,c.lineWidth=i,c),e(4,c.fillStyle="#FFFFFF",c),c.fillRect(0,0,n,s)}function S(V){u=!0;const wA=Q(V);p={color:o,width:i,points:[wA]}}function T(V){if(!u||!p)return;const wA=Q(V);p.points.push(wA),R()}function L(){u&&p&&(d.push(p),p=null),u=!1}function R(){c.clearRect(0,0,n,s),e(4,c.fillStyle="#FFFFFF",c),c.fillRect(0,0,n,s);for(const V of d)M(V);p&&M(p)}function M(V){if(!(V.points.length<2)){c.save(),e(4,c.strokeStyle=V.color,c),e(4,c.lineWidth=V.width,c),c.beginPath(),c.moveTo(V.points[0].x,V.points[0].y);for(let wA=1;wA<V.points.length;wA++)c.lineTo(V.points[wA].x,V.points[wA].y);c.stroke(),c.restore()}}function D(){d.length>0&&(d.pop(),R())}function Q(V){const wA=a.getBoundingClientRect();if("touches"in V&&V.touches.length>0){const TA=V.touches[0];return{x:TA.clientX-wA.left,y:TA.clientY-wA.top}}return{x:V.clientX-wA.left,y:V.clientY-wA.top}}function B(){window.confirm("Are you sure you want to clear the canvas?")&&(d=[],p=null,e(4,c.fillStyle="#FFFFFF",c),c.fillRect(0,0,n,s))}function v(){return a.toDataURL("image/png")}function F(V){e(1,o=V),e(4,c.strokeStyle=V,c)}function U(){!f||!a||(n=f.clientWidth,s=n,I(),R())}Xn(()=>{I(),R();const V=new ResizeObserver(()=>{U()});return f&&V.observe(f),()=>{V.disconnect()}});const b=V=>{e(1,o=V.currentTarget.value),e(4,c.strokeStyle=V.currentTarget.value,c)},m=V=>{e(1,o=V),e(4,c.strokeStyle=V,c)},$=V=>{e(0,i=V),e(4,c.lineWidth=V,c)};function AA(V){Gs[V?"unshift":"push"](()=>{a=V,e(3,a)})}function QA(V){Gs[V?"unshift":"push"](()=>{f=V,e(5,f)})}return t.$$set=V=>{"lineWidth"in V&&e(0,i=V.lineWidth),"strokeColor"in V&&e(1,o=V.strokeColor)},[i,o,D,a,c,f,r,w,y,S,T,L,B,v,F,b,m,$,AA,QA]}class nb extends $e{constructor(A){super(),Ye(this,A,rb,tb,Ke,{lineWidth:0,strokeColor:1,undo:2,clearCanvas:12,getImageData:13,setColor:14},null,[-1,-1])}get undo(){return this.$$.ctx[2]}get clearCanvas(){return this.$$.ctx[12]}get getImageData(){return this.$$.ctx[13]}get setColor(){return this.$$.ctx[14]}}const Qs="data:image/gif;base64,R0lGODdhUABQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAUABQAIIAAAAGBgjxmRH/0Cz/+FUAAAAAAAAAAAAD/wi63B0wykmrlS7rza//HieOGWieAamSaHut8ObOU2w/dH7vQK7zNh8NGBS6iDHjEYmzEJ7QqHRKrUZDN491y91ii86uePxNXsZobhmmTbun61X7TSfEVfO6+8466998I3l/ZC9ZfoRogT2IVAOPkJGSk5SVkQKYmZo5W5aen56aogKcVqCnqAOjmzSdqa+Vq5mlVbC2krKYtI63vbmkraa9t7+7U8PEucZSyLbFwbXNr88zrtKo1C7W16DZLdvcocrQvOGf3ijg5pToJ+rruOPVwvCx8tr09ZPtJu/6qve+5fsHiR8If/oMfkBYT+EgZgTjyVoWJaLEVRShWLwUMKzdwIgOGx3b+ChkmGgkTVZgCE8lBZbrXE6AaU6mBJrhbEbAyU0nBJ7XfAYAKk0o0WZGPxJMinIj03JOO7pT+k9hhwu/smrFaAhMha1gty66aiGsWakRdng4y1bUWBlY28p9q2Gt3LZ0S8S9ezavA7t8zfpt8jWw4K5myhoOOxiPEhRM5Dw+EdnxZBCV+1z+kFnQZs6dyX62EFr0aAql4Z6ukLruatat/75GfSMBACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTCHUAONjo+QkAKTlJWJO4JZkZublZ4Clx2ZU5yljp+WfySLT6amqJShGKwErqWwk7IQtLacuKCqI7y9kb+6V6NSxMW4x0AfYcuSzcE2yVHSj8bVIcPZA9s4TdBg343hPSne2egWK+vS7ULq14zm8kvjHtH31OL05LSYA+cv3ap6rfrBcuYFYS2FqBgygLcM3xF9Fvh9s4gC0mMFjewKuvNIAWQ8kfMOBtQE8ZPEPStJtfT0ssi+cjNT/VN5U2DOWNw4UCTGMcA7hwOLHo2p7GeuoBuG9lJKcoLJiijzAezJcmPWi1sz4vS6ECompticAtspDKnamoHQ2iMb0awouQnpurQ7y61emnx3+Q1Zlm2OE7+oAkKcuLBBNYwb7zVcx4TkupQNWb4MODOTyJyfekYCOjTcpR5C63wMZ7Pqtawrf3gtOjaghkqM3kZtZDfvIL6ryggeFjjxtrmPI1ei3Fry5kJz64Z+lvmQBAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRVECv2wf4vH6/j4o3c3aCfISEfkUcgYJ1hY15h0CJTIt3jo2QPZJFlIyWhZg8mkCcdJ6fV38aipSmhqiIgJOkrXygNKI9pAK0fa+RsZuzvI++mcCjwsMDtkbHucnDzE3OPLrKeNJTqrKc18vFodQ01tfZuNXQvObiM+TK69vB3eXgt+wy7tH1zfHI8+/7pvV79k8fl1QZVi3yBi8hN1b0DsIaiK6guoDaHMqDCFCl4i+K49LRaohB4aCIYSZq9MfRYMqPKwm2vOjRGMh2IluRvGCyUseXNmNWnDkS47mQFovWDHcTX05TOy307PTTDMKSDxeitKoS60atVXdc5Zn1ZNg1Y6WW9emSK0yvLMG2Fds1xFRddOKsuItXrwq+uvymAExKMArCnAyfQExJsQnGixyXgCxIMgnKdiyPwFxHM4zPoEOLHk26tOnTqFOrXs26NekEACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrcHTDKSauVLuvNr/8eJ44ZaJ4BqZJoe63w5s5TbD90fu9ArvM2Hw0YFLqIMeMRibMQntCodEqtRkM3j3XL3WKLzq54/E1exmhuGaZNu6frVftNJ8RV87r7zjrr33wjeX9kL1l+hGiBPRcCjo+QA5KTlJWWl5iUXjSQnQKZoKGgmzOekaKoqaQupo+pr6GrLa2OsLaXsii0n7e9krknu76+wCbCw7fFIMfIsMofzM2qVjnR0qLPHtbXo9SctNzTVdXg4djepeXm3ePfreux6Kzq8Ljys/T1ldmN+fqT/Cxs+zcgYIWB/wxSQKhP4QSG9RxKgAhPYgSK6yxCwGhOqmMAjuE8guQm0h/Bku8I7runy2RClsFcNoRpTGZEmstsVsQJTWdGntp8dgTaL6VKgEQFCg2Z9OBSkk0XPr32rEPRXVizQlpkVanWr1i5yrgKtmwnsRqCml37CG0JsmzLunWgNq7ZuU2c2r1rCIzevWDxMqgLWKvgBYQLh+3LRIGSFo3xPD4Ruc9kEJUFXcacuetmxp3pfj4MZDRpHqZBhx6cusLqtK0p7EgAACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTAnAoyNjgOQkZKTk2GJOyaOmgKUnZ2WfySLm42eppGgOE0fpKWnpqk9KaOtr7Bglx2ZrZy2n7ihI7Skvr9owTa7tcWVwKqzysTMkrEWK8Ob09TOsqLR2dqQ1ULQrLzh4tzWqx68veHjS+wW7ugD8UfzFfXo+Cj6FPjBU0fOm7llA489M9juXD+C8so1RKjNX4Br3zTZs4jx2KC0hFuQhcCm8aHCbsIyPjIZcmFKj+BAuhHJgeRKmX5cJoNZEuccmhtsuvJJCCgmnjcrQswnkZ5Donh0jlQ5VOnJdU33PbXaEuXOiR+5zpRakyqjjUv/ZQ24dRpHgBMEis3pdSrSqm7TXoQrQW7eqwVfgo059yfZoGbfFS56+Ojgnouj1qUh1B2jXEMqW8b8Q7M7zj488wKtQ3Qr0jlMk0JdQ/Um1pQTfzaaRPZo2pltn8YNSAlTQHxbAH/hW+1whkaOB4etvPhe5YKTQ48eZDp1Hta/Sv+RAAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRWzio2+94vGDP78cvczp5g4N9hgJ/FoE5hI12h35iG4s4jo6QfIkVlDeWjZh7mhScNp6EoIiSGqQEpoWgohOsrnmosRKztHe2qhm5unW8RRy/wMJAxF9JwI+wvRjFusc9yUjLzAPTPNVP18zaNNxa3sbOw5PKQ9jZ5sjo1urY4Ebv3fHf7dT14/flmLcRotGa12QfGXLS8m0zWAPhQIXhGAZx6IrglFXp6MiDSA+oIzyN+P49A5RR0EaR5zzaA+kPEkAIAityLKiSH8uEKN3VPNgPp8uRikoyOvkzpS+hlYgeevkgpimL4njefJhT386GPakW1Xn0o8mQW612Xfm15VKgm5B2UmqIqQOnnqCWkIJKLhomdWdebIM3b9iFd4v4/RsxMJDBZ42yoIs4kuIVjBuHQosismS3ISw3xgxCM2LOMEKLHk26tOnTqFOrXs26tevXoxMAADs=";function xd(t,A,e){const r=t.slice();return r[31]=A[e],r}function Vd(t,A,e){const r=t.slice();return r[34]=A[e],r}function Nd(t,A,e){const r=t.slice();return r[12]=A[e],r}function sb(t){let A,e,r,n;const s=[ab,ob],i=[];function o(a,c){return!a[1]&&a[2]?0:1}return e=o(t),r=i[e]=s[e](t),{c(){A=H("div"),r.c(),_(A,"class","flex flex-col items-center gap-6")},m(a,c){G(a,A,c),i[e].m(A,null),n=!0},p(a,c){let u=e;e=o(a),e===u?i[e].p(a,c):(fe(),lA(i[u],1,1,()=>{i[u]=null}),de(),r=i[e],r?r.p(a,c):(r=i[e]=s[e](a),r.c()),rA(r,1),r.m(A,null))},i(a){n||(rA(r),n=!0)},o(a){lA(r),n=!1},d(a){a&&K(A),i[e].d()}}}function ib(t){let A,e,r,n,s,i,o,a,c,u;function f(R,M){return R[0].data&&R[0].data.length>10?fb:hb}let d=f(t),p=d(t);function w(R,M){return R[9]?gb:db}let y=w(t),I=y(t),S=OA(t[0].guesses),T=[];for(let R=0;R<S.length;R+=1)T[R]=Yd(Nd(t,S,R));let L=!t[0].guessed&&t[2].name!==t[0].artist&&$d(t);return{c(){A=H("div"),e=H("div"),p.c(),r=W(),n=H("div"),s=H("h2"),s.textContent="What's this?",i=W(),o=H("p"),I.c(),a=W(),c=H("div");for(let R=0;R<T.length;R+=1)T[R].c();u=W(),L&&L.c(),_(e,"class","bg-white/90 p-2 rounded-lg w-full max-w-[min(90vw,300px)] aspect-square flex items-center justify-center mx-auto border-2 border-primary"),_(s,"class","text-xl font-bold mb-2 text-primary"),_(o,"class","mb-4"),_(c,"class","flex flex-wrap gap-2 w-full overflow-y-auto"),_(n,"class","w-full max-w-[min(90vw,400px)]"),_(A,"class","flex flex-col items-center gap-6")},m(R,M){G(R,A,M),E(A,e),p.m(e,null),E(A,r),E(A,n),E(n,s),E(n,i),E(n,o),I.m(o,null),E(n,a),E(n,c);for(let D=0;D<T.length;D+=1)T[D]&&T[D].m(c,null);E(A,u),L&&L.m(A,null)},p(R,M){if(d===(d=f(R))&&p?p.p(R,M):(p.d(1),p=d(R),p&&(p.c(),p.m(e,null))),y===(y=w(R))&&I?I.p(R,M):(I.d(1),I=y(R),I&&(I.c(),I.m(o,null))),M[0]&1){S=OA(R[0].guesses);let D;for(D=0;D<S.length;D+=1){const Q=Nd(R,S,D);T[D]?T[D].p(Q,M):(T[D]=Yd(Q),T[D].c(),T[D].m(c,null))}for(;D<T.length;D+=1)T[D].d(1);T.length=S.length}!R[0].guessed&&R[2].name!==R[0].artist?L?L.p(R,M):(L=$d(R),L.c(),L.m(A,null)):L&&(L.d(1),L=null)},i:sA,o:sA,d(R){R&&K(A),p.d(),I.d(),De(T,R),L&&L.d()}}}function ob(t){var F,U,b;let A,e,r,n,s=(((F=t[1])==null?void 0:F.secretWord.toUpperCase())??"")+"",i,o,a=(b=(U=t[2])==null?void 0:U.upgrades)==null?void 0:b.includes(XA.ColorPicker),c,u,f,d,p,w,y,I,S,T=t[4]?"Posting, great work...":"Submit Drawing",L,R,M,D,Q,B=a&&Kd(t),v={};return f=new nb({props:v}),t[24](f),{c(){A=H("div"),e=H("h2"),r=tA("Ok, let's draw "),n=H("span"),i=tA(s),o=W(),B&&B.c(),c=W(),u=H("div"),ge(f.$$.fragment),d=W(),p=H("div"),w=H("button"),w.textContent="Clear",y=W(),I=H("button"),S=H("span"),L=tA(T),_(n,"class","font-bold text-black"),_(e,"class","text-xl mb-4 text-black/60"),_(w,"class","btn btn-outline flex-1"),_(I,"class",R=t[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"),_(p,"class","flex flex-row gap-2 mt-4 w-full"),_(u,"class","w-full aspect-square max-w-[min(90vw,400px)] mx-auto"),_(A,"class","w-full h-screen")},m(m,$){G(m,A,$),E(A,e),E(e,r),E(e,n),E(n,i),E(e,o),B&&B.m(e,null),E(A,c),E(A,u),oe(f,u,null),E(u,d),E(u,p),E(p,w),E(p,y),E(p,I),E(I,S),E(S,L),M=!0,D||(Q=[cA(w,"click",t[25]),cA(I,"click",t[26])],D=!0)},p(m,$){var QA,V,wA;(!M||$[0]&2)&&s!==(s=(((QA=m[1])==null?void 0:QA.secretWord.toUpperCase())??"")+"")&&EA(i,s),$[0]&4&&(a=(wA=(V=m[2])==null?void 0:V.upgrades)==null?void 0:wA.includes(XA.ColorPicker)),a?B?B.p(m,$):(B=Kd(m),B.c(),B.m(e,null)):B&&(B.d(1),B=null);const AA={};f.$set(AA),(!M||$[0]&16)&&T!==(T=m[4]?"Posting, great work...":"Submit Drawing")&&EA(L,T),(!M||$[0]&16&&R!==(R=m[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"))&&_(I,"class",R)},i(m){M||(rA(f.$$.fragment,m),M=!0)},o(m){lA(f.$$.fragment,m),M=!1},d(m){m&&K(A),B&&B.d(),t[24](null),ae(f),D=!1,ve(Q)}}}function ab(t){let A,e,r,n,s,i,o,a=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"",c,u,f,d,p,w={ctx:t,current:null,token:null,hasCatch:!1,pending:ub,then:cb,catch:lb,value:30};return kh(p=t[7],w),{c(){A=H("div"),e=H("h2"),e.textContent="Pick a word to draw",r=W(),n=H("p"),s=H("span"),i=tA("You get coins as the artist, and "),o=H("span"),c=tA(a),u=tA(" gets coins for guessing correctly!"),f=W(),d=H("div"),w.block.c(),_(e,"class","text-xl font-bold mb-2 text-black"),_(o,"class","font-bold"),_(n,"class","mb-6 text-black/60 italic tooltip flex flex-row gap-2 text-xs"),_(d,"class","flex flex-col gap-4 w-full"),_(A,"class","w-full flex flex-col items-center")},m(y,I){G(y,A,I),E(A,e),E(A,r),E(A,n),E(n,s),E(s,i),E(s,o),E(o,c),E(s,u),E(A,f),E(A,d),w.block.m(d,w.anchor=null),w.mount=()=>d,w.anchor=null},p(y,I){t=y,I[0]&12&&a!==(a=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"")&&EA(c,a),w.ctx=t,I[0]&128&&p!==(p=t[7])&&kh(p,w)||rC(w,t,I)},i:sA,o:sA,d(y){y&&K(A),w.block.d(),w.token=null,w=null}}}function Kd(t){let A,e,r,n,s;return{c(){A=H("p"),e=tA(` Purchase color wheel in the
								
								
								`),r=H("span"),r.textContent="Store",_(r,"class","font-bold text-primary cursor-pointer"),_(A,"class","text-xs text-black/60 italic pt-4")},m(i,o){G(i,A,o),E(A,e),E(A,r),n||(s=cA(r,"click",t[23]),n=!0)},p:sA,d(i){i&&K(A),n=!1,s()}}}function lb(t){return{c:sA,m:sA,p:sA,d:sA}}function cb(t){let A,e,r,n=t[8]?"Refreshing...":"Refresh Words",s,i,o,a,c,u,f,d,p,w=OA(t[30]),y=[];for(let S=0;S<w.length;S+=1)y[S]=Wd(xd(t,w,S));let I=!t[8]&&jd();return{c(){for(let S=0;S<y.length;S+=1)y[S].c();A=W(),e=H("button"),r=H("span"),s=tA(n),i=W(),I&&I.c(),a=W(),c=H("p"),u=tA(`Get 5 options instead of 3 in the
								`),f=H("span"),f.textContent="Store",_(e,"class",o="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!t[2]||t[2].coins<5||t[8]?"opacity-20 cursor-not-allowed":"")),_(f,"class","font-bold text-primary cursor-pointer"),_(c,"class","text-xs text-black/60 italic")},m(S,T){for(let L=0;L<y.length;L+=1)y[L]&&y[L].m(S,T);G(S,A,T),G(S,e,T),E(e,r),E(r,s),E(e,i),I&&I.m(e,null),G(S,a,T),G(S,c,T),E(c,u),E(c,f),d||(p=[cA(e,"click",t[21]),cA(f,"click",t[22])],d=!0)},p(S,T){if(T[0]&142){w=OA(S[30]);let L;for(L=0;L<w.length;L+=1){const R=xd(S,w,L);y[L]?y[L].p(R,T):(y[L]=Wd(R),y[L].c(),y[L].m(A.parentNode,A))}for(;L<y.length;L+=1)y[L].d(1);y.length=w.length}T[0]&256&&n!==(n=S[8]?"Refreshing...":"Refresh Words")&&EA(s,n),S[8]?I&&(I.d(1),I=null):I||(I=jd(),I.c(),I.m(e,null)),T[0]&260&&o!==(o="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!S[2]||S[2].coins<5||S[8]?"opacity-20 cursor-not-allowed":""))&&_(e,"class",o)},d(S){S&&(K(A),K(e),K(a),K(c)),De(y,S),I&&I.d(),d=!1,ve(p)}}}function Gd(t){let A,e;return{c(){A=H("img"),Ne(A.src,e=an)||_(A,"src",e),_(A,"class","w-4 h-4")},m(r,n){G(r,A,n)},p:sA,d(r){r&&K(A)}}}function Wd(t){let A,e,r,n=t[31].secretWord.toUpperCase()+"",s,i,o,a=t[31].createdBy?"by "+t[31].createdBy:"",c,u,f,d,p,w,y=OA(Array(t[31].coins)),I=[];for(let T=0;T<y.length;T+=1)I[T]=Gd(Vd(t,y,T));function S(){return t[20](t[31])}return{c(){A=H("button"),e=H("div"),r=H("span"),s=tA(n),i=W(),o=H("span"),c=tA(a),u=W(),f=H("span");for(let T=0;T<I.length;T+=1)I[T].c();_(r,"class","text-sm font-semibold"),_(o,"class","text-[0.8rem] text-white opacity-80"),_(e,"class","flex flex-col items-start gap-1"),_(f,"class","flex items-center gap-1"),_(A,"class",d="btn flex flex-row items-center justify-between w-full border "+(t[31].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))},m(T,L){G(T,A,L),E(A,e),E(e,r),E(r,s),E(e,i),E(e,o),E(o,c),E(A,u),E(A,f);for(let R=0;R<I.length;R+=1)I[R]&&I[R].m(f,null);p||(w=cA(A,"click",S),p=!0)},p(T,L){if(t=T,L[0]&128&&n!==(n=t[31].secretWord.toUpperCase()+"")&&EA(s,n),L[0]&128&&a!==(a=t[31].createdBy?"by "+t[31].createdBy:"")&&EA(c,a),L[0]&128){y=OA(Array(t[31].coins));let R;for(R=0;R<y.length;R+=1){const M=Vd(t,y,R);I[R]?I[R].p(M,L):(I[R]=Gd(),I[R].c(),I[R].m(f,null))}for(;R<I.length;R+=1)I[R].d(1);I.length=y.length}L[0]&128&&d!==(d="btn flex flex-row items-center justify-between w-full border "+(t[31].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))&&_(A,"class",d)},d(T){T&&K(A),De(I,T),p=!1,w()}}}function jd(t){let A;return{c(){A=H("span"),A.innerHTML=`5 <img src="${an}" class="w-4 h-4 inline" alt="coin"/>`,_(A,"class","text-xs items-center flex flex-row gap-1")},m(e,r){G(e,A,r)},d(e){e&&K(A)}}}function ub(t){return{c:sA,m:sA,p:sA,d:sA}}function hb(t){let A;return{c(){A=H("span"),A.textContent="No drawing yet",_(A,"class","text-accent")},m(e,r){G(e,A,r)},p:sA,d(e){e&&K(A)}}}function fb(t){let A,e;return{c(){A=H("img"),Ne(A.src,e=`${t[0].data}`)||_(A,"src",e),_(A,"class","w-full h-full object-contain"),_(A,"alt","Current drawing")},m(r,n){G(r,A,n)},p(r,n){n[0]&1&&!Ne(A.src,e=`${r[0].data}`)&&_(A,"src",e)},d(r){r&&K(A)}}}function db(t){let A,e,r=t[0].artist+"",n,s,i,o=(t[0].hintPurchased||t[0].superHintPurchased)&&Jd(t);return{c(){A=tA("Drawn by "),e=H("span"),n=tA(r),s=W(),o&&o.c(),i=lt(),_(e,"class","font-bold text-secondary")},m(a,c){G(a,A,c),G(a,e,c),E(e,n),G(a,s,c),o&&o.m(a,c),G(a,i,c)},p(a,c){c[0]&1&&r!==(r=a[0].artist+"")&&EA(n,r),a[0].hintPurchased||a[0].superHintPurchased?o?o.p(a,c):(o=Jd(a),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(a){a&&(K(A),K(e),K(s),K(i)),o&&o.d(a)}}}function gb(t){let A,e,r=t[0].secretWord+"",n;return{c(){A=tA("You drew this. The secret word is "),e=H("span"),n=tA(r),_(e,"class","font-bold text-secondary")},m(s,i){G(s,A,i),G(s,e,i),E(e,n)},p(s,i){i[0]&1&&r!==(r=s[0].secretWord+"")&&EA(n,r)},d(s){s&&(K(A),K(e))}}}function Jd(t){let A,e,r=t[0].hintPurchased&&Xd(t),n=t[0].superHintPurchased&&qd(t);return{c(){A=H("ul"),r&&r.c(),e=W(),n&&n.c(),_(A,"class","pl-4 mt-1 space-y-1")},m(s,i){G(s,A,i),r&&r.m(A,null),E(A,e),n&&n.m(A,null)},p(s,i){s[0].hintPurchased?r?r.p(s,i):(r=Xd(s),r.c(),r.m(A,e)):r&&(r.d(1),r=null),s[0].superHintPurchased?n?n.p(s,i):(n=qd(s),n.c(),n.m(A,null)):n&&(n.d(1),n=null)},d(s){s&&K(A),r&&r.d(),n&&n.d()}}}function Xd(t){let A,e=md(t[0])+"",r;return{c(){A=H("li"),r=tA(e),_(A,"class","text-xs list-disc text-accent/70")},m(n,s){G(n,A,s),E(A,r)},p(n,s){s[0]&1&&e!==(e=md(n[0])+"")&&EA(r,e)},d(n){n&&K(A)}}}function qd(t){let A,e=wd(t[0])+"",r;return{c(){A=H("li"),r=tA(e),_(A,"class","text-xs list-disc text-accent/70")},m(n,s){G(n,A,s),E(A,r)},p(n,s){s[0]&1&&e!==(e=wd(n[0])+"")&&EA(r,e)},d(n){n&&K(A)}}}function zd(t){let A,e=t[12]+"",r,n;return{c(){A=H("div"),r=tA(e),n=W(),_(A,"class","bg-accent-light px-3 py-1 rounded-full text-black/60 border border-accent")},m(s,i){G(s,A,i),E(A,r),E(A,n)},p(s,i){i[0]&1&&e!==(e=s[12]+"")&&EA(r,e)},d(s){s&&K(A)}}}function Yd(t){let A,e=t[12]&&zd(t);return{c(){e&&e.c(),A=lt()},m(r,n){e&&e.m(r,n),G(r,A,n)},p(r,n){r[12]?e?e.p(r,n):(e=zd(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&K(A),e&&e.d(r)}}}function $d(t){let A,e,r,n,s,i,o,a,c;function u(p,w){if(!p[0].hintPurchased)return Bb;if(!p[0].superHintPurchased)return pb}let f=u(t),d=f&&f(t);return{c(){A=H("div"),e=H("div"),d&&d.c(),r=W(),n=H("div"),s=H("input"),i=W(),o=H("button"),o.textContent="Guess",_(e,"class","flex gap-2"),_(s,"type","text"),_(s,"placeholder","Type your guess..."),_(s,"class","input input-bordered flex-1 bg-white text-black border-primary"),_(o,"class","btn btn-primary"),_(n,"class","flex gap-2"),_(A,"class","flex flex-col gap-2 w-full max-w-[min(90vw,400px)]")},m(p,w){G(p,A,w),E(A,e),d&&d.m(e,null),E(A,r),E(A,n),E(n,s),Tt(s,t[12]),E(n,i),E(n,o),a||(c=[cA(s,"input",t[16]),cA(s,"keydown",t[17]),cA(o,"click",t[18])],a=!0)},p(p,w){f===(f=u(p))&&d?d.p(p,w):(d&&d.d(1),d=f&&f(p),d&&(d.c(),d.m(e,null))),w[0]&4096&&s.value!==p[12]&&Tt(s,p[12])},d(p){p&&K(A),d&&d.d(),a=!1,ve(c)}}}function pb(t){let A,e=t[11]?"Purchasing...":"Super Hint (10 ",r,n,s,i=t[11]?"":")",o,a,c,u,f;return{c(){A=H("button"),r=tA(e),n=H("img"),o=tA(i),Ne(n.src,s=an)||_(n,"src",s),_(n,"class","w-4 h-4 inline"),_(A,"class",a="btn btn-outline flex-1 "+(t[2].coins<10||t[11]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<10||t[11]},m(d,p){G(d,A,p),E(A,r),E(A,n),E(A,o),u||(f=cA(A,"click",t[15]),u=!0)},p(d,p){p[0]&2048&&e!==(e=d[11]?"Purchasing...":"Super Hint (10 ")&&EA(r,e),p[0]&2048&&i!==(i=d[11]?"":")")&&EA(o,i),p[0]&2052&&a!==(a="btn btn-outline flex-1 "+(d[2].coins<10||d[11]?"opacity-40 btn-error cursor-not-allowed":""))&&_(A,"class",a),p[0]&2052&&c!==(c=d[2].coins<10||d[11])&&(A.disabled=c)},d(d){d&&K(A),u=!1,f()}}}function Bb(t){let A,e=t[10]?"Purchasing...":"Hint (5 ",r,n,s,i=t[10]?"":")",o,a,c,u,f;return{c(){A=H("button"),r=tA(e),n=H("img"),o=tA(i),Ne(n.src,s=an)||_(n,"src",s),_(n,"class","w-4 h-4 inline"),_(A,"class",a="btn btn-outline flex-1 "+(t[2].coins<5||t[10]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<5||t[10]},m(d,p){G(d,A,p),E(A,r),E(A,n),E(A,o),u||(f=cA(A,"click",t[14]),u=!0)},p(d,p){p[0]&1024&&e!==(e=d[10]?"Purchasing...":"Hint (5 ")&&EA(r,e),p[0]&1024&&i!==(i=d[10]?"":")")&&EA(o,i),p[0]&1028&&a!==(a="btn btn-outline flex-1 "+(d[2].coins<5||d[10]?"opacity-40 btn-error cursor-not-allowed":""))&&_(A,"class",a),p[0]&1028&&c!==(c=d[2].coins<5||d[10])&&(A.disabled=c)},d(d){d&&K(A),u=!1,f()}}}function mb(t){let A,e,r,n;const s=[ib,sb],i=[];function o(a,c){return a[3]&&a[2]&&a[0]?0:a[2]&&a[3]?1:-1}return~(e=o(t))&&(r=i[e]=s[e](t)),{c(){A=H("div"),r&&r.c(),_(A,"class","rounded-lg p-9 bg-background flex flex-col justify-center")},m(a,c){G(a,A,c),~e&&i[e].m(A,null),n=!0},p(a,c){let u=e;e=o(a),e===u?~e&&i[e].p(a,c):(r&&(fe(),lA(i[u],1,1,()=>{i[u]=null}),de()),~e?(r=i[e],r?r.p(a,c):(r=i[e]=s[e](a),r.c()),rA(r,1),r.m(A,null)):r=null)},i(a){n||(rA(r),n=!0)},o(a){lA(r),n=!1},d(a){a&&K(A),~e&&i[e].d()}}}function wb(t,A,e){let r,n,s;YA(t,zA,AA=>e(2,r=AA)),YA(t,He,AA=>e(3,n=AA)),YA(t,co,AA=>e(27,s=AA));let i=null,o="",a=null,c=!1,u,f=0,d,p=!1,w=!1,y=!1,I=!1;async function S(AA){if(!n||!r||!i||!AA.trim()||(e(12,o=""),i.guesses.includes(AA)))return;const QA={...i};QA.guesses.push(AA);const V={...n},wA=V.drawings.findIndex(TA=>!TA.guessed&&TA.artist===QA.artist);wA>=0&&(V.drawings[wA]=QA,nt(He,n=V,n));try{await SF(n,r,AA)}catch(TA){console.error("Error submitting guess:",TA)}}async function T(){if(!r||!i||!n||i.hintPurchased||r.coins<5||y)return;e(10,y=!0),await kF(n,i,r)&&await qr(r.name,-5),e(10,y=!1)}async function L(){if(!r||!i||!n||!i.hintPurchased||r.coins<10||I)return;e(11,I=!0),await DF(n,i,r)&&await qr(r.name,-10),e(11,I=!1)}function R(){o=this.value,e(12,o)}const M=AA=>{AA.key==="Enter"&&o.length>0&&S(o)},D=()=>S(o),Q=AA=>AA!==((r==null?void 0:r.name)||""),B=async AA=>{n&&r&&(await RF(n,r.name,AA),e(1,a={secretWord:AA.secretWord,coins:AA.coins,data:"",artist:r.name,guessed:!1,guesses:[],createdAt:new Date,guessedBy:"",hintPurchased:!1,superHintPurchased:!1,comments:[],likes:[]}))},v=async()=>{var AA;if(r&&r.coins>=5&&!p){e(8,p=!0);try{if(await qr(r.name,-5),e(6,f++,f),!n)return;e(7,d=_o((AA=r==null?void 0:r.upgrades)!=null&&AA.includes(XA.MoreWordOptions)?5:3,n,!0))}finally{setTimeout(()=>{e(8,p=!1)},1e3)}}},F=()=>{window.location.href="/?page=store"},U=()=>{window.location.href="/?page=store"};function b(AA){Gs[AA?"unshift":"push"](()=>{u=AA,e(5,u)})}const m=()=>u.clearCanvas(),$=async()=>{if(a&&n&&r&&!c){e(4,c=!0);try{const AA=u.getImageData();if(!AA)throw new Error("No drawing data");const QA={...a,data:AA};nt(He,n.wordOptions=[],n),n.drawings.push(QA),await di(n),e(1,a=null),nt(He,n=null,n)}catch(AA){console.error("Error submitting drawing:",AA)}finally{e(4,c=!1)}}};return t.$$.update=()=>{var AA,QA;if(t.$$.dirty[0]&13&&n&&r){const V=Ru(n,r.name);e(0,i=V?HF(V):null),e(9,w=r.name===(i==null?void 0:i.artist))}t.$$.dirty[0]&12&&e(7,d=n?_o((AA=r==null?void 0:r.upgrades)!=null&&AA.includes(XA.MoreWordOptions)?5:3,n):_o((QA=r==null?void 0:r.upgrades)!=null&&QA.includes(XA.MoreWordOptions)?5:3)),t.$$.dirty[0]&2&&(a?nt(co,s=!0,s):nt(co,s=!1,s))},[i,a,r,n,c,u,f,d,p,w,y,I,o,S,T,L,R,M,D,Q,B,v,F,U,b,m,$]}class Cb extends $e{constructor(A){super(),Ye(this,A,wb,mb,Ke,{},null,[-1,-1])}}const{Boolean:yb}=_p;function Zd(t,A,e){const r=t.slice();return r[19]=A[e],r}function Ag(t){let A,e,r;return{c(){A=H("button"),A.textContent="",_(A,"class","absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-black p-2")},m(n,s){G(n,A,s),e||(r=cA(A,"click",t[11]),e=!0)},p:sA,d(n){n&&K(A),e=!1,r()}}}function _b(t){let A,e,r=OA(t[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=tg(Zd(t,r,i));const s=i=>lA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=lt()},m(i,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,o);G(i,A,o),e=!0},p(i,o){if(o&180){r=OA(i[2]);let a;for(a=0;a<r.length;a+=1){const c=Zd(i,r,a);n[a]?(n[a].p(c,o),rA(n[a],1)):(n[a]=tg(c),n[a].c(),rA(n[a],1),n[a].m(A.parentNode,A))}for(fe(),a=r.length;a<n.length;a+=1)s(a);de()}},i(i){if(!e){for(let o=0;o<r.length;o+=1)rA(n[o]);e=!0}},o(i){n=n.filter(yb);for(let o=0;o<n.length;o+=1)lA(n[o]);e=!1},d(i){i&&K(A),De(n,i)}}}function vb(t){let A;return{c(){A=H("div"),A.textContent="No users found",_(A,"class","text-center py-8 text-black/60")},m(e,r){G(e,A,r)},p:sA,i:sA,o:sA,d(e){e&&K(A)}}}function Eb(t){let A;return{c(){A=H("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',_(A,"class","flex items-center justify-center py-8")},m(e,r){G(e,A,r)},p:sA,i:sA,o:sA,d(e){e&&K(A)}}}function eg(t){let A,e;function r(...o){return t[12](t[19],...o)}function n(...o){return t[13](t[19],...o)}function s(...o){return t[14](t[19],...o)}function i(){return t[15](t[19])}return A=new Hu({props:{name:t[19].name,coins:t[19].coins,showAvatar:!0,subtitle:t[4].filter(r).length>0?`${t[4].filter(n).length} game${t[4].filter(s).length>1?"s":""}`:null,onClick:i}}),{c(){ge(A.$$.fragment)},m(o,a){oe(A,o,a),e=!0},p(o,a){t=o;const c={};a&4&&(c.name=t[19].name),a&4&&(c.coins=t[19].coins),a&20&&(c.subtitle=t[4].filter(r).length>0?`${t[4].filter(n).length} game${t[4].filter(s).length>1?"s":""}`:null),a&4&&(c.onClick=i),A.$set(c)},i(o){e||(rA(A.$$.fragment,o),e=!0)},o(o){lA(A.$$.fragment,o),e=!1},d(o){ae(A,o)}}}function tg(t){let A,e,r=t[5]&&t[5].name!==t[19].name&&eg(t);return{c(){r&&r.c(),A=lt()},m(n,s){r&&r.m(n,s),G(n,A,s),e=!0},p(n,s){n[5]&&n[5].name!==n[19].name?r?(r.p(n,s),s&36&&rA(r,1)):(r=eg(n),r.c(),rA(r,1),r.m(A.parentNode,A)):r&&(fe(),lA(r,1,1,()=>{r=null}),de())},i(n){e||(rA(r),e=!0)},o(n){lA(r),e=!1},d(n){n&&K(A),r&&r.d(n)}}}function Qb(t){let A,e,r,n,s,i,o,a,c,u,f,d,p,w,y,I,S,T;r=new Ta({props:{navigate:t[0]}});let L=t[1]&&Ag(t);const R=[Eb,vb,_b],M=[];function D(Q,B){return Q[3]?0:Q[2].length===0?1:2}return w=D(t),y=M[w]=R[w](t),{c(){A=H("div"),e=H("div"),ge(r.$$.fragment),n=W(),s=H("h2"),s.textContent="Challenge a friend",i=W(),o=H("p"),o.textContent="Tap on a user to start a new game",a=W(),c=H("div"),u=H("input"),f=W(),L&&L.c(),d=W(),p=H("div"),y.c(),_(s,"class","text-xl font-bold text-primary"),_(o,"class","text-sm text-black/60"),_(e,"class","flex flex-col gap-2"),_(u,"type","text"),_(u,"placeholder","Search users..."),_(u,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-base px-4 py-3 shadow-sm"),_(u,"autocorrect","off"),_(c,"class","relative"),_(p,"class","flex flex-col w-full gap-2 pt-2 overflow-y-auto"),_(A,"class","flex flex-col gap-4 p-4 pt-24")},m(Q,B){G(Q,A,B),E(A,e),oe(r,e,null),E(e,n),E(e,s),E(e,i),E(e,o),E(A,a),E(A,c),E(c,u),Tt(u,t[1]),E(c,f),L&&L.m(c,null),E(A,d),E(A,p),M[w].m(p,null),I=!0,S||(T=[cA(u,"input",t[6]),cA(u,"input",t[10])],S=!0)},p(Q,[B]){const v={};B&1&&(v.navigate=Q[0]),r.$set(v),B&2&&u.value!==Q[1]&&Tt(u,Q[1]),Q[1]?L?L.p(Q,B):(L=Ag(Q),L.c(),L.m(c,null)):L&&(L.d(1),L=null);let F=w;w=D(Q),w===F?M[w].p(Q,B):(fe(),lA(M[F],1,1,()=>{M[F]=null}),de(),y=M[w],y?y.p(Q,B):(y=M[w]=R[w](Q),y.c()),rA(y,1),y.m(p,null))},i(Q){I||(rA(r.$$.fragment,Q),rA(y),I=!0)},o(Q){lA(r.$$.fragment,Q),lA(y),I=!1},d(Q){Q&&K(A),ae(r),L&&L.d(),M[w].d(),S=!1,ve(T)}}}function Ib(t,A,e){let r,n,s,i,o;YA(t,zA,D=>e(5,n=D)),YA(t,He,D=>e(18,s=D)),YA(t,Tc,D=>e(8,i=D)),YA(t,qn,D=>e(9,o=D));let a="",c=[],u,f=!0,d=!1,{navigate:p}=A;function w(){clearTimeout(u),u=setTimeout(async()=>{e(3,f=!0),e(2,c=await uc(a)),e(3,f=!1)},300)}Xn(async()=>{e(3,f=!0),await yw(),e(2,c=await uc("")),e(3,f=!1)});async function y(D){if(!(!n||d)){d=!0;try{nt(He,s=await EF([n.name,D.name]),s)}catch(Q){console.error("Error creating game:",Q)}finally{d=!1}}}function I(){a=this.value,e(1,a)}const S=()=>{e(1,a=""),w()},T=(D,Q)=>Q.users.includes(D.name),L=(D,Q)=>Q.users.includes(D.name),R=(D,Q)=>Q.users.includes(D.name),M=D=>y(D);return t.$$set=D=>{"navigate"in D&&e(0,p=D.navigate)},t.$$.update=()=>{t.$$.dirty&768&&e(4,r=o.map(D=>i[D]).filter(Boolean))},[p,a,c,f,r,n,w,y,i,o,I,S,T,L,R,M]}class Ub extends $e{constructor(A){super(),Ye(this,A,Ib,Qb,Ke,{navigate:0})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hc=function(t,A){return hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},hc(t,A)};function Ct(t,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");hc(t,A);function e(){this.constructor=t}t.prototype=A===null?Object.create(A):(e.prototype=A.prototype,new e)}function At(t,A,e,r){function n(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(u){try{c(r.next(u))}catch(f){i(f)}}function a(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?s(u.value):n(u.value).then(o,a)}c((r=r.apply(t,[])).next())})}function je(t,A){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,n,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(c){return function(u){return a([c,u])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(u){c=[6,u],n=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var rn=function(){function t(A,e,r,n){this.left=A,this.top=e,this.width=r,this.height=n}return t.prototype.add=function(A,e,r,n){return new t(this.left+A,this.top+e,this.width+r,this.height+n)},t.fromClientRect=function(A,e){return new t(e.left+A.windowBounds.left,e.top+A.windowBounds.top,e.width,e.height)},t.fromDOMRectList=function(A,e){var r=Array.from(e).find(function(n){return n.width!==0});return r?new t(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),ku=function(t,A){return rn.fromClientRect(t,A.getBoundingClientRect())},Sa=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},re=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},rg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vi=0;Vi<rg.length;Vi++)Fb[rg.charCodeAt(Vi)]=Vi;var ng="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Is=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ni=0;Ni<ng.length;Ni++)Is[ng.charCodeAt(Ni)]=Ni;var bb=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,o,a;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=Is[t.charCodeAt(r)],i=Is[t.charCodeAt(r+1)],o=Is[t.charCodeAt(r+2)],a=Is[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|o>>2,u[n++]=(o&3)<<6|a&63;return c},Tb=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},Sb=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},zr=5,Du=11,Bl=2,Rb=Du-zr,Iw=65536>>zr,Hb=1<<zr,ml=Hb-1,kb=1024>>zr,Db=Iw+kb,Lb=Db,Pb=32,Ob=Lb+Pb,Mb=65536>>Du,xb=1<<Rb,Vb=xb-1,sg=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},Nb=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},Kb=function(t,A){var e=bb(t),r=Array.isArray(e)?Sb(e):new Uint32Array(e),n=Array.isArray(e)?Tb(e):new Uint16Array(e),s=24,i=sg(n,s/2,r[4]/2),o=r[5]===2?sg(n,(s+r[4])/2):Nb(r,Math.ceil((s+r[4])/4));return new Gb(r[0],r[1],r[2],r[3],i,o)},Gb=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>zr],e=(e<<Bl)+(A&ml),this.data[e];if(A<=65535)return e=this.index[Iw+(A-55296>>zr)],e=(e<<Bl)+(A&ml),this.data[e];if(A<this.highStart)return e=Ob-Mb+(A>>Du),e=this.index[e],e+=A>>zr&Vb,e=this.index[e],e=(e<<Bl)+(A&ml),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),ig="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ki=0;Ki<ig.length;Ki++)Wb[ig.charCodeAt(Ki)]=Ki;var jb="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",og=50,Jb=1,Uw=2,Fw=3,Xb=4,qb=5,ag=7,bw=8,lg=9,dr=10,fc=11,cg=12,dc=13,zb=14,Us=15,gc=16,Gi=17,Bs=18,Yb=19,ug=20,pc=21,ms=22,wl=23,mn=24,Je=25,Fs=26,bs=27,wn=28,$b=29,Gr=30,Zb=31,Wi=32,ji=33,Bc=34,mc=35,wc=36,Zs=37,Cc=38,vo=39,Eo=40,Cl=41,Tw=42,AT=43,eT=[9001,65288],Sw="!",SA="",Ji="",yc=Kb(jb),xt=[Gr,wc],_c=[Jb,Uw,Fw,qb],Rw=[dr,bw],hg=[bs,Fs],tT=_c.concat(Rw),fg=[Cc,vo,Eo,Bc,mc],rT=[Us,dc],nT=function(t,A){A===void 0&&(A="strict");var e=[],r=[],n=[];return t.forEach(function(s,i){var o=yc.get(s);if(o>og?(n.push(!0),o-=og):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(i),e.push(gc);if(o===Xb||o===fc){if(i===0)return r.push(i),e.push(Gr);var a=e[i-1];return tT.indexOf(a)===-1?(r.push(r[i-1]),e.push(a)):(r.push(i),e.push(Gr))}if(r.push(i),o===Zb)return e.push(A==="strict"?pc:Zs);if(o===Tw||o===$b)return e.push(Gr);if(o===AT)return s>=131072&&s<=196605||s>=196608&&s<=262141?e.push(Zs):e.push(Gr);e.push(o)}),[r,e,n]},yl=function(t,A,e,r){var n=r[e];if(Array.isArray(t)?t.indexOf(n)!==-1:t===n)for(var s=e;s<=r.length;){s++;var i=r[s];if(i===A)return!0;if(i!==dr)break}if(n===dr)for(var s=e;s>0;){s--;var o=r[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var a=e;a<=r.length;){a++;var i=r[a];if(i===A)return!0;if(i!==dr)break}if(o!==dr)break}return!1},dg=function(t,A){for(var e=t;e>=0;){var r=A[e];if(r===dr)e--;else return r}return 0},sT=function(t,A,e,r,n){if(e[r]===0)return SA;var s=r-1;if(Array.isArray(n)&&n[s]===!0)return SA;var i=s-1,o=s+1,a=A[s],c=i>=0?A[i]:0,u=A[o];if(a===Uw&&u===Fw)return SA;if(_c.indexOf(a)!==-1)return Sw;if(_c.indexOf(u)!==-1||Rw.indexOf(u)!==-1)return SA;if(dg(s,A)===bw)return Ji;if(yc.get(t[s])===fc||(a===Wi||a===ji)&&yc.get(t[o])===fc||a===ag||u===ag||a===lg||[dr,dc,Us].indexOf(a)===-1&&u===lg||[Gi,Bs,Yb,mn,wn].indexOf(u)!==-1||dg(s,A)===ms||yl(wl,ms,s,A)||yl([Gi,Bs],pc,s,A)||yl(cg,cg,s,A))return SA;if(a===dr)return Ji;if(a===wl||u===wl)return SA;if(u===gc||a===gc)return Ji;if([dc,Us,pc].indexOf(u)!==-1||a===zb||c===wc&&rT.indexOf(a)!==-1||a===wn&&u===wc||u===ug||xt.indexOf(u)!==-1&&a===Je||xt.indexOf(a)!==-1&&u===Je||a===bs&&[Zs,Wi,ji].indexOf(u)!==-1||[Zs,Wi,ji].indexOf(a)!==-1&&u===Fs||xt.indexOf(a)!==-1&&hg.indexOf(u)!==-1||hg.indexOf(a)!==-1&&xt.indexOf(u)!==-1||[bs,Fs].indexOf(a)!==-1&&(u===Je||[ms,Us].indexOf(u)!==-1&&A[o+1]===Je)||[ms,Us].indexOf(a)!==-1&&u===Je||a===Je&&[Je,wn,mn].indexOf(u)!==-1)return SA;if([Je,wn,mn,Gi,Bs].indexOf(u)!==-1)for(var f=s;f>=0;){var d=A[f];if(d===Je)return SA;if([wn,mn].indexOf(d)!==-1)f--;else break}if([bs,Fs].indexOf(u)!==-1)for(var f=[Gi,Bs].indexOf(a)!==-1?i:s;f>=0;){var d=A[f];if(d===Je)return SA;if([wn,mn].indexOf(d)!==-1)f--;else break}if(Cc===a&&[Cc,vo,Bc,mc].indexOf(u)!==-1||[vo,Bc].indexOf(a)!==-1&&[vo,Eo].indexOf(u)!==-1||[Eo,mc].indexOf(a)!==-1&&u===Eo||fg.indexOf(a)!==-1&&[ug,Fs].indexOf(u)!==-1||fg.indexOf(u)!==-1&&a===bs||xt.indexOf(a)!==-1&&xt.indexOf(u)!==-1||a===mn&&xt.indexOf(u)!==-1||xt.concat(Je).indexOf(a)!==-1&&u===ms&&eT.indexOf(t[o])===-1||xt.concat(Je).indexOf(u)!==-1&&a===Bs)return SA;if(a===Cl&&u===Cl){for(var p=e[s],w=1;p>0&&(p--,A[p]===Cl);)w++;if(w%2!==0)return SA}return a===Wi&&u===ji?SA:Ji},iT=function(t,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var e=nT(t,A.lineBreak),r=e[0],n=e[1],s=e[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(o){return[Je,Gr,Tw].indexOf(o)!==-1?Zs:o}));var i=A.wordBreak==="keep-all"?s.map(function(o,a){return o&&t[a]>=19968&&t[a]<=40959}):void 0;return[r,n,i]},oT=function(){function t(A,e,r,n){this.codePoints=A,this.required=e===Sw,this.start=r,this.end=n}return t.prototype.slice=function(){return re.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),aT=function(t,A){var e=Sa(t),r=iT(e,A),n=r[0],s=r[1],i=r[2],o=e.length,a=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=SA;c<o&&(u=sT(e,s,n,++c,i))===SA;);if(u!==SA||c===o){var f=new oT(e,u,a,c);return a=c,{value:f,done:!1}}return{done:!0,value:null}}}},lT=1,cT=2,gi=4,gg=8,Xo=10,pg=47,xs=92,uT=9,hT=32,Xi=34,ws=61,fT=35,dT=36,gT=37,qi=39,zi=40,Cs=41,pT=95,Oe=45,BT=33,mT=60,wT=62,CT=64,yT=91,_T=93,vT=61,ET=123,Yi=63,QT=125,Bg=124,IT=126,UT=128,mg=65533,_l=42,Xr=43,FT=44,bT=58,TT=59,Ai=46,ST=0,RT=8,HT=11,kT=14,DT=31,LT=127,Et=-1,Hw=48,kw=97,Dw=101,PT=102,OT=117,MT=122,Lw=65,Pw=69,Ow=70,xT=85,VT=90,Fe=function(t){return t>=Hw&&t<=57},NT=function(t){return t>=55296&&t<=57343},Cn=function(t){return Fe(t)||t>=Lw&&t<=Ow||t>=kw&&t<=PT},KT=function(t){return t>=kw&&t<=MT},GT=function(t){return t>=Lw&&t<=VT},WT=function(t){return KT(t)||GT(t)},jT=function(t){return t>=UT},$i=function(t){return t===Xo||t===uT||t===hT},qo=function(t){return WT(t)||jT(t)||t===pT},wg=function(t){return qo(t)||Fe(t)||t===Oe},JT=function(t){return t>=ST&&t<=RT||t===HT||t>=kT&&t<=DT||t===LT},or=function(t,A){return t!==xs?!1:A!==Xo},Zi=function(t,A,e){return t===Oe?qo(A)||or(A,e):qo(t)?!0:!!(t===xs&&or(t,A))},vl=function(t,A,e){return t===Xr||t===Oe?Fe(A)?!0:A===Ai&&Fe(e):Fe(t===Ai?A:t)},XT=function(t){var A=0,e=1;(t[A]===Xr||t[A]===Oe)&&(t[A]===Oe&&(e=-1),A++);for(var r=[];Fe(t[A]);)r.push(t[A++]);var n=r.length?parseInt(re.apply(void 0,r),10):0;t[A]===Ai&&A++;for(var s=[];Fe(t[A]);)s.push(t[A++]);var i=s.length,o=i?parseInt(re.apply(void 0,s),10):0;(t[A]===Pw||t[A]===Dw)&&A++;var a=1;(t[A]===Xr||t[A]===Oe)&&(t[A]===Oe&&(a=-1),A++);for(var c=[];Fe(t[A]);)c.push(t[A++]);var u=c.length?parseInt(re.apply(void 0,c),10):0;return e*(n+o*Math.pow(10,-i))*Math.pow(10,a*u)},qT={type:2},zT={type:3},YT={type:4},$T={type:13},ZT={type:8},A1={type:21},e1={type:9},t1={type:10},r1={type:11},n1={type:12},s1={type:14},Ao={type:23},i1={type:1},o1={type:25},a1={type:24},l1={type:26},c1={type:27},u1={type:28},h1={type:29},f1={type:31},vc={type:32},Mw=function(){function t(){this._value=[]}return t.prototype.write=function(A){this._value=this._value.concat(Sa(A))},t.prototype.read=function(){for(var A=[],e=this.consumeToken();e!==vc;)A.push(e),e=this.consumeToken();return A},t.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case Xi:return this.consumeStringToken(Xi);case fT:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(wg(e)||or(r,n)){var s=Zi(e,r,n)?cT:lT,i=this.consumeName();return{type:5,value:i,flags:s}}break;case dT:if(this.peekCodePoint(0)===ws)return this.consumeCodePoint(),$T;break;case qi:return this.consumeStringToken(qi);case zi:return qT;case Cs:return zT;case _l:if(this.peekCodePoint(0)===ws)return this.consumeCodePoint(),s1;break;case Xr:if(vl(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case FT:return YT;case Oe:var o=A,a=this.peekCodePoint(0),c=this.peekCodePoint(1);if(vl(o,a,c))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(Zi(o,a,c))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(a===Oe&&c===wT)return this.consumeCodePoint(),this.consumeCodePoint(),a1;break;case Ai:if(vl(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case pg:if(this.peekCodePoint(0)===_l)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===_l&&(u=this.consumeCodePoint(),u===pg))return this.consumeToken();if(u===Et)return this.consumeToken()}break;case bT:return l1;case TT:return c1;case mT:if(this.peekCodePoint(0)===BT&&this.peekCodePoint(1)===Oe&&this.peekCodePoint(2)===Oe)return this.consumeCodePoint(),this.consumeCodePoint(),o1;break;case CT:var f=this.peekCodePoint(0),d=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Zi(f,d,p)){var i=this.consumeName();return{type:7,value:i}}break;case yT:return u1;case xs:if(or(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case _T:return h1;case vT:if(this.peekCodePoint(0)===ws)return this.consumeCodePoint(),ZT;break;case ET:return r1;case QT:return n1;case OT:case xT:var w=this.peekCodePoint(0),y=this.peekCodePoint(1);return w===Xr&&(Cn(y)||y===Yi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case Bg:if(this.peekCodePoint(0)===ws)return this.consumeCodePoint(),e1;if(this.peekCodePoint(0)===Bg)return this.consumeCodePoint(),A1;break;case IT:if(this.peekCodePoint(0)===ws)return this.consumeCodePoint(),t1;break;case Et:return vc}return $i(A)?(this.consumeWhiteSpace(),f1):Fe(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):qo(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:re(A)}},t.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},t.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},t.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},t.prototype.consumeUnicodeRangeToken=function(){for(var A=[],e=this.consumeCodePoint();Cn(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();for(var r=!1;e===Yi&&A.length<6;)A.push(e),e=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(re.apply(void 0,A.map(function(a){return a===Yi?Hw:a})),16),s=parseInt(re.apply(void 0,A.map(function(a){return a===Yi?Ow:a})),16);return{type:30,start:n,end:s}}var i=parseInt(re.apply(void 0,A),16);if(this.peekCodePoint(0)===Oe&&Cn(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var o=[];Cn(e)&&o.length<6;)o.push(e),e=this.consumeCodePoint();var s=parseInt(re.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===zi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zi?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},t.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Et)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===qi||e===Xi){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Et||this.peekCodePoint(0)===Cs)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Ao)}for(;;){var n=this.consumeCodePoint();if(n===Et||n===Cs)return{type:22,value:re.apply(void 0,A)};if($i(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Et||this.peekCodePoint(0)===Cs?(this.consumeCodePoint(),{type:22,value:re.apply(void 0,A)}):(this.consumeBadUrlRemnants(),Ao);if(n===Xi||n===qi||n===zi||JT(n))return this.consumeBadUrlRemnants(),Ao;if(n===xs)if(or(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ao;else A.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;$i(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===Cs||A===Et)return;or(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(A){for(var e=5e4,r="";A>0;){var n=Math.min(e,A);r+=re.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},t.prototype.consumeStringToken=function(A){var e="",r=0;do{var n=this._value[r];if(n===Et||n===void 0||n===A)return e+=this.consumeStringSlice(r),{type:0,value:e};if(n===Xo)return this._value.splice(0,r),i1;if(n===xs){var s=this._value[r+1];s!==Et&&s!==void 0&&(s===Xo?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):or(n,s)&&(e+=this.consumeStringSlice(r),e+=re(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var A=[],e=gi,r=this.peekCodePoint(0);for((r===Xr||r===Oe)&&A.push(this.consumeCodePoint());Fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===Ai&&Fe(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=gg;Fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===Pw||r===Dw)&&((n===Xr||n===Oe)&&Fe(s)||Fe(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=gg;Fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[XT(A),e]},t.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),e=A[0],r=A[1],n=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Zi(n,s,i)){var o=this.consumeName();return{type:15,number:e,flags:r,unit:o}}return n===gT?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Cn(A)){for(var e=re(A);Cn(this.peekCodePoint(0))&&e.length<6;)e+=re(this.consumeCodePoint());$i(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return r===0||NT(r)||r>1114111?mg:r}return A===Et?mg:A},t.prototype.consumeName=function(){for(var A="";;){var e=this.consumeCodePoint();if(wg(e))A+=re(e);else if(or(e,this.peekCodePoint(0)))A+=re(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),A}},t}(),xw=function(){function t(A){this._tokens=A}return t.create=function(A){var e=new Mw;return e.write(A),new t(e.read())},t.parseValue=function(A){return t.create(A).parseComponentValue()},t.parseValues=function(A){return t.create(A).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var e=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var A=[];;){var e=this.consumeComponentValue();if(e.type===32)return A;A.push(e),A.push()}},t.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},t.prototype.consumeSimpleBlock=function(A){for(var e={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||d1(r,A))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(A){for(var e={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?vc:A},t.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},t}(),pi=function(t){return t.type===15},Ra=function(t){return t.type===17},Ae=function(t){return t.type===20},Ec=function(t,A){return Ae(t)&&t.value===A},Ha=function(t){return t.type!==31&&t.type!==4},Dt=function(t){var A=[],e=[];return t.forEach(function(r){if(r.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(e),e=[];return}r.type!==31&&e.push(r)}),e.length&&A.push(e),A},d1=function(t,A){return A===11&&t.type===12||A===28&&t.type===29?!0:A===2&&t.type===3},Hr=function(t){return t.type===17||t.type===15},ie=function(t){return t.type===16||Hr(t)},Vw=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ye={type:17,number:0,flags:gi},Lu={type:16,number:50,flags:gi},gr={type:16,number:100,flags:gi},Ts=function(t,A,e){var r=t[0],n=t[1];return[WA(r,A),WA(typeof n<"u"?n:r,e)]},WA=function(t,A){if(t.type===16)return t.number/100*A;if(pi(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Nw="deg",Kw="grad",Gw="rad",Ww="turn",ka={name:"angle",parse:function(t,A){if(A.type===15)switch(A.unit){case Nw:return Math.PI*A.number/180;case Kw:return Math.PI/200*A.number;case Gw:return A.number;case Ww:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},jw=function(t){return t.type===15&&(t.unit===Nw||t.unit===Kw||t.unit===Gw||t.unit===Ww)},Jw=function(t){var A=t.filter(Ae).map(function(e){return e.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ye,ye];case"to top":case"bottom":return st(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ye,gr];case"to right":case"left":return st(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[gr,gr];case"to bottom":case"top":return st(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[gr,ye];case"to left":case"right":return st(270)}return 0},st=function(t){return Math.PI*t/180},_r={name:"color",parse:function(t,A){if(A.type===18){var e=g1[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return e(t,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3);return pr(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3),i=A.value.substring(3,4);return pr(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6);return pr(parseInt(r,16),parseInt(n,16),parseInt(s,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6),i=A.value.substring(6,8);return pr(parseInt(r,16),parseInt(n,16),parseInt(s,16),parseInt(i,16)/255)}}if(A.type===20){var o=ei[A.value.toUpperCase()];if(typeof o<"u")return o}return ei.TRANSPARENT}},Pn=function(t){return(255&t)===0},pe=function(t){var A=255&t,e=255&t>>8,r=255&t>>16,n=255&t>>24;return A<255?"rgba("+n+","+r+","+e+","+A/255+")":"rgb("+n+","+r+","+e+")"},pr=function(t,A,e,r){return(t<<24|A<<16|e<<8|Math.round(r*255)<<0)>>>0},Cg=function(t,A){if(t.type===17)return t.number;if(t.type===16){var e=A===3?1:255;return A===3?t.number/100*e:Math.round(t.number/100*e)}return 0},yg=function(t,A){var e=A.filter(Ha);if(e.length===3){var r=e.map(Cg),n=r[0],s=r[1],i=r[2];return pr(n,s,i,1)}if(e.length===4){var o=e.map(Cg),n=o[0],s=o[1],i=o[2],a=o[3];return pr(n,s,i,a)}return 0};function El(t,A,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(A-t)*e*6+t:e<1/2?A:e<2/3?(A-t)*6*(2/3-e)+t:t}var _g=function(t,A){var e=A.filter(Ha),r=e[0],n=e[1],s=e[2],i=e[3],o=(r.type===17?st(r.number):ka.parse(t,r))/(Math.PI*2),a=ie(n)?n.number/100:0,c=ie(s)?s.number/100:0,u=typeof i<"u"&&ie(i)?WA(i,1):1;if(a===0)return pr(c*255,c*255,c*255,1);var f=c<=.5?c*(a+1):c+a-c*a,d=c*2-f,p=El(d,f,o+1/3),w=El(d,f,o),y=El(d,f,o-1/3);return pr(p*255,w*255,y*255,u)},g1={hsl:_g,hsla:_g,rgb:yg,rgba:yg},vg=function(t,A){return _r.parse(t,xw.create(A).parseComponentValue())},ei={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},p1={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(Ae(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},B1={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Da=function(t,A){var e=_r.parse(t,A[0]),r=A[1];return r&&ie(r)?{color:e,stop:r}:{color:e,stop:null}},Eg=function(t,A){var e=t[0],r=t[t.length-1];e.stop===null&&(e.stop=ye),r.stop===null&&(r.stop=gr);for(var n=[],s=0,i=0;i<t.length;i++){var o=t[i].stop;if(o!==null){var a=WA(o,A);a>s?n.push(a):n.push(s),s=a}else n.push(null)}for(var c=null,i=0;i<n.length;i++){var u=n[i];if(u===null)c===null&&(c=i);else if(c!==null){for(var f=i-c,d=n[c-1],p=(u-d)/(f+1),w=1;w<=f;w++)n[c+w-1]=p*w;c=null}}return t.map(function(y,I){var S=y.color;return{color:S,stop:Math.max(Math.min(1,n[I]/A),0)}})},m1=function(t,A,e){var r=A/2,n=e/2,s=WA(t[0],A)-r,i=n-WA(t[1],e);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},w1=function(t,A,e){var r=typeof t=="number"?t:m1(t,A,e),n=Math.abs(A*Math.sin(r))+Math.abs(e*Math.cos(r)),s=A/2,i=e/2,o=n/2,a=Math.sin(r-Math.PI/2)*o,c=Math.cos(r-Math.PI/2)*o;return[n,s-c,s+c,i-a,i+a]},gt=function(t,A){return Math.sqrt(t*t+A*A)},Qg=function(t,A,e,r,n){var s=[[0,0],[0,A],[t,0],[t,A]];return s.reduce(function(i,o){var a=o[0],c=o[1],u=gt(e-a,r-c);return(n?u<i.optimumDistance:u>i.optimumDistance)?{optimumCorner:o,optimumDistance:u}:i},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},C1=function(t,A,e,r,n){var s=0,i=0;switch(t.size){case 0:t.shape===0?s=i=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.min(Math.abs(A),Math.abs(A-r)),i=Math.min(Math.abs(e),Math.abs(e-n)));break;case 2:if(t.shape===0)s=i=Math.min(gt(A,e),gt(A,e-n),gt(A-r,e),gt(A-r,e-n));else if(t.shape===1){var o=Math.min(Math.abs(e),Math.abs(e-n))/Math.min(Math.abs(A),Math.abs(A-r)),a=Qg(r,n,A,e,!0),c=a[0],u=a[1];s=gt(c-A,(u-e)/o),i=o*s}break;case 1:t.shape===0?s=i=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.max(Math.abs(A),Math.abs(A-r)),i=Math.max(Math.abs(e),Math.abs(e-n)));break;case 3:if(t.shape===0)s=i=Math.max(gt(A,e),gt(A,e-n),gt(A-r,e),gt(A-r,e-n));else if(t.shape===1){var o=Math.max(Math.abs(e),Math.abs(e-n))/Math.max(Math.abs(A),Math.abs(A-r)),f=Qg(r,n,A,e,!1),c=f[0],u=f[1];s=gt(c-A,(u-e)/o),i=o*s}break}return Array.isArray(t.size)&&(s=WA(t.size[0],r),i=t.size.length===2?WA(t.size[1],n):s),[s,i]},y1=function(t,A){var e=st(180),r=[];return Dt(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&i.value==="to"){e=Jw(n);return}else if(jw(i)){e=ka.parse(t,i);return}}var o=Da(t,n);r.push(o)}),{angle:e,stops:r,type:1}},eo=function(t,A){var e=st(180),r=[];return Dt(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){e=Jw(n);return}else if(jw(i)){e=(ka.parse(t,i)+st(270))%st(360);return}}var o=Da(t,n);r.push(o)}),{angle:e,stops:r,type:1}},_1=function(t,A){var e=st(180),r=[],n=1,s=0,i=3,o=[];return Dt(A).forEach(function(a,c){var u=a[0];if(c===0){if(Ae(u)&&u.value==="linear"){n=1;return}else if(Ae(u)&&u.value==="radial"){n=2;return}}if(u.type===18){if(u.name==="from"){var f=_r.parse(t,u.values[0]);r.push({stop:ye,color:f})}else if(u.name==="to"){var f=_r.parse(t,u.values[0]);r.push({stop:gr,color:f})}else if(u.name==="color-stop"){var d=u.values.filter(Ha);if(d.length===2){var f=_r.parse(t,d[1]),p=d[0];Ra(p)&&r.push({stop:{type:16,number:p.number*100,flags:p.flags},color:f})}}}}),n===1?{angle:(e+st(180))%st(360),stops:r,type:n}:{size:i,shape:s,stops:r,position:o,type:n}},Xw="closest-side",qw="farthest-side",zw="closest-corner",Yw="farthest-corner",$w="circle",Zw="ellipse",A0="cover",e0="contain",v1=function(t,A){var e=0,r=3,n=[],s=[];return Dt(A).forEach(function(i,o){var a=!0;if(o===0){var c=!1;a=i.reduce(function(f,d){if(c)if(Ae(d))switch(d.value){case"center":return s.push(Lu),f;case"top":case"left":return s.push(ye),f;case"right":case"bottom":return s.push(gr),f}else(ie(d)||Hr(d))&&s.push(d);else if(Ae(d))switch(d.value){case $w:return e=0,!1;case Zw:return e=1,!1;case"at":return c=!0,!1;case Xw:return r=0,!1;case A0:case qw:return r=1,!1;case e0:case zw:return r=2,!1;case Yw:return r=3,!1}else if(Hr(d)||ie(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return f},a)}if(a){var u=Da(t,i);n.push(u)}}),{size:r,shape:e,stops:n,position:s,type:2}},to=function(t,A){var e=0,r=3,n=[],s=[];return Dt(A).forEach(function(i,o){var a=!0;if(o===0?a=i.reduce(function(u,f){if(Ae(f))switch(f.value){case"center":return s.push(Lu),!1;case"top":case"left":return s.push(ye),!1;case"right":case"bottom":return s.push(gr),!1}else if(ie(f)||Hr(f))return s.push(f),!1;return u},a):o===1&&(a=i.reduce(function(u,f){if(Ae(f))switch(f.value){case $w:return e=0,!1;case Zw:return e=1,!1;case e0:case Xw:return r=0,!1;case qw:return r=1,!1;case zw:return r=2,!1;case A0:case Yw:return r=3,!1}else if(Hr(f)||ie(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},a)),a){var c=Da(t,i);n.push(c)}}),{size:r,shape:e,stops:n,position:s,type:2}},E1=function(t){return t.type===1},Q1=function(t){return t.type===2},Pu={name:"image",parse:function(t,A){if(A.type===22){var e={url:A.value,type:0};return t.cache.addImage(A.value),e}if(A.type===18){var r=t0[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(t,A.values)}throw new Error("Unsupported image type "+A.type)}};function I1(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!t0[t.name])}var t0={"linear-gradient":y1,"-moz-linear-gradient":eo,"-ms-linear-gradient":eo,"-o-linear-gradient":eo,"-webkit-linear-gradient":eo,"radial-gradient":v1,"-moz-radial-gradient":to,"-ms-radial-gradient":to,"-o-radial-gradient":to,"-webkit-radial-gradient":to,"-webkit-gradient":_1},U1={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var e=A[0];return e.type===20&&e.value==="none"?[]:A.filter(function(r){return Ha(r)&&I1(r)}).map(function(r){return Pu.parse(t,r)})}},F1={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(Ae(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},b1={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,A){return Dt(A).map(function(e){return e.filter(ie)}).map(Vw)}},T1={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,A){return Dt(A).map(function(e){return e.filter(Ae).map(function(r){return r.value}).join(" ")}).map(S1)}},S1=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},On;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(On||(On={}));var R1={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,A){return Dt(A).map(function(e){return e.filter(H1)})}},H1=function(t){return Ae(t)||ie(t)},La=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},k1=La("top"),D1=La("right"),L1=La("bottom"),P1=La("left"),Pa=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(A,e){return Vw(e.filter(ie))}}},O1=Pa("top-left"),M1=Pa("top-right"),x1=Pa("bottom-right"),V1=Pa("bottom-left"),Oa=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},N1=Oa("top"),K1=Oa("right"),G1=Oa("bottom"),W1=Oa("left"),Ma=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return pi(e)?e.number:0}}},j1=Ma("top"),J1=Ma("right"),X1=Ma("bottom"),q1=Ma("left"),z1={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y1={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},$1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,A){return A.filter(Ae).reduce(function(e,r){return e|Z1(r.value)},0)}},Z1=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},AS={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},eS={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},zo;(function(t){t.NORMAL="normal",t.STRICT="strict"})(zo||(zo={}));var tS={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"strict":return zo.STRICT;case"normal":default:return zo.NORMAL}}},rS={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ig=function(t,A){return Ae(t)&&t.value==="normal"?1.2*A:t.type===17?A*t.number:ie(t)?WA(t,A):A},nS={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,A){return A.type===20&&A.value==="none"?null:Pu.parse(t,A)}},sS={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},iS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},xa=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},oS=xa("top"),aS=xa("right"),lS=xa("bottom"),cS=xa("left"),uS={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,A){return A.filter(Ae).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},hS={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Va=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},fS=Va("top"),dS=Va("right"),gS=Va("bottom"),pS=Va("left"),BS={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},mS={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},wS={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&Ec(A[0],"none")?[]:Dt(A).map(function(e){for(var r={color:ei.TRANSPARENT,offsetX:ye,offsetY:ye,blur:ye},n=0,s=0;s<e.length;s++){var i=e[s];Hr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:r.blur=i,n++):r.color=_r.parse(t,i)}return r})}},CS={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},yS={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var e=ES[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return e(A.values)}return null}},_S=function(t){var A=t.filter(function(e){return e.type===17}).map(function(e){return e.number});return A.length===6?A:null},vS=function(t){var A=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),e=A[0],r=A[1];A[2],A[3];var n=A[4],s=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var i=A[12],o=A[13];return A[14],A[15],A.length===16?[e,r,n,s,i,o]:null},ES={matrix:_S,matrix3d:vS},Ug={type:16,number:50,flags:gi},QS=[Ug,Ug],IS={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,A){var e=A.filter(ie);return e.length!==2?QS:[e[0],e[1]]}},US={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Vs;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Vs||(Vs={}));var FS={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-all":return Vs.BREAK_ALL;case"keep-all":return Vs.KEEP_ALL;case"normal":default:return Vs.NORMAL}}},bS={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,A){if(A.type===20)return{auto:!0,order:0};if(Ra(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},r0={name:"time",parse:function(t,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},TS={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,A){return Ra(A)?A.number:1}},SS={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},RS={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,A){return A.filter(Ae).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},HS={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,A){var e=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:e.push(n.value);break;case 17:e.push(n.number.toString());break;case 4:r.push(e.join(" ")),e.length=0;break}}),e.length&&r.push(e.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},kS={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},DS={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,A){if(Ra(A))return A.number;if(Ae(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},LS={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.filter(Ae).map(function(e){return e.value})}},PS={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},le=function(t,A){return(t&A)!==0},OS={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,A){return A.filter(pi).map(function(e){return r0.parse(t,e)})}},MS={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&Ec(A[0],"none")?[]:Dt(A).map(function(e){for(var r={color:255,offsetX:ye,offsetY:ye,blur:ye,spread:ye,inset:!1},n=0,s=0;s<e.length;s++){var i=e[s];Ec(i,"inset")?r.inset=!0:Hr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:n===2?r.blur=i:r.spread=i,n++):r.color=_r.parse(t,i)}return r})}},xS={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,A){var e=[0,1,2],r=[];return A.filter(Ae).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),e.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},VS={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},NS={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,A){return pi(A)?A.number:0}},KS=function(){function t(A,e){var r,n;this.animationDuration=nA(A,OS,e.animationDuration),this.backgroundClip=nA(A,p1,e.backgroundClip),this.backgroundColor=nA(A,B1,e.backgroundColor),this.backgroundImage=nA(A,U1,e.backgroundImage),this.backgroundOrigin=nA(A,F1,e.backgroundOrigin),this.backgroundPosition=nA(A,b1,e.backgroundPosition),this.backgroundRepeat=nA(A,T1,e.backgroundRepeat),this.backgroundSize=nA(A,R1,e.backgroundSize),this.borderTopColor=nA(A,k1,e.borderTopColor),this.borderRightColor=nA(A,D1,e.borderRightColor),this.borderBottomColor=nA(A,L1,e.borderBottomColor),this.borderLeftColor=nA(A,P1,e.borderLeftColor),this.borderTopLeftRadius=nA(A,O1,e.borderTopLeftRadius),this.borderTopRightRadius=nA(A,M1,e.borderTopRightRadius),this.borderBottomRightRadius=nA(A,x1,e.borderBottomRightRadius),this.borderBottomLeftRadius=nA(A,V1,e.borderBottomLeftRadius),this.borderTopStyle=nA(A,N1,e.borderTopStyle),this.borderRightStyle=nA(A,K1,e.borderRightStyle),this.borderBottomStyle=nA(A,G1,e.borderBottomStyle),this.borderLeftStyle=nA(A,W1,e.borderLeftStyle),this.borderTopWidth=nA(A,j1,e.borderTopWidth),this.borderRightWidth=nA(A,J1,e.borderRightWidth),this.borderBottomWidth=nA(A,X1,e.borderBottomWidth),this.borderLeftWidth=nA(A,q1,e.borderLeftWidth),this.boxShadow=nA(A,MS,e.boxShadow),this.color=nA(A,z1,e.color),this.direction=nA(A,Y1,e.direction),this.display=nA(A,$1,e.display),this.float=nA(A,AS,e.cssFloat),this.fontFamily=nA(A,HS,e.fontFamily),this.fontSize=nA(A,kS,e.fontSize),this.fontStyle=nA(A,PS,e.fontStyle),this.fontVariant=nA(A,LS,e.fontVariant),this.fontWeight=nA(A,DS,e.fontWeight),this.letterSpacing=nA(A,eS,e.letterSpacing),this.lineBreak=nA(A,tS,e.lineBreak),this.lineHeight=nA(A,rS,e.lineHeight),this.listStyleImage=nA(A,nS,e.listStyleImage),this.listStylePosition=nA(A,sS,e.listStylePosition),this.listStyleType=nA(A,iS,e.listStyleType),this.marginTop=nA(A,oS,e.marginTop),this.marginRight=nA(A,aS,e.marginRight),this.marginBottom=nA(A,lS,e.marginBottom),this.marginLeft=nA(A,cS,e.marginLeft),this.opacity=nA(A,TS,e.opacity);var s=nA(A,uS,e.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=nA(A,hS,e.overflowWrap),this.paddingTop=nA(A,fS,e.paddingTop),this.paddingRight=nA(A,dS,e.paddingRight),this.paddingBottom=nA(A,gS,e.paddingBottom),this.paddingLeft=nA(A,pS,e.paddingLeft),this.paintOrder=nA(A,xS,e.paintOrder),this.position=nA(A,mS,e.position),this.textAlign=nA(A,BS,e.textAlign),this.textDecorationColor=nA(A,SS,(r=e.textDecorationColor)!==null&&r!==void 0?r:e.color),this.textDecorationLine=nA(A,RS,(n=e.textDecorationLine)!==null&&n!==void 0?n:e.textDecoration),this.textShadow=nA(A,wS,e.textShadow),this.textTransform=nA(A,CS,e.textTransform),this.transform=nA(A,yS,e.transform),this.transformOrigin=nA(A,IS,e.transformOrigin),this.visibility=nA(A,US,e.visibility),this.webkitTextStrokeColor=nA(A,VS,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=nA(A,NS,e.webkitTextStrokeWidth),this.wordBreak=nA(A,FS,e.wordBreak),this.zIndex=nA(A,bS,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Pn(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return le(this.display,4)||le(this.display,33554432)||le(this.display,268435456)||le(this.display,536870912)||le(this.display,67108864)||le(this.display,134217728)},t}(),nA=function(t,A,e){var r=new Mw,n=e!==null&&typeof e<"u"?e.toString():A.initialValue;r.write(n);var s=new xw(r.read());switch(A.type){case 2:var i=s.parseComponentValue();return A.parse(t,Ae(i)?i.value:A.initialValue);case 0:return A.parse(t,s.parseComponentValue());case 1:return A.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(A.format){case"angle":return ka.parse(t,s.parseComponentValue());case"color":return _r.parse(t,s.parseComponentValue());case"image":return Pu.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Hr(o)?o:ye;case"length-percentage":var a=s.parseComponentValue();return ie(a)?a:ye;case"time":return r0.parse(t,s.parseComponentValue())}break}},GS="data-html2canvas-debug",WS=function(t){var A=t.getAttribute(GS);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Fg=function(t,A){var e=WS(t);return e===1||A===e},Lt=function(){function t(A,e){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,Fg(e,3))debugger;this.styles=new KS(A,window.getComputedStyle(e,null)),WR(e)&&(this.styles.animationDuration.some(function(r){return r>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=ku(this.context,e),Fg(e,4)&&(this.flags|=16)}return t}(),jS="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",bg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ss=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ro=0;ro<bg.length;ro++)Ss[bg.charCodeAt(ro)]=ro;var JS=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,o,a;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=Ss[t.charCodeAt(r)],i=Ss[t.charCodeAt(r+1)],o=Ss[t.charCodeAt(r+2)],a=Ss[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|o>>2,u[n++]=(o&3)<<6|a&63;return c},XS=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},qS=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},Yr=5,Ou=11,Ql=2,zS=Ou-Yr,n0=65536>>Yr,YS=1<<Yr,Il=YS-1,$S=1024>>Yr,ZS=n0+$S,AR=ZS,eR=32,tR=AR+eR,rR=65536>>Ou,nR=1<<zS,sR=nR-1,Tg=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},iR=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},oR=function(t,A){var e=JS(t),r=Array.isArray(e)?qS(e):new Uint32Array(e),n=Array.isArray(e)?XS(e):new Uint16Array(e),s=24,i=Tg(n,s/2,r[4]/2),o=r[5]===2?Tg(n,(s+r[4])/2):iR(r,Math.ceil((s+r[4])/4));return new aR(r[0],r[1],r[2],r[3],i,o)},aR=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>Yr],e=(e<<Ql)+(A&Il),this.data[e];if(A<=65535)return e=this.index[n0+(A-55296>>Yr)],e=(e<<Ql)+(A&Il),this.data[e];if(A<this.highStart)return e=tR-rR+(A>>Ou),e=this.index[e],e+=A>>Yr&sR,e=this.index[e],e=(e<<Ql)+(A&Il),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Sg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var no=0;no<Sg.length;no++)lR[Sg.charCodeAt(no)]=no;var cR=1,Ul=2,Fl=3,Rg=4,Hg=5,uR=7,kg=8,bl=9,Tl=10,Dg=11,Lg=12,Pg=13,Og=14,Sl=15,hR=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},fR=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},dR=oR(jS),et="",Rl="",gR=function(t){return dR.get(t)},pR=function(t,A,e){var r=e-2,n=A[r],s=A[e-1],i=A[e];if(s===Ul&&i===Fl)return et;if(s===Ul||s===Fl||s===Rg||i===Ul||i===Fl||i===Rg)return Rl;if(s===kg&&[kg,bl,Dg,Lg].indexOf(i)!==-1||(s===Dg||s===bl)&&(i===bl||i===Tl)||(s===Lg||s===Tl)&&i===Tl||i===Pg||i===Hg||i===uR||s===cR)return et;if(s===Pg&&i===Og){for(;n===Hg;)n=A[--r];if(n===Og)return et}if(s===Sl&&i===Sl){for(var o=0;n===Sl;)o++,n=A[--r];if(o%2===0)return et}return Rl},BR=function(t){var A=hR(t),e=A.length,r=0,n=0,s=A.map(gR);return{next:function(){if(r>=e)return{done:!0,value:null};for(var i=et;r<e&&(i=pR(A,s,++r))===et;);if(i!==et||r===e){var o=fR.apply(null,A.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},mR=function(t){for(var A=BR(t),e=[],r;!(r=A.next()).done;)r.value&&e.push(r.value.slice());return e},wR=function(t){var A=123;if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=A+"px",r.style.display="block",t.body.appendChild(r),e.selectNode(r);var n=e.getBoundingClientRect(),s=Math.round(n.height);if(t.body.removeChild(r),s===A)return!0}}return!1},CR=function(t){var A=t.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",t.body.appendChild(A);var e=t.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=Sa(r.data).map(function(a){return re(a)}),s=0,i={},o=n.every(function(a,c){e.setStart(r,s),e.setEnd(r,s+a.length);var u=e.getBoundingClientRect();s+=a.length;var f=u.x>i.x||u.y>i.y;return i=u,c===0?!0:f});return t.body.removeChild(A),o},yR=function(){return typeof new Image().crossOrigin<"u"},_R=function(){return typeof new XMLHttpRequest().responseType=="string"},vR=function(t){var A=new Image,e=t.createElement("canvas"),r=e.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),e.toDataURL()}catch{return!1}return!0},Mg=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},ER=function(t){var A=t.createElement("canvas"),e=100;A.width=e,A.height=e;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,e,e);var n=new Image,s=A.toDataURL();n.src=s;var i=Qc(e,e,0,0,n);return r.fillStyle="red",r.fillRect(0,0,e,e),xg(i).then(function(o){r.drawImage(o,0,0);var a=r.getImageData(0,0,e,e).data;r.fillStyle="red",r.fillRect(0,0,e,e);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=e+"px",Mg(a)?xg(Qc(e,e,0,0,c)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),Mg(r.getImageData(0,0,e,e).data)}).catch(function(){return!1})},Qc=function(t,A,e,r,n){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(n),i},xg=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){return A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Xe={get SUPPORT_RANGE_BOUNDS(){var t=wR(document);return Object.defineProperty(Xe,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Xe.SUPPORT_RANGE_BOUNDS&&CR(document);return Object.defineProperty(Xe,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=vR(document);return Object.defineProperty(Xe,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?ER(document):Promise.resolve(!1);return Object.defineProperty(Xe,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=yR();return Object.defineProperty(Xe,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=_R();return Object.defineProperty(Xe,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xe,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Xe,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ns=function(){function t(A,e){this.text=A,this.bounds=e}return t}(),QR=function(t,A,e,r){var n=FR(A,e),s=[],i=0;return n.forEach(function(o){if(e.textDecorationLine.length||o.trim().length>0)if(Xe.SUPPORT_RANGE_BOUNDS){var a=Vg(r,i,o.length).getClientRects();if(a.length>1){var c=Mu(o),u=0;c.forEach(function(d){s.push(new Ns(d,rn.fromDOMRectList(t,Vg(r,u+i,d.length).getClientRects()))),u+=d.length})}else s.push(new Ns(o,rn.fromDOMRectList(t,a)))}else{var f=r.splitText(o.length);s.push(new Ns(o,IR(t,r))),r=f}else Xe.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));i+=o.length}),s},IR=function(t,A){var e=A.ownerDocument;if(e){var r=e.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var s=ku(t,r);return r.firstChild&&n.replaceChild(r.firstChild,r),s}}return rn.EMPTY},Vg=function(t,A,e){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(t,A),n.setEnd(t,A+e),n},Mu=function(t){if(Xe.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(t)).map(function(e){return e.segment})}return mR(t)},UR=function(t,A){if(Xe.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return TR(t,A)},FR=function(t,A){return A.letterSpacing!==0?Mu(t):UR(t,A)},bR=[32,160,4961,65792,65793,4153,4241],TR=function(t,A){for(var e=aT(t,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,s=function(){if(n.value){var i=n.value.slice(),o=Sa(i),a="";o.forEach(function(c){bR.indexOf(c)===-1?a+=re(c):(a.length&&r.push(a),r.push(re(c)),a="")}),a.length&&r.push(a)}};!(n=e.next()).done;)s();return r},SR=function(){function t(A,e,r){this.text=RR(e.data,r.textTransform),this.textBounds=QR(A,this.text,r,e)}return t}(),RR=function(t,A){switch(A){case 1:return t.toLowerCase();case 3:return t.replace(HR,kR);case 2:return t.toUpperCase();default:return t}},HR=/(^|\s|:|-|\(|\))([a-z])/g,kR=function(t,A,e){return t.length>0?A+e.toUpperCase():t},s0=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(Lt),i0=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(Lt),o0=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=new XMLSerializer,i=ku(e,r);return r.setAttribute("width",i.width+"px"),r.setAttribute("height",i.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(Lt),a0=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(Lt),Ic=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(Lt),DR=[{type:15,flags:0,unit:"px",number:3}],LR=[{type:16,flags:0,number:50}],PR=function(t){return t.width>t.height?new rn(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new rn(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},OR=function(t){var A=t.type===MR?new Array(t.value.length+1).join(""):t.value;return A.length===0?t.placeholder||"":A},Yo="checkbox",$o="radio",MR="password",Ng=707406591,xu=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=OR(r),(n.type===Yo||n.type===$o)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=PR(n.bounds)),n.type){case Yo:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=DR;break;case $o:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=LR;break}return n}return A}(Lt),l0=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=r.options[r.selectedIndex||0];return n.value=s&&s.text||"",n}return A}(Lt),c0=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(Lt),u0=function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=VR(e,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?vg(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ei.TRANSPARENT,i=r.contentWindow.document.body?vg(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):ei.TRANSPARENT;n.backgroundColor=Pn(s)?Pn(i)?n.styles.backgroundColor:i:s}}catch{}return n}return A}(Lt),xR=["OL","UL","MENU"],Qo=function(t,A,e,r){for(var n=A.firstChild,s=void 0;n;n=s)if(s=n.nextSibling,GR(n)&&n.data.trim().length>0)e.textNodes.push(new SR(t,n,e.styles));else if(f0(n))if(AH(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return Qo(t,o,e,r)});else{var i=h0(t,n);i.styles.isVisible()&&(NR(n,i,r)?i.flags|=4:KR(i.styles)&&(i.flags|=2),xR.indexOf(n.tagName)!==-1&&(i.flags|=8),e.elements.push(i),n.slot,n.shadowRoot?Qo(t,n.shadowRoot,i,r):!g0(n)&&!d0(n)&&!p0(n)&&Qo(t,n,i,r))}},h0=function(t,A){return $R(A)?new s0(t,A):YR(A)?new i0(t,A):d0(A)?new o0(t,A):JR(A)?new a0(t,A):XR(A)?new Ic(t,A):qR(A)?new xu(t,A):p0(A)?new l0(t,A):g0(A)?new c0(t,A):ZR(A)?new u0(t,A):new Lt(t,A)},VR=function(t,A){var e=h0(t,A);return e.flags|=4,Qo(t,A,e,e),e},NR=function(t,A,e){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||zR(t)&&e.styles.isTransparent()},KR=function(t){return t.isPositioned()||t.isFloating()},GR=function(t){return t.nodeType===Node.TEXT_NODE},f0=function(t){return t.nodeType===Node.ELEMENT_NODE},WR=function(t){return f0(t)&&typeof t.style<"u"&&!jR(t)},jR=function(t){return typeof t.className=="object"},JR=function(t){return t.tagName==="LI"},XR=function(t){return t.tagName==="OL"},qR=function(t){return t.tagName==="INPUT"},d0=function(t){return t.tagName==="svg"},zR=function(t){return t.tagName==="BODY"},YR=function(t){return t.tagName==="CANVAS"},$R=function(t){return t.tagName==="IMG"},ZR=function(t){return t.tagName==="IFRAME"},g0=function(t){return t.tagName==="TEXTAREA"},p0=function(t){return t.tagName==="SELECT"},AH=function(t){return t.tagName==="SLOT"},Kg={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Gg={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},eH={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tH={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},yn=function(t,A,e,r,n,s){return t<A||t>e?Vu(t,n,s.length>0):r.integers.reduce(function(i,o,a){for(;t>=o;)t-=o,i+=r.values[a];return i},"")+s},B0=function(t,A,e,r){var n="";do e||t--,n=r(t)+n,t/=A;while(t*A>=A);return n},te=function(t,A,e,r,n){var s=e-A+1;return(t<0?"-":"")+(B0(Math.abs(t),s,r,function(i){return re(Math.floor(i%s)+A)})+n)},Nr=function(t,A,e){e===void 0&&(e=". ");var r=A.length;return B0(Math.abs(t),r,!1,function(n){return A[Math.floor(n%r)]})+e},bn=1,sr=2,ir=4,Rs=8,Vt=function(t,A,e,r,n,s){if(t<-9999||t>9999)return Vu(t,4,n.length>0);var i=Math.abs(t),o=n;if(i===0)return A[0]+o;for(var a=0;i>0&&a<=4;a++){var c=i%10;c===0&&le(s,bn)&&o!==""?o=A[c]+o:c>1||c===1&&a===0||c===1&&a===1&&le(s,sr)||c===1&&a===1&&le(s,ir)&&t>100||c===1&&a>1&&le(s,Rs)?o=A[c]+(a>0?e[a-1]:"")+o:c===1&&a>0&&(o=e[a-1]+o),i=Math.floor(i/10)}return(t<0?r:"")+o},Wg="",jg="",Jg="",Hl="",Vu=function(t,A,e){var r=e?". ":"",n=e?"":"",s=e?", ":"",i=e?" ":"";switch(A){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var o=te(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Nr(t,"",n);case 6:return yn(t,1,3999,Kg,3,r).toLowerCase();case 7:return yn(t,1,3999,Kg,3,r);case 8:return te(t,945,969,!1,r);case 9:return te(t,97,122,!1,r);case 10:return te(t,65,90,!1,r);case 11:return te(t,1632,1641,!0,r);case 12:case 49:return yn(t,1,9999,Gg,3,r);case 35:return yn(t,1,9999,Gg,3,r).toLowerCase();case 13:return te(t,2534,2543,!0,r);case 14:case 30:return te(t,6112,6121,!0,r);case 15:return Nr(t,"",n);case 16:return Nr(t,"",n);case 17:case 48:return Vt(t,"",Wg,"",n,sr|ir|Rs);case 47:return Vt(t,"",jg,"",n,bn|sr|ir|Rs);case 42:return Vt(t,"",Wg,"",n,sr|ir|Rs);case 41:return Vt(t,"",jg,"",n,bn|sr|ir|Rs);case 26:return Vt(t,"","",Jg,n,0);case 25:return Vt(t,"","",Jg,n,bn|sr|ir);case 31:return Vt(t,"","",Hl,s,bn|sr|ir);case 33:return Vt(t,"","",Hl,s,0);case 32:return Vt(t,"","",Hl,s,bn|sr|ir);case 18:return te(t,2406,2415,!0,r);case 20:return yn(t,1,19999,tH,3,r);case 21:return te(t,2790,2799,!0,r);case 22:return te(t,2662,2671,!0,r);case 22:return yn(t,1,10999,eH,3,r);case 23:return Nr(t,"");case 24:return Nr(t,"");case 27:return te(t,3302,3311,!0,r);case 28:return Nr(t,"",n);case 29:return Nr(t,"",n);case 34:return te(t,3792,3801,!0,r);case 37:return te(t,6160,6169,!0,r);case 38:return te(t,4160,4169,!0,r);case 39:return te(t,2918,2927,!0,r);case 40:return te(t,1776,1785,!0,r);case 43:return te(t,3046,3055,!0,r);case 44:return te(t,3174,3183,!0,r);case 45:return te(t,3664,3673,!0,r);case 46:return te(t,3872,3881,!0,r);case 3:default:return te(t,48,57,!0,r)}},Xg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Xg||(Xg={}));var rH=function(){function t(){}return t.getOrigin=function(A){var e=t._link;return e?(e.href=A,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},t.isSameOrigin=function(A){return t.getOrigin(A)===t._origin},t.setContext=function(A){t._link=A.document.createElement("a"),t._origin=t.getOrigin(A.location.href)},t._origin="about:blank",t}(),Z=function(){function t(A,e){this.type=0,this.x=A,this.y=e}return t.prototype.add=function(A,e){return new t(this.x+A,this.y+e)},t}(),_n=function(t,A,e){return new Z(t.x+(A.x-t.x)*e,t.y+(A.y-t.y)*e)},so=function(){function t(A,e,r,n){this.type=1,this.start=A,this.startControl=e,this.endControl=r,this.end=n}return t.prototype.subdivide=function(A,e){var r=_n(this.start,this.startControl,A),n=_n(this.startControl,this.endControl,A),s=_n(this.endControl,this.end,A),i=_n(r,n,A),o=_n(n,s,A),a=_n(i,o,A);return e?new t(this.start,r,i,a):new t(a,o,s,this.end)},t.prototype.add=function(A,e){return new t(this.start.add(A,e),this.startControl.add(A,e),this.endControl.add(A,e),this.end.add(A,e))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),rt=function(t){return t.type===1},nH=function(){function t(A){var e=A.styles,r=A.bounds,n=Ts(e.borderTopLeftRadius,r.width,r.height),s=n[0],i=n[1],o=Ts(e.borderTopRightRadius,r.width,r.height),a=o[0],c=o[1],u=Ts(e.borderBottomRightRadius,r.width,r.height),f=u[0],d=u[1],p=Ts(e.borderBottomLeftRadius,r.width,r.height),w=p[0],y=p[1],I=[];I.push((s+a)/r.width),I.push((w+f)/r.width),I.push((i+y)/r.height),I.push((c+d)/r.height);var S=Math.max.apply(Math,I);S>1&&(s/=S,i/=S,a/=S,c/=S,f/=S,d/=S,w/=S,y/=S);var T=r.width-a,L=r.height-d,R=r.width-f,M=r.height-y,D=e.borderTopWidth,Q=e.borderRightWidth,B=e.borderBottomWidth,v=e.borderLeftWidth,F=WA(e.paddingTop,A.bounds.width),U=WA(e.paddingRight,A.bounds.width),b=WA(e.paddingBottom,A.bounds.width),m=WA(e.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?JA(r.left+v/3,r.top+D/3,s-v/3,i-D/3,PA.TOP_LEFT):new Z(r.left+v/3,r.top+D/3),this.topRightBorderDoubleOuterBox=s>0||i>0?JA(r.left+T,r.top+D/3,a-Q/3,c-D/3,PA.TOP_RIGHT):new Z(r.left+r.width-Q/3,r.top+D/3),this.bottomRightBorderDoubleOuterBox=f>0||d>0?JA(r.left+R,r.top+L,f-Q/3,d-B/3,PA.BOTTOM_RIGHT):new Z(r.left+r.width-Q/3,r.top+r.height-B/3),this.bottomLeftBorderDoubleOuterBox=w>0||y>0?JA(r.left+v/3,r.top+M,w-v/3,y-B/3,PA.BOTTOM_LEFT):new Z(r.left+v/3,r.top+r.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?JA(r.left+v*2/3,r.top+D*2/3,s-v*2/3,i-D*2/3,PA.TOP_LEFT):new Z(r.left+v*2/3,r.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?JA(r.left+T,r.top+D*2/3,a-Q*2/3,c-D*2/3,PA.TOP_RIGHT):new Z(r.left+r.width-Q*2/3,r.top+D*2/3),this.bottomRightBorderDoubleInnerBox=f>0||d>0?JA(r.left+R,r.top+L,f-Q*2/3,d-B*2/3,PA.BOTTOM_RIGHT):new Z(r.left+r.width-Q*2/3,r.top+r.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||y>0?JA(r.left+v*2/3,r.top+M,w-v*2/3,y-B*2/3,PA.BOTTOM_LEFT):new Z(r.left+v*2/3,r.top+r.height-B*2/3),this.topLeftBorderStroke=s>0||i>0?JA(r.left+v/2,r.top+D/2,s-v/2,i-D/2,PA.TOP_LEFT):new Z(r.left+v/2,r.top+D/2),this.topRightBorderStroke=s>0||i>0?JA(r.left+T,r.top+D/2,a-Q/2,c-D/2,PA.TOP_RIGHT):new Z(r.left+r.width-Q/2,r.top+D/2),this.bottomRightBorderStroke=f>0||d>0?JA(r.left+R,r.top+L,f-Q/2,d-B/2,PA.BOTTOM_RIGHT):new Z(r.left+r.width-Q/2,r.top+r.height-B/2),this.bottomLeftBorderStroke=w>0||y>0?JA(r.left+v/2,r.top+M,w-v/2,y-B/2,PA.BOTTOM_LEFT):new Z(r.left+v/2,r.top+r.height-B/2),this.topLeftBorderBox=s>0||i>0?JA(r.left,r.top,s,i,PA.TOP_LEFT):new Z(r.left,r.top),this.topRightBorderBox=a>0||c>0?JA(r.left+T,r.top,a,c,PA.TOP_RIGHT):new Z(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||d>0?JA(r.left+R,r.top+L,f,d,PA.BOTTOM_RIGHT):new Z(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=w>0||y>0?JA(r.left,r.top+M,w,y,PA.BOTTOM_LEFT):new Z(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||i>0?JA(r.left+v,r.top+D,Math.max(0,s-v),Math.max(0,i-D),PA.TOP_LEFT):new Z(r.left+v,r.top+D),this.topRightPaddingBox=a>0||c>0?JA(r.left+Math.min(T,r.width-Q),r.top+D,T>r.width+Q?0:Math.max(0,a-Q),Math.max(0,c-D),PA.TOP_RIGHT):new Z(r.left+r.width-Q,r.top+D),this.bottomRightPaddingBox=f>0||d>0?JA(r.left+Math.min(R,r.width-v),r.top+Math.min(L,r.height-B),Math.max(0,f-Q),Math.max(0,d-B),PA.BOTTOM_RIGHT):new Z(r.left+r.width-Q,r.top+r.height-B),this.bottomLeftPaddingBox=w>0||y>0?JA(r.left+v,r.top+Math.min(M,r.height-B),Math.max(0,w-v),Math.max(0,y-B),PA.BOTTOM_LEFT):new Z(r.left+v,r.top+r.height-B),this.topLeftContentBox=s>0||i>0?JA(r.left+v+m,r.top+D+F,Math.max(0,s-(v+m)),Math.max(0,i-(D+F)),PA.TOP_LEFT):new Z(r.left+v+m,r.top+D+F),this.topRightContentBox=a>0||c>0?JA(r.left+Math.min(T,r.width+v+m),r.top+D+F,T>r.width+v+m?0:a-v+m,c-(D+F),PA.TOP_RIGHT):new Z(r.left+r.width-(Q+U),r.top+D+F),this.bottomRightContentBox=f>0||d>0?JA(r.left+Math.min(R,r.width-(v+m)),r.top+Math.min(L,r.height+D+F),Math.max(0,f-(Q+U)),d-(B+b),PA.BOTTOM_RIGHT):new Z(r.left+r.width-(Q+U),r.top+r.height-(B+b)),this.bottomLeftContentBox=w>0||y>0?JA(r.left+v+m,r.top+M,Math.max(0,w-(v+m)),y-(B+b),PA.BOTTOM_LEFT):new Z(r.left+v+m,r.top+r.height-(B+b))}return t}(),PA;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(PA||(PA={}));var JA=function(t,A,e,r,n){var s=4*((Math.sqrt(2)-1)/3),i=e*s,o=r*s,a=t+e,c=A+r;switch(n){case PA.TOP_LEFT:return new so(new Z(t,c),new Z(t,c-o),new Z(a-i,A),new Z(a,A));case PA.TOP_RIGHT:return new so(new Z(t,A),new Z(t+i,A),new Z(a,c-o),new Z(a,c));case PA.BOTTOM_RIGHT:return new so(new Z(a,A),new Z(a,A+o),new Z(t+i,c),new Z(t,c));case PA.BOTTOM_LEFT:default:return new so(new Z(a,c),new Z(a-i,c),new Z(t,A+o),new Z(t,A))}},Zo=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},sH=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Aa=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},iH=function(){function t(A,e,r){this.offsetX=A,this.offsetY=e,this.matrix=r,this.type=0,this.target=6}return t}(),io=function(){function t(A,e){this.path=A,this.target=e,this.type=1}return t}(),oH=function(){function t(A){this.opacity=A,this.type=2,this.target=6}return t}(),aH=function(t){return t.type===0},m0=function(t){return t.type===1},lH=function(t){return t.type===2},qg=function(t,A){return t.length===A.length?t.some(function(e,r){return e===A[r]}):!1},cH=function(t,A,e,r,n){return t.map(function(s,i){switch(i){case 0:return s.add(A,e);case 1:return s.add(A+r,e);case 2:return s.add(A+r,e+n);case 3:return s.add(A,e+n)}return s})},w0=function(){function t(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),C0=function(){function t(A,e){if(this.container=A,this.parent=e,this.effects=[],this.curves=new nH(this.container),this.container.styles.opacity<1&&this.effects.push(new oH(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new iH(r,n,s))}if(this.container.styles.overflowX!==0){var i=Zo(this.curves),o=Aa(this.curves);qg(i,o)?this.effects.push(new io(i,6)):(this.effects.push(new io(i,2)),this.effects.push(new io(o,4)))}}return t.prototype.getEffects=function(A){for(var e=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var s=r.effects.filter(function(a){return!m0(a)});if(e||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,s),e=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var i=Zo(r.curves),o=Aa(r.curves);qg(i,o)||n.unshift(new io(o,6))}}else n.unshift.apply(n,s);r=r.parent}return n.filter(function(a){return le(a.target,A)})},t}(),Uc=function(t,A,e,r){t.container.elements.forEach(function(n){var s=le(n.flags,4),i=le(n.flags,2),o=new C0(n,t);le(n.styles.display,2048)&&r.push(o);var a=le(n.flags,8)?[]:r;if(s||i){var c=s||n.styles.isPositioned()?e:A,u=new w0(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var d=0;c.negativeZIndex.some(function(w,y){return f>w.element.container.styles.zIndex.order?(d=y,!1):d>0}),c.negativeZIndex.splice(d,0,u)}else if(f>0){var p=0;c.positiveZIndex.some(function(w,y){return f>=w.element.container.styles.zIndex.order?(p=y+1,!1):p>0}),c.positiveZIndex.splice(p,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Uc(o,u,s?u:e,a)}else n.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),Uc(o,A,e,a);le(n.flags,8)&&y0(n,a)})},y0=function(t,A){for(var e=t instanceof Ic?t.start:1,r=t instanceof Ic?t.reversed:!1,n=0;n<A.length;n++){var s=A[n];s.container instanceof a0&&typeof s.container.value=="number"&&s.container.value!==0&&(e=s.container.value),s.listValue=Vu(e,s.container.styles.listStyleType,!0),e+=r?-1:1}},uH=function(t){var A=new C0(t,null),e=new w0(A),r=[];return Uc(A,e,e,r),y0(A.container,r),e},zg=function(t,A){switch(A){case 0:return it(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return it(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return it(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return it(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},hH=function(t,A){switch(A){case 0:return it(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return it(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return it(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return it(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},fH=function(t,A){switch(A){case 0:return it(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return it(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return it(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return it(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},dH=function(t,A){switch(A){case 0:return oo(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return oo(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return oo(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return oo(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},oo=function(t,A){var e=[];return rt(t)?e.push(t.subdivide(.5,!1)):e.push(t),rt(A)?e.push(A.subdivide(.5,!0)):e.push(A),e},it=function(t,A,e,r){var n=[];return rt(t)?n.push(t.subdivide(.5,!1)):n.push(t),rt(e)?n.push(e.subdivide(.5,!0)):n.push(e),rt(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),rt(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},_0=function(t){var A=t.bounds,e=t.styles;return A.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},ea=function(t){var A=t.styles,e=t.bounds,r=WA(A.paddingLeft,e.width),n=WA(A.paddingRight,e.width),s=WA(A.paddingTop,e.width),i=WA(A.paddingBottom,e.width);return e.add(r+A.borderLeftWidth,s+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+s+i))},gH=function(t,A){return t===0?A.bounds:t===2?ea(A):_0(A)},pH=function(t,A){return t===0?A.bounds:t===2?ea(A):_0(A)},kl=function(t,A,e){var r=gH(Tn(t.styles.backgroundOrigin,A),t),n=pH(Tn(t.styles.backgroundClip,A),t),s=BH(Tn(t.styles.backgroundSize,A),e,r),i=s[0],o=s[1],a=Ts(Tn(t.styles.backgroundPosition,A),r.width-i,r.height-o),c=mH(Tn(t.styles.backgroundRepeat,A),a,s,r,n),u=Math.round(r.left+a[0]),f=Math.round(r.top+a[1]);return[c,u,f,i,o]},vn=function(t){return Ae(t)&&t.value===On.AUTO},ao=function(t){return typeof t=="number"},BH=function(t,A,e){var r=A[0],n=A[1],s=A[2],i=t[0],o=t[1];if(!i)return[0,0];if(ie(i)&&o&&ie(o))return[WA(i,e.width),WA(o,e.height)];var a=ao(s);if(Ae(i)&&(i.value===On.CONTAIN||i.value===On.COVER)){if(ao(s)){var c=e.width/e.height;return c<s!=(i.value===On.COVER)?[e.width,e.width/s]:[e.height*s,e.height]}return[e.width,e.height]}var u=ao(r),f=ao(n),d=u||f;if(vn(i)&&(!o||vn(o))){if(u&&f)return[r,n];if(!a&&!d)return[e.width,e.height];if(d&&a){var p=u?r:n*s,w=f?n:r/s;return[p,w]}var y=u?r:e.width,I=f?n:e.height;return[y,I]}if(a){var S=0,T=0;return ie(i)?S=WA(i,e.width):ie(o)&&(T=WA(o,e.height)),vn(i)?S=T*s:(!o||vn(o))&&(T=S/s),[S,T]}var L=null,R=null;if(ie(i)?L=WA(i,e.width):o&&ie(o)&&(R=WA(o,e.height)),L!==null&&(!o||vn(o))&&(R=u&&f?L/r*n:e.height),R!==null&&vn(i)&&(L=u&&f?R/n*r:e.width),L!==null&&R!==null)return[L,R];throw new Error("Unable to calculate background-size for element")},Tn=function(t,A){var e=t[A];return typeof e>"u"?t[0]:e},mH=function(t,A,e,r,n){var s=A[0],i=A[1],o=e[0],a=e[1];switch(t){case 2:return[new Z(Math.round(r.left),Math.round(r.top+i)),new Z(Math.round(r.left+r.width),Math.round(r.top+i)),new Z(Math.round(r.left+r.width),Math.round(a+r.top+i)),new Z(Math.round(r.left),Math.round(a+r.top+i))];case 3:return[new Z(Math.round(r.left+s),Math.round(r.top)),new Z(Math.round(r.left+s+o),Math.round(r.top)),new Z(Math.round(r.left+s+o),Math.round(r.height+r.top)),new Z(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Z(Math.round(r.left+s),Math.round(r.top+i)),new Z(Math.round(r.left+s+o),Math.round(r.top+i)),new Z(Math.round(r.left+s+o),Math.round(r.top+i+a)),new Z(Math.round(r.left+s),Math.round(r.top+i+a))];default:return[new Z(Math.round(n.left),Math.round(n.top)),new Z(Math.round(n.left+n.width),Math.round(n.top)),new Z(Math.round(n.left+n.width),Math.round(n.height+n.top)),new Z(Math.round(n.left),Math.round(n.height+n.top))]}},wH="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Yg="Hidden Text",CH=function(){function t(A){this._data={},this._document=A}return t.prototype.parseMetrics=function(A,e){var r=this._document.createElement("div"),n=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",i.appendChild(r),n.src=wH,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",s.style.fontFamily=A,s.style.fontSize=e,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Yg)),r.appendChild(s),r.appendChild(n);var o=n.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(Yg)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return i.removeChild(r),{baseline:o,middle:a}},t.prototype.getMetrics=function(A,e){var r=A+" "+e;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,e)),this._data[r]},t}(),v0=function(){function t(A,e){this.context=A,this.options=e}return t}(),yH=1e4;(function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new CH(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(e){for(var r=this;this._activeEffects.length;)this.popEffect();e.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(e){this.ctx.save(),lH(e)&&(this.ctx.globalAlpha=e.opacity),aH(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),m0(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(e){return At(this,void 0,void 0,function(){var r;return je(this,function(n){switch(n.label){case 0:return r=e.element.container.styles,r.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(e){return At(this,void 0,void 0,function(){return je(this,function(r){switch(r.label){case 0:if(le(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(e,r,n){var s=this;if(r===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var i=Mu(e.text);i.reduce(function(o,a){return s.ctx.fillText(a,o,e.bounds.top+n),o+s.ctx.measureText(a).width},e.bounds.left)}},A.prototype.createFontStyle=function(e){var r=e.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),n=IH(e.fontFamily).join(", "),s=pi(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,r,e.fontWeight,s,n].join(" "),n,s]},A.prototype.renderTextNode=function(e,r){return At(this,void 0,void 0,function(){var n,s,i,o,a,c,u,f,d=this;return je(this,function(p){return n=this.createFontStyle(r),s=n[0],i=n[1],o=n[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(i,o),c=a.baseline,u=a.middle,f=r.paintOrder,e.textBounds.forEach(function(w){f.forEach(function(y){switch(y){case 0:d.ctx.fillStyle=pe(r.color),d.renderTextWithLetterSpacing(w,r.letterSpacing,c);var I=r.textShadow;I.length&&w.text.trim().length&&(I.slice(0).reverse().forEach(function(S){d.ctx.shadowColor=pe(S.color),d.ctx.shadowOffsetX=S.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=S.offsetY.number*d.options.scale,d.ctx.shadowBlur=S.blur.number,d.renderTextWithLetterSpacing(w,r.letterSpacing,c)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=pe(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(S){switch(S){case 1:d.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+c),w.bounds.width,1);break;case 2:d.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:d.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+u),w.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&w.text.trim().length&&(d.ctx.strokeStyle=pe(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+c)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(e,r,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var s=ea(e),i=Aa(r);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(e){return At(this,void 0,void 0,function(){var r,n,s,i,o,a,T,T,c,u,f,d,R,p,w,M,y,I,S,T,L,R,M;return je(this,function(D){switch(D.label){case 0:this.applyEffects(e.getEffects(4)),r=e.container,n=e.curves,s=r.styles,i=0,o=r.textNodes,D.label=1;case 1:return i<o.length?(a=o[i],[4,this.renderTextNode(a,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return i++,[3,1];case 4:if(!(r instanceof s0))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return T=D.sent(),this.renderReplacedElement(r,n,T),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof i0&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof o0))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return T=D.sent(),this.renderReplacedElement(r,n,T),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof u0&&r.tree?(c=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=D.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),D.label=14;case 14:if(r instanceof xu&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===Yo?r.checked&&(this.ctx.save(),this.path([new Z(r.bounds.left+f*.39363,r.bounds.top+f*.79),new Z(r.bounds.left+f*.16,r.bounds.top+f*.5549),new Z(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new Z(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new Z(r.bounds.left+f*.72983,r.bounds.top+f*.23),new Z(r.bounds.left+f*.84,r.bounds.top+f*.34085),new Z(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=pe(Ng),this.ctx.fill(),this.ctx.restore()):r.type===$o&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=pe(Ng),this.ctx.fill(),this.ctx.restore())),_H(r)&&r.value.length){switch(d=this.createFontStyle(s),R=d[0],p=d[1],w=this.fontMetrics.getMetrics(R,p).baseline,this.ctx.font=R,this.ctx.fillStyle=pe(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=EH(r.styles.textAlign),M=ea(r),y=0,r.styles.textAlign){case 1:y+=M.width/2;break;case 2:y+=M.width;break}I=M.add(y,0,0,-M.height/2+1),this.ctx.save(),this.path([new Z(M.left,M.top),new Z(M.left+M.width,M.top),new Z(M.left+M.width,M.top+M.height),new Z(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ns(r.value,I),s.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!le(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(S=r.styles.listStyleImage,S.type!==0)return[3,18];T=void 0,L=S.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(L)];case 16:return T=D.sent(),this.ctx.drawImage(T,r.bounds.left-(T.width+10),r.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+L),[3,18];case 18:return[3,20];case 19:e.listValue&&r.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=pe(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new rn(r.bounds.left,r.bounds.top+WA(r.styles.paddingTop,r.bounds.width),r.bounds.width,Ig(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ns(e.listValue,M),s.letterSpacing,Ig(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(e){return At(this,void 0,void 0,function(){var r,n,S,s,i,S,o,a,S,c,u,S,f,d,S,p,w,S,y,I,S;return je(this,function(T){switch(T.label){case 0:if(le(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:T.sent(),r=0,n=e.negativeZIndex,T.label=2;case 2:return r<n.length?(S=n[r],[4,this.renderStack(S)]):[3,5];case 3:T.sent(),T.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:T.sent(),s=0,i=e.nonInlineLevel,T.label=7;case 7:return s<i.length?(S=i[s],[4,this.renderNode(S)]):[3,10];case 8:T.sent(),T.label=9;case 9:return s++,[3,7];case 10:o=0,a=e.nonPositionedFloats,T.label=11;case 11:return o<a.length?(S=a[o],[4,this.renderStack(S)]):[3,14];case 12:T.sent(),T.label=13;case 13:return o++,[3,11];case 14:c=0,u=e.nonPositionedInlineLevel,T.label=15;case 15:return c<u.length?(S=u[c],[4,this.renderStack(S)]):[3,18];case 16:T.sent(),T.label=17;case 17:return c++,[3,15];case 18:f=0,d=e.inlineLevel,T.label=19;case 19:return f<d.length?(S=d[f],[4,this.renderNode(S)]):[3,22];case 20:T.sent(),T.label=21;case 21:return f++,[3,19];case 22:p=0,w=e.zeroOrAutoZIndexOrTransformedOrOpacity,T.label=23;case 23:return p<w.length?(S=w[p],[4,this.renderStack(S)]):[3,26];case 24:T.sent(),T.label=25;case 25:return p++,[3,23];case 26:y=0,I=e.positiveZIndex,T.label=27;case 27:return y<I.length?(S=I[y],[4,this.renderStack(S)]):[3,30];case 28:T.sent(),T.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},A.prototype.formatPath=function(e){var r=this;e.forEach(function(n,s){var i=rt(n)?n.start:n;s===0?r.ctx.moveTo(i.x,i.y):r.ctx.lineTo(i.x,i.y),rt(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(e,r,n,s){this.path(e),this.ctx.fillStyle=r,this.ctx.translate(n,s),this.ctx.fill(),this.ctx.translate(-n,-s)},A.prototype.resizeImage=function(e,r,n){var s;if(e.width===r&&e.height===n)return e;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,n);var a=o.getContext("2d");return a.drawImage(e,0,0,e.width,e.height,0,0,r,n),o},A.prototype.renderBackgroundImage=function(e){return At(this,void 0,void 0,function(){var r,n,s,i,o,a;return je(this,function(c){switch(c.label){case 0:r=e.styles.backgroundImage.length-1,n=function(u){var f,d,p,F,QA,V,m,$,B,w,F,QA,V,m,$,y,I,S,T,L,R,M,D,Q,B,v,F,U,b,m,$,AA,QA,V,wA,TA,P,k,Y,q,uA,oA;return je(this,function(iA){switch(iA.label){case 0:if(u.type!==0)return[3,5];f=void 0,d=u.url,iA.label=1;case 1:return iA.trys.push([1,3,,4]),[4,s.context.cache.match(d)];case 2:return f=iA.sent(),[3,4];case 3:return iA.sent(),s.context.logger.error("Error loading background-image "+d),[3,4];case 4:return f&&(p=kl(e,r,[f.width,f.height,f.width/f.height]),F=p[0],QA=p[1],V=p[2],m=p[3],$=p[4],B=s.ctx.createPattern(s.resizeImage(f,m,$),"repeat"),s.renderRepeat(F,B,QA,V)),[3,6];case 5:E1(u)?(w=kl(e,r,[null,null,null]),F=w[0],QA=w[1],V=w[2],m=w[3],$=w[4],y=w1(u.angle,m,$),I=y[0],S=y[1],T=y[2],L=y[3],R=y[4],M=document.createElement("canvas"),M.width=m,M.height=$,D=M.getContext("2d"),Q=D.createLinearGradient(S,L,T,R),Eg(u.stops,I).forEach(function(J){return Q.addColorStop(J.stop,pe(J.color))}),D.fillStyle=Q,D.fillRect(0,0,m,$),m>0&&$>0&&(B=s.ctx.createPattern(M,"repeat"),s.renderRepeat(F,B,QA,V))):Q1(u)&&(v=kl(e,r,[null,null,null]),F=v[0],U=v[1],b=v[2],m=v[3],$=v[4],AA=u.position.length===0?[Lu]:u.position,QA=WA(AA[0],m),V=WA(AA[AA.length-1],$),wA=C1(u,QA,V,m,$),TA=wA[0],P=wA[1],TA>0&&P>0&&(k=s.ctx.createRadialGradient(U+QA,b+V,0,U+QA,b+V,TA),Eg(u.stops,TA*2).forEach(function(J){return k.addColorStop(J.stop,pe(J.color))}),s.path(F),s.ctx.fillStyle=k,TA!==P?(Y=e.bounds.left+.5*e.bounds.width,q=e.bounds.top+.5*e.bounds.height,uA=P/TA,oA=1/uA,s.ctx.save(),s.ctx.translate(Y,q),s.ctx.transform(1,0,0,uA,0,0),s.ctx.translate(-Y,-q),s.ctx.fillRect(U,oA*(b-q)+q,m,$*oA),s.ctx.restore()):s.ctx.fill())),iA.label=6;case 6:return r--,[2]}})},s=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<o.length?(a=o[i],[5,n(a)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(e,r,n){return At(this,void 0,void 0,function(){return je(this,function(s){return this.path(zg(n,r)),this.ctx.fillStyle=pe(e),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(e,r,n,s){return At(this,void 0,void 0,function(){var i,o;return je(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return a.sent(),[2];case 2:return i=hH(s,n),this.path(i),this.ctx.fillStyle=pe(e),this.ctx.fill(),o=fH(s,n),this.path(o),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(e){return At(this,void 0,void 0,function(){var r,n,s,i,o,a,c,u,f=this;return je(this,function(d){switch(d.label){case 0:return this.applyEffects(e.getEffects(2)),r=e.container.styles,n=!Pn(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],i=vH(Tn(r.backgroundClip,0),e.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Pn(r.backgroundColor)||(this.ctx.fillStyle=pe(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(p){f.ctx.save();var w=Zo(e.curves),y=p.inset?0:yH,I=cH(w,-y+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(f.path(w),f.ctx.clip(),f.mask(I)):(f.mask(w),f.ctx.clip(),f.path(I)),f.ctx.shadowOffsetX=p.offsetX.number+y,f.ctx.shadowOffsetY=p.offsetY.number,f.ctx.shadowColor=pe(p.color),f.ctx.shadowBlur=p.blur.number,f.ctx.fillStyle=p.inset?pe(p.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),d.label=2;case 2:o=0,a=0,c=s,d.label=3;case 3:return a<c.length?(u=c[a],u.style!==0&&!Pn(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,3)];case 6:return d.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,e.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,e.curves)];case 10:d.sent(),d.label=11;case 11:o++,d.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(e,r,n,s,i){return At(this,void 0,void 0,function(){var o,a,c,u,f,d,p,w,y,I,S,T,L,R,M,D,M,D;return je(this,function(Q){return this.ctx.save(),o=dH(s,n),a=zg(s,n),i===2&&(this.path(a),this.ctx.clip()),rt(a[0])?(c=a[0].start.x,u=a[0].start.y):(c=a[0].x,u=a[0].y),rt(a[1])?(f=a[1].end.x,d=a[1].end.y):(f=a[1].x,d=a[1].y),n===0||n===2?p=Math.abs(c-f):p=Math.abs(u-d),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(a.slice(0,2)),w=r<3?r*3:r*2,y=r<3?r*2:r,i===3&&(w=r,y=r),I=!0,p<=w*2?I=!1:p<=w*2+y?(S=p/(2*w+y),w*=S,y*=S):(T=Math.floor((p+y)/(w+y)),L=(p-T*w)/(T-1),R=(p-(T+1)*w)/T,y=R<=0||Math.abs(y-L)<Math.abs(y-R)?L:R),I&&(i===3?this.ctx.setLineDash([0,w+y]):this.ctx.setLineDash([w,y])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=pe(e),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(rt(a[0])&&(M=a[3],D=a[0],this.ctx.beginPath(),this.formatPath([new Z(M.end.x,M.end.y),new Z(D.start.x,D.start.y)]),this.ctx.stroke()),rt(a[1])&&(M=a[1],D=a[2],this.ctx.beginPath(),this.formatPath([new Z(M.end.x,M.end.y),new Z(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(e){return At(this,void 0,void 0,function(){var r;return je(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=uH(e),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A})(v0);var _H=function(t){return t instanceof c0||t instanceof l0?!0:t instanceof xu&&t.type!==$o&&t.type!==Yo},vH=function(t,A){switch(t){case 0:return Zo(A);case 2:return sH(A);case 1:default:return Aa(A)}},EH=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},QH=["-apple-system","system-ui"],IH=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(A){return QH.indexOf(A)===-1}):t};(function(t){Ct(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(e){return At(this,void 0,void 0,function(){var r,n;return je(this,function(s){switch(s.label){case 0:return r=Qc(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,UH(r)];case 1:return n=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A})(v0);var UH=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window<"u"&&rH.setContext(window);function $g(t,A,e){const r=t.slice();return r[24]=A[e],r[26]=e,r}function Zg(t,A,e){const r=t.slice();return r[27]=A[e],r}function Ap(t,A,e){const r=t.slice();return r[30]=A[e],r[26]=e,r}function ep(t,A,e){const r=t.slice();return r[32]=A[e],r}function FH(t){let A,e=OA(t[1]),r=[];for(let n=0;n<e.length;n+=1)r[n]=cp($g(t,e,n));return{c(){A=H("div");for(let n=0;n<r.length;n+=1)r[n].c();_(A,"class","flex flex-col gap-4")},m(n,s){G(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&970){e=OA(n[1]);let i;for(i=0;i<e.length;i+=1){const o=$g(n,e,i);r[i]?r[i].p(o,s):(r[i]=cp(o),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&K(A),De(r,n)}}}function bH(t){let A;return{c(){A=H("div"),A.innerHTML='<span class="text-accent">Loading drawings...</span>',_(A,"class","flex justify-center items-center h-40")},m(e,r){G(e,A,r)},p:sA,d(e){e&&K(A)}}}function tp(t){var dA;let A,e,r,n,s,i,o,a=(((dA=t[24].likes)==null?void 0:dA.length)||0)+"",c,u,f,d,p,w,y,I,S,T,L,R,M=t[24].artist.toLowerCase()+"",D,Q,B,v,F=hp(t[24].createdAt)+"",U,b,m,$,AA,QA,V,wA,TA=OA(Array(t[24].coins)),P=[];for(let gA=0;gA<TA.length;gA+=1)P[gA]=rp(ep(t,TA,gA));function k(gA,FA){return FA[0]&2&&(s=null),s==null&&(s=!!gA[8](gA[24])),s?SH:TH}let Y=k(t,[-1,-1]),q=Y(t);function uA(){return t[13](t[24])}function oA(){return t[14](t[26])}function iA(gA,FA){return gA[24].guessed?HH:RH}let J=iA(t),X=J(t);function IA(gA,FA){return gA[24].guesses&&gA[24].guesses.length>0?DH:kH}let UA=IA(t),hA=UA(t),pA=t[24].hintPurchased&&ip(t),vA=t[24].guessed&&op(t);return{c(){A=H("div"),e=H("div");for(let gA=0;gA<P.length;gA+=1)P[gA].c();r=W(),n=H("div"),q.c(),i=W(),o=H("span"),c=tA(a),u=W(),f=H("div"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',d=W(),p=H("div"),p.textContent="Copied!",w=W(),y=H("img"),S=W(),T=H("p"),X.c(),L=tA(`
							by
							`),R=H("span"),D=tA(M),Q=W(),B=H("span"),v=tA("on "),U=tA(F),b=W(),m=H("p"),hA.c(),$=W(),pA&&pA.c(),AA=W(),vA&&vA.c(),QA=W(),_(e,"class","flex flex-row gap-1 absolute top-2 right-2"),_(o,"class","text-sm font-semibold"),_(n,"class","absolute top-2 left-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-20"),_(f,"class","absolute top-10 right-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-10"),_(f,"title","Copy screenshot to clipboard"),_(p,"id",`feedback-drawing-card-${t[26]}`),_(p,"class","absolute top-12 right-2 bg-green-500 text-white p-1 rounded text-xs hidden z-30"),Ne(y.src,I=`${t[24].data}`)||_(y,"src",I),_(y,"class","w-full h-full object-contain"),_(y,"alt","Drawing"),_(R,"class","font-semibold"),_(B,"class","text-[10px] opacity-50"),_(T,"class","text-lg text-center py-2 align-middle items-center"),_(m,"class","text-[0.8rem] text-center align-middle items-center w-3/4"),_(A,"id",`drawing-card-${t[26]}`),_(A,"class","bg-white/90 p-1 relative rounded-lg w-full max-w-[min(90vw,400px)] flex flex-col items-center justify-center mx-auto border-2 border-primary")},m(gA,FA){G(gA,A,FA),E(A,e);for(let xA=0;xA<P.length;xA+=1)P[xA]&&P[xA].m(e,null);E(A,r),E(A,n),q.m(n,null),E(n,i),E(n,o),E(o,c),E(A,u),E(A,f),E(A,d),E(A,p),E(A,w),E(A,y),E(A,S),E(A,T),X.m(T,null),E(T,L),E(T,R),E(R,D),E(T,Q),E(T,B),E(B,v),E(B,U),E(A,b),E(A,m),hA.m(m,null),E(A,$),pA&&pA.m(A,null),E(A,AA),vA&&vA.m(A,null),E(A,QA),V||(wA=[cA(n,"click",Rh(uA)),cA(f,"click",Rh(oA))],V=!0)},p(gA,FA){var xA;if(t=gA,FA[0]&2){TA=OA(Array(t[24].coins));let DA;for(DA=0;DA<TA.length;DA+=1){const VA=ep(t,TA,DA);P[DA]?P[DA].p(VA,FA):(P[DA]=rp(),P[DA].c(),P[DA].m(e,null))}for(;DA<P.length;DA+=1)P[DA].d(1);P.length=TA.length}Y!==(Y=k(t,FA))&&(q.d(1),q=Y(t),q&&(q.c(),q.m(n,i))),FA[0]&2&&a!==(a=(((xA=t[24].likes)==null?void 0:xA.length)||0)+"")&&EA(c,a),FA[0]&2&&!Ne(y.src,I=`${t[24].data}`)&&_(y,"src",I),J===(J=iA(t))&&X?X.p(t,FA):(X.d(1),X=J(t),X&&(X.c(),X.m(T,L))),FA[0]&2&&M!==(M=t[24].artist.toLowerCase()+"")&&EA(D,M),FA[0]&2&&F!==(F=hp(t[24].createdAt)+"")&&EA(U,F),UA===(UA=IA(t))&&hA?hA.p(t,FA):(hA.d(1),hA=UA(t),hA&&(hA.c(),hA.m(m,null))),t[24].hintPurchased?pA?pA.p(t,FA):(pA=ip(t),pA.c(),pA.m(A,AA)):pA&&(pA.d(1),pA=null),t[24].guessed?vA?vA.p(t,FA):(vA=op(t),vA.c(),vA.m(A,QA)):vA&&(vA.d(1),vA=null)},d(gA){gA&&K(A),De(P,gA),q.d(),X.d(),hA.d(),pA&&pA.d(),vA&&vA.d(),V=!1,ve(wA)}}}function rp(t){let A,e;return{c(){A=H("img"),Ne(A.src,e=an)||_(A,"src",e),_(A,"class","w-4 h-4"),_(A,"alt","Coin")},m(r,n){G(r,A,n)},p:sA,d(r){r&&K(A)}}}function TH(t){let A,e;return{c(){A=tt("svg"),e=tt("path"),_(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"width","20"),_(A,"height","20"),_(A,"viewBox","0 0 24 24"),_(A,"fill","none"),_(A,"stroke","currentColor"),_(A,"stroke-width","2"),_(A,"stroke-linecap","round"),_(A,"stroke-linejoin","round")},m(r,n){G(r,A,n),E(A,e)},d(r){r&&K(A)}}}function SH(t){let A,e;return{c(){A=tt("svg"),e=tt("path"),_(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"width","20"),_(A,"height","20"),_(A,"viewBox","0 0 24 24"),_(A,"fill","#ff6b6b"),_(A,"stroke","#ff6b6b"),_(A,"stroke-width","2"),_(A,"stroke-linecap","round"),_(A,"stroke-linejoin","round")},m(r,n){G(r,A,n),E(A,e)},d(r){r&&K(A)}}}function RH(t){let A;return{c(){A=H("span"),A.textContent="?",_(A,"class","font-bold text-primary")},m(e,r){G(e,A,r)},p:sA,d(e){e&&K(A)}}}function HH(t){let A,e=t[24].secretWord+"",r;return{c(){A=H("span"),r=tA(e),_(A,"class","font-bold text-primary")},m(n,s){G(n,A,s),E(A,r)},p(n,s){s[0]&2&&e!==(e=n[24].secretWord+"")&&EA(r,e)},d(n){n&&K(A)}}}function kH(t){let A,e,r=t[24].guessedBy+"",n,s;return{c(){A=H("span"),e=H("span"),n=tA(r),s=tA(`
									is thinking...`),_(e,"class","font-semibold"),_(A,"class","italic")},m(i,o){G(i,A,o),E(A,e),E(e,n),E(A,s)},p(i,o){o[0]&2&&r!==(r=i[24].guessedBy+"")&&EA(n,r)},d(i){i&&K(A)}}}function DH(t){let A,e=t[24].guessedBy+"",r,n,s,i,o=!t[24].guessed&&np(),a=OA(t[24].guesses),c=[];for(let u=0;u<a.length;u+=1)c[u]=sp(Ap(t,a,u));return{c(){A=H("span"),r=tA(e),n=W(),o&&o.c(),s=tA(`
								guessed:
								`);for(let u=0;u<c.length;u+=1)c[u].c();i=lt(),_(A,"class","font-semibold")},m(u,f){G(u,A,f),E(A,r),G(u,n,f),o&&o.m(u,f),G(u,s,f);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(u,f);G(u,i,f)},p(u,f){if(f[0]&2&&e!==(e=u[24].guessedBy+"")&&EA(r,e),u[24].guessed?o&&(o.d(1),o=null):o||(o=np(),o.c(),o.m(s.parentNode,s)),f[0]&2){a=OA(u[24].guesses);let d;for(d=0;d<a.length;d+=1){const p=Ap(u,a,d);c[d]?c[d].p(p,f):(c[d]=sp(p),c[d].c(),c[d].m(i.parentNode,i))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}},d(u){u&&(K(A),K(n),K(s),K(i)),o&&o.d(u),De(c,u)}}}function np(t){let A;return{c(){A=tA("has")},m(e,r){G(e,A,r)},d(e){e&&K(A)}}}function sp(t){let A,e=t[30]+"",r,n=t[26]<t[24].guesses.length-1?", ":"",s;return{c(){A=H("span"),r=tA(e),s=tA(n),_(A,"class","italic")},m(i,o){G(i,A,o),E(A,r),E(A,s)},p(i,o){o[0]&2&&e!==(e=i[30]+"")&&EA(r,e),o[0]&2&&n!==(n=i[26]<i[24].guesses.length-1?", ":"")&&EA(s,n)},d(i){i&&K(A)}}}function ip(t){let A,e=t[24].hintPurchased?`${t[24].guessedBy} used a Hint`:"",r,n=t[24].superHintPurchased?"... AND a SuperHint!":"",s;return{c(){A=H("p"),r=tA(e),s=tA(n),_(A,"class","text-[0.8rem] text-secondary flex flex-row py-2 text-center align-middle items-center")},m(i,o){G(i,A,o),E(A,r),E(A,s)},p(i,o){o[0]&2&&e!==(e=i[24].hintPurchased?`${i[24].guessedBy} used a Hint`:"")&&EA(r,e),o[0]&2&&n!==(n=i[24].superHintPurchased?"... AND a SuperHint!":"")&&EA(s,n)},d(i){i&&K(A)}}}function op(t){let A,e,r,n,s,i,o,a,c,u;function f(...w){return t[16](t[24],...w)}function d(){return t[17](t[24])}let p=t[24].comments&&t[24].comments.length>0&&ap(t);return{c(){A=H("div"),e=H("div"),r=H("input"),n=W(),s=H("button"),i=tA("Comment"),a=W(),p&&p.c(),_(r,"type","text"),_(r,"placeholder","Add a comment"),_(r,"class","input input-bordered bg-white input-sm text-black w-full"),_(s,"class","btn btn-secondary btn-sm"),s.disabled=o=t[3].trim()==="",_(e,"class","flex flex-row gap-2 items-center"),_(A,"class","flex flex-col gap-2 pt-4 pb-1 w-full px-2")},m(w,y){G(w,A,y),E(A,e),E(e,r),Tt(r,t[3]),E(e,n),E(e,s),E(s,i),E(A,a),p&&p.m(A,null),c||(u=[cA(r,"input",t[15]),cA(r,"keydown",f),cA(s,"click",d)],c=!0)},p(w,y){t=w,y[0]&8&&r.value!==t[3]&&Tt(r,t[3]),y[0]&8&&o!==(o=t[3].trim()==="")&&(s.disabled=o),t[24].comments&&t[24].comments.length>0?p?p.p(t,y):(p=ap(t),p.c(),p.m(A,null)):p&&(p.d(1),p=null)},d(w){w&&K(A),p&&p.d(),c=!1,ve(u)}}}function ap(t){let A,e=OA(t[24].comments),r=[];for(let n=0;n<e.length;n+=1)r[n]=lp(Zg(t,e,n));return{c(){A=H("div");for(let n=0;n<r.length;n+=1)r[n].c();_(A,"class","flex flex-col gap-1 mt-2 pb-2")},m(n,s){G(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&2){e=OA(n[24].comments);let i;for(i=0;i<e.length;i+=1){const o=Zg(n,e,i);r[i]?r[i].p(o,s):(r[i]=lp(o),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&K(A),De(r,n)}}}function lp(t){let A,e,r=t[27].createdBy+"",n,s,i,o=t[27].content+"",a,c;return{c(){A=H("p"),e=H("span"),n=tA(r),s=tA(":"),i=W(),a=tA(o),c=W(),_(e,"class","font-semibold"),_(A,"class","text-[0.8rem] text-left")},m(u,f){G(u,A,f),E(A,e),E(e,n),E(e,s),E(A,i),E(A,a),E(A,c)},p(u,f){f[0]&2&&r!==(r=u[27].createdBy+"")&&EA(n,r),f[0]&2&&o!==(o=u[27].content+"")&&EA(a,o)},d(u){u&&K(A)}}}function cp(t){let A,e=t[24].data&&t[24].data.length>10&&tp(t);return{c(){e&&e.c(),A=lt()},m(r,n){e&&e.m(r,n),G(r,A,n)},p(r,n){r[24].data&&r[24].data.length>10?e?e.p(r,n):(e=tp(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&K(A),e&&e.d(r)}}}function up(t){let A,e,r,n,s,i,o,a,c,u,f,d,p,w,y,I;return{c(){A=H("div"),e=H("div"),r=H("h3"),r.textContent="Share Drawing",n=W(),s=H("div"),i=H("img"),a=W(),c=H("div"),u=H("button"),u.textContent="Download",f=W(),d=H("button"),d.textContent="Share",p=W(),w=H("button"),w.textContent="Cancel",_(r,"class","text-xl font-bold text-primary mb-4 text-center"),Ne(i.src,o=URL.createObjectURL(t[4]))||_(i,"src",o),_(i,"alt","Drawing screenshot"),_(i,"class","w-full h-auto"),_(s,"class","mb-4 border border-gray-200 rounded-lg overflow-hidden"),_(u,"class","btn btn-primary"),_(d,"class","btn btn-secondary"),_(c,"class","grid grid-cols-2 gap-3 mb-4"),_(w,"class","w-full btn btn-outline btn-sm"),_(e,"class","bg-white rounded-lg p-6 max-w-sm w-full mx-4"),_(A,"class","fixed inset-0 bg-black/70 flex items-center justify-center z-50")},m(S,T){G(S,A,T),E(A,e),E(e,r),E(e,n),E(e,s),E(s,i),E(e,a),E(e,c),E(c,u),E(c,f),E(c,d),E(e,p),E(e,w),y||(I=[cA(u,"click",t[10]),cA(d,"click",t[11]),cA(w,"click",t[12])],y=!0)},p(S,T){T[0]&16&&!Ne(i.src,o=URL.createObjectURL(S[4]))&&_(i,"src",o)},d(S){S&&K(A),y=!1,ve(I)}}}function LH(t){let A,e,r,n,s;e=new Ta({props:{navigate:t[0]}});function i(u,f){return u[2]?bH:FH}let o=i(t),a=o(t),c=t[5]&&t[4]&&up(t);return{c(){A=H("div"),ge(e.$$.fragment),r=W(),a.c(),n=W(),c&&c.c(),_(A,"class","p-4")},m(u,f){G(u,A,f),oe(e,A,null),E(A,r),a.m(A,null),E(A,n),c&&c.m(A,null),s=!0},p(u,f){const d={};f[0]&1&&(d.navigate=u[0]),e.$set(d),o===(o=i(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(A,n))),u[5]&&u[4]?c?c.p(u,f):(c=up(u),c.c(),c.m(A,null)):c&&(c.d(1),c=null)},i(u){s||(rA(e.$$.fragment,u),s=!0)},o(u){lA(e.$$.fragment,u),s=!1},d(u){u&&K(A),ae(e),a.d(),c&&c.d()}}}function Dl(t){return new Promise((A,e)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>A(r),r.onerror=n=>e(n),r.src=t})}function PH(t,A,e,r,n,s){const i=A.split(" ");let o="",a=0;for(let c=0;c<i.length;c++){const u=o+i[c]+" ";t.measureText(u).width>n&&c>0?(t.fillText(o,e,r+a*s),o=i[c]+" ",a++):o=u}return t.fillText(o,e,r+a*s),a+1}function hp(t){return t&&typeof t.toDate=="function"?t.toDate().toLocaleDateString("en-US",{month:"long",day:"numeric"}):new Date(t).toLocaleDateString("en-US",{month:"long",day:"numeric"})}function OH(t,A,e){let r;YA(t,zA,U=>e(21,r=U));let n=[],s=!0,i="",o=[];const a=nw();let c=!1,u=null,f=!1,d="",{navigate:p}=A;Xn(async()=>{console.log("Feed mounted");try{e(1,n=await UF()),console.log("Drawings loaded",n),w()}catch(U){console.error("Error loading drawings:",U)}finally{e(2,s=!1)}}),$0(()=>{o.forEach(U=>U())});function w(){o.forEach(b=>b()),o=[];const U=new Set(n.map(b=>b.gameId).filter(Boolean));console.log("Setting up subscriptions for game IDs:",[...U]),U.forEach(b=>{if(!b)return;const m=ct(hi(a,"games"),b),$=gF(m,AA=>{if(AA.exists()){const QA=AA.data();console.log(`Game data updated for ${b}:`,QA),e(1,n=n.map(V=>V.gameId===b&&V.index!==void 0?(console.log(`Updating drawing ${V.index} for game ${b}`),{...QA.drawings[V.index],gameId:b,index:V.index,guessedBy:V.guessedBy}):V))}},AA=>{console.error(`Error in game subscription for ${b}:`,AA)});o.push($)})}async function y(U,b){if(i.trim()==="")return;const m=r;if(m)try{const $=i.trim();CF(U,b,$,m.name),e(3,i="")}catch($){console.error("Error adding comment:",$)}}async function I(U,b){const m=r;if(m)try{await QF(U,b,m.name)}catch($){console.error("Error liking drawing:",$)}else alert("No user logged in")}function S(U){const b=r;return!b||!U.likes?!1:U.likes.includes(b.name)}async function T(U){var b;if(!c)try{c=!0;const m=n[U];if(!m||!m.data){c=!1;return}e(5,f=!1);const[$,AA,QA]=await Promise.all([Dl(m.data),Dl(vw),Dl(an)]),V=20,wA=4,TA="#a78bfa",P="#ffffff",k=120,Y="#000000",q="#6419e6",uA="#d926a9",oA="#000000",iA=25,J=document.createElement("canvas"),X=J.getContext("2d");if(!X){c=!1;return}const IA=Math.min($.width,600),UA=$.height*(IA/$.width);J.width=IA+V*2+wA*2,J.height=UA+V*2+wA*2+150+iA,X.fillStyle=P,X.fillRect(0,0,J.width,J.height),X.strokeStyle=TA,X.lineWidth=wA,X.strokeRect(V/2,V/2,J.width-V,J.height-V-iA);const hA=V+wA,pA=V+wA+30;if(X.drawImage($,hA,pA,IA,UA),m.coins)for(let KA=0;KA<m.coins;KA++)X.drawImage(QA,J.width-V-wA-(KA+1)*32,V+wA+10,28,28);X.fillStyle=oA,X.font="bold 24px Outfit, sans-serif";const vA=` ${((b=m.likes)==null?void 0:b.length)||0}`;X.fillText(vA,V+wA+10,V+wA+32);const dA=pA+UA+50;X.textAlign="center",X.font="bold 30px Outfit, sans-serif";const gA=m.guessed?m.secretWord:"?";X.fillStyle=q;let FA;m.createdAt&&typeof m.createdAt.toDate=="function"?FA=m.createdAt.toDate():FA=new Date(m.createdAt);const xA=` by ${m.artist.toLowerCase()} on ${FA.toLocaleDateString("en-US",{month:"long",day:"numeric"})}`,DA=X.measureText(gA).width,VA=X.measureText(xA).width,ee=DA+VA;let Ze=30;ee>J.width-100&&(Ze=Math.floor(Ze*(J.width-100)/ee),X.font=`bold ${Ze}px Outfit, sans-serif`),X.fillText(gA,J.width/2-VA/2,dA),X.fillStyle=Y,X.font=`${Ze}px Outfit, sans-serif`,X.fillText(xA,J.width/2+DA/2,dA),X.font="16px Outfit, sans-serif",X.fillStyle=Y;let yt="";m.guesses&&m.guesses.length>0?yt=`${m.guessedBy} ${m.guessed?"":"has "}guessed: ${m.guesses.join(", ")}`:yt=`${m.guessedBy} is thinking...`;const _t=J.width-80;if(PH(X,yt,J.width/2,dA+30,_t,25),m.hintPurchased){X.fillStyle=uA,X.font="18px Outfit, sans-serif";const NA=`${m.guessedBy} used a Hint${m.superHintPurchased?"... AND a SuperHint!":""}`;X.fillText(NA,J.width/2,dA+50)}const Le=AA.height/AA.width*k;X.fillStyle="white",X.fillRect(J.width-k-15,J.height-Le-15,k,Le),X.drawImage(AA,J.width-k-15,J.height-Le-15,k,Le),X.font="16px Outfit, sans-serif",X.fillStyle="rgba(0,0,0,0.6)",X.textAlign="center",X.fillText("drawit.jsph.cx",J.width/2,J.height-15);const Pt=new Date().toISOString().replace(/[:.]/g,"-");d=`drawit-${m.artist.toLowerCase()}-${Pt}.png`,J.toBlob(NA=>{if(!NA){c=!1;return}e(4,u=NA),e(5,f=!0),c=!1},"image/png",1)}catch(m){console.error("Screenshot capture failed:",m),c=!1}}function L(){if(!u)return;const U=document.createElement("a");U.href=URL.createObjectURL(u),U.download=d,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(U.href),e(5,f=!1)}async function R(){if(u){try{const b=[new File([u],d,{type:"image/png"})];if(navigator.canShare&&navigator.canShare({files:b}))console.log("Web Share Level 2 is supported!"),await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!",files:b}),console.log("File shared successfully");else if(console.log("File sharing not supported, falling back to basic share"),navigator.share){await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!"});const m=URL.createObjectURL(u);window.open(m,"_blank"),setTimeout(()=>URL.revokeObjectURL(m),5e3)}else{const m=URL.createObjectURL(u);window.open(m,"_blank"),setTimeout(()=>URL.revokeObjectURL(m),5e3)}}catch(U){console.warn("Share failed:",U);const b=URL.createObjectURL(u);window.open(b,"_blank"),setTimeout(()=>URL.revokeObjectURL(b),5e3)}e(5,f=!1)}}function M(){e(5,f=!1),e(4,u=null)}const D=U=>{console.log("Drawing object:",U),console.log("gameId:",U.gameId,"index:",U.index),U.gameId&&U.index!==void 0?I(U.gameId,U.index):alert("Error: gameId or index is missing")},Q=U=>T(U);function B(){i=this.value,e(3,i)}const v=(U,b)=>{b.key==="Enter"&&y(U.gameId??"",U.index??0)},F=U=>y(U.gameId??"",U.index??0);return t.$$set=U=>{"navigate"in U&&e(0,p=U.navigate)},[p,n,s,i,u,f,y,I,S,T,L,R,M,D,Q,B,v,F]}class MH extends $e{constructor(A){super(),Ye(this,A,OH,LH,Ke,{navigate:0},null,[-1,-1])}}function fp(t){var M;let A,e,r,n,s,i,o,a,c=(((M=t[2])==null?void 0:M.coins)||0)+"",u,f,d,p,w,y,I,S;function T(D,Q){return D[3]?VH:xH}let L=T(t),R=L(t);return{c(){A=H("nav"),e=H("div"),r=H("button"),n=H("div"),s=H("img"),o=W(),a=H("span"),u=tA(c),f=W(),d=H("span"),d.textContent="Store",p=W(),R.c(),w=W(),y=H("div"),Ne(s.src,i=Qs)||_(s,"src",i),_(s,"class","w-3 h-3"),_(s,"alt","coins"),_(a,"class","text-xs font-medium"),_(n,"class","flex items-center gap-1"),_(d,"class","text-xs text-gray-500"),_(r,"class","flex flex-col items-center"),_(e,"class","flex justify-around items-center max-w-md mx-auto"),_(A,"class","fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2"),_(y,"class","h-20")},m(D,Q){G(D,A,Q),E(A,e),E(e,r),E(r,n),E(n,s),E(n,o),E(n,a),E(a,u),E(r,f),E(r,d),E(e,p),R.m(e,null),G(D,w,Q),G(D,y,Q),I||(S=cA(r,"click",t[6]),I=!0)},p(D,Q){var B;Q&4&&c!==(c=(((B=D[2])==null?void 0:B.coins)||0)+"")&&EA(u,c),L===(L=T(D))&&R?R.p(D,Q):(R.d(1),R=L(D),R&&(R.c(),R.m(e,null)))},d(D){D&&(K(A),K(w),K(y)),R.d(),I=!1,S()}}}function xH(t){let A,e,r,n,s,i,o,a,c,u,f,d,p,w,y,I,S,T,L,R,M,D,Q,B,v,F,U,b;return{c(){A=H("button"),e=tt("svg"),r=tt("path"),s=W(),i=H("span"),o=tA("Home"),c=W(),u=H("button"),f=tt("svg"),d=tt("path"),w=W(),y=H("span"),I=tA("New"),T=W(),L=H("button"),R=tt("svg"),M=tt("path"),Q=W(),B=H("span"),v=tA("Feed"),_(r,"stroke-linecap","round"),_(r,"stroke-linejoin","round"),_(r,"stroke-width","2"),_(r,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class",n="h-6 w-6 "+(t[0]==="home"?"text-primary":"text-gray-400")),_(e,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"stroke","currentColor"),_(i,"class",a="text-xs "+(t[0]==="home"?"text-primary":"text-gray-500")),_(A,"class","flex flex-col items-center"),_(d,"stroke-linecap","round"),_(d,"stroke-linejoin","round"),_(d,"stroke-width","2"),_(d,"d","M12 4v16m8-8H4"),_(f,"xmlns","http://www.w3.org/2000/svg"),_(f,"class",p="h-6 w-6 "+(t[0]==="new"?"text-primary":"text-gray-400")),_(f,"fill","none"),_(f,"viewBox","0 0 24 24"),_(f,"stroke","currentColor"),_(y,"class",S="text-xs "+(t[0]==="new"?"text-primary":"text-gray-500")),_(u,"class","flex flex-col items-center"),_(M,"stroke-linecap","round"),_(M,"stroke-linejoin","round"),_(M,"stroke-width","2"),_(M,"d","M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"),_(R,"xmlns","http://www.w3.org/2000/svg"),_(R,"class",D="h-6 w-6 "+(t[0]==="feed"?"text-primary":"text-gray-400")),_(R,"fill","none"),_(R,"viewBox","0 0 24 24"),_(R,"stroke","currentColor"),_(B,"class",F="text-xs "+(t[0]==="feed"?"text-primary":"text-gray-500")),_(L,"class","flex flex-col items-center")},m(m,$){G(m,A,$),E(A,e),E(e,r),E(A,s),E(A,i),E(i,o),G(m,c,$),G(m,u,$),E(u,f),E(f,d),E(u,w),E(u,y),E(y,I),G(m,T,$),G(m,L,$),E(L,R),E(R,M),E(L,Q),E(L,B),E(B,v),U||(b=[cA(A,"click",t[8]),cA(u,"click",t[9]),cA(L,"click",t[10])],U=!0)},p(m,$){$&1&&n!==(n="h-6 w-6 "+(m[0]==="home"?"text-primary":"text-gray-400"))&&_(e,"class",n),$&1&&a!==(a="text-xs "+(m[0]==="home"?"text-primary":"text-gray-500"))&&_(i,"class",a),$&1&&p!==(p="h-6 w-6 "+(m[0]==="new"?"text-primary":"text-gray-400"))&&_(f,"class",p),$&1&&S!==(S="text-xs "+(m[0]==="new"?"text-primary":"text-gray-500"))&&_(y,"class",S),$&1&&D!==(D="h-6 w-6 "+(m[0]==="feed"?"text-primary":"text-gray-400"))&&_(R,"class",D),$&1&&F!==(F="text-xs "+(m[0]==="feed"?"text-primary":"text-gray-500"))&&_(B,"class",F)},d(m){m&&(K(A),K(c),K(u),K(T),K(L)),U=!1,ve(b)}}}function VH(t){let A,e,r;return{c(){A=H("button"),A.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> <span class="text-xs text-primary">Back</span>',_(A,"class","flex flex-col items-center")},m(n,s){G(n,A,s),e||(r=cA(A,"click",t[7]),e=!0)},p:sA,d(n){n&&K(A),e=!1,r()}}}function NH(t){let A,e=!t[1]&&fp(t);return{c(){e&&e.c(),A=lt()},m(r,n){e&&e.m(r,n),G(r,A,n)},p(r,[n]){r[1]?e&&(e.d(1),e=null):e?e.p(r,n):(e=fp(r),e.c(),e.m(A.parentNode,A))},i:sA,o:sA,d(r){r&&K(A),e&&e.d(r)}}}function KH(t,A,e){let r,n,s;YA(t,co,y=>e(1,r=y)),YA(t,zA,y=>e(2,n=y)),YA(t,He,y=>e(3,s=y));let{navigate:i}=A,o="home";function a(){const y=new URLSearchParams(window.location.search);e(0,o=y.get("page")||"home")}typeof window<"u"&&(window.addEventListener("popstate",a),a());const c=y=>{e(0,o=y),i(y)},u=()=>c("store"),f=()=>{nt(He,s=null,s),c("home")},d=()=>c("home"),p=()=>c("new"),w=()=>c("feed");return t.$$set=y=>{"navigate"in y&&e(5,i=y.navigate)},[o,r,n,s,c,i,u,f,d,p,w]}class GH extends $e{constructor(A){super(),Ye(this,A,KH,NH,Ke,{navigate:5})}}function dp(t,A,e){const r=t.slice();return r[6]=A[e],r}function gp(t){let A,e,r,n,s,i,o,a,c,u,f,d,p,w,y,I,S,T,L,R,M,D,Q,B=OA(t[1]),v=[];for(let F=0;F<B.length;F+=1)v[F]=pp(dp(t,B,F));return{c(){A=H("div"),e=H("div"),r=H("h2"),r.textContent="Dev Menu",n=W(),s=H("div"),i=H("button"),i.textContent="Delete All Users",o=W(),a=H("button"),c=tA("Add 5 Points"),f=W(),d=H("button"),d.textContent="Refresh Users",p=W(),w=H("div"),y=H("h3"),y.textContent="Users by Last Active",I=W(),S=H("div"),T=H("table"),L=H("thead"),L.innerHTML="<tr><th>Name</th> <th>Coins</th> <th>Last Active</th> <th>Created</th></tr>",R=W(),M=H("tbody");for(let F=0;F<v.length;F+=1)v[F].c();_(r,"class","text-lg font-bold mb-4"),_(i,"class","btn btn-error"),_(a,"class","btn btn-primary"),a.disabled=u=!t[2],_(d,"class","btn btn-secondary"),_(s,"class","flex flex-col gap-2"),_(y,"class","text-md font-semibold mb-2"),_(T,"class","table table-zebra w-full"),_(S,"class","overflow-x-auto"),_(w,"class","mt-4"),_(e,"class","bg-white rounded-lg shadow-lg p-4 border border-gray-200"),_(A,"class","fixed top-0 right-0 p-4 z-50")},m(F,U){G(F,A,U),E(A,e),E(e,r),E(e,n),E(e,s),E(s,i),E(s,o),E(s,a),E(a,c),E(s,f),E(s,d),E(e,p),E(e,w),E(w,y),E(w,I),E(w,S),E(S,T),E(T,L),E(T,R),E(T,M);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(M,null);D||(Q=[cA(i,"click",XH),cA(a,"click",t[4]),cA(d,"click",t[3])],D=!0)},p(F,U){if(U&4&&u!==(u=!F[2])&&(a.disabled=u),U&2){B=OA(F[1]);let b;for(b=0;b<B.length;b+=1){const m=dp(F,B,b);v[b]?v[b].p(m,U):(v[b]=pp(m),v[b].c(),v[b].m(M,null))}for(;b<v.length;b+=1)v[b].d(1);v.length=B.length}},d(F){F&&K(A),De(v,F),D=!1,ve(Q)}}}function WH(t){let A;return{c(){A=tA("Never")},m(e,r){G(e,A,r)},p:sA,d(e){e&&K(A)}}}function jH(t){let A=t[6].dailyRewards[t[6].dailyRewards.length-1]+"",e;return{c(){e=tA(A)},m(r,n){G(r,e,n)},p(r,n){n&2&&A!==(A=r[6].dailyRewards[r[6].dailyRewards.length-1]+"")&&EA(e,A)},d(r){r&&K(e)}}}function pp(t){let A,e,r=t[6].name+"",n,s,i,o=t[6].coins+"",a,c,u,f,d,p=Bp(t[6].createdAt)+"",w,y;function I(L,R){var M;return(M=L[6].dailyRewards)!=null&&M.length?jH:WH}let S=I(t),T=S(t);return{c(){A=H("tr"),e=H("td"),n=tA(r),s=W(),i=H("td"),a=tA(o),c=W(),u=H("td"),T.c(),f=W(),d=H("td"),w=tA(p),y=W()},m(L,R){G(L,A,R),E(A,e),E(e,n),E(A,s),E(A,i),E(i,a),E(A,c),E(A,u),T.m(u,null),E(A,f),E(A,d),E(d,w),E(A,y)},p(L,R){R&2&&r!==(r=L[6].name+"")&&EA(n,r),R&2&&o!==(o=L[6].coins+"")&&EA(a,o),S===(S=I(L))&&T?T.p(L,R):(T.d(1),T=S(L),T&&(T.c(),T.m(u,null))),R&2&&p!==(p=Bp(L[6].createdAt)+"")&&EA(w,p)},d(L){L&&K(A),T.d()}}}function JH(t){let A,e=t[0]&&gp(t);return{c(){e&&e.c(),A=lt()},m(r,n){e&&e.m(r,n),G(r,A,n)},p(r,[n]){r[0]?e?e.p(r,n):(e=gp(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},i:sA,o:sA,d(r){r&&K(A),e&&e.d(r)}}}async function XH(){confirm("Are you sure you want to delete ALL users? This cannot be undone!")}function Bp(t){return t&&typeof t=="object"&&t!==null&&"toDate"in t&&typeof t.toDate=="function"?t.toDate().toLocaleDateString():new Date(t).toLocaleDateString()}function qH(t,A,e){let r;YA(t,zA,c=>e(2,r=c));let n=!1,s=[];async function i(c){c.key==="\\"&&e(0,n=!n)}async function o(){try{e(1,s=await uc("")),s.sort((c,u)=>{var p,w;const f=(p=c.dailyRewards)!=null&&p.length?c.dailyRewards[c.dailyRewards.length-1]:"";return((w=u.dailyRewards)!=null&&w.length?u.dailyRewards[u.dailyRewards.length-1]:"").localeCompare(f)})}catch(c){console.error("Error loading users:",c)}}async function a(){if(r)try{await qr(r.name,5)}catch(c){console.error("Error adding points:",c),alert("Error adding points. Check console for details.")}}return Xn(()=>(window.addEventListener("keydown",i),o(),()=>{window.removeEventListener("keydown",i)})),[n,s,r,o,a]}class zH extends $e{constructor(A){super(),Ye(this,A,qH,JH,Ke,{})}}function YH(t){var yt,_t,Le,Pt,NA;let A,e,r,n,s,i,o,a,c,u=(((yt=t[2])==null?void 0:yt.coins)||0)+"",f,d,p,w,y,I,S,T,L,R,M,D,Q,B,v,F,U,b,m,$,AA,QA,V,wA,TA,P=(Le=(_t=t[3])==null?void 0:_t.upgrades)!=null&&Le.includes(XA.MoreWordOptions)?"Already Purchased ":"Purchase Upgrade",k,Y,q,uA,oA,iA,J,X,IA,UA,hA,pA=(NA=(Pt=t[3])==null?void 0:Pt.upgrades)!=null&&NA.includes(XA.ColorPicker)?"Already Purchased ":"Purchase Upgrade",vA,dA,gA,FA,xA,DA,VA,ee,Ze;return e=new Ta({props:{navigate:t[0]}}),{c(){var BA,KA,ut,ht,ft,Ge,vt,Zt;A=H("div"),ge(e.$$.fragment),r=W(),n=H("div"),s=H("div"),i=H("img"),a=W(),c=H("span"),f=tA(u),d=W(),p=H("p"),p.textContent="Your current balance",w=W(),y=H("div"),I=H("div"),S=H("div"),S.innerHTML=`<p class="text-gray-600 text-md font-bold"> Add a Custom Word</p> <div class="flex flex-row items-center justify-center gap-2"><img src="${Qs}" class="w-4 h-4" alt="coins"/> <span class="text-md font-bold">30</span></div>`,T=W(),L=H("p"),L.textContent="Add a custom word to everyone's word options.",R=W(),M=H("div"),D=H("input"),Q=W(),B=H("button"),v=tA("Submit"),b=W(),m=H("div"),$=H("div"),AA=H("div"),AA.innerHTML=`<p class="text-gray-600 text-md font-bold"> More Word Options</p> <div class="flex flex-row items-center justify-center gap-2"><img src="${Qs}" class="w-4 h-4" alt="coins"/> <span class="text-md font-bold">50</span></div>`,QA=W(),V=H("p"),V.textContent="Permanently get 5 word options instead of 3 when drawing.",wA=W(),TA=H("button"),k=tA(P),uA=W(),oA=H("div"),iA=H("div"),J=H("div"),J.innerHTML=`<p class="text-gray-600 text-md font-bold"> Color Wheel</p> <div class="flex flex-row items-center justify-center gap-2"><img src="${Qs}" class="w-4 h-4" alt="coins"/> <span class="text-md font-bold">75</span></div>`,X=W(),IA=H("p"),IA.textContent="Permanently get access to a full color wheel when drawing.",UA=W(),hA=H("button"),vA=tA(pA),FA=W(),xA=H("div"),DA=H("button"),DA.textContent="Logout",Ne(i.src,o=Qs)||_(i,"src",o),_(i,"class","w-8 h-8"),_(i,"alt","coins"),_(c,"class","text-2xl font-bold"),_(s,"class","flex items-center gap-2"),_(p,"class","text-gray-600"),_(S,"class","flex flex-row justify-between w-full"),_(L,"class","text-gray-600 opacity-50 text-xs"),_(D,"type","text"),_(D,"placeholder","Enter custom word"),_(D,"class","input input-bordered w-full max-w-xs text-black bg-white"),_(D,"maxlength","15"),_(D,"minlength","3"),_(B,"class",F="btn btn-primary "+(t[4]?"":"opacity-50")),B.disabled=U=!t[4],_(M,"class","flex flex-row justify-between w-full gap-4"),_(I,"class","flex flex-col items-start justify-center gap-4 bg-white p-4 rounded-2xl"),_(y,"class","flex flex-col items-center justify-center gap-2 pt-8 drop-shadow-sm"),_(AA,"class","flex flex-row justify-between w-full"),_(V,"class","text-gray-600 opacity-50 text-xs"),_(TA,"class",Y="btn btn-primary w-full "+((((BA=t[3])==null?void 0:BA.coins)??0)<50||(ut=(KA=t[3])==null?void 0:KA.upgrades)!=null&&ut.includes(XA.MoreWordOptions)?"opacity-50 cursor-not-allowed":"")),TA.disabled=q=!t[3]||(t[3].coins??0)<50||((ht=t[3].upgrades)==null?void 0:ht.includes(XA.MoreWordOptions)),_($,"class","flex flex-col items-start justify-center gap-4 bg-white p-4 rounded-2xl"),_(m,"class","flex flex-col items-center justify-center gap-4 pt-8 drop-shadow-sm"),_(J,"class","flex flex-row justify-between w-full"),_(IA,"class","text-gray-600 opacity-50 text-xs"),_(hA,"class",dA="btn btn-primary w-full "+((((ft=t[3])==null?void 0:ft.coins)??0)<75||(vt=(Ge=t[3])==null?void 0:Ge.upgrades)!=null&&vt.includes(XA.ColorPicker)?"opacity-50 cursor-not-allowed":"")),hA.disabled=gA=!t[3]||(t[3].coins??0)<75||((Zt=t[3].upgrades)==null?void 0:Zt.includes(XA.ColorPicker)),_(iA,"class","flex flex-col items-start justify-center gap-4 bg-white p-4 rounded-2xl"),_(oA,"class","flex flex-col items-center justify-center gap-4 pt-8 drop-shadow-sm"),_(DA,"class","btn btn-error"),_(xA,"class","mt-8"),_(n,"class","flex flex-col items-center justify-center mt-8"),_(A,"class","p-4")},m(BA,KA){G(BA,A,KA),oe(e,A,null),E(A,r),E(A,n),E(n,s),E(s,i),E(s,a),E(s,c),E(c,f),E(n,d),E(n,p),E(n,w),E(n,y),E(y,I),E(I,S),E(I,T),E(I,L),E(I,R),E(I,M),E(M,D),Tt(D,t[1]),E(M,Q),E(M,B),E(B,v),E(n,b),E(n,m),E(m,$),E($,AA),E($,QA),E($,V),E($,wA),E($,TA),E(TA,k),E(n,uA),E(n,oA),E(oA,iA),E(iA,J),E(iA,X),E(iA,IA),E(iA,UA),E(iA,hA),E(hA,vA),E(n,FA),E(n,xA),E(xA,DA),VA=!0,ee||(Ze=[cA(D,"input",t[9]),cA(D,"keydown",t[5]),cA(D,"paste",t[6]),cA(B,"click",t[7]),cA(TA,"click",t[10]),cA(hA,"click",t[11]),cA(DA,"click",t[8])],ee=!0)},p(BA,[KA]){var ht,ft,Ge,vt,Zt,ln,Bi,mi,cn,rs,ns,Ar,un;const ut={};KA&1&&(ut.navigate=BA[0]),e.$set(ut),(!VA||KA&4)&&u!==(u=(((ht=BA[2])==null?void 0:ht.coins)||0)+"")&&EA(f,u),KA&2&&D.value!==BA[1]&&Tt(D,BA[1]),(!VA||KA&16&&F!==(F="btn btn-primary "+(BA[4]?"":"opacity-50")))&&_(B,"class",F),(!VA||KA&16&&U!==(U=!BA[4]))&&(B.disabled=U),(!VA||KA&8)&&P!==(P=(Ge=(ft=BA[3])==null?void 0:ft.upgrades)!=null&&Ge.includes(XA.MoreWordOptions)?"Already Purchased ":"Purchase Upgrade")&&EA(k,P),(!VA||KA&8&&Y!==(Y="btn btn-primary w-full "+((((vt=BA[3])==null?void 0:vt.coins)??0)<50||(ln=(Zt=BA[3])==null?void 0:Zt.upgrades)!=null&&ln.includes(XA.MoreWordOptions)?"opacity-50 cursor-not-allowed":"")))&&_(TA,"class",Y),(!VA||KA&8&&q!==(q=!BA[3]||(BA[3].coins??0)<50||((Bi=BA[3].upgrades)==null?void 0:Bi.includes(XA.MoreWordOptions))))&&(TA.disabled=q),(!VA||KA&8)&&pA!==(pA=(cn=(mi=BA[3])==null?void 0:mi.upgrades)!=null&&cn.includes(XA.ColorPicker)?"Already Purchased ":"Purchase Upgrade")&&EA(vA,pA),(!VA||KA&8&&dA!==(dA="btn btn-primary w-full "+((((rs=BA[3])==null?void 0:rs.coins)??0)<75||(Ar=(ns=BA[3])==null?void 0:ns.upgrades)!=null&&Ar.includes(XA.ColorPicker)?"opacity-50 cursor-not-allowed":"")))&&_(hA,"class",dA),(!VA||KA&8&&gA!==(gA=!BA[3]||(BA[3].coins??0)<75||((un=BA[3].upgrades)==null?void 0:un.includes(XA.ColorPicker))))&&(hA.disabled=gA)},i(BA){VA||(rA(e.$$.fragment,BA),VA=!0)},o(BA){lA(e.$$.fragment,BA),VA=!1},d(BA){BA&&K(A),ae(e),ee=!1,ve(Ze)}}}function mp(t){return t.replace(/[^a-zA-Z]/g,"")}function $H(t,A,e){let r,n,s;YA(t,zA,y=>e(3,s=y));let{navigate:i}=A,o="";function a(y){!/^[a-zA-Z]$/.test(y.key)&&!["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(y.key)&&y.preventDefault(),y.key==="Enter"&&u()}function c(y){var T;y.preventDefault();const I=((T=y.clipboardData)==null?void 0:T.getData("text"))||"",S=mp(I);e(1,o=S)}async function u(){if(!n||!r)return;let y=mp(o);y=y.trim(),await qr(r.name,-30),await _F(y,r.name),Ms("Custom word added!"),e(1,o="")}function f(){zA.set(null),qn.set([]),He.set(null),xe.set({}),Mn.set(!1),localStorage.clear(),window.location.reload()}function d(){o=this.value,e(1,o)}const p=async()=>{var y;s&&(s.coins??0)>=50&&!((y=s.upgrades)!=null&&y.includes(XA.MoreWordOptions))&&await Bd(s,XA.MoreWordOptions,50)&&Ms("Upgrade purchased! You now get 5 word options!")},w=async()=>{var y;s&&(s.coins??0)>=75&&!((y=s.upgrades)!=null&&y.includes(XA.ColorPicker))&&await Bd(s,XA.ColorPicker,75)&&Ms("Upgrade purchased! You now have access to the color picker!")};return t.$$set=y=>{"navigate"in y&&e(0,i=y.navigate)},t.$$.update=()=>{t.$$.dirty&8&&e(2,r=s),t.$$.dirty&6&&e(4,n=r&&r.coins!==void 0&&r.coins>=30&&o.length>=3&&o.length<=15)},[i,o,r,s,n,a,c,u,f,d,p,w]}class ZH extends $e{constructor(A){super(),Ye(this,A,$H,YH,Ke,{navigate:0})}}function Ak(t){let A,e,r,n,s,i,o,a,c;const u=[ok,ik,sk,nk,rk],f=[];function d(p,w){return p[2]?0:p[0]==="home"?1:p[0]==="new"?2:p[0]==="feed"?3:p[0]==="store"?4:-1}return~(r=d(t))&&(n=f[r]=u[r](t)),i=new GH({props:{navigate:t[4]}}),a=new zH({}),{c(){A=H("main"),e=H("div"),n&&n.c(),s=W(),ge(i.$$.fragment),o=W(),ge(a.$$.fragment),_(e,"class","w-full max-w-md mx-auto px-4"),_(A,"class","w-full min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-background-gradient-start to-background-gradient-end text-black pb-20 overflow-y-auto")},m(p,w){G(p,A,w),E(A,e),~r&&f[r].m(e,null),E(A,s),oe(i,A,null),E(A,o),oe(a,A,null),c=!0},p(p,w){let y=r;r=d(p),r===y?~r&&f[r].p(p,w):(n&&(fe(),lA(f[y],1,1,()=>{f[y]=null}),de()),~r?(n=f[r],n?n.p(p,w):(n=f[r]=u[r](p),n.c()),rA(n,1),n.m(e,null)):n=null)},i(p){c||(rA(n),rA(i.$$.fragment,p),rA(a.$$.fragment,p),c=!0)},o(p){lA(n),lA(i.$$.fragment,p),lA(a.$$.fragment,p),c=!1},d(p){p&&K(A),~r&&f[r].d(),ae(i),ae(a)}}}function ek(t){let A,e;return A=new Qw({props:{navigate:t[4]}}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p:sA,i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function tk(t){let A;return{c(){A=H("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',_(A,"class","w-full min-h-screen flex items-center justify-center")},m(e,r){G(e,A,r)},p:sA,i:sA,o:sA,d(e){e&&K(A)}}}function rk(t){let A,e;return A=new ZH({props:{navigate:t[4]}}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p:sA,i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function nk(t){let A,e;return A=new MH({props:{navigate:t[4]}}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p:sA,i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function sk(t){let A,e;return A=new Ub({props:{navigate:t[4]}}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p:sA,i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function ik(t){let A,e;return A=new Qw({props:{navigate:t[4]}}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p:sA,i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function ok(t){let A,e;return A=new Cb({}),{c(){ge(A.$$.fragment)},m(r,n){oe(A,r,n),e=!0},p:sA,i(r){e||(rA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){ae(A,r)}}}function ak(t){let A,e,r,n;const s=[tk,ek,Ak],i=[];function o(a,c){return a[1]?0:a[3]?2:1}return A=o(t),e=i[A]=s[A](t),{c(){e.c(),r=lt()},m(a,c){i[A].m(a,c),G(a,r,c),n=!0},p(a,[c]){let u=A;A=o(a),A===u?i[A].p(a,c):(fe(),lA(i[u],1,1,()=>{i[u]=null}),de(),e=i[A],e?e.p(a,c):(e=i[A]=s[A](a),e.c()),rA(e,1),e.m(r.parentNode,r))},i(a){n||(rA(e),n=!0)},o(a){lA(e),n=!1},d(a){a&&K(r),i[A].d(a)}}}function lk(t,A,e){let r,n;YA(t,He,a=>e(2,r=a)),YA(t,zA,a=>e(3,n=a));let s="home",i=!0;Xn(async()=>{await IF();const a=new URLSearchParams(window.location.search);e(0,s=a.get("page")||"home");const c=a.get("currentGame");if(c){const u=await pd(c);u&&nt(He,r=u,r)}window.addEventListener("popstate",async()=>{const u=new URLSearchParams(window.location.search);e(0,s=u.get("page")||"home");const f=u.get("currentGame");if(f){const d=await pd(f);d&&nt(He,r=d,r)}else nt(He,r=null,r)}),e(1,i=!1)});function o(a){const c=new URLSearchParams(window.location.search),u=r==null?void 0:r.id;u?c.set("currentGame",u):c.delete("currentGame"),a!=="home"?c.set("page",a):c.delete("page");const f=c.toString(),d=f?`?${f}`:"/";window.history.pushState({},"",d),e(0,s=a)}return[s,i,r,n,o]}class ck extends $e{constructor(A){super(),Ye(this,A,lk,ak,Ke,{})}}new ck({target:document.getElementById("app")});
