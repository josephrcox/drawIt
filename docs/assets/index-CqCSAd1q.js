var Mw=Object.defineProperty;var Ow=(t,A,e)=>A in t?Mw(t,A,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[A]=e;var oa=(t,A,e)=>Ow(t,typeof A!="symbol"?A+"":A,e);(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();function nA(){}function Kw(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function qd(t){return t()}function Uu(){return Object.create(null)}function Qe(t){t.forEach(qd)}function zd(t){return typeof t=="function"}function Oe(t,A){return t!=t?A==A:t!==A||t&&typeof t=="object"||typeof t=="function"}let ti;function Pe(t,A){return t===A?!0:(ti||(ti=document.createElement("a")),ti.href=A,t===ti.href)}function Nw(t){return Object.keys(t).length===0}function Yd(t,...A){if(t==null){for(const r of A)r(void 0);return nA}const e=t.subscribe(...A);return e.unsubscribe?()=>e.unsubscribe():e}function go(t){let A;return Yd(t,e=>A=e)(),A}function ZA(t,A,e){t.$$.on_destroy.push(Yd(A,e))}function Te(t,A,e){return t.set(e),A}const Zd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function v(t,A){t.appendChild(A)}function W(t,A,e){t.insertBefore(A,e||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function Me(t,A){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(A)}function k(t){return document.createElement(t)}function et(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function iA(t){return document.createTextNode(t)}function X(){return iA(" ")}function ot(){return iA("")}function fA(t,A,e,r){return t.addEventListener(A,e,r),()=>t.removeEventListener(A,e,r)}function Fu(t){return function(A){return A.stopPropagation(),t.call(this,A)}}function C(t,A,e){e==null?t.removeAttribute(A):t.getAttribute(A)!==e&&t.setAttribute(A,e)}function Gw(t){return Array.from(t.childNodes)}function bA(t,A){A=""+A,t.data!==A&&(t.data=A)}function Et(t,A){t.value=A??""}function Ma(t,A,e,r){e==null?t.style.removeProperty(A):t.style.setProperty(A,e,"")}function qt(t,A,e){t.classList.toggle(A,!!e)}let fs;function Lt(t){fs=t}function Il(){if(!fs)throw new Error("Function called outside component initialization");return fs}function vs(t){Il().$$.on_mount.push(t)}function Ww(t){Il().$$.on_destroy.push(t)}const tn=[],ds=[];let cn=[];const Iu=[],jw=Promise.resolve();let Oa=!1;function Xw(){Oa||(Oa=!0,jw.then(bl))}function Ka(t){cn.push(t)}const aa=new Set;let Jr=0;function bl(){if(Jr!==0)return;const t=fs;do{try{for(;Jr<tn.length;){const A=tn[Jr];Jr++,Lt(A),Jw(A.$$)}}catch(A){throw tn.length=0,Jr=0,A}for(Lt(null),tn.length=0,Jr=0;ds.length;)ds.pop()();for(let A=0;A<cn.length;A+=1){const e=cn[A];aa.has(e)||(aa.add(e),e())}cn.length=0}while(tn.length);for(;Iu.length;)Iu.pop()();Oa=!1,aa.clear(),Lt(t)}function Jw(t){if(t.fragment!==null){t.update(),Qe(t.before_update);const A=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,A),t.after_update.forEach(Ka)}}function qw(t){const A=[],e=[];cn.forEach(r=>t.indexOf(r)===-1?A.push(r):e.push(r)),e.forEach(r=>r()),cn=A}const Hi=new Set;let Er;function he(){Er={r:0,c:[],p:Er}}function fe(){Er.r||Qe(Er.c),Er=Er.p}function tA(t,A){t&&t.i&&(Hi.delete(t),t.i(A))}function lA(t,A,e,r){if(t&&t.o){if(Hi.has(t))return;Hi.add(t),Er.c.push(()=>{Hi.delete(t),r&&(e&&t.d(1),r())}),t.o(A)}else r&&r()}function bu(t,A){const e=A.token={};function r(n,s,i,a){if(A.token!==e)return;A.resolved=a;let l=A.ctx;i!==void 0&&(l=l.slice(),l[i]=a);const c=n&&(A.current=n)(l);let u=!1;A.block&&(A.blocks?A.blocks.forEach((f,g)=>{g!==s&&f&&(he(),lA(f,1,1,()=>{A.blocks[g]===f&&(A.blocks[g]=null)}),fe())}):A.block.d(1),c.c(),tA(c,1),c.m(A.mount(),A.anchor),u=!0),A.block=c,A.blocks&&(A.blocks[s]=c),u&&bl()}if(Kw(t)){const n=Il();if(t.then(s=>{Lt(n),r(A.then,1,A.value,s),Lt(null)},s=>{if(Lt(n),r(A.catch,2,A.error,s),Lt(null),!A.hasCatch)throw s}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,t),!0;A.resolved=t}}function zw(t,A,e){const r=A.slice(),{resolved:n}=t;t.current===t.then&&(r[t.value]=n),t.current===t.catch&&(r[t.error]=n),t.block.p(r,e)}function OA(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function de(t){t&&t.c()}function ie(t,A,e){const{fragment:r,after_update:n}=t.$$;r&&r.m(A,e),Ka(()=>{const s=t.$$.on_mount.map(qd).filter(zd);t.$$.on_destroy?t.$$.on_destroy.push(...s):Qe(s),t.$$.on_mount=[]}),n.forEach(Ka)}function oe(t,A){const e=t.$$;e.fragment!==null&&(qw(e.after_update),Qe(e.on_destroy),e.fragment&&e.fragment.d(A),e.on_destroy=e.fragment=null,e.ctx=[])}function Yw(t,A){t.$$.dirty[0]===-1&&(tn.push(t),Xw(),t.$$.dirty.fill(0)),t.$$.dirty[A/31|0]|=1<<A%31}function ze(t,A,e,r,n,s,i=null,a=[-1]){const l=fs;Lt(t);const c=t.$$={fragment:null,ctx:[],props:s,update:nA,not_equal:n,bound:Uu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(l?l.$$.context:[])),callbacks:Uu(),dirty:a,skip_bound:!1,root:A.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=e?e(t,A.props||{},(f,g,...B)=>{const Q=B.length?B[0]:g;return c.ctx&&n(c.ctx[f],c.ctx[f]=Q)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](Q),u&&Yw(t,f)),g}):[],c.update(),u=!0,Qe(c.before_update),c.fragment=r?r(c.ctx):!1,A.target){if(A.hydrate){const f=Gw(A.target);c.fragment&&c.fragment.l(f),f.forEach(G)}else c.fragment&&c.fragment.c();A.intro&&tA(t.$$.fragment),ie(t,A.target,A.anchor),bl()}Lt(l)}class Ye{constructor(){oa(this,"$$");oa(this,"$$set")}$destroy(){oe(this,1),this.$destroy=nA}$on(A,e){if(!zd(e))return nA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(e),()=>{const n=r.indexOf(e);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!Nw(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const Zw="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zw);const qr=[];function kr(t,A=nA){let e;const r=new Set;function n(a){if(Oe(t,a)&&(t=a,e)){const l=!qr.length;for(const c of r)c[1](),qr.push(c,t);if(l){for(let c=0;c<qr.length;c+=2)qr[c][0](qr[c+1]);qr.length=0}}}function s(a){n(a(t))}function i(a,l=nA){const c=[a,l];return r.add(c),r.size===1&&(e=A(n,s)||nA),a(t),()=>{r.delete(c),r.size===0&&e&&(e(),e=null)}}return{set:n,update:s,subscribe:i}}const qA=kr(null),Qn=kr([]),He=kr(null),xe=kr({}),rs=kr(!1),Si=kr(!1),Tl=kr({});try{const t=localStorage.getItem("drawIt-user-v2");t&&qA.set(JSON.parse(t));const A=localStorage.getItem("drawIt-games-v2");A&&Qn.set(JSON.parse(A));const e=localStorage.getItem("drawIt-users-v2");e&&xe.set(JSON.parse(e))}catch(t){console.error("Error loading from localStorage:",t)}qA.subscribe(t=>{t?localStorage.setItem("drawIt-user-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-user-v2")});Qn.subscribe(t=>{t?localStorage.setItem("drawIt-games-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-games-v2")});xe.subscribe(t=>{Object.keys(t).length>0?localStorage.setItem("drawIt-users-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-users-v2")});const $w=()=>{};var Tu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=function(t){const A=[];let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?A[e++]=n:n<2048?(A[e++]=n>>6|192,A[e++]=n&63|128):(n&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++r)&1023),A[e++]=n>>18|240,A[e++]=n>>12&63|128,A[e++]=n>>6&63|128,A[e++]=n&63|128):(A[e++]=n>>12|224,A[e++]=n>>6&63|128,A[e++]=n&63|128)}return A},Am=function(t){const A=[];let e=0,r=0;for(;e<t.length;){const n=t[e++];if(n<128)A[r++]=String.fromCharCode(n);else if(n>191&&n<224){const s=t[e++];A[r++]=String.fromCharCode((n&31)<<6|s&63)}else if(n>239&&n<365){const s=t[e++],i=t[e++],a=t[e++],l=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;A[r++]=String.fromCharCode(55296+(l>>10)),A[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[e++],i=t[e++];A[r++]=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63)}}return A.join("")},Ag={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,A){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<t.length;n+=3){const s=t[n],i=n+1<t.length,a=i?t[n+1]:0,l=n+2<t.length,c=l?t[n+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,B=c&63;l||(B=64,i||(g=64)),r.push(e[u],e[f],e[g],e[B])}return r.join("")},encodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(t):this.encodeByteArray($d(t),A)},decodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(t):Am(this.decodeStringToByteArray(t,A))},decodeStringToByteArray(t,A){this.init_();const e=A?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<t.length;){const s=e[t.charAt(n++)],a=n<t.length?e[t.charAt(n)]:0;++n;const c=n<t.length?e[t.charAt(n)]:64;++n;const f=n<t.length?e[t.charAt(n)]:64;if(++n,s==null||a==null||c==null||f==null)throw new em;const g=s<<2|a>>4;if(r.push(g),c!==64){const B=a<<4&240|c>>2;if(r.push(B),f!==64){const Q=c<<6&192|f;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class em extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tm=function(t){const A=$d(t);return Ag.encodeByteArray(A,!0)},Ni=function(t){return tm(t).replace(/\./g,"")},rm=function(t){try{return Ag.decodeString(t,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=()=>nm().__FIREBASE_DEFAULTS__,im=()=>{if(typeof process>"u"||typeof Tu>"u")return;const t=Tu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},om=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const A=t&&rm(t[1]);return A&&JSON.parse(A)},Hl=()=>{try{return $w()||sm()||im()||om()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},am=t=>{var A,e;return(e=(A=Hl())===null||A===void 0?void 0:A.emulatorHosts)===null||e===void 0?void 0:e[t]},lm=t=>{const A=am(t);if(!A)return;const e=A.lastIndexOf(":");if(e<=0||e+1===A.length)throw new Error(`Invalid host ${A} with no separate hostname and port!`);const r=parseInt(A.substring(e+1),10);return A[0]==="["?[A.substring(1,e-1),r]:[A.substring(0,e),r]},eg=()=>{var t;return(t=Hl())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}wrapCallback(A){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof A=="function"&&(this.promise.catch(()=>{}),A.length===1?A(e):A(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,A){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=A||"demo-project",n=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ni(JSON.stringify(e)),Ni(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fm(){var t;const A=(t=Hl())===null||t===void 0?void 0:t.forceEnvironment;if(A==="node")return!0;if(A==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dm(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gm(){return!fm()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tg(){try{return typeof indexedDB=="object"}catch{return!1}}function rg(){return new Promise((t,A)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},n.onupgradeneeded=()=>{e=!1},n.onerror=()=>{var s;A(((s=n.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){A(e)}})}function Bm(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="FirebaseError";class dr extends Error{constructor(A,e,r){super(e),this.code=A,this.customData=r,this.name=pm,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(A,e,r){this.service=A,this.serviceName=e,this.errors=r}create(A,...e){const r=e[0]||{},n=`${this.service}/${A}`,s=this.errors[A],i=s?wm(s,r):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new dr(n,a,r)}}function wm(t,A){return t.replace(mm,(e,r)=>{const n=A[r];return n!=null?String(n):`<${r}?>`})}const mm=/\{\$([^}]+)}/g;function gs(t,A){if(t===A)return!0;const e=Object.keys(t),r=Object.keys(A);for(const n of e){if(!r.includes(n))return!1;const s=t[n],i=A[n];if(Hu(s)&&Hu(i)){if(!gs(s,i))return!1}else if(s!==i)return!1}for(const n of r)if(!e.includes(n))return!1;return!0}function Hu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=1e3,ym=2,Qm=4*60*60*1e3,_m=.5;function Su(t,A=Cm,e=ym){const r=A*Math.pow(e,t),n=Math.round(_m*r*(Math.random()-.5)*2);return Math.min(Qm,r+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class xt{constructor(A,e,r){this.name=A,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(A,e){this.name=A,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const e=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(e)){const r=new cm;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&r.resolve(n)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(A){var e;const r=this.normalizeInstanceIdentifier(A==null?void 0:A.identifier),n=(e=A==null?void 0:A.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,!!this.shouldAutoInitialize()){if(Um(A))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:n});r.resolve(s)}catch{}}}}clearInstance(A=Qr){this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}async delete(){const A=Array.from(this.instances.values());await Promise.all([...A.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...A.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(A=Qr){return this.instances.has(A)}getOptions(A=Qr){return this.instancesOptions.get(A)||{}}initialize(A={}){const{options:e={}}=A,r=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(n)}return n}onInit(A,e){var r;const n=this.normalizeInstanceIdentifier(e),s=(r=this.onInitCallbacks.get(n))!==null&&r!==void 0?r:new Set;s.add(A),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&A(i,n),()=>{s.delete(A)}}invokeOnInitCallbacks(A,e){const r=this.onInitCallbacks.get(e);if(r)for(const n of r)try{n(A,e)}catch{}}getOrInitializeService({instanceIdentifier:A,options:e={}}){let r=this.instances.get(A);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vm(A),options:e}),this.instances.set(A,r),this.instancesOptions.set(A,e),this.invokeOnInitCallbacks(r,A),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,A,r)}catch{}return r||null}normalizeInstanceIdentifier(A=Qr){return this.component?this.component.multipleInstances?A:Qr:A}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vm(t){return t===Qr?void 0:t}function Um(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(A){this.name=A,this.providers=new Map}addComponent(A){const e=this.getProvider(A.name);if(e.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);e.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.addComponent(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const e=new Em(A,this);return this.providers.set(A,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(RA||(RA={}));const Im={debug:RA.DEBUG,verbose:RA.VERBOSE,info:RA.INFO,warn:RA.WARN,error:RA.ERROR,silent:RA.SILENT},bm=RA.INFO,Tm={[RA.DEBUG]:"log",[RA.VERBOSE]:"log",[RA.INFO]:"info",[RA.WARN]:"warn",[RA.ERROR]:"error"},Hm=(t,A,...e)=>{if(A<t.logLevel)return;const r=new Date().toISOString(),n=Tm[A];if(n)console[n](`[${r}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`)};class Sl{constructor(A){this.name=A,this._logLevel=bm,this._logHandler=Hm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in RA))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel=typeof A=="string"?Im[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if(typeof A!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(...A){this._userLogHandler&&this._userLogHandler(this,RA.DEBUG,...A),this._logHandler(this,RA.DEBUG,...A)}log(...A){this._userLogHandler&&this._userLogHandler(this,RA.VERBOSE,...A),this._logHandler(this,RA.VERBOSE,...A)}info(...A){this._userLogHandler&&this._userLogHandler(this,RA.INFO,...A),this._logHandler(this,RA.INFO,...A)}warn(...A){this._userLogHandler&&this._userLogHandler(this,RA.WARN,...A),this._logHandler(this,RA.WARN,...A)}error(...A){this._userLogHandler&&this._userLogHandler(this,RA.ERROR,...A),this._logHandler(this,RA.ERROR,...A)}}const Sm=(t,A)=>A.some(e=>t instanceof e);let Ru,Du;function Rm(){return Ru||(Ru=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dm(){return Du||(Du=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ng=new WeakMap,Na=new WeakMap,sg=new WeakMap,la=new WeakMap,Rl=new WeakMap;function Lm(t){const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{e(Ar(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",i)});return A.then(e=>{e instanceof IDBCursor&&ng.set(e,t)}).catch(()=>{}),Rl.set(A,t),A}function km(t){if(Na.has(t))return;const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});Na.set(t,A)}let Ga={get(t,A,e){if(t instanceof IDBTransaction){if(A==="done")return Na.get(t);if(A==="objectStoreNames")return t.objectStoreNames||sg.get(t);if(A==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ar(t[A])},set(t,A,e){return t[A]=e,!0},has(t,A){return t instanceof IDBTransaction&&(A==="done"||A==="store")?!0:A in t}};function xm(t){Ga=t(Ga)}function Vm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(A,...e){const r=t.call(ca(this),A,...e);return sg.set(r,A.sort?A.sort():[A]),Ar(r)}:Dm().includes(t)?function(...A){return t.apply(ca(this),A),Ar(ng.get(this))}:function(...A){return Ar(t.apply(ca(this),A))}}function Pm(t){return typeof t=="function"?Vm(t):(t instanceof IDBTransaction&&km(t),Sm(t,Rm())?new Proxy(t,Ga):t)}function Ar(t){if(t instanceof IDBRequest)return Lm(t);if(la.has(t))return la.get(t);const A=Pm(t);return A!==t&&(la.set(t,A),Rl.set(A,t)),A}const ca=t=>Rl.get(t);function ig(t,A,{blocked:e,upgrade:r,blocking:n,terminated:s}={}){const i=indexedDB.open(t,A),a=Ar(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Ar(i.result),l.oldVersion,l.newVersion,Ar(i.transaction),l)}),e&&i.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),n&&l.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Mm=["get","getKey","getAll","getAllKeys","count"],Om=["put","add","delete","clear"],ua=new Map;function Lu(t,A){if(!(t instanceof IDBDatabase&&!(A in t)&&typeof A=="string"))return;if(ua.get(A))return ua.get(A);const e=A.replace(/FromIndex$/,""),r=A!==e,n=Om.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(n||Mm.includes(e)))return;const s=async function(i,...a){const l=this.transaction(i,n?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),n&&l.done]))[0]};return ua.set(A,s),s}xm(t=>({...t,get:(A,e,r)=>Lu(A,e)||t.get(A,e,r),has:(A,e)=>!!Lu(A,e)||t.has(A,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Nm(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Nm(t){const A=t.getComponent();return(A==null?void 0:A.type)==="VERSION"}const Wa="@firebase/app",ku="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt=new Sl("@firebase/app"),Gm="@firebase/app-compat",Wm="@firebase/analytics-compat",jm="@firebase/analytics",Xm="@firebase/app-check-compat",Jm="@firebase/app-check",qm="@firebase/auth",zm="@firebase/auth-compat",Ym="@firebase/database",Zm="@firebase/data-connect",$m="@firebase/database-compat",A0="@firebase/functions",e0="@firebase/functions-compat",t0="@firebase/installations",r0="@firebase/installations-compat",n0="@firebase/messaging",s0="@firebase/messaging-compat",i0="@firebase/performance",o0="@firebase/performance-compat",a0="@firebase/remote-config",l0="@firebase/remote-config-compat",c0="@firebase/storage",u0="@firebase/storage-compat",h0="@firebase/firestore",f0="@firebase/vertexai",d0="@firebase/firestore-compat",g0="firebase",B0="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]",p0={[Wa]:"fire-core",[Gm]:"fire-core-compat",[jm]:"fire-analytics",[Wm]:"fire-analytics-compat",[Jm]:"fire-app-check",[Xm]:"fire-app-check-compat",[qm]:"fire-auth",[zm]:"fire-auth-compat",[Ym]:"fire-rtdb",[Zm]:"fire-data-connect",[$m]:"fire-rtdb-compat",[A0]:"fire-fn",[e0]:"fire-fn-compat",[t0]:"fire-iid",[r0]:"fire-iid-compat",[n0]:"fire-fcm",[s0]:"fire-fcm-compat",[i0]:"fire-perf",[o0]:"fire-perf-compat",[a0]:"fire-rc",[l0]:"fire-rc-compat",[c0]:"fire-gcs",[u0]:"fire-gcs-compat",[h0]:"fire-fst",[d0]:"fire-fst-compat",[f0]:"fire-vertex","fire-js":"fire-js",[g0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Map,w0=new Map,Xa=new Map;function xu(t,A){try{t.container.addComponent(A)}catch(e){Vt.debug(`Component ${A.name} failed to register with FirebaseApp ${t.name}`,e)}}function sr(t){const A=t.name;if(Xa.has(A))return Vt.debug(`There were multiple attempts to register component ${A}.`),!1;Xa.set(A,t);for(const e of Gi.values())xu(e,t);for(const e of w0.values())xu(e,t);return!0}function Dl(t,A){const e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(A)}function m0(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new Bo("app","Firebase",C0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(A,e,r){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=B0;function og(t,A={}){let e=t;typeof A!="object"&&(A={name:A});const r=Object.assign({name:ja,automaticDataCollectionEnabled:!1},A),n=r.name;if(typeof n!="string"||!n)throw er.create("bad-app-name",{appName:String(n)});if(e||(e=eg()),!e)throw er.create("no-options");const s=Gi.get(n);if(s){if(gs(e,s.options)&&gs(r,s.config))return s;throw er.create("duplicate-app",{appName:n})}const i=new Fm(n);for(const l of Xa.values())i.addComponent(l);const a=new y0(e,r,i);return Gi.set(n,a),a}function _0(t=ja){const A=Gi.get(t);if(!A&&t===ja&&eg())return og();if(!A)throw er.create("no-app",{appName:t});return A}function yt(t,A,e){var r;let n=(r=p0[t])!==null&&r!==void 0?r:t;e&&(n+=`-${e}`);const s=n.match(/\s|\//),i=A.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${A}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${A}" contains illegal characters (whitespace or "/")`),Vt.warn(a.join(" "));return}sr(new xt(`${n}-version`,()=>({library:n,version:A}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebase-heartbeat-database",v0=1,Bs="firebase-heartbeat-store";let ha=null;function ag(){return ha||(ha=ig(E0,v0,{upgrade:(t,A)=>{switch(A){case 0:try{t.createObjectStore(Bs)}catch(e){console.warn(e)}}}}).catch(t=>{throw er.create("idb-open",{originalErrorMessage:t.message})})),ha}async function U0(t){try{const e=(await ag()).transaction(Bs),r=await e.objectStore(Bs).get(lg(t));return await e.done,r}catch(A){if(A instanceof dr)Vt.warn(A.message);else{const e=er.create("idb-get",{originalErrorMessage:A==null?void 0:A.message});Vt.warn(e.message)}}}async function Vu(t,A){try{const r=(await ag()).transaction(Bs,"readwrite");await r.objectStore(Bs).put(A,lg(t)),await r.done}catch(e){if(e instanceof dr)Vt.warn(e.message);else{const r=er.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Vt.warn(r.message)}}}function lg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=1024,I0=30;class b0{constructor(A){this.container=A,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new H0(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var A,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pu();if(((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>I0){const i=S0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vt.warn(r)}}async getHeartbeatsHeader(){var A;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pu(),{heartbeatsToSend:r,unsentEntries:n}=T0(this._heartbeatsCache.heartbeats),s=Ni(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Vt.warn(e),""}}}function Pu(){return new Date().toISOString().substring(0,10)}function T0(t,A=F0){const e=[];let r=t.slice();for(const n of t){const s=e.find(i=>i.agent===n.agent);if(s){if(s.dates.push(n.date),Mu(e)>A){s.dates.pop();break}}else if(e.push({agent:n.agent,dates:[n.date]}),Mu(e)>A){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class H0{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tg()?rg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await U0(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vu(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:A.heartbeats})}else return}async add(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vu(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...A.heartbeats]})}else return}}function Mu(t){return Ni(JSON.stringify({version:2,heartbeats:t})).length}function S0(t){if(t.length===0)return-1;let A=0,e=t[0].date;for(let r=1;r<t.length;r++)t[r].date<e&&(e=t[r].date,A=r);return A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){sr(new xt("platform-logger",A=>new Km(A),"PRIVATE")),sr(new xt("heartbeat",A=>new b0(A),"PRIVATE")),yt(Wa,ku,t),yt(Wa,ku,"esm2017"),yt("fire-js","")}R0("");var D0="firebase",L0="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yt(D0,L0,"app");const cg="@firebase/installations",Ll="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=1e4,hg=`w:${Ll}`,fg="FIS_v2",k0="https://firebaseinstallations.googleapis.com/v1",x0=60*60*1e3,V0="installations",P0="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hr=new Bo(V0,P0,M0);function dg(t){return t instanceof dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg({projectId:t}){return`${k0}/projects/${t}/installations`}function Bg(t){return{token:t.token,requestStatus:2,expiresIn:K0(t.expiresIn),creationTime:Date.now()}}async function pg(t,A){const r=(await A.json()).error;return Hr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wg({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function O0(t,{refreshToken:A}){const e=wg(t);return e.append("Authorization",N0(A)),e}async function mg(t){const A=await t();return A.status>=500&&A.status<600?t():A}function K0(t){return Number(t.replace("s","000"))}function N0(t){return`${fg} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0({appConfig:t,heartbeatServiceProvider:A},{fid:e}){const r=gg(t),n=wg(t),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={fid:e,authVersion:fg,appId:t.appId,sdkVersion:hg},a={method:"POST",headers:n,body:JSON.stringify(i)},l=await mg(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||e,registrationStatus:2,refreshToken:c.refreshToken,authToken:Bg(c.authToken)}}else throw await pg("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){return new Promise(A=>{setTimeout(A,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=/^[cdef][\w-]{21}$/,Ja="";function X0(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=J0(t);return j0.test(e)?e:Ja}catch{return Ja}}function J0(t){return W0(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Map;function Qg(t,A){const e=po(t);_g(e,A),q0(e,A)}function _g(t,A){const e=yg.get(t);if(e)for(const r of e)r(A)}function q0(t,A){const e=z0();e&&e.postMessage({key:t,fid:A}),Y0()}let vr=null;function z0(){return!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=t=>{_g(t.data.key,t.data.fid)}),vr}function Y0(){yg.size===0&&vr&&(vr.close(),vr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firebase-installations-database",$0=1,Sr="firebase-installations-store";let fa=null;function kl(){return fa||(fa=ig(Z0,$0,{upgrade:(t,A)=>{switch(A){case 0:t.createObjectStore(Sr)}}})),fa}async function Wi(t,A){const e=po(t),n=(await kl()).transaction(Sr,"readwrite"),s=n.objectStore(Sr),i=await s.get(e);return await s.put(A,e),await n.done,(!i||i.fid!==A.fid)&&Qg(t,A.fid),A}async function Eg(t){const A=po(t),r=(await kl()).transaction(Sr,"readwrite");await r.objectStore(Sr).delete(A),await r.done}async function wo(t,A){const e=po(t),n=(await kl()).transaction(Sr,"readwrite"),s=n.objectStore(Sr),i=await s.get(e),a=A(i);return a===void 0?await s.delete(e):await s.put(a,e),await n.done,a&&(!i||i.fid!==a.fid)&&Qg(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){let A;const e=await wo(t.appConfig,r=>{const n=AC(r),s=eC(t,n);return A=s.registrationPromise,s.installationEntry});return e.fid===Ja?{installationEntry:await A}:{installationEntry:e,registrationPromise:A}}function AC(t){const A=t||{fid:X0(),registrationStatus:0};return vg(A)}function eC(t,A){if(A.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(Hr.create("app-offline"));return{installationEntry:A,registrationPromise:n}}const e={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},r=tC(t,e);return{installationEntry:e,registrationPromise:r}}else return A.registrationStatus===1?{installationEntry:A,registrationPromise:rC(t)}:{installationEntry:A}}async function tC(t,A){try{const e=await G0(t,A);return Wi(t.appConfig,e)}catch(e){throw dg(e)&&e.customData.serverCode===409?await Eg(t.appConfig):await Wi(t.appConfig,{fid:A.fid,registrationStatus:0}),e}}async function rC(t){let A=await Ou(t.appConfig);for(;A.registrationStatus===1;)await Cg(100),A=await Ou(t.appConfig);if(A.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await xl(t);return r||e}return A}function Ou(t){return wo(t,A=>{if(!A)throw Hr.create("installation-not-found");return vg(A)})}function vg(t){return nC(t)?{fid:t.fid,registrationStatus:0}:t}function nC(t){return t.registrationStatus===1&&t.registrationTime+ug<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC({appConfig:t,heartbeatServiceProvider:A},e){const r=iC(t,e),n=O0(t,e),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={installation:{sdkVersion:hg,appId:t.appId}},a={method:"POST",headers:n,body:JSON.stringify(i)},l=await mg(()=>fetch(r,a));if(l.ok){const c=await l.json();return Bg(c)}else throw await pg("Generate Auth Token",l)}function iC(t,{fid:A}){return`${gg(t)}/${A}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,A=!1){let e;const r=await wo(t.appConfig,s=>{if(!Ug(s))throw Hr.create("not-registered");const i=s.authToken;if(!A&&lC(i))return s;if(i.requestStatus===1)return e=oC(t,A),s;{if(!navigator.onLine)throw Hr.create("app-offline");const a=uC(s);return e=aC(t,a),a}});return e?await e:r.authToken}async function oC(t,A){let e=await Ku(t.appConfig);for(;e.authToken.requestStatus===1;)await Cg(100),e=await Ku(t.appConfig);const r=e.authToken;return r.requestStatus===0?Vl(t,A):r}function Ku(t){return wo(t,A=>{if(!Ug(A))throw Hr.create("not-registered");const e=A.authToken;return hC(e)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}async function aC(t,A){try{const e=await sC(t,A),r=Object.assign(Object.assign({},A),{authToken:e});return await Wi(t.appConfig,r),e}catch(e){if(dg(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await Eg(t.appConfig);else{const r=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});await Wi(t.appConfig,r)}throw e}}function Ug(t){return t!==void 0&&t.registrationStatus===2}function lC(t){return t.requestStatus===2&&!cC(t)}function cC(t){const A=Date.now();return A<t.creationTime||t.creationTime+t.expiresIn<A+x0}function uC(t){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:A})}function hC(t){return t.requestStatus===1&&t.requestTime+ug<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t){const A=t,{installationEntry:e,registrationPromise:r}=await xl(A);return r?r.catch(console.error):Vl(A).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t,A=!1){const e=t;return await gC(e),(await Vl(e,A)).token}async function gC(t){const{registrationPromise:A}=await xl(t);A&&await A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t){if(!t||!t.options)throw da("App Configuration");if(!t.name)throw da("App Name");const A=["projectId","apiKey","appId"];for(const e of A)if(!t.options[e])throw da(e);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function da(t){return Hr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="installations",pC="installations-internal",wC=t=>{const A=t.getProvider("app").getImmediate(),e=BC(A),r=Dl(A,"heartbeat");return{app:A,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},mC=t=>{const A=t.getProvider("app").getImmediate(),e=Dl(A,Fg).getImmediate();return{getId:()=>fC(e),getToken:n=>dC(e,n)}};function CC(){sr(new xt(Fg,wC,"PUBLIC")),sr(new xt(pC,mC,"PRIVATE"))}CC();yt(cg,Ll);yt(cg,Ll,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="analytics",yC="firebase_id",QC="origin",_C=60*1e3,EC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pl="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=new Sl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},st=new Bo("analytics","Analytics",vC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){if(!t.startsWith(Pl)){const A=st.create("invalid-gtag-resource",{gtagURL:t});return Ve.warn(A.message),""}return t}function Ig(t){return Promise.all(t.map(A=>A.catch(e=>e)))}function FC(t,A){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(t,A)),e}function IC(t,A){const e=FC("firebase-js-sdk-policy",{createScriptURL:UC}),r=document.createElement("script"),n=`${Pl}?l=${t}&id=${A}`;r.src=e?e==null?void 0:e.createScriptURL(n):n,r.async=!0,document.head.appendChild(r)}function bC(t){let A=[];return Array.isArray(window[t])?A=window[t]:window[t]=A,A}async function TC(t,A,e,r,n,s){const i=r[n];try{if(i)await A[i];else{const l=(await Ig(e)).find(c=>c.measurementId===n);l&&await A[l.appId]}}catch(a){Ve.error(a)}t("config",n,s)}async function HC(t,A,e,r,n){try{let s=[];if(n&&n.send_to){let i=n.send_to;Array.isArray(i)||(i=[i]);const a=await Ig(e);for(const l of i){const c=a.find(f=>f.measurementId===l),u=c&&A[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(A)),await Promise.all(s),t("event",r,n||{})}catch(s){Ve.error(s)}}function SC(t,A,e,r){async function n(s,...i){try{if(s==="event"){const[a,l]=i;await HC(t,A,e,a,l)}else if(s==="config"){const[a,l]=i;await TC(t,A,e,r,a,l)}else if(s==="consent"){const[a,l]=i;t("consent",a,l)}else if(s==="get"){const[a,l,c]=i;t("get",a,l,c)}else if(s==="set"){const[a]=i;t("set",a)}else t(s,...i)}catch(a){Ve.error(a)}}return n}function RC(t,A,e,r,n){let s=function(...i){window[r].push(arguments)};return window[n]&&typeof window[n]=="function"&&(s=window[n]),window[n]=SC(s,t,A,e),{gtagCore:s,wrappedGtag:window[n]}}function DC(t){const A=window.document.getElementsByTagName("script");for(const e of Object.values(A))if(e.src&&e.src.includes(Pl)&&e.src.includes(t))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=30,kC=1e3;class xC{constructor(A={},e=kC){this.throttleMetadata=A,this.intervalMillis=e}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,e){this.throttleMetadata[A]=e}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}}const bg=new xC;function VC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function PC(t){var A;const{appId:e,apiKey:r}=t,n={method:"GET",headers:VC(r)},s=EC.replace("{app-id}",e),i=await fetch(s,n);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();!((A=l.error)===null||A===void 0)&&A.message&&(a=l.error.message)}catch{}throw st.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function MC(t,A=bg,e){const{appId:r,apiKey:n,measurementId:s}=t.options;if(!r)throw st.create("no-app-id");if(!n){if(s)return{measurementId:s,appId:r};throw st.create("no-api-key")}const i=A.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new NC;return setTimeout(async()=>{a.abort()},_C),Tg({appId:r,apiKey:n,measurementId:s},i,a,A)}async function Tg(t,{throttleEndTimeMillis:A,backoffCount:e},r,n=bg){var s;const{appId:i,measurementId:a}=t;try{await OC(r,A)}catch(l){if(a)return Ve.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw l}try{const l=await PC(t);return n.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!KC(c)){if(n.deleteThrottleMetadata(i),a)return Ve.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Su(e,n.intervalMillis,LC):Su(e,n.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return n.setThrottleMetadata(i,f),Ve.debug(`Calling attemptFetch again in ${u} millis`),Tg(t,f,r,n)}}function OC(t,A){return new Promise((e,r)=>{const n=Math.max(A-Date.now(),0),s=setTimeout(e,n);t.addEventListener(()=>{clearTimeout(s),r(st.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function KC(t){if(!(t instanceof dr)||!t.customData)return!1;const A=Number(t.customData.httpStatus);return A===429||A===500||A===503||A===504}class NC{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}async function GC(t,A,e,r,n){if(n&&n.global){t("event",e,r);return}else{const s=await A,i=Object.assign(Object.assign({},r),{send_to:s});t("event",e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(){if(tg())try{await rg()}catch(t){return Ve.warn(st.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ve.warn(st.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jC(t,A,e,r,n,s,i){var a;const l=MC(t);l.then(B=>{e[B.measurementId]=B.appId,t.options.measurementId&&B.measurementId!==t.options.measurementId&&Ve.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>Ve.error(B)),A.push(l);const c=WC().then(B=>{if(B)return r.getId()}),[u,f]=await Promise.all([l,c]);DC(s)||IC(s,u.measurementId),n("js",new Date);const g=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return g[QC]="firebase",g.update=!0,f!=null&&(g[yC]=f),n("config",u.measurementId,g),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(A){this.app=A}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},Gu=[];const Wu={};let ga="dataLayer",JC="gtag",ju,Hg,Xu=!1;function qC(){const t=[];if(dm()&&t.push("This is a browser extension environment."),Bm()||t.push("Cookies are not available."),t.length>0){const A=t.map((r,n)=>`(${n+1}) ${r}`).join(" "),e=st.create("invalid-analytics-context",{errorInfo:A});Ve.warn(e.message)}}function zC(t,A,e){qC();const r=t.options.appId;if(!r)throw st.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ve.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw st.create("no-api-key");if(ns[r]!=null)throw st.create("already-exists",{id:r});if(!Xu){bC(ga);const{wrappedGtag:s,gtagCore:i}=RC(ns,Gu,Wu,ga,JC);Hg=s,ju=i,Xu=!0}return ns[r]=jC(t,Gu,Wu,A,ju,ga,e),new XC(t)}function YC(t,A,e,r){t=it(t),GC(Hg,ns[t.app.options.appId],A,e,r).catch(n=>Ve.error(n))}const Ju="@firebase/analytics",qu="0.10.12";function ZC(){sr(new xt(Nu,(A,{options:e})=>{const r=A.getProvider("app").getImmediate(),n=A.getProvider("installations-internal").getImmediate();return zC(r,n,e)},"PUBLIC")),sr(new xt("analytics-internal",t,"PRIVATE")),yt(Ju,qu),yt(Ju,qu,"esm2017");function t(A){try{const e=A.getProvider(Nu).getImmediate();return{logEvent:(r,n,s)=>YC(e,r,n,s)}}catch(e){throw st.create("interop-component-reg-failed",{reason:e})}}}ZC();var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,Sg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function A(E,p){function _(){}_.prototype=p.prototype,E.D=p.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,U,b){for(var w=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)w[Z-2]=arguments[Z];return p.prototype[U].apply(I,w)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}A(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(E,p,_){_||(_=0);var I=Array(16);if(typeof p=="string")for(var U=0;16>U;++U)I[U]=p.charCodeAt(_++)|p.charCodeAt(_++)<<8|p.charCodeAt(_++)<<16|p.charCodeAt(_++)<<24;else for(U=0;16>U;++U)I[U]=p[_++]|p[_++]<<8|p[_++]<<16|p[_++]<<24;p=E.g[0],_=E.g[1],U=E.g[2];var b=E.g[3],w=p+(b^_&(U^b))+I[0]+3614090360&4294967295;p=_+(w<<7&4294967295|w>>>25),w=b+(U^p&(_^U))+I[1]+3905402710&4294967295,b=p+(w<<12&4294967295|w>>>20),w=U+(_^b&(p^_))+I[2]+606105819&4294967295,U=b+(w<<17&4294967295|w>>>15),w=_+(p^U&(b^p))+I[3]+3250441966&4294967295,_=U+(w<<22&4294967295|w>>>10),w=p+(b^_&(U^b))+I[4]+4118548399&4294967295,p=_+(w<<7&4294967295|w>>>25),w=b+(U^p&(_^U))+I[5]+1200080426&4294967295,b=p+(w<<12&4294967295|w>>>20),w=U+(_^b&(p^_))+I[6]+2821735955&4294967295,U=b+(w<<17&4294967295|w>>>15),w=_+(p^U&(b^p))+I[7]+4249261313&4294967295,_=U+(w<<22&4294967295|w>>>10),w=p+(b^_&(U^b))+I[8]+1770035416&4294967295,p=_+(w<<7&4294967295|w>>>25),w=b+(U^p&(_^U))+I[9]+2336552879&4294967295,b=p+(w<<12&4294967295|w>>>20),w=U+(_^b&(p^_))+I[10]+4294925233&4294967295,U=b+(w<<17&4294967295|w>>>15),w=_+(p^U&(b^p))+I[11]+2304563134&4294967295,_=U+(w<<22&4294967295|w>>>10),w=p+(b^_&(U^b))+I[12]+1804603682&4294967295,p=_+(w<<7&4294967295|w>>>25),w=b+(U^p&(_^U))+I[13]+4254626195&4294967295,b=p+(w<<12&4294967295|w>>>20),w=U+(_^b&(p^_))+I[14]+2792965006&4294967295,U=b+(w<<17&4294967295|w>>>15),w=_+(p^U&(b^p))+I[15]+1236535329&4294967295,_=U+(w<<22&4294967295|w>>>10),w=p+(U^b&(_^U))+I[1]+4129170786&4294967295,p=_+(w<<5&4294967295|w>>>27),w=b+(_^U&(p^_))+I[6]+3225465664&4294967295,b=p+(w<<9&4294967295|w>>>23),w=U+(p^_&(b^p))+I[11]+643717713&4294967295,U=b+(w<<14&4294967295|w>>>18),w=_+(b^p&(U^b))+I[0]+3921069994&4294967295,_=U+(w<<20&4294967295|w>>>12),w=p+(U^b&(_^U))+I[5]+3593408605&4294967295,p=_+(w<<5&4294967295|w>>>27),w=b+(_^U&(p^_))+I[10]+38016083&4294967295,b=p+(w<<9&4294967295|w>>>23),w=U+(p^_&(b^p))+I[15]+3634488961&4294967295,U=b+(w<<14&4294967295|w>>>18),w=_+(b^p&(U^b))+I[4]+3889429448&4294967295,_=U+(w<<20&4294967295|w>>>12),w=p+(U^b&(_^U))+I[9]+568446438&4294967295,p=_+(w<<5&4294967295|w>>>27),w=b+(_^U&(p^_))+I[14]+3275163606&4294967295,b=p+(w<<9&4294967295|w>>>23),w=U+(p^_&(b^p))+I[3]+4107603335&4294967295,U=b+(w<<14&4294967295|w>>>18),w=_+(b^p&(U^b))+I[8]+1163531501&4294967295,_=U+(w<<20&4294967295|w>>>12),w=p+(U^b&(_^U))+I[13]+2850285829&4294967295,p=_+(w<<5&4294967295|w>>>27),w=b+(_^U&(p^_))+I[2]+4243563512&4294967295,b=p+(w<<9&4294967295|w>>>23),w=U+(p^_&(b^p))+I[7]+1735328473&4294967295,U=b+(w<<14&4294967295|w>>>18),w=_+(b^p&(U^b))+I[12]+2368359562&4294967295,_=U+(w<<20&4294967295|w>>>12),w=p+(_^U^b)+I[5]+4294588738&4294967295,p=_+(w<<4&4294967295|w>>>28),w=b+(p^_^U)+I[8]+2272392833&4294967295,b=p+(w<<11&4294967295|w>>>21),w=U+(b^p^_)+I[11]+1839030562&4294967295,U=b+(w<<16&4294967295|w>>>16),w=_+(U^b^p)+I[14]+4259657740&4294967295,_=U+(w<<23&4294967295|w>>>9),w=p+(_^U^b)+I[1]+2763975236&4294967295,p=_+(w<<4&4294967295|w>>>28),w=b+(p^_^U)+I[4]+1272893353&4294967295,b=p+(w<<11&4294967295|w>>>21),w=U+(b^p^_)+I[7]+4139469664&4294967295,U=b+(w<<16&4294967295|w>>>16),w=_+(U^b^p)+I[10]+3200236656&4294967295,_=U+(w<<23&4294967295|w>>>9),w=p+(_^U^b)+I[13]+681279174&4294967295,p=_+(w<<4&4294967295|w>>>28),w=b+(p^_^U)+I[0]+3936430074&4294967295,b=p+(w<<11&4294967295|w>>>21),w=U+(b^p^_)+I[3]+3572445317&4294967295,U=b+(w<<16&4294967295|w>>>16),w=_+(U^b^p)+I[6]+76029189&4294967295,_=U+(w<<23&4294967295|w>>>9),w=p+(_^U^b)+I[9]+3654602809&4294967295,p=_+(w<<4&4294967295|w>>>28),w=b+(p^_^U)+I[12]+3873151461&4294967295,b=p+(w<<11&4294967295|w>>>21),w=U+(b^p^_)+I[15]+530742520&4294967295,U=b+(w<<16&4294967295|w>>>16),w=_+(U^b^p)+I[2]+3299628645&4294967295,_=U+(w<<23&4294967295|w>>>9),w=p+(U^(_|~b))+I[0]+4096336452&4294967295,p=_+(w<<6&4294967295|w>>>26),w=b+(_^(p|~U))+I[7]+1126891415&4294967295,b=p+(w<<10&4294967295|w>>>22),w=U+(p^(b|~_))+I[14]+2878612391&4294967295,U=b+(w<<15&4294967295|w>>>17),w=_+(b^(U|~p))+I[5]+4237533241&4294967295,_=U+(w<<21&4294967295|w>>>11),w=p+(U^(_|~b))+I[12]+1700485571&4294967295,p=_+(w<<6&4294967295|w>>>26),w=b+(_^(p|~U))+I[3]+2399980690&4294967295,b=p+(w<<10&4294967295|w>>>22),w=U+(p^(b|~_))+I[10]+4293915773&4294967295,U=b+(w<<15&4294967295|w>>>17),w=_+(b^(U|~p))+I[1]+2240044497&4294967295,_=U+(w<<21&4294967295|w>>>11),w=p+(U^(_|~b))+I[8]+1873313359&4294967295,p=_+(w<<6&4294967295|w>>>26),w=b+(_^(p|~U))+I[15]+4264355552&4294967295,b=p+(w<<10&4294967295|w>>>22),w=U+(p^(b|~_))+I[6]+2734768916&4294967295,U=b+(w<<15&4294967295|w>>>17),w=_+(b^(U|~p))+I[13]+1309151649&4294967295,_=U+(w<<21&4294967295|w>>>11),w=p+(U^(_|~b))+I[4]+4149444226&4294967295,p=_+(w<<6&4294967295|w>>>26),w=b+(_^(p|~U))+I[11]+3174756917&4294967295,b=p+(w<<10&4294967295|w>>>22),w=U+(p^(b|~_))+I[2]+718787259&4294967295,U=b+(w<<15&4294967295|w>>>17),w=_+(b^(U|~p))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+p&4294967295,E.g[1]=E.g[1]+(U+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+U&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,p){p===void 0&&(p=E.length);for(var _=p-this.blockSize,I=this.B,U=this.h,b=0;b<p;){if(U==0)for(;b<=_;)n(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<p;)if(I[U++]=E.charCodeAt(b++),U==this.blockSize){n(this,I),U=0;break}}else for(;b<p;)if(I[U++]=E[b++],U==this.blockSize){n(this,I),U=0;break}}this.h=U,this.o+=p},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var p=1;p<E.length-8;++p)E[p]=0;var _=8*this.o;for(p=E.length-8;p<E.length;++p)E[p]=_&255,_/=256;for(this.u(E),E=Array(16),p=_=0;4>p;++p)for(var I=0;32>I;I+=8)E[_++]=this.g[p]>>>I&255;return E};function s(E,p){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=p(E)}function i(E,p){this.h=p;for(var _=[],I=!0,U=E.length-1;0<=U;U--){var b=E[U]|0;I&&b==p||(_[U]=b,I=!1)}this.g=_}var a={};function l(E){return-128<=E&&128>E?s(E,function(p){return new i([p|0],0>p?-1:0)}):new i([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return F(c(-E));for(var p=[],_=1,I=0;E>=_;I++)p[I]=E/_|0,_*=4294967296;return new i(p,0)}function u(E,p){if(E.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(E.charAt(0)=="-")return F(u(E.substring(1),p));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(p,8)),I=f,U=0;U<E.length;U+=8){var b=Math.min(8,E.length-U),w=parseInt(E.substring(U,U+b),p);8>b?(b=c(Math.pow(p,b)),I=I.j(b).add(c(w))):(I=I.j(_),I=I.add(c(w)))}return I}var f=l(0),g=l(1),B=l(16777216);t=i.prototype,t.m=function(){if(y(this))return-F(this).m();for(var E=0,p=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*p,p*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(Q(this))return"0";if(y(this))return"-"+F(this).toString(E);for(var p=c(Math.pow(E,6)),_=this,I="";;){var U=S(_,p).g;_=R(_,U.j(p));var b=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=U,Q(_))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function Q(E){if(E.h!=0)return!1;for(var p=0;p<E.g.length;p++)if(E.g[p]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=R(this,E),y(E)?-1:Q(E)?0:1};function F(E){for(var p=E.g.length,_=[],I=0;I<p;I++)_[I]=~E.g[I];return new i(_,~E.h).add(g)}t.abs=function(){return y(this)?F(this):this},t.add=function(E){for(var p=Math.max(this.g.length,E.g.length),_=[],I=0,U=0;U<=p;U++){var b=I+(this.i(U)&65535)+(E.i(U)&65535),w=(b>>>16)+(this.i(U)>>>16)+(E.i(U)>>>16);I=w>>>16,b&=65535,w&=65535,_[U]=w<<16|b}return new i(_,_[_.length-1]&-2147483648?-1:0)};function R(E,p){return E.add(F(p))}t.j=function(E){if(Q(this)||Q(E))return f;if(y(this))return y(E)?F(this).j(F(E)):F(F(this).j(E));if(y(E))return F(this.j(F(E)));if(0>this.l(B)&&0>E.l(B))return c(this.m()*E.m());for(var p=this.g.length+E.g.length,_=[],I=0;I<2*p;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<E.g.length;U++){var b=this.i(I)>>>16,w=this.i(I)&65535,Z=E.i(U)>>>16,AA=E.i(U)&65535;_[2*I+2*U]+=w*AA,D(_,2*I+2*U),_[2*I+2*U+1]+=b*AA,D(_,2*I+2*U+1),_[2*I+2*U+1]+=w*Z,D(_,2*I+2*U+1),_[2*I+2*U+2]+=b*Z,D(_,2*I+2*U+2)}for(I=0;I<p;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=p;I<2*p;I++)_[I]=0;return new i(_,0)};function D(E,p){for(;(E[p]&65535)!=E[p];)E[p+1]+=E[p]>>>16,E[p]&=65535,p++}function T(E,p){this.g=E,this.h=p}function S(E,p){if(Q(p))throw Error("division by zero");if(Q(E))return new T(f,f);if(y(E))return p=S(F(E),p),new T(F(p.g),F(p.h));if(y(p))return p=S(E,F(p)),new T(F(p.g),p.h);if(30<E.g.length){if(y(E)||y(p))throw Error("slowDivide_ only works with positive integers.");for(var _=g,I=p;0>=I.l(E);)_=M(_),I=M(I);var U=L(_,1),b=L(I,1);for(I=L(I,2),_=L(_,2);!Q(I);){var w=b.add(I);0>=w.l(E)&&(U=U.add(_),b=w),I=L(I,1),_=L(_,1)}return p=R(E,U.j(p)),new T(U,p)}for(U=f;0<=E.l(p);){for(_=Math.max(1,Math.floor(E.m()/p.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=c(_),w=b.j(p);y(w)||0<w.l(E);)_-=I,b=c(_),w=b.j(p);Q(b)&&(b=g),U=U.add(b),E=R(E,w)}return new T(U,E)}t.A=function(E){return S(this,E).h},t.and=function(E){for(var p=Math.max(this.g.length,E.g.length),_=[],I=0;I<p;I++)_[I]=this.i(I)&E.i(I);return new i(_,this.h&E.h)},t.or=function(E){for(var p=Math.max(this.g.length,E.g.length),_=[],I=0;I<p;I++)_[I]=this.i(I)|E.i(I);return new i(_,this.h|E.h)},t.xor=function(E){for(var p=Math.max(this.g.length,E.g.length),_=[],I=0;I<p;I++)_[I]=this.i(I)^E.i(I);return new i(_,this.h^E.h)};function M(E){for(var p=E.g.length+1,_=[],I=0;I<p;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new i(_,E.h)}function L(E,p){var _=p>>5;p%=32;for(var I=E.g.length-_,U=[],b=0;b<I;b++)U[b]=0<p?E.i(b+_)>>>p|E.i(b+_+1)<<32-p:E.i(b+_);return new i(U,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sg=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=u,tr=i}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rg,Wn,Dg,Ri,qa,Lg,kg,xg;(function(){var t,A=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,d){return o==Array.prototype||o==Object.prototype||(o[h]=d.value),o};function e(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ri=="object"&&ri];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=e(this);function n(o,h){if(h)A:{var d=r;o=o.split(".");for(var m=0;m<o.length-1;m++){var V=o[m];if(!(V in d))break A;d=d[V]}o=o[o.length-1],m=d[o],h=h(m),h!=m&&h!=null&&A(d,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var d=0,m=!1,V={next:function(){if(!m&&d<o.length){var P=d++;return{value:h(P,o[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}n("Array.prototype.values",function(o){return o||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function f(o,h,d){if(!o)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,m),o.apply(h,V)}}return function(){return o.apply(h,arguments)}}function g(o,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,g.apply(null,arguments)}function B(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function Q(o,h){function d(){}d.prototype=h.prototype,o.aa=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(m,V,P){for(var z=Array(arguments.length-2),NA=2;NA<arguments.length;NA++)z[NA-2]=arguments[NA];return h.prototype[V].apply(m,z)}}function y(o){const h=o.length;if(0<h){const d=Array(h);for(let m=0;m<h;m++)d[m]=o[m];return d}return[]}function F(o,h){for(let d=1;d<arguments.length;d++){const m=arguments[d];if(l(m)){const V=o.length||0,P=m.length||0;o.length=V+P;for(let z=0;z<P;z++)o[V+z]=m[z]}else o.push(m)}}class R{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function D(o){return/^[\s\xa0]*$/.test(o)}function T(){var o=a.navigator;return o&&(o=o.userAgent)?o:""}function S(o){return S[" "](o),o}S[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(o,h,d){for(const m in o)h.call(d,o[m],m,o)}function E(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function p(o){const h={};for(const d in o)h[d]=o[d];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,h){let d,m;for(let V=1;V<arguments.length;V++){m=arguments[V];for(d in m)o[d]=m[d];for(let P=0;P<_.length;P++)d=_[P],Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}}function U(o){var h=1;o=o.split(":");const d=[];for(;0<h&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function b(o){a.setTimeout(()=>{throw o},0)}function w(){var o=IA;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class Z{constructor(){this.h=this.g=null}add(h,d){const m=AA.get();m.set(h,d),this.h?this.h.next=m:this.g=m,this.h=m}}var AA=new R(()=>new _A,o=>o.reset());class _A{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let O,mA=!1,IA=new Z,x=()=>{const o=a.Promise.resolve(void 0);O=()=>{o.then(H)}};var H=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(d){b(d)}var h=AA;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}mA=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var cA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function aA(o,h){if(q.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(M){A:{try{S(h.nodeName);var V=!0;break A}catch{}V=!1}V||(h=null)}}else d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:sA[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&aA.aa.h.call(this)}}Q(aA,q);var sA={2:"touch",3:"pen",4:"mouse"};aA.prototype.h=function(){aA.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),J=0;function EA(o,h,d,m,V){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!m,this.ha=V,this.key=++J,this.da=this.fa=!1}function vA(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function uA(o){this.src=o,this.g={},this.h=0}uA.prototype.add=function(o,h,d,m,V){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var z=QA(o,h,m,V);return-1<z?(h=o[z],d||(h.fa=!1)):(h=new EA(h,this.src,P,!!m,V),h.fa=d,o.push(h)),h};function BA(o,h){var d=h.type;if(d in o.g){var m=o.g[d],V=Array.prototype.indexOf.call(m,h,void 0),P;(P=0<=V)&&Array.prototype.splice.call(m,V,1),P&&(vA(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function QA(o,h,d,m){for(var V=0;V<o.length;++V){var P=o[V];if(!P.da&&P.listener==h&&P.capture==!!d&&P.ha==m)return V}return-1}var dA="closure_lm_"+(1e6*Math.random()|0),gA={};function UA(o,h,d,m,V){if(Array.isArray(h)){for(var P=0;P<h.length;P++)UA(o,h[P],d,m,V);return null}return d=Tt(d),o&&o[j]?o.K(h,d,c(m)?!!m.capture:!!m,V):VA(o,h,d,!1,m,V)}function VA(o,h,d,m,V,P){if(!h)throw Error("Invalid event type");var z=c(V)?!!V.capture:!!V,NA=pt(o);if(NA||(o[dA]=NA=new uA(o)),d=NA.add(h,d,m,z,P),d.proxy)return d;if(m=DA(),d.proxy=m,m.src=o,m.listener=d,o.addEventListener)cA||(V=z),V===void 0&&(V=!1),o.addEventListener(h.toString(),m,V);else if(o.attachEvent)o.attachEvent(Ze(h.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function DA(){function o(d){return h.call(o.src,o.listener,d)}const h=Bt;return o}function PA(o,h,d,m,V){if(Array.isArray(h))for(var P=0;P<h.length;P++)PA(o,h[P],d,m,V);else m=c(m)?!!m.capture:!!m,d=Tt(d),o&&o[j]?(o=o.i,h=String(h).toString(),h in o.g&&(P=o.g[h],d=QA(P,d,m,V),-1<d&&(vA(P[d]),Array.prototype.splice.call(P,d,1),P.length==0&&(delete o.g[h],o.h--)))):o&&(o=pt(o))&&(h=o.g[h.toString()],o=-1,h&&(o=QA(h,d,m,V)),(d=-1<o?h[o]:null)&&Ae(d))}function Ae(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[j])BA(h.i,o);else{var d=o.type,m=o.proxy;h.removeEventListener?h.removeEventListener(d,m,o.capture):h.detachEvent?h.detachEvent(Ze(d),m):h.addListener&&h.removeListener&&h.removeListener(m),(d=pt(h))?(BA(d,o),d.h==0&&(d.src=null,h[dA]=null)):vA(o)}}}function Ze(o){return o in gA?gA[o]:gA[o]="on"+o}function Bt(o,h){if(o.da)o=!0;else{h=new aA(h,this);var d=o.listener,m=o.ha||o.src;o.fa&&Ae(o),o=d.call(m,h)}return o}function pt(o){return o=o[dA],o instanceof uA?o:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(o){return typeof o=="function"?o:(o[Re]||(o[Re]=function(h){return o.handleEvent(h)}),o[Re])}function MA(){Y.call(this),this.i=new uA(this),this.M=this,this.F=null}Q(MA,Y),MA.prototype[j]=!0,MA.prototype.removeEventListener=function(o,h,d,m){PA(this,o,h,d,m)};function pA(o,h){var d,m=o.F;if(m)for(d=[];m;m=m.F)d.push(m);if(o=o.M,m=h.type||h,typeof h=="string")h=new q(h,o);else if(h instanceof q)h.target=h.target||o;else{var V=h;h=new q(m,o),I(h,V)}if(V=!0,d)for(var P=d.length-1;0<=P;P--){var z=h.g=d[P];V=KA(z,m,!0,h)&&V}if(z=h.g=o,V=KA(z,m,!0,h)&&V,V=KA(z,m,!1,h)&&V,d)for(P=0;P<d.length;P++)z=h.g=d[P],V=KA(z,m,!1,h)&&V}MA.prototype.N=function(){if(MA.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var d=o.g[h],m=0;m<d.length;m++)vA(d[m]);delete o.g[h],o.h--}}this.F=null},MA.prototype.K=function(o,h,d,m){return this.i.add(String(o),h,!1,d,m)},MA.prototype.L=function(o,h,d,m){return this.i.add(String(o),h,!0,d,m)};function KA(o,h,d,m){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,P=0;P<h.length;++P){var z=h[P];if(z&&!z.da&&z.capture==d){var NA=z.listener,pe=z.ha||z.src;z.fa&&BA(o.i,z),V=NA.call(pe,m)!==!1&&V}}return V&&!m.defaultPrevented}function at(o,h,d){if(typeof o=="function")d&&(o=g(o,d));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(o,h||0)}function lt(o){o.g=at(()=>{o.g=null,o.i&&(o.i=!1,lt(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class ct extends Y{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(o){Y.call(this),this.h=o,this.g={}}Q(Ke,Y);var wt=[];function Ot(o){L(o.g,function(h,d){this.g.hasOwnProperty(d)&&Ae(h)},o),o.g={}}Ke.prototype.N=function(){Ke.aa.N.call(this),Ot(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=a.JSON.stringify,Ps=a.JSON.parse,Ms=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Kr(){}Kr.prototype.h=null;function In(o){return o.h||(o.h=o.i())}function bn(){}var Kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){q.call(this,"d")}Q(Nr,q);function Jo(){q.call(this,"c")}Q(Jo,q);var pr={},xc=null;function Os(){return xc=xc||new MA}pr.La="serverreachability";function Vc(o){q.call(this,pr.La,o)}Q(Vc,q);function Tn(o){const h=Os();pA(h,new Vc(h))}pr.STAT_EVENT="statevent";function Pc(o,h){q.call(this,pr.STAT_EVENT,o),this.stat=h}Q(Pc,q);function be(o){const h=Os();pA(h,new Pc(h,o))}pr.Ma="timingevent";function Mc(o,h){q.call(this,pr.Ma,o),this.size=h}Q(Mc,q);function Hn(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function pw(o,h,d,m,V,P){o.info(function(){if(o.g)if(P)for(var z="",NA=P.split("&"),pe=0;pe<NA.length;pe++){var LA=NA[pe].split("=");if(1<LA.length){var _e=LA[0];LA=LA[1];var Ee=_e.split("_");z=2<=Ee.length&&Ee[1]=="type"?z+(_e+"="+LA+"&"):z+(_e+"=redacted&")}}else z=null;else z=P;return"XMLHTTP REQ ("+m+") [attempt "+V+"]: "+h+`
`+d+`
`+z})}function ww(o,h,d,m,V,P,z){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+V+"]: "+h+`
`+d+`
`+P+" "+z})}function Gr(o,h,d,m){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+Cw(o,d)+(m?" "+m:"")})}function mw(o,h){o.info(function(){return"TIMEOUT: "+h})}Sn.prototype.info=function(){};function Cw(o,h){if(!o.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var m=d[o];if(!(2>m.length)){var V=m[1];if(Array.isArray(V)&&!(1>V.length)){var P=V[0];if(P!="noop"&&P!="stop"&&P!="close")for(var z=1;z<V.length;z++)V[z]=""}}}}return Or(d)}catch{return h}}var Ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qo;function Ns(){}Q(Ns,Kr),Ns.prototype.g=function(){return new XMLHttpRequest},Ns.prototype.i=function(){return{}},qo=new Ns;function Nt(o,h,d,m){this.j=o,this.i=h,this.l=d,this.R=m||1,this.U=new Ke(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kc}function Kc(){this.i=null,this.g="",this.h=!1}var Nc={},zo={};function Yo(o,h,d){o.L=1,o.v=Xs(Ht(h)),o.m=d,o.P=!0,Gc(o,null)}function Gc(o,h){o.F=Date.now(),Gs(o),o.A=Ht(o.v);var d=o.A,m=o.R;Array.isArray(m)||(m=[String(m)]),nu(d.i,"t",m),o.C=0,d=o.j.J,o.h=new Kc,o.g=Qu(o.j,d?h:null,!o.m),0<o.O&&(o.M=new ct(g(o.Y,o,o.g),o.O)),h=o.U,d=o.g,m=o.ca;var V="readystatechange";Array.isArray(V)||(V&&(wt[0]=V.toString()),V=wt);for(var P=0;P<V.length;P++){var z=UA(d,V[P],m||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),Tn(),pw(o.i,o.u,o.A,o.l,o.R,o.m)}Nt.prototype.ca=function(o){o=o.target;const h=this.M;h&&St(o)==3?h.j():this.Y(o)},Nt.prototype.Y=function(o){try{if(o==this.g)A:{const Ee=St(this.g);var h=this.g.Ba();const Xr=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Ee!=4||h==7||(h==8||0>=Xr?Tn(3):Tn(2)),Zo(this);var d=this.g.Z();this.X=d;e:if(Wc(this)){var m=uu(this.g);o="";var V=m.length,P=St(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),Rn(this);var z="";break e}this.h.i=new a.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,o+=this.h.i.decode(m[h],{stream:!(P&&h==V-1)});m.length=0,this.h.g+=o,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=d==200,ww(this.i,this.u,this.A,this.l,this.R,Ee,d),this.o){if(this.T&&!this.K){e:{if(this.g){var NA,pe=this.g;if((NA=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(NA)){var LA=NA;break e}}LA=null}if(d=LA)Gr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$o(this,d);else{this.o=!1,this.s=3,be(12),wr(this),Rn(this);break A}}if(this.P){d=!0;let ut;for(;!this.J&&this.C<z.length;)if(ut=yw(this,z),ut==zo){Ee==4&&(this.s=4,be(14),d=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Nc){this.s=4,be(15),Gr(this.i,this.l,z,"[Invalid Chunk]"),d=!1;break}else Gr(this.i,this.l,ut,null),$o(this,ut);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||z.length!=0||this.h.h||(this.s=1,be(16),d=!1),this.o=this.o&&d,!d)Gr(this.i,this.l,z,"[Invalid Chunked Response]"),wr(this),Rn(this);else if(0<z.length&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.ba&&!_e.M&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),sa(_e),_e.M=!0,be(11))}}else Gr(this.i,this.l,z,null),$o(this,z);Ee==4&&wr(this),this.o&&!this.J&&(Ee==4?wu(this.j,this):(this.o=!1,Gs(this)))}else Vw(this.g),d==400&&0<z.indexOf("Unknown SID")?(this.s=3,be(12)):(this.s=0,be(13)),wr(this),Rn(this)}}}catch{}finally{}};function Wc(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function yw(o,h){var d=o.C,m=h.indexOf(`
`,d);return m==-1?zo:(d=Number(h.substring(d,m)),isNaN(d)?Nc:(m+=1,m+d>h.length?zo:(h=h.slice(m,m+d),o.C=m+d,h)))}Nt.prototype.cancel=function(){this.J=!0,wr(this)};function Gs(o){o.S=Date.now()+o.I,jc(o,o.I)}function jc(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Hn(g(o.ba,o),h)}function Zo(o){o.B&&(a.clearTimeout(o.B),o.B=null)}Nt.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(mw(this.i,this.A),this.L!=2&&(Tn(),be(17)),wr(this),this.s=2,Rn(this)):jc(this,this.S-o)};function Rn(o){o.j.G==0||o.J||wu(o.j,o)}function wr(o){Zo(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,Ot(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function $o(o,h){try{var d=o.j;if(d.G!=0&&(d.g==o||Aa(d.h,o))){if(!o.K&&Aa(d.h,o)&&d.G==3){try{var m=d.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var V=m;if(V[0]==0){A:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)$s(d),Ys(d);else break A;na(d),be(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=Hn(g(d.Za,d),6e3));if(1>=qc(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Cr(d,11)}else if((o.K||d.g==o)&&$s(d),!D(h))for(V=d.Da.g.parse(h),h=0;h<V.length;h++){let LA=V[h];if(d.T=LA[0],LA=LA[1],d.G==2)if(LA[0]=="c"){d.K=LA[1],d.ia=LA[2];const _e=LA[3];_e!=null&&(d.la=_e,d.j.info("VER="+d.la));const Ee=LA[4];Ee!=null&&(d.Aa=Ee,d.j.info("SVER="+d.Aa));const Xr=LA[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(m=1.5*Xr,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const ut=o.g;if(ut){const ei=ut.g?ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var P=m.h;P.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(ea(P,P.h),P.h=null))}if(m.D){const ia=ut.g?ut.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(m.ya=ia,WA(m.I,m.D,ia))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var z=o;if(m.qa=yu(m,m.J?m.ia:null,m.W),z.K){zc(m.h,z);var NA=z,pe=m.L;pe&&(NA.I=pe),NA.B&&(Zo(NA),Gs(NA)),m.g=z}else Bu(m);0<d.i.length&&Zs(d)}else LA[0]!="stop"&&LA[0]!="close"||Cr(d,7);else d.G==3&&(LA[0]=="stop"||LA[0]=="close"?LA[0]=="stop"?Cr(d,7):ra(d):LA[0]!="noop"&&d.l&&d.l.ta(LA),d.v=0)}}Tn(4)}catch{}}var Qw=class{constructor(o,h){this.g=o,this.map=h}};function Xc(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function qc(o){return o.h?1:o.g?o.g.size:0}function Aa(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function ea(o,h){o.g?o.g.add(h):o.h=h}function zc(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Xc.prototype.cancel=function(){if(this.i=Yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Yc(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.D);return h}return y(o.i)}function _w(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var h=[],d=o.length,m=0;m<d;m++)h.push(o[m]);return h}h=[],d=0;for(m in o)h[d++]=o[m];return h}function Ew(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var h=[];o=o.length;for(var d=0;d<o;d++)h.push(d);return h}h=[],d=0;for(const m in o)h[d++]=m;return h}}}function Zc(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var d=Ew(o),m=_w(o),V=m.length,P=0;P<V;P++)h.call(void 0,m[P],d&&d[P],o)}var $c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vw(o,h){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var m=o[d].indexOf("="),V=null;if(0<=m){var P=o[d].substring(0,m);V=o[d].substring(m+1)}else P=o[d];h(P,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function mr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof mr){this.h=o.h,Ws(this,o.j),this.o=o.o,this.g=o.g,js(this,o.s),this.l=o.l;var h=o.i,d=new kn;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Au(this,d),this.m=o.m}else o&&(h=String(o).match($c))?(this.h=!1,Ws(this,h[1]||"",!0),this.o=Dn(h[2]||""),this.g=Dn(h[3]||"",!0),js(this,h[4]),this.l=Dn(h[5]||"",!0),Au(this,h[6]||"",!0),this.m=Dn(h[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}mr.prototype.toString=function(){var o=[],h=this.j;h&&o.push(Ln(h,eu,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Ln(h,eu,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Ln(d,d.charAt(0)=="/"?Iw:Fw,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Ln(d,Tw)),o.join("")};function Ht(o){return new mr(o)}function Ws(o,h,d){o.j=d?Dn(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function js(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Au(o,h,d){h instanceof kn?(o.i=h,Hw(o.i,o.h)):(d||(h=Ln(h,bw)),o.i=new kn(h,o.h))}function WA(o,h,d){o.i.set(h,d)}function Xs(o){return WA(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Dn(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ln(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,Uw),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Uw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var eu=/[#\/\?@]/g,Fw=/[#\?:]/g,Iw=/[#\?]/g,bw=/[#\?@]/g,Tw=/#/g;function kn(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Gt(o){o.g||(o.g=new Map,o.h=0,o.i&&vw(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=kn.prototype,t.add=function(o,h){Gt(this),this.i=null,o=Wr(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function tu(o,h){Gt(o),h=Wr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function ru(o,h){return Gt(o),h=Wr(o,h),o.g.has(h)}t.forEach=function(o,h){Gt(this),this.g.forEach(function(d,m){d.forEach(function(V){o.call(h,V,m,this)},this)},this)},t.na=function(){Gt(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let m=0;m<h.length;m++){const V=o[m];for(let P=0;P<V.length;P++)d.push(h[m])}return d},t.V=function(o){Gt(this);let h=[];if(typeof o=="string")ru(this,o)&&(h=h.concat(this.g.get(Wr(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)h=h.concat(o[d])}return h},t.set=function(o,h){return Gt(this),this.i=null,o=Wr(this,o),ru(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function nu(o,h,d){tu(o,h),0<d.length&&(o.i=null,o.g.set(Wr(o,h),y(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var m=h[d];const P=encodeURIComponent(String(m)),z=this.V(m);for(m=0;m<z.length;m++){var V=P;z[m]!==""&&(V+="="+encodeURIComponent(String(z[m]))),o.push(V)}}return this.i=o.join("&")};function Wr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function Hw(o,h){h&&!o.j&&(Gt(o),o.i=null,o.g.forEach(function(d,m){var V=m.toLowerCase();m!=V&&(tu(this,m),nu(this,V,d))},o)),o.j=h}function Sw(o,h){const d=new Sn;if(a.Image){const m=new Image;m.onload=B(Wt,d,"TestLoadImage: loaded",!0,h,m),m.onerror=B(Wt,d,"TestLoadImage: error",!1,h,m),m.onabort=B(Wt,d,"TestLoadImage: abort",!1,h,m),m.ontimeout=B(Wt,d,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else h(!1)}function Rw(o,h){const d=new Sn,m=new AbortController,V=setTimeout(()=>{m.abort(),Wt(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:m.signal}).then(P=>{clearTimeout(V),P.ok?Wt(d,"TestPingServer: ok",!0,h):Wt(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Wt(d,"TestPingServer: error",!1,h)})}function Wt(o,h,d,m,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),m(d)}catch{}}function Dw(){this.g=new Ms}function Lw(o,h,d){const m=d||"";try{Zc(o,function(V,P){let z=V;c(V)&&(z=Or(V)),h.push(m+P+"="+encodeURIComponent(z))})}catch(V){throw h.push(m+"type="+encodeURIComponent("_badmap")),V}}function Js(o){this.l=o.Ub||null,this.j=o.eb||!1}Q(Js,Kr),Js.prototype.g=function(){return new qs(this.l,this.j)},Js.prototype.i=function(o){return function(){return o}}({});function qs(o,h){MA.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(qs,MA),t=qs.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,Vn(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?xn(this):Vn(this),this.readyState==3&&su(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,xn(this))},t.Qa=function(o){this.g&&(this.response=o,xn(this))},t.ga=function(){this.g&&xn(this)};function xn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Vn(o)}t.setRequestHeader=function(o,h){this.u.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Vn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function iu(o){let h="";return L(o,function(d,m){h+=m,h+=":",h+=d,h+=`\r
`}),h}function ta(o,h,d){A:{for(m in d){var m=!1;break A}m=!0}m||(d=iu(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):WA(o,h,d))}function YA(o){MA.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(YA,MA);var kw=/^https?$/i,xw=["POST","PUT"];t=YA.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,h,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qo.g(),this.v=this.o?In(this.o):In(qo),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(P){ou(this,P);return}if(o=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var V in m)d.set(V,m[V]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const P of m.keys())d.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(P=>P.toLowerCase()=="content-type"),V=a.FormData&&o instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xw,h,void 0))||m||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,z]of d)this.g.setRequestHeader(P,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cu(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){ou(this,P)}};function ou(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,au(o),zs(o)}function au(o){o.A||(o.A=!0,pA(o,"complete"),pA(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,pA(this,"complete"),pA(this,"abort"),zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),YA.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lu(this):this.bb())},t.bb=function(){lu(this)};function lu(o){if(o.h&&typeof i<"u"&&(!o.v[1]||St(o)!=4||o.Z()!=2)){if(o.u&&St(o)==4)at(o.Ea,0,o);else if(pA(o,"readystatechange"),St(o)==4){o.h=!1;try{const z=o.Z();A:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break A;default:h=!1}var d;if(!(d=h)){var m;if(m=z===0){var V=String(o.D).match($c)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),m=!kw.test(V?V.toLowerCase():"")}d=m}if(d)pA(o,"complete"),pA(o,"success");else{o.m=6;try{var P=2<St(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",au(o)}}finally{zs(o)}}}}function zs(o,h){if(o.g){cu(o);const d=o.g,m=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||pA(o,"ready");try{d.onreadystatechange=m}catch{}}}function cu(o){o.I&&(a.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function St(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<St(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),Ps(h)}};function uu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Vw(o){const h={};o=(o.g&&2<=St(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(D(o[m]))continue;var d=U(o[m]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const P=h[V]||[];h[V]=P,P.push(d)}E(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pn(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function hu(o){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pn("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pn("baseRetryDelayMs",5e3,o),this.cb=Pn("retryDelaySeedMs",1e4,o),this.Wa=Pn("forwardChannelMaxRetries",2,o),this.wa=Pn("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Xc(o&&o.concurrentRequestLimit),this.Da=new Dw,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hu.prototype,t.la=8,t.G=1,t.connect=function(o,h,d,m){be(0),this.W=o,this.H=h||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=yu(this,null,this.W),Zs(this)};function ra(o){if(fu(o),o.G==3){var h=o.U++,d=Ht(o.I);if(WA(d,"SID",o.K),WA(d,"RID",h),WA(d,"TYPE","terminate"),Mn(o,d),h=new Nt(o,o.j,h),h.L=2,h.v=Xs(Ht(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.v,d=!0),d||(h.g=Qu(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Gs(h)}Cu(o)}function Ys(o){o.g&&(sa(o),o.g.cancel(),o.g=null)}function fu(o){Ys(o),o.u&&(a.clearTimeout(o.u),o.u=null),$s(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&a.clearTimeout(o.s),o.s=null)}function Zs(o){if(!Jc(o.h)&&!o.s){o.s=!0;var h=o.Ga;O||x(),mA||(O(),mA=!0),IA.add(h,o),o.B=0}}function Pw(o,h){return qc(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Hn(g(o.Ga,o,h),mu(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const V=new Nt(this,this.j,o);let P=this.o;if(this.S&&(P?(P=p(P),I(P,this.S)):P=this.S),this.m!==null||this.O||(V.H=P,P=null),this.P)A:{for(var h=0,d=0;d<this.i.length;d++){e:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=d;break A}if(h===4096||d===this.i.length-1){h=d+1;break A}}h=1e3}else h=1e3;h=gu(this,V,h),d=Ht(this.I),WA(d,"RID",o),WA(d,"CVER",22),this.D&&WA(d,"X-HTTP-Session-Id",this.D),Mn(this,d),P&&(this.O?h="headers="+encodeURIComponent(String(iu(P)))+"&"+h:this.m&&ta(d,this.m,P)),ea(this.h,V),this.Ua&&WA(d,"TYPE","init"),this.P?(WA(d,"$req",h),WA(d,"SID","null"),V.T=!0,Yo(V,d,null)):Yo(V,d,h),this.G=2}}else this.G==3&&(o?du(this,o):this.i.length==0||Jc(this.h)||du(this))};function du(o,h){var d;h?d=h.l:d=o.U++;const m=Ht(o.I);WA(m,"SID",o.K),WA(m,"RID",d),WA(m,"AID",o.T),Mn(o,m),o.m&&o.o&&ta(m,o.m,o.o),d=new Nt(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),h&&(o.i=h.D.concat(o.i)),h=gu(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ea(o.h,d),Yo(d,m,h)}function Mn(o,h){o.H&&L(o.H,function(d,m){WA(h,m,d)}),o.l&&Zc({},function(d,m){WA(h,m,d)})}function gu(o,h,d){d=Math.min(o.i.length,d);var m=o.l?g(o.l.Na,o.l,o):null;A:{var V=o.i;let P=-1;for(;;){const z=["count="+d];P==-1?0<d?(P=V[0].g,z.push("ofs="+P)):P=0:z.push("ofs="+P);let NA=!0;for(let pe=0;pe<d;pe++){let LA=V[pe].g;const _e=V[pe].map;if(LA-=P,0>LA)P=Math.max(0,V[pe].g-100),NA=!1;else try{Lw(_e,z,"req"+LA+"_")}catch{m&&m(_e)}}if(NA){m=z.join("&");break A}}}return o=o.i.splice(0,d),h.D=o,m}function Bu(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;O||x(),mA||(O(),mA=!0),IA.add(h,o),o.v=0}}function na(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Hn(g(o.Fa,o),mu(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Hn(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,be(10),Ys(this),pu(this))};function sa(o){o.A!=null&&(a.clearTimeout(o.A),o.A=null)}function pu(o){o.g=new Nt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=Ht(o.qa);WA(h,"RID","rpc"),WA(h,"SID",o.K),WA(h,"AID",o.T),WA(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&WA(h,"TO",o.ja),WA(h,"TYPE","xmlhttp"),Mn(o,h),o.m&&o.o&&ta(h,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Xs(Ht(h)),d.m=null,d.P=!0,Gc(d,o)}t.Za=function(){this.C!=null&&(this.C=null,Ys(this),na(this),be(19))};function $s(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function wu(o,h){var d=null;if(o.g==h){$s(o),sa(o),o.g=null;var m=2}else if(Aa(o.h,h))d=h.D,zc(o.h,h),m=1;else return;if(o.G!=0){if(h.o)if(m==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var V=o.B;m=Os(),pA(m,new Mc(m,d)),Zs(o)}else Bu(o);else if(V=h.s,V==3||V==0&&0<h.X||!(m==1&&Pw(o,h)||m==2&&na(o)))switch(d&&0<d.length&&(h=o.h,h.i=h.i.concat(d)),V){case 1:Cr(o,5);break;case 4:Cr(o,10);break;case 3:Cr(o,6);break;default:Cr(o,2)}}}function mu(o,h){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*h}function Cr(o,h){if(o.j.info("Error code "+h),h==2){var d=g(o.fb,o),m=o.Xa;const V=!m;m=new mr(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ws(m,"https"),Xs(m),V?Sw(m.toString(),d):Rw(m.toString(),d)}else be(2);o.G=0,o.l&&o.l.sa(h),Cu(o),fu(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Cu(o){if(o.G=0,o.ka=[],o.l){const h=Yc(o.h);(h.length!=0||o.i.length!=0)&&(F(o.ka,h),F(o.ka,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.ra()}}function yu(o,h,d){var m=d instanceof mr?Ht(d):new mr(d);if(m.g!="")h&&(m.g=h+"."+m.g),js(m,m.s);else{var V=a.location;m=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var P=new mr(null);m&&Ws(P,m),h&&(P.g=h),V&&js(P,V),d&&(P.l=d),m=P}return d=o.D,h=o.ya,d&&h&&WA(m,d,h),WA(m,"VER",o.la),Mn(o,m),m}function Qu(o,h,d){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new YA(new Js({eb:d})):new YA(o.pa),h.Ha(o.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}t=_u.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ai(){}Ai.prototype.g=function(o,h){return new Ne(o,h)};function Ne(o,h){MA.call(this),this.g=new hu(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!D(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!D(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new jr(this)}Q(Ne,MA),Ne.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ne.prototype.close=function(){ra(this.g)},Ne.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Or(o),o=d);h.i.push(new Qw(h.Ya++,o)),h.G==3&&Zs(h)},Ne.prototype.N=function(){this.g.l=null,delete this.j,ra(this.g),delete this.g,Ne.aa.N.call(this)};function Eu(o){Nr.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){A:{for(const d in h){o=d;break A}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}Q(Eu,Nr);function vu(){Jo.call(this),this.status=1}Q(vu,Jo);function jr(o){this.g=o}Q(jr,_u),jr.prototype.ua=function(){pA(this.g,"a")},jr.prototype.ta=function(o){pA(this.g,new Eu(o))},jr.prototype.sa=function(o){pA(this.g,new vu)},jr.prototype.ra=function(){pA(this.g,"b")},Ai.prototype.createWebChannel=Ai.prototype.g,Ne.prototype.send=Ne.prototype.o,Ne.prototype.open=Ne.prototype.m,Ne.prototype.close=Ne.prototype.close,xg=function(){return new Ai},kg=function(){return Os()},Lg=pr,qa={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,Ri=Ks,Oc.COMPLETE="complete",Dg=Oc,bn.EventType=Kt,Kt.OPEN="a",Kt.CLOSE="b",Kt.ERROR="c",Kt.MESSAGE="d",MA.prototype.listen=MA.prototype.K,Wn=bn,YA.prototype.listenOnce=YA.prototype.L,YA.prototype.getLastError=YA.prototype.Ka,YA.prototype.getLastErrorCode=YA.prototype.Ba,YA.prototype.getStatus=YA.prototype.Z,YA.prototype.getResponseJson=YA.prototype.Oa,YA.prototype.getResponseText=YA.prototype.oa,YA.prototype.send=YA.prototype.ea,YA.prototype.setWithCredentials=YA.prototype.Ha,Rg=YA}).apply(typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{});const Yu="@firebase/firestore",Zu="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(A){this.uid=A}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(A){return A.uid===this.uid}}Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Sl("@firebase/firestore");function rn(){return Rr.logLevel}function eA(t,...A){if(Rr.logLevel<=RA.DEBUG){const e=A.map(Ml);Rr.debug(`Firestore (${_n}): ${t}`,...e)}}function Pt(t,...A){if(Rr.logLevel<=RA.ERROR){const e=A.map(Ml);Rr.error(`Firestore (${_n}): ${t}`,...e)}}function dn(t,...A){if(Rr.logLevel<=RA.WARN){const e=A.map(Ml);Rr.warn(`Firestore (${_n}): ${t}`,...e)}}function Ml(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t="Unexpected state"){const A=`FIRESTORE (${_n}) INTERNAL ASSERTION FAILED: `+t;throw Pt(A),new Error(A)}function xA(t,A){t||wA()}function yA(t,A){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oA extends dr{constructor(A,e){super(A,e),this.code=A,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(){this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(A,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${A}`)}}class $C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(A,e){A.enqueueRetryable(()=>e(Ue.UNAUTHENTICATED))}shutdown(){}}class Ay{constructor(A){this.token=A,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(A,e){this.changeListener=e,A.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ey{constructor(A){this.t=A,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(A,e){xA(this.o===void 0);let r=this.i;const n=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kt,A.enqueueRetryable(()=>n(this.currentUser))};const i=()=>{const l=s;A.enqueueRetryable(async()=>{await l.promise,await n(this.currentUser)})},a=l=>{eA("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(eA("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kt)}},0),i()}getToken(){const A=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==A?(eA("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xA(typeof r.accessToken=="string"),new Vg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const A=this.auth&&this.auth.getUid();return xA(A===null||typeof A=="string"),new Ue(A)}}class ty{constructor(A,e,r){this.l=A,this.h=e,this.P=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const A=this.I();return A&&this.T.set("Authorization",A),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ry{constructor(A,e,r){this.l=A,this.h=e,this.P=r}getToken(){return Promise.resolve(new ty(this.l,this.h,this.P))}start(A,e){A.enqueueRetryable(()=>e(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $u{constructor(A){this.value=A,this.type="AppCheck",this.headers=new Map,A&&A.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ny{constructor(A,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,m0(A)&&A.settings.appCheckToken&&(this.V=A.settings.appCheckToken)}start(A,e){xA(this.o===void 0);const r=s=>{s.error!=null&&eA("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,eA("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(s.token):Promise.resolve()};this.o=s=>{A.enqueueRetryable(()=>r(s))};const n=s=>{eA("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>n(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?n(s):eA("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $u(this.V));const A=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(A).then(e=>e?(xA(typeof e.token=="string"),this.R=e.token,new $u(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){const A=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(A&&typeof A.getRandomValues=="function")A.getRandomValues(e);else for(let r=0;r<t;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static newId(){const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const n=sy(40);for(let s=0;s<n.length;++s)r.length<20&&n[s]<e&&(r+=A.charAt(n[s]%62))}return r}}function FA(t,A){return t<A?-1:t>A?1:0}function za(t,A){let e=0;for(;e<t.length&&e<A.length;){const r=t.codePointAt(e),n=A.codePointAt(e);if(r!==n){if(r<128&&n<128)return FA(r,n);{const s=Pg(),i=iy(s.encode(Ah(t,e)),s.encode(Ah(A,e)));return i!==0?i:FA(r,n)}}e+=r>65535?2:1}return FA(t.length,A.length)}function Ah(t,A){return t.codePointAt(A)>65535?t.substring(A,A+2):t.substring(A,A+1)}function iy(t,A){for(let e=0;e<t.length&&e<A.length;++e)if(t[e]!==A[e])return FA(t[e],A[e]);return FA(t.length,A.length)}function gn(t,A,e){return t.length===A.length&&t.every((r,n)=>e(r,A[n]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=-62135596800,th=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(A){return ce.fromMillis(A.getTime())}static fromMillis(A){const e=Math.floor(A/1e3),r=Math.floor((A-1e3*e)*th);return new ce(e,r)}constructor(A,e){if(this.seconds=A,this.nanoseconds=e,e<0)throw new oA(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new oA(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(A<eh)throw new oA(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A);if(A>=253402300800)throw new oA(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/th}_compareTo(A){return this.seconds===A.seconds?FA(this.nanoseconds,A.nanoseconds):FA(this.seconds,A.seconds)}isEqual(A){return A.seconds===this.seconds&&A.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const A=this.seconds-eh;return String(A).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{static fromTimestamp(A){return new CA(A)}static min(){return new CA(new ce(0,0))}static max(){return new CA(new ce(253402300799,999999999))}constructor(A){this.timestamp=A}compareTo(A){return this.timestamp._compareTo(A.timestamp)}isEqual(A){return this.timestamp.isEqual(A.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="__name__";class Ct{constructor(A,e,r){e===void 0?e=0:e>A.length&&wA(),r===void 0?r=A.length-e:r>A.length-e&&wA(),this.segments=A,this.offset=e,this.len=r}get length(){return this.len}isEqual(A){return Ct.comparator(this,A)===0}child(A){const e=this.segments.slice(this.offset,this.limit());return A instanceof Ct?A.forEach(r=>{e.push(r)}):e.push(A),this.construct(e)}limit(){return this.offset+this.length}popFirst(A){return A=A===void 0?1:A,this.construct(this.segments,this.offset+A,this.length-A)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(A){return this.segments[this.offset+A]}isEmpty(){return this.length===0}isPrefixOf(A){if(A.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}isImmediateParentOf(A){if(this.length+1!==A.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}forEach(A){for(let e=this.offset,r=this.limit();e<r;e++)A(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(A,e){const r=Math.min(A.length,e.length);for(let n=0;n<r;n++){const s=Ct.compareSegments(A.get(n),e.get(n));if(s!==0)return s}return FA(A.length,e.length)}static compareSegments(A,e){const r=Ct.isNumericId(A),n=Ct.isNumericId(e);return r&&!n?-1:!r&&n?1:r&&n?Ct.extractNumericId(A).compare(Ct.extractNumericId(e)):za(A,e)}static isNumericId(A){return A.startsWith("__id")&&A.endsWith("__")}static extractNumericId(A){return tr.fromString(A.substring(4,A.length-2))}}class JA extends Ct{construct(A,e,r){return new JA(A,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...A){const e=[];for(const r of A){if(r.indexOf("//")>=0)throw new oA(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(n=>n.length>0))}return new JA(e)}static emptyPath(){return new JA([])}}const oy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends Ct{construct(A,e,r){return new me(A,e,r)}static isValidIdentifier(A){return oy.test(A)}canonicalString(){return this.toArray().map(A=>(A=A.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(A)||(A="`"+A+"`"),A)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rh}static keyField(){return new me([rh])}static fromServerFormat(A){const e=[];let r="",n=0;const s=()=>{if(r.length===0)throw new oA(N.INVALID_ARGUMENT,`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let i=!1;for(;n<A.length;){const a=A[n];if(a==="\\"){if(n+1===A.length)throw new oA(N.INVALID_ARGUMENT,"Path has trailing escape character: "+A);const l=A[n+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oA(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+A);r+=l,n+=2}else a==="`"?(i=!i,n++):a!=="."||i?(r+=a,n++):(s(),n++)}if(s(),i)throw new oA(N.INVALID_ARGUMENT,"Unterminated ` in path: "+A);return new me(e)}static emptyPath(){return new me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(A){this.path=A}static fromPath(A){return new hA(JA.fromString(A))}static fromName(A){return new hA(JA.fromString(A).popFirst(5))}static empty(){return new hA(JA.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(A){return this.path.length>=2&&this.path.get(this.path.length-2)===A}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(A){return A!==null&&JA.comparator(this.path,A.path)===0}toString(){return this.path.toString()}static comparator(A,e){return JA.comparator(A.path,e.path)}static isDocumentKey(A){return A.length%2==0}static fromSegments(A){return new hA(new JA(A.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=-1;function ay(t,A){const e=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,n=CA.fromTimestamp(r===1e9?new ce(e+1,0):new ce(e,r));return new ir(n,hA.empty(),A)}function ly(t){return new ir(t.readTime,t.key,ps)}class ir{constructor(A,e,r){this.readTime=A,this.documentKey=e,this.largestBatchId=r}static min(){return new ir(CA.min(),hA.empty(),ps)}static max(){return new ir(CA.max(),hA.empty(),ps)}}function cy(t,A){let e=t.readTime.compareTo(A.readTime);return e!==0?e:(e=hA.comparator(t.documentKey,A.documentKey),e!==0?e:FA(t.largestBatchId,A.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(A){this.onCommittedListeners.push(A)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(A=>A())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function En(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==uy)throw t;eA("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(A){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,A(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(A){return this.next(void 0,A)}next(A,e){return this.callbackAttached&&wA(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(A,this.result):new K((r,n)=>{this.nextCallback=s=>{this.wrapSuccess(A,s).next(r,n)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,n)}})}toPromise(){return new Promise((A,e)=>{this.next(A,e)})}wrapUserFunction(A){try{const e=A();return e instanceof K?e:K.resolve(e)}catch(e){return K.reject(e)}}wrapSuccess(A,e){return A?this.wrapUserFunction(()=>A(e)):K.resolve(e)}wrapFailure(A,e){return A?this.wrapUserFunction(()=>A(e)):K.reject(e)}static resolve(A){return new K((e,r)=>{e(A)})}static reject(A){return new K((e,r)=>{r(A)})}static waitFor(A){return new K((e,r)=>{let n=0,s=0,i=!1;A.forEach(a=>{++n,a.next(()=>{++s,i&&s===n&&e()},l=>r(l))}),i=!0,s===n&&e()})}static or(A){let e=K.resolve(!1);for(const r of A)e=e.next(n=>n?K.resolve(n):r());return e}static forEach(A,e){const r=[];return A.forEach((n,s)=>{r.push(e.call(this,n,s))}),this.waitFor(r)}static mapArray(A,e){return new K((r,n)=>{const s=A.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(A[c]).next(u=>{i[c]=u,++a,a===s&&r(i)},u=>n(u))}})}static doWhile(A,e){return new K((r,n)=>{const s=()=>{A()===!0?e().next(()=>{s()},n):r()};s()})}}function fy(t){const A=t.match(/Android ([\d.]+)/i),e=A?A[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function vn(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(A,e){this.previousValue=A,e&&(e.sequenceNumberHandler=r=>this.oe(r),this._e=r=>e.writeSequenceNumber(r))}oe(A){return this.previousValue=Math.max(A,this.previousValue),this.previousValue}next(){const A=++this.previousValue;return this._e&&this._e(A),A}}mo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function Co(t){return t==null}function ji(t){return t===0&&1/t==-1/0}function dy(t){return typeof t=="number"&&Number.isInteger(t)&&!ji(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="";function gy(t){let A="";for(let e=0;e<t.length;e++)A.length>0&&(A=nh(A)),A=By(t.get(e),A);return nh(A)}function By(t,A){let e=A;const r=t.length;for(let n=0;n<r;n++){const s=t.charAt(n);switch(s){case"\0":e+="";break;case Og:e+="";break;default:e+=s}}return e}function nh(t){return t+Og+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){let A=0;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A++;return A}function gr(t,A){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A(e,t[e])}function Kg(t){for(const A in t)if(Object.prototype.hasOwnProperty.call(t,A))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(A,e){this.comparator=A,this.root=e||we.EMPTY}insert(A,e){return new zA(this.comparator,this.root.insert(A,e,this.comparator).copy(null,null,we.BLACK,null,null))}remove(A){return new zA(this.comparator,this.root.remove(A,this.comparator).copy(null,null,we.BLACK,null,null))}get(A){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(A,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(A){let e=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(A,r.key);if(n===0)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(A){return this.root.inorderTraversal(A)}forEach(A){this.inorderTraversal((e,r)=>(A(e,r),!1))}toString(){const A=[];return this.inorderTraversal((e,r)=>(A.push(`${e}:${r}`),!1)),`{${A.join(", ")}}`}reverseTraversal(A){return this.root.reverseTraversal(A)}getIterator(){return new ni(this.root,null,this.comparator,!1)}getIteratorFrom(A){return new ni(this.root,A,this.comparator,!1)}getReverseIterator(){return new ni(this.root,null,this.comparator,!0)}getReverseIteratorFrom(A){return new ni(this.root,A,this.comparator,!0)}}class ni{constructor(A,e,r,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!A.isEmpty();)if(s=e?r(A.key,e):1,e&&n&&(s*=-1),s<0)A=this.isReverse?A.left:A.right;else{if(s===0){this.nodeStack.push(A);break}this.nodeStack.push(A),A=this.isReverse?A.right:A.left}}getNext(){let A=this.nodeStack.pop();const e={key:A.key,value:A.value};if(this.isReverse)for(A=A.left;!A.isEmpty();)this.nodeStack.push(A),A=A.right;else for(A=A.right;!A.isEmpty();)this.nodeStack.push(A),A=A.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const A=this.nodeStack[this.nodeStack.length-1];return{key:A.key,value:A.value}}}class we{constructor(A,e,r,n,s){this.key=A,this.value=e,this.color=r??we.RED,this.left=n??we.EMPTY,this.right=s??we.EMPTY,this.size=this.left.size+1+this.right.size}copy(A,e,r,n,s){return new we(A??this.key,e??this.value,r??this.color,n??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(A){return this.left.inorderTraversal(A)||A(this.key,this.value)||this.right.inorderTraversal(A)}reverseTraversal(A){return this.right.reverseTraversal(A)||A(this.key,this.value)||this.left.reverseTraversal(A)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(A,e,r){let n=this;const s=r(A,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(A,e,r),null):s===0?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(A,e,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return we.EMPTY;let A=this;return A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.removeMin(),null),A.fixUp()}remove(A,e){let r,n=this;if(e(A,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(A,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),e(A,n.key)===0){if(n.right.isEmpty())return we.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(A,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let A=this;return A.right.isRed()&&!A.left.isRed()&&(A=A.rotateLeft()),A.left.isRed()&&A.left.left.isRed()&&(A=A.rotateRight()),A.left.isRed()&&A.right.isRed()&&(A=A.colorFlip()),A}moveRedLeft(){let A=this.colorFlip();return A.right.left.isRed()&&(A=A.copy(null,null,null,null,A.right.rotateRight()),A=A.rotateLeft(),A=A.colorFlip()),A}moveRedRight(){let A=this.colorFlip();return A.left.left.isRed()&&(A=A.rotateRight(),A=A.colorFlip()),A}rotateLeft(){const A=this.copy(null,null,we.RED,null,this.right.left);return this.right.copy(null,null,this.color,A,null)}rotateRight(){const A=this.copy(null,null,we.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,A)}colorFlip(){const A=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,A,e)}checkMaxDepth(){const A=this.check();return Math.pow(2,A)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wA();const A=this.left.check();if(A!==this.right.check())throw wA();return A+(this.isRed()?0:1)}}we.EMPTY=null,we.RED=!0,we.BLACK=!1;we.EMPTY=new class{constructor(){this.size=0}get key(){throw wA()}get value(){throw wA()}get color(){throw wA()}get left(){throw wA()}get right(){throw wA()}copy(A,e,r,n,s){return this}insert(A,e,r){return new we(A,e)}remove(A,e){return this}isEmpty(){return!0}inorderTraversal(A){return!1}reverseTraversal(A){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(A){this.comparator=A,this.data=new zA(this.comparator)}has(A){return this.data.get(A)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(A){return this.data.indexOf(A)}forEach(A){this.data.inorderTraversal((e,r)=>(A(e),!1))}forEachInRange(A,e){const r=this.data.getIteratorFrom(A[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,A[1])>=0)return;e(n.key)}}forEachWhile(A,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!A(r.getNext().key))return}firstAfterOrEqual(A){const e=this.data.getIteratorFrom(A);return e.hasNext()?e.getNext().key:null}getIterator(){return new ih(this.data.getIterator())}getIteratorFrom(A){return new ih(this.data.getIteratorFrom(A))}add(A){return this.copy(this.data.remove(A).insert(A,!0))}delete(A){return this.has(A)?this.copy(this.data.remove(A)):this}isEmpty(){return this.data.isEmpty()}unionWith(A){let e=this;return e.size<A.size&&(e=A,A=this),A.forEach(r=>{e=e.add(r)}),e}isEqual(A){if(!(A instanceof ue)||this.size!==A.size)return!1;const e=this.data.getIterator(),r=A.data.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(this.comparator(n,s)!==0)return!1}return!0}toArray(){const A=[];return this.forEach(e=>{A.push(e)}),A}toString(){const A=[];return this.forEach(e=>A.push(e)),"SortedSet("+A.toString()+")"}copy(A){const e=new ue(this.comparator);return e.data=A,e}}class ih{constructor(A){this.iter=A}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(A){this.fields=A,A.sort(me.comparator)}static empty(){return new Xe([])}unionWith(A){let e=new ue(me.comparator);for(const r of this.fields)e=e.add(r);for(const r of A)e=e.add(r);return new Xe(e.toArray())}covers(A){for(const e of this.fields)if(e.isPrefixOf(A))return!0;return!1}isEqual(A){return gn(this.fields,A.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(A){this.binaryString=A}static fromBase64String(A){const e=function(n){try{return atob(n)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ng("Invalid base64 string: "+s):s}}(A);return new ye(e)}static fromUint8Array(A){const e=function(n){let s="";for(let i=0;i<n.length;++i)s+=String.fromCharCode(n[i]);return s}(A);return new ye(e)}[Symbol.iterator](){let A=0;return{next:()=>A<this.binaryString.length?{value:this.binaryString.charCodeAt(A++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(A){return FA(this.binaryString,A.binaryString)}isEqual(A){return this.binaryString===A.binaryString}}ye.EMPTY_BYTE_STRING=new ye("");const py=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(xA(!!t),typeof t=="string"){let A=0;const e=py.exec(t);if(xA(!!e),e[1]){let n=e[1];n=(n+"000000000").substr(0,9),A=Number(n)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:A}}return{seconds:re(t.seconds),nanos:re(t.nanos)}}function re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ar(t){return typeof t=="string"?ye.fromBase64String(t):ye.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="server_timestamp",Wg="__type__",jg="__previous_value__",Xg="__local_write_time__";function Kl(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[Wg])===null||e===void 0?void 0:e.stringValue)===Gg}function yo(t){const A=t.mapValue.fields[jg];return Kl(A)?yo(A):A}function ws(t){const A=or(t.mapValue.fields[Xg].timestampValue);return new ce(A.seconds,A.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(A,e,r,n,s,i,a,l,c){this.databaseId=A,this.appId=e,this.persistenceKey=r,this.host=n,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Xi="(default)";class ms{constructor(A,e){this.projectId=A,this.database=e||Xi}static empty(){return new ms("","")}get isDefaultDatabase(){return this.database===Xi}isEqual(A){return A instanceof ms&&A.projectId===this.projectId&&A.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="__type__",qg="__max__",si={mapValue:{fields:{__type__:{stringValue:qg}}}},zg="__vector__",Ji="value";function lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kl(t)?4:Cy(t)?9007199254740991:my(t)?10:11:wA()}function vt(t,A){if(t===A)return!0;const e=lr(t);if(e!==lr(A))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===A.booleanValue;case 4:return ws(t).isEqual(ws(A));case 3:return function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const i=or(n.timestampValue),a=or(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,A);case 5:return t.stringValue===A.stringValue;case 6:return function(n,s){return ar(n.bytesValue).isEqual(ar(s.bytesValue))}(t,A);case 7:return t.referenceValue===A.referenceValue;case 8:return function(n,s){return re(n.geoPointValue.latitude)===re(s.geoPointValue.latitude)&&re(n.geoPointValue.longitude)===re(s.geoPointValue.longitude)}(t,A);case 2:return function(n,s){if("integerValue"in n&&"integerValue"in s)return re(n.integerValue)===re(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const i=re(n.doubleValue),a=re(s.doubleValue);return i===a?ji(i)===ji(a):isNaN(i)&&isNaN(a)}return!1}(t,A);case 9:return gn(t.arrayValue.values||[],A.arrayValue.values||[],vt);case 10:case 11:return function(n,s){const i=n.mapValue.fields||{},a=s.mapValue.fields||{};if(sh(i)!==sh(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!vt(i[l],a[l])))return!1;return!0}(t,A);default:return wA()}}function Cs(t,A){return(t.values||[]).find(e=>vt(e,A))!==void 0}function Bn(t,A){if(t===A)return 0;const e=lr(t),r=lr(A);if(e!==r)return FA(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return FA(t.booleanValue,A.booleanValue);case 2:return function(s,i){const a=re(s.integerValue||s.doubleValue),l=re(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,A);case 3:return oh(t.timestampValue,A.timestampValue);case 4:return oh(ws(t),ws(A));case 5:return za(t.stringValue,A.stringValue);case 6:return function(s,i){const a=ar(s),l=ar(i);return a.compareTo(l)}(t.bytesValue,A.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=FA(a[c],l[c]);if(u!==0)return u}return FA(a.length,l.length)}(t.referenceValue,A.referenceValue);case 8:return function(s,i){const a=FA(re(s.latitude),re(i.latitude));return a!==0?a:FA(re(s.longitude),re(i.longitude))}(t.geoPointValue,A.geoPointValue);case 9:return ah(t.arrayValue,A.arrayValue);case 10:return function(s,i){var a,l,c,u;const f=s.fields||{},g=i.fields||{},B=(a=f[Ji])===null||a===void 0?void 0:a.arrayValue,Q=(l=g[Ji])===null||l===void 0?void 0:l.arrayValue,y=FA(((c=B==null?void 0:B.values)===null||c===void 0?void 0:c.length)||0,((u=Q==null?void 0:Q.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:ah(B,Q)}(t.mapValue,A.mapValue);case 11:return function(s,i){if(s===si.mapValue&&i===si.mapValue)return 0;if(s===si.mapValue)return 1;if(i===si.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const g=za(l[f],u[f]);if(g!==0)return g;const B=Bn(a[l[f]],c[u[f]]);if(B!==0)return B}return FA(l.length,u.length)}(t.mapValue,A.mapValue);default:throw wA()}}function oh(t,A){if(typeof t=="string"&&typeof A=="string"&&t.length===A.length)return FA(t,A);const e=or(t),r=or(A),n=FA(e.seconds,r.seconds);return n!==0?n:FA(e.nanos,r.nanos)}function ah(t,A){const e=t.values||[],r=A.values||[];for(let n=0;n<e.length&&n<r.length;++n){const s=Bn(e[n],r[n]);if(s)return s}return FA(e.length,r.length)}function pn(t){return Ya(t)}function Ya(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const r=or(e);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return ar(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return hA.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let r="[",n=!0;for(const s of e.values||[])n?n=!1:r+=",",r+=Ya(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(e){const r=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const i of r)s?s=!1:n+=",",n+=`${i}:${Ya(e.fields[i])}`;return n+"}"}(t.mapValue):wA()}function Di(t){switch(lr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const A=yo(t);return A?16+Di(A):16;case 5:return 2*t.stringValue.length;case 6:return ar(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((n,s)=>n+Di(s),0)}(t.arrayValue);case 10:case 11:return function(r){let n=0;return gr(r.fields,(s,i)=>{n+=s.length+Di(i)}),n}(t.mapValue);default:throw wA()}}function Za(t){return!!t&&"integerValue"in t}function Nl(t){return!!t&&"arrayValue"in t}function lh(t){return!!t&&"nullValue"in t}function ch(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Li(t){return!!t&&"mapValue"in t}function my(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[Jg])===null||e===void 0?void 0:e.stringValue)===zg}function ss(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const A={mapValue:{fields:{}}};return gr(t.mapValue.fields,(e,r)=>A.mapValue.fields[e]=ss(r)),A}if(t.arrayValue){const A={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)A.arrayValue.values[e]=ss(t.arrayValue.values[e]);return A}return Object.assign({},t)}function Cy(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qg}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(A){this.value=A}static empty(){return new ke({mapValue:{}})}field(A){if(A.isEmpty())return this.value;{let e=this.value;for(let r=0;r<A.length-1;++r)if(e=(e.mapValue.fields||{})[A.get(r)],!Li(e))return null;return e=(e.mapValue.fields||{})[A.lastSegment()],e||null}}set(A,e){this.getFieldsMap(A.popLast())[A.lastSegment()]=ss(e)}setAll(A){let e=me.emptyPath(),r={},n=[];A.forEach((i,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,r,n),r={},n=[],e=a.popLast()}i?r[a.lastSegment()]=ss(i):n.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,n)}delete(A){const e=this.field(A.popLast());Li(e)&&e.mapValue.fields&&delete e.mapValue.fields[A.lastSegment()]}isEqual(A){return vt(this.value,A.value)}getFieldsMap(A){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<A.length;++r){let n=e.mapValue.fields[A.get(r)];Li(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[A.get(r)]=n),e=n}return e.mapValue.fields}applyChanges(A,e,r){gr(e,(n,s)=>A[n]=s);for(const n of r)delete A[n]}clone(){return new ke(ss(this.value))}}function Yg(t){const A=[];return gr(t.fields,(e,r)=>{const n=new me([e]);if(Li(r)){const s=Yg(r.mapValue).fields;if(s.length===0)A.push(n);else for(const i of s)A.push(n.child(i))}else A.push(n)}),new Xe(A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(A,e,r,n,s,i,a){this.key=A,this.documentType=e,this.version=r,this.readTime=n,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(A){return new Ie(A,0,CA.min(),CA.min(),CA.min(),ke.empty(),0)}static newFoundDocument(A,e,r,n){return new Ie(A,1,e,CA.min(),r,n,0)}static newNoDocument(A,e){return new Ie(A,2,e,CA.min(),CA.min(),ke.empty(),0)}static newUnknownDocument(A,e){return new Ie(A,3,e,CA.min(),CA.min(),ke.empty(),2)}convertToFoundDocument(A,e){return!this.createTime.isEqual(CA.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=A),this.version=A,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(A){return this.version=A,this.documentType=2,this.data=ke.empty(),this.documentState=0,this}convertToUnknownDocument(A){return this.version=A,this.documentType=3,this.data=ke.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=CA.min(),this}setReadTime(A){return this.readTime=A,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(A){return A instanceof Ie&&this.key.isEqual(A.key)&&this.version.isEqual(A.version)&&this.documentType===A.documentType&&this.documentState===A.documentState&&this.data.isEqual(A.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(A,e){this.position=A,this.inclusive=e}}function uh(t,A,e){let r=0;for(let n=0;n<t.position.length;n++){const s=A[n],i=t.position[n];if(s.field.isKeyField()?r=hA.comparator(hA.fromName(i.referenceValue),e.key):r=Bn(i,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hh(t,A){if(t===null)return A===null;if(A===null||t.inclusive!==A.inclusive||t.position.length!==A.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!vt(t.position[e],A.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(A,e="asc"){this.field=A,this.dir=e}}function yy(t,A){return t.dir===A.dir&&t.field.isEqual(A.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{}class le extends Zg{constructor(A,e,r){super(),this.field=A,this.op=e,this.value=r}static create(A,e,r){return A.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(A,e,r):new _y(A,e,r):e==="array-contains"?new Uy(A,r):e==="in"?new Fy(A,r):e==="not-in"?new Iy(A,r):e==="array-contains-any"?new by(A,r):new le(A,e,r)}static createKeyFieldInFilter(A,e,r){return e==="in"?new Ey(A,r):new vy(A,r)}matches(A){const e=A.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Bn(e,this.value)):e!==null&&lr(this.value)===lr(e)&&this.matchesComparison(Bn(e,this.value))}matchesComparison(A){switch(this.op){case"<":return A<0;case"<=":return A<=0;case"==":return A===0;case"!=":return A!==0;case">":return A>0;case">=":return A>=0;default:return wA()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ut extends Zg{constructor(A,e){super(),this.filters=A,this.op=e,this.ce=null}static create(A,e){return new Ut(A,e)}matches(A){return $g(this)?this.filters.find(e=>!e.matches(A))===void 0:this.filters.find(e=>e.matches(A))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((A,e)=>A.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $g(t){return t.op==="and"}function AB(t){return Qy(t)&&$g(t)}function Qy(t){for(const A of t.filters)if(A instanceof Ut)return!1;return!0}function $a(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+pn(t.value);if(AB(t))return t.filters.map(A=>$a(A)).join(",");{const A=t.filters.map(e=>$a(e)).join(",");return`${t.op}(${A})`}}function eB(t,A){return t instanceof le?function(r,n){return n instanceof le&&r.op===n.op&&r.field.isEqual(n.field)&&vt(r.value,n.value)}(t,A):t instanceof Ut?function(r,n){return n instanceof Ut&&r.op===n.op&&r.filters.length===n.filters.length?r.filters.reduce((s,i,a)=>s&&eB(i,n.filters[a]),!0):!1}(t,A):void wA()}function tB(t){return t instanceof le?function(e){return`${e.field.canonicalString()} ${e.op} ${pn(e.value)}`}(t):t instanceof Ut?function(e){return e.op.toString()+" {"+e.getFilters().map(tB).join(" ,")+"}"}(t):"Filter"}class _y extends le{constructor(A,e,r){super(A,e,r),this.key=hA.fromName(r.referenceValue)}matches(A){const e=hA.comparator(A.key,this.key);return this.matchesComparison(e)}}class Ey extends le{constructor(A,e){super(A,"in",e),this.keys=rB("in",e)}matches(A){return this.keys.some(e=>e.isEqual(A.key))}}class vy extends le{constructor(A,e){super(A,"not-in",e),this.keys=rB("not-in",e)}matches(A){return!this.keys.some(e=>e.isEqual(A.key))}}function rB(t,A){var e;return(((e=A.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>hA.fromName(r.referenceValue))}class Uy extends le{constructor(A,e){super(A,"array-contains",e)}matches(A){const e=A.data.field(this.field);return Nl(e)&&Cs(e.arrayValue,this.value)}}class Fy extends le{constructor(A,e){super(A,"in",e)}matches(A){const e=A.data.field(this.field);return e!==null&&Cs(this.value.arrayValue,e)}}class Iy extends le{constructor(A,e){super(A,"not-in",e)}matches(A){if(Cs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=A.data.field(this.field);return e!==null&&!Cs(this.value.arrayValue,e)}}class by extends le{constructor(A,e){super(A,"array-contains-any",e)}matches(A){const e=A.data.field(this.field);return!(!Nl(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Cs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(A,e=null,r=[],n=[],s=null,i=null,a=null){this.path=A,this.collectionGroup=e,this.orderBy=r,this.filters=n,this.limit=s,this.startAt=i,this.endAt=a,this.le=null}}function fh(t,A=null,e=[],r=[],n=null,s=null,i=null){return new Ty(t,A,e,r,n,s,i)}function Gl(t){const A=yA(t);if(A.le===null){let e=A.path.canonicalString();A.collectionGroup!==null&&(e+="|cg:"+A.collectionGroup),e+="|f:",e+=A.filters.map(r=>$a(r)).join(","),e+="|ob:",e+=A.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Co(A.limit)||(e+="|l:",e+=A.limit),A.startAt&&(e+="|lb:",e+=A.startAt.inclusive?"b:":"a:",e+=A.startAt.position.map(r=>pn(r)).join(",")),A.endAt&&(e+="|ub:",e+=A.endAt.inclusive?"a:":"b:",e+=A.endAt.position.map(r=>pn(r)).join(",")),A.le=e}return A.le}function Wl(t,A){if(t.limit!==A.limit||t.orderBy.length!==A.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(!yy(t.orderBy[e],A.orderBy[e]))return!1;if(t.filters.length!==A.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(!eB(t.filters[e],A.filters[e]))return!1;return t.collectionGroup===A.collectionGroup&&!!t.path.isEqual(A.path)&&!!hh(t.startAt,A.startAt)&&hh(t.endAt,A.endAt)}function Al(t){return hA.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(A,e=null,r=[],n=[],s=null,i="F",a=null,l=null){this.path=A,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=n,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Hy(t,A,e,r,n,s,i,a){return new Qo(t,A,e,r,n,s,i,a)}function _o(t){return new Qo(t)}function dh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sy(t){return t.collectionGroup!==null}function is(t){const A=yA(t);if(A.he===null){A.he=[];const e=new Set;for(const s of A.explicitOrderBy)A.he.push(s),e.add(s.field.canonicalString());const r=A.explicitOrderBy.length>0?A.explicitOrderBy[A.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new ue(me.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(A).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||A.he.push(new zi(s,r))}),e.has(me.keyField().canonicalString())||A.he.push(new zi(me.keyField(),r))}return A.he}function Qt(t){const A=yA(t);return A.Pe||(A.Pe=Ry(A,is(t))),A.Pe}function Ry(t,A){if(t.limitType==="F")return fh(t.path,t.collectionGroup,A,t.filters,t.limit,t.startAt,t.endAt);{A=A.map(n=>{const s=n.dir==="desc"?"asc":"desc";return new zi(n.field,s)});const e=t.endAt?new qi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qi(t.startAt.position,t.startAt.inclusive):null;return fh(t.path,t.collectionGroup,A,t.filters,t.limit,e,r)}}function el(t,A,e){return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),A,e,t.startAt,t.endAt)}function Eo(t,A){return Wl(Qt(t),Qt(A))&&t.limitType===A.limitType}function nB(t){return`${Gl(Qt(t))}|lt:${t.limitType}`}function nn(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>tB(n)).join(", ")}]`),Co(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>pn(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>pn(n)).join(",")),`Target(${r})`}(Qt(t))}; limitType=${t.limitType})`}function vo(t,A){return A.isFoundDocument()&&function(r,n){const s=n.key.path;return r.collectionGroup!==null?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):hA.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,A)&&function(r,n){for(const s of is(r))if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0}(t,A)&&function(r,n){for(const s of r.filters)if(!s.matches(n))return!1;return!0}(t,A)&&function(r,n){return!(r.startAt&&!function(i,a,l){const c=uh(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,is(r),n)||r.endAt&&!function(i,a,l){const c=uh(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,is(r),n))}(t,A)}function Dy(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sB(t){return(A,e)=>{let r=!1;for(const n of is(t)){const s=Ly(n,A,e);if(s!==0)return s;r=r||n.field.isKeyField()}return 0}}function Ly(t,A,e){const r=t.field.isKeyField()?hA.comparator(A.key,e.key):function(s,i,a){const l=i.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Bn(l,c):wA()}(t.field,A,e);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wA()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(A,e){this.mapKeyFn=A,this.equalsFn=e,this.inner={},this.innerSize=0}get(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r!==void 0){for(const[n,s]of r)if(this.equalsFn(n,A))return s}}has(A){return this.get(A)!==void 0}set(A,e){const r=this.mapKeyFn(A),n=this.inner[r];if(n===void 0)return this.inner[r]=[[A,e]],void this.innerSize++;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],A))return void(n[s]=[A,e]);n.push([A,e]),this.innerSize++}delete(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r===void 0)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],A))return r.length===1?delete this.inner[e]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(A){gr(this.inner,(e,r)=>{for(const[n,s]of r)A(n,s)})}isEmpty(){return Kg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new zA(hA.comparator);function Mt(){return ky}const iB=new zA(hA.comparator);function jn(...t){let A=iB;for(const e of t)A=A.insert(e.key,e);return A}function oB(t){let A=iB;return t.forEach((e,r)=>A=A.insert(e,r.overlayedDocument)),A}function Ur(){return os()}function aB(){return os()}function os(){return new xr(t=>t.toString(),(t,A)=>t.isEqual(A))}const xy=new zA(hA.comparator),Vy=new ue(hA.comparator);function HA(...t){let A=Vy;for(const e of t)A=A.add(e);return A}const Py=new ue(FA);function My(){return Py}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t,A){if(t.useProto3Json){if(isNaN(A))return{doubleValue:"NaN"};if(A===1/0)return{doubleValue:"Infinity"};if(A===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ji(A)?"-0":A}}function lB(t){return{integerValue:""+t}}function Oy(t,A){return dy(A)?lB(A):jl(t,A)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this._=void 0}}function Ky(t,A,e){return t instanceof Yi?function(n,s){const i={fields:{[Wg]:{stringValue:Gg},[Xg]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&Kl(s)&&(s=yo(s)),s&&(i.fields[jg]=s),{mapValue:i}}(e,A):t instanceof wn?uB(t,A):t instanceof ys?hB(t,A):function(n,s){const i=cB(n,s),a=gh(i)+gh(n.Ie);return Za(i)&&Za(n.Ie)?lB(a):jl(n.serializer,a)}(t,A)}function Ny(t,A,e){return t instanceof wn?uB(t,A):t instanceof ys?hB(t,A):e}function cB(t,A){return t instanceof Zi?function(r){return Za(r)||function(s){return!!s&&"doubleValue"in s}(r)}(A)?A:{integerValue:0}:null}class Yi extends Uo{}class wn extends Uo{constructor(A){super(),this.elements=A}}function uB(t,A){const e=fB(A);for(const r of t.elements)e.some(n=>vt(n,r))||e.push(r);return{arrayValue:{values:e}}}class ys extends Uo{constructor(A){super(),this.elements=A}}function hB(t,A){let e=fB(A);for(const r of t.elements)e=e.filter(n=>!vt(n,r));return{arrayValue:{values:e}}}class Zi extends Uo{constructor(A,e){super(),this.serializer=A,this.Ie=e}}function gh(t){return re(t.integerValue||t.doubleValue)}function fB(t){return Nl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(A,e){this.field=A,this.transform=e}}function Wy(t,A){return t.field.isEqual(A.field)&&function(r,n){return r instanceof wn&&n instanceof wn||r instanceof ys&&n instanceof ys?gn(r.elements,n.elements,vt):r instanceof Zi&&n instanceof Zi?vt(r.Ie,n.Ie):r instanceof Yi&&n instanceof Yi}(t.transform,A.transform)}class jy{constructor(A,e){this.version=A,this.transformResults=e}}class Je{constructor(A,e){this.updateTime=A,this.exists=e}static none(){return new Je}static exists(A){return new Je(void 0,A)}static updateTime(A){return new Je(A)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(A){return this.exists===A.exists&&(this.updateTime?!!A.updateTime&&this.updateTime.isEqual(A.updateTime):!A.updateTime)}}function ki(t,A){return t.updateTime!==void 0?A.isFoundDocument()&&A.version.isEqual(t.updateTime):t.exists===void 0||t.exists===A.isFoundDocument()}class Fo{}function dB(t,A){if(!t.hasLocalMutations||A&&A.fields.length===0)return null;if(A===null)return t.isNoDocument()?new Xl(t.key,Je.none()):new Us(t.key,t.data,Je.none());{const e=t.data,r=ke.empty();let n=new ue(me.comparator);for(let s of A.fields)if(!n.has(s)){let i=e.field(s);i===null&&s.length>1&&(s=s.popLast(),i=e.field(s)),i===null?r.delete(s):r.set(s,i),n=n.add(s)}return new Br(t.key,r,new Xe(n.toArray()),Je.none())}}function Xy(t,A,e){t instanceof Us?function(n,s,i){const a=n.value.clone(),l=ph(n.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,A,e):t instanceof Br?function(n,s,i){if(!ki(n.precondition,s))return void s.convertToUnknownDocument(i.version);const a=ph(n.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(gB(n)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,A,e):function(n,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,A,e)}function as(t,A,e,r){return t instanceof Us?function(s,i,a,l){if(!ki(s.precondition,i))return a;const c=s.value.clone(),u=wh(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,A,e,r):t instanceof Br?function(s,i,a,l){if(!ki(s.precondition,i))return a;const c=wh(s.fieldTransforms,l,i),u=i.data;return u.setAll(gB(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,A,e,r):function(s,i,a){return ki(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,A,e)}function Jy(t,A){let e=null;for(const r of t.fieldTransforms){const n=A.data.field(r.field),s=cB(r.transform,n||null);s!=null&&(e===null&&(e=ke.empty()),e.set(r.field,s))}return e||null}function Bh(t,A){return t.type===A.type&&!!t.key.isEqual(A.key)&&!!t.precondition.isEqual(A.precondition)&&!!function(r,n){return r===void 0&&n===void 0||!(!r||!n)&&gn(r,n,(s,i)=>Wy(s,i))}(t.fieldTransforms,A.fieldTransforms)&&(t.type===0?t.value.isEqual(A.value):t.type!==1||t.data.isEqual(A.data)&&t.fieldMask.isEqual(A.fieldMask))}class Us extends Fo{constructor(A,e,r,n=[]){super(),this.key=A,this.value=e,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Br extends Fo{constructor(A,e,r,n,s=[]){super(),this.key=A,this.data=e,this.fieldMask=r,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gB(t){const A=new Map;return t.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=t.data.field(e);A.set(e,r)}}),A}function ph(t,A,e){const r=new Map;xA(t.length===e.length);for(let n=0;n<e.length;n++){const s=t[n],i=s.transform,a=A.data.field(s.field);r.set(s.field,Ny(i,a,e[n]))}return r}function wh(t,A,e){const r=new Map;for(const n of t){const s=n.transform,i=e.data.field(n.field);r.set(n.field,Ky(s,i,A))}return r}class Xl extends Fo{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qy extends Fo{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(A,e,r,n){this.batchId=A,this.localWriteTime=e,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(A,e){const r=e.mutationResults;for(let n=0;n<this.mutations.length;n++){const s=this.mutations[n];s.key.isEqual(A.key)&&Xy(s,A,r[n])}}applyToLocalView(A,e){for(const r of this.baseMutations)r.key.isEqual(A.key)&&(e=as(r,A,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(A.key)&&(e=as(r,A,e,this.localWriteTime));return e}applyToLocalDocumentSet(A,e){const r=aB();return this.mutations.forEach(n=>{const s=A.get(n.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=e.has(n.key)?null:a;const l=dB(i,a);l!==null&&r.set(n.key,l),i.isValidDocument()||i.convertToNoDocument(CA.min())}),r}keys(){return this.mutations.reduce((A,e)=>A.add(e.key),HA())}isEqual(A){return this.batchId===A.batchId&&gn(this.mutations,A.mutations,(e,r)=>Bh(e,r))&&gn(this.baseMutations,A.baseMutations,(e,r)=>Bh(e,r))}}class Jl{constructor(A,e,r,n){this.batch=A,this.commitVersion=e,this.mutationResults=r,this.docVersions=n}static from(A,e,r){xA(A.mutations.length===r.length);let n=function(){return xy}();const s=A.mutations;for(let i=0;i<s.length;i++)n=n.insert(s[i].key,r[i].version);return new Jl(A,e,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(A,e){this.largestBatchId=A,this.mutation=e}getKey(){return this.mutation.key}isEqual(A){return A!==null&&this.mutation===A.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(A,e){this.count=A,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne,SA;function $y(t){switch(t){case N.OK:return wA();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return wA()}}function BB(t){if(t===void 0)return Pt("GRPC error has no .code"),N.UNKNOWN;switch(t){case ne.OK:return N.OK;case ne.CANCELLED:return N.CANCELLED;case ne.UNKNOWN:return N.UNKNOWN;case ne.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ne.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ne.INTERNAL:return N.INTERNAL;case ne.UNAVAILABLE:return N.UNAVAILABLE;case ne.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ne.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ne.NOT_FOUND:return N.NOT_FOUND;case ne.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ne.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ne.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ne.ABORTED:return N.ABORTED;case ne.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ne.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ne.DATA_LOSS:return N.DATA_LOSS;default:return wA()}}(SA=ne||(ne={}))[SA.OK=0]="OK",SA[SA.CANCELLED=1]="CANCELLED",SA[SA.UNKNOWN=2]="UNKNOWN",SA[SA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",SA[SA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",SA[SA.NOT_FOUND=5]="NOT_FOUND",SA[SA.ALREADY_EXISTS=6]="ALREADY_EXISTS",SA[SA.PERMISSION_DENIED=7]="PERMISSION_DENIED",SA[SA.UNAUTHENTICATED=16]="UNAUTHENTICATED",SA[SA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",SA[SA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",SA[SA.ABORTED=10]="ABORTED",SA[SA.OUT_OF_RANGE=11]="OUT_OF_RANGE",SA[SA.UNIMPLEMENTED=12]="UNIMPLEMENTED",SA[SA.INTERNAL=13]="INTERNAL",SA[SA.UNAVAILABLE=14]="UNAVAILABLE",SA[SA.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=new tr([4294967295,4294967295],0);function mh(t){const A=Pg().encode(t),e=new Sg;return e.update(A),new Uint8Array(e.digest())}function Ch(t){const A=new DataView(t.buffer),e=A.getUint32(0,!0),r=A.getUint32(4,!0),n=A.getUint32(8,!0),s=A.getUint32(12,!0);return[new tr([e,r],0),new tr([n,s],0)]}class ql{constructor(A,e,r){if(this.bitmap=A,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Xn(`Invalid padding: ${e}`);if(r<0)throw new Xn(`Invalid hash count: ${r}`);if(A.length>0&&this.hashCount===0)throw new Xn(`Invalid hash count: ${r}`);if(A.length===0&&e!==0)throw new Xn(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*A.length-e,this.de=tr.fromNumber(this.Ee)}Ae(A,e,r){let n=A.add(e.multiply(tr.fromNumber(r)));return n.compare(AQ)===1&&(n=new tr([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(A){return!!(this.bitmap[Math.floor(A/8)]&1<<A%8)}mightContain(A){if(this.Ee===0)return!1;const e=mh(A),[r,n]=Ch(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);if(!this.Re(i))return!1}return!0}static create(A,e,r){const n=A%8==0?0:8-A%8,s=new Uint8Array(Math.ceil(A/8)),i=new ql(s,n,e);return r.forEach(a=>i.insert(a)),i}insert(A){if(this.Ee===0)return;const e=mh(A),[r,n]=Ch(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);this.Ve(i)}}Ve(A){const e=Math.floor(A/8),r=A%8;this.bitmap[e]|=1<<r}}class Xn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(A,e,r,n,s){this.snapshotVersion=A,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(A,e,r){const n=new Map;return n.set(A,Fs.createSynthesizedTargetChangeForCurrentChange(A,e,r)),new Io(CA.min(),n,new zA(FA),Mt(),HA())}}class Fs{constructor(A,e,r,n,s){this.resumeToken=A,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(A,e,r){return new Fs(r,e,HA(),HA(),HA())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(A,e,r,n){this.me=A,this.removedTargetIds=e,this.key=r,this.fe=n}}class pB{constructor(A,e){this.targetId=A,this.ge=e}}class wB{constructor(A,e,r=ye.EMPTY_BYTE_STRING,n=null){this.state=A,this.targetIds=e,this.resumeToken=r,this.cause=n}}class yh{constructor(){this.pe=0,this.ye=Qh(),this.we=ye.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(A){A.approximateByteSize()>0&&(this.be=!0,this.we=A)}Fe(){let A=HA(),e=HA(),r=HA();return this.ye.forEach((n,s)=>{switch(s){case 0:A=A.add(n);break;case 2:e=e.add(n);break;case 1:r=r.add(n);break;default:wA()}}),new Fs(this.we,this.Se,A,e,r)}Me(){this.be=!1,this.ye=Qh()}xe(A,e){this.be=!0,this.ye=this.ye.insert(A,e)}Oe(A){this.be=!0,this.ye=this.ye.remove(A)}Ne(){this.pe+=1}Be(){this.pe-=1,xA(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class eQ{constructor(A){this.ke=A,this.qe=new Map,this.Qe=Mt(),this.$e=ii(),this.Ue=ii(),this.Ke=new zA(FA)}We(A){for(const e of A.me)A.fe&&A.fe.isFoundDocument()?this.Ge(e,A.fe):this.ze(e,A.key,A.fe);for(const e of A.removedTargetIds)this.ze(e,A.key,A.fe)}je(A){this.forEachTarget(A,e=>{const r=this.He(e);switch(A.state){case 0:this.Je(e)&&r.Ce(A.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(A.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(e);break;case 3:this.Je(e)&&(r.Le(),r.Ce(A.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),r.Ce(A.resumeToken));break;default:wA()}})}forEachTarget(A,e){A.targetIds.length>0?A.targetIds.forEach(e):this.qe.forEach((r,n)=>{this.Je(n)&&e(n)})}Ze(A){const e=A.targetId,r=A.ge.count,n=this.Xe(e);if(n){const s=n.target;if(Al(s))if(r===0){const i=new hA(s.path);this.ze(e,i,Ie.newNoDocument(i,CA.min()))}else xA(r===1);else{const i=this.et(e);if(i!==r){const a=this.tt(A),l=a?this.nt(a,A,i):1;if(l!==0){this.Ye(e);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,c)}}}}}tt(A){const e=A.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:s=0}=e;let i,a;try{i=ar(r).toUint8Array()}catch(l){if(l instanceof Ng)return dn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ql(i,n,s)}catch(l){return dn(l instanceof Xn?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(A,e,r){return e.ge.count===r-this.st(A,e.targetId)?0:2}st(A,e){const r=this.ke.getRemoteKeysForTarget(e);let n=0;return r.forEach(s=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;A.mightContain(a)||(this.ze(e,s,null),n++)}),n}ot(A){const e=new Map;this.qe.forEach((s,i)=>{const a=this.Xe(i);if(a){if(s.current&&Al(a.target)){const l=new hA(a.target.path);this._t(l).has(i)||this.ut(i,l)||this.ze(i,l,Ie.newNoDocument(l,A))}s.ve&&(e.set(i,s.Fe()),s.Me())}});let r=HA();this.Ue.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,i)=>i.setReadTime(A));const n=new Io(A,e,this.Ke,this.Qe,r);return this.Qe=Mt(),this.$e=ii(),this.Ue=ii(),this.Ke=new zA(FA),n}Ge(A,e){if(!this.Je(A))return;const r=this.ut(A,e.key)?2:0;this.He(A).xe(e.key,r),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(A)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(A))}ze(A,e,r){if(!this.Je(A))return;const n=this.He(A);this.ut(A,e)?n.xe(e,1):n.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(A)),this.Ue=this.Ue.insert(e,this.ct(e).add(A)),r&&(this.Qe=this.Qe.insert(e,r))}removeTarget(A){this.qe.delete(A)}et(A){const e=this.He(A).Fe();return this.ke.getRemoteKeysForTarget(A).size+e.addedDocuments.size-e.removedDocuments.size}Ne(A){this.He(A).Ne()}He(A){let e=this.qe.get(A);return e||(e=new yh,this.qe.set(A,e)),e}ct(A){let e=this.Ue.get(A);return e||(e=new ue(FA),this.Ue=this.Ue.insert(A,e)),e}_t(A){let e=this.$e.get(A);return e||(e=new ue(FA),this.$e=this.$e.insert(A,e)),e}Je(A){const e=this.Xe(A)!==null;return e||eA("WatchChangeAggregator","Detected inactive target",A),e}Xe(A){const e=this.qe.get(A);return e&&e.De?null:this.ke.lt(A)}Ye(A){this.qe.set(A,new yh),this.ke.getRemoteKeysForTarget(A).forEach(e=>{this.ze(A,e,null)})}ut(A,e){return this.ke.getRemoteKeysForTarget(A).has(e)}}function ii(){return new zA(hA.comparator)}function Qh(){return new zA(hA.comparator)}const tQ={asc:"ASCENDING",desc:"DESCENDING"},rQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nQ={and:"AND",or:"OR"};class sQ{constructor(A,e){this.databaseId=A,this.useProto3Json=e}}function tl(t,A){return t.useProto3Json||Co(A)?A:{value:A}}function $i(t,A){return t.useProto3Json?`${new Date(1e3*A.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+A.nanoseconds).slice(-9)}Z`:{seconds:""+A.seconds,nanos:A.nanoseconds}}function mB(t,A){return t.useProto3Json?A.toBase64():A.toUint8Array()}function iQ(t,A){return $i(t,A.toTimestamp())}function _t(t){return xA(!!t),CA.fromTimestamp(function(e){const r=or(e);return new ce(r.seconds,r.nanos)}(t))}function zl(t,A){return rl(t,A).canonicalString()}function rl(t,A){const e=function(n){return new JA(["projects",n.projectId,"databases",n.database])}(t).child("documents");return A===void 0?e:e.child(A)}function CB(t){const A=JA.fromString(t);return xA(vB(A)),A}function nl(t,A){return zl(t.databaseId,A.path)}function Ba(t,A){const e=CB(A);if(e.get(1)!==t.databaseId.projectId)throw new oA(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new oA(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new hA(QB(e))}function yB(t,A){return zl(t.databaseId,A)}function oQ(t){const A=CB(t);return A.length===4?JA.emptyPath():QB(A)}function sl(t){return new JA(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QB(t){return xA(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _h(t,A,e){return{name:nl(t,A),fields:e.value.mapValue.fields}}function aQ(t,A){let e;if("targetChange"in A){A.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:wA()}(A.targetChange.targetChangeType||"NO_CHANGE"),n=A.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(xA(u===void 0||typeof u=="string"),ye.fromBase64String(u||"")):(xA(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ye.fromUint8Array(u||new Uint8Array))}(t,A.targetChange.resumeToken),i=A.targetChange.cause,a=i&&function(c){const u=c.code===void 0?N.UNKNOWN:BB(c.code);return new oA(u,c.message||"")}(i);e=new wB(r,n,s,a||null)}else if("documentChange"in A){A.documentChange;const r=A.documentChange;r.document,r.document.name,r.document.updateTime;const n=Ba(t,r.document.name),s=_t(r.document.updateTime),i=r.document.createTime?_t(r.document.createTime):CA.min(),a=new ke({mapValue:{fields:r.document.fields}}),l=Ie.newFoundDocument(n,s,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];e=new xi(c,u,l.key,l)}else if("documentDelete"in A){A.documentDelete;const r=A.documentDelete;r.document;const n=Ba(t,r.document),s=r.readTime?_t(r.readTime):CA.min(),i=Ie.newNoDocument(n,s),a=r.removedTargetIds||[];e=new xi([],a,i.key,i)}else if("documentRemove"in A){A.documentRemove;const r=A.documentRemove;r.document;const n=Ba(t,r.document),s=r.removedTargetIds||[];e=new xi([],s,n,null)}else{if(!("filter"in A))return wA();{A.filter;const r=A.filter;r.targetId;const{count:n=0,unchangedNames:s}=r,i=new Zy(n,s),a=r.targetId;e=new pB(a,i)}}return e}function lQ(t,A){let e;if(A instanceof Us)e={update:_h(t,A.key,A.value)};else if(A instanceof Xl)e={delete:nl(t,A.key)};else if(A instanceof Br)e={update:_h(t,A.key,A.data),updateMask:wQ(A.fieldMask)};else{if(!(A instanceof qy))return wA();e={verify:nl(t,A.key)}}return A.fieldTransforms.length>0&&(e.updateTransforms=A.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof Yi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wn)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ys)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zi)return{fieldPath:i.field.canonicalString(),increment:a.Ie};throw wA()}(0,r))),A.precondition.isNone||(e.currentDocument=function(n,s){return s.updateTime!==void 0?{updateTime:iQ(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:wA()}(t,A.precondition)),e}function cQ(t,A){return t&&t.length>0?(xA(A!==void 0),t.map(e=>function(n,s){let i=n.updateTime?_t(n.updateTime):_t(s);return i.isEqual(CA.min())&&(i=_t(s)),new jy(i,n.transformResults||[])}(e,A))):[]}function uQ(t,A){return{documents:[yB(t,A.path)]}}function hQ(t,A){const e={structuredQuery:{}},r=A.path;let n;A.collectionGroup!==null?(n=r,e.structuredQuery.from=[{collectionId:A.collectionGroup,allDescendants:!0}]):(n=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=yB(t,n);const s=function(c){if(c.length!==0)return EB(Ut.create(c,"and"))}(A.filters);s&&(e.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(g){return{field:sn(g.field),direction:gQ(g.dir)}}(u))}(A.orderBy);i&&(e.structuredQuery.orderBy=i);const a=tl(t,A.limit);return a!==null&&(e.structuredQuery.limit=a),A.startAt&&(e.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(A.startAt)),A.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(A.endAt)),{ht:e,parent:n}}function fQ(t){let A=oQ(t.parent);const e=t.structuredQuery,r=e.from?e.from.length:0;let n=null;if(r>0){xA(r===1);const u=e.from[0];u.allDescendants?n=u.collectionId:A=A.child(u.collectionId)}let s=[];e.where&&(s=function(f){const g=_B(f);return g instanceof Ut&&AB(g)?g.getFilters():[g]}(e.where));let i=[];e.orderBy&&(i=function(f){return f.map(g=>function(Q){return new zi(on(Q.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(g))}(e.orderBy));let a=null;e.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Co(g)?null:g}(e.limit));let l=null;e.startAt&&(l=function(f){const g=!!f.before,B=f.values||[];return new qi(B,g)}(e.startAt));let c=null;return e.endAt&&(c=function(f){const g=!f.before,B=f.values||[];return new qi(B,g)}(e.endAt)),Hy(A,n,i,s,a,"F",l,c)}function dQ(t,A){const e=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wA()}}(A.purpose);return e==null?null:{"goog-listen-tags":e}}function _B(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=on(e.unaryFilter.field);return le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=on(e.unaryFilter.field);return le.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=on(e.unaryFilter.field);return le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=on(e.unaryFilter.field);return le.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wA()}}(t):t.fieldFilter!==void 0?function(e){return le.create(on(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wA()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ut.create(e.compositeFilter.filters.map(r=>_B(r)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return wA()}}(e.compositeFilter.op))}(t):wA()}function gQ(t){return tQ[t]}function BQ(t){return rQ[t]}function pQ(t){return nQ[t]}function sn(t){return{fieldPath:t.canonicalString()}}function on(t){return me.fromServerFormat(t.fieldPath)}function EB(t){return t instanceof le?function(e){if(e.op==="=="){if(ch(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NAN"}};if(lh(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ch(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NOT_NAN"}};if(lh(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sn(e.field),op:BQ(e.op),value:e.value}}}(t):t instanceof Ut?function(e){const r=e.getFilters().map(n=>EB(n));return r.length===1?r[0]:{compositeFilter:{op:pQ(e.op),filters:r}}}(t):wA()}function wQ(t){const A=[];return t.fields.forEach(e=>A.push(e.canonicalString())),{fieldPaths:A}}function vB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(A,e,r,n,s=CA.min(),i=CA.min(),a=ye.EMPTY_BYTE_STRING,l=null){this.target=A,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(A){return new zt(this.target,this.targetId,this.purpose,A,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(A,e){return new zt(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,A,null)}withExpectedCount(A){return new zt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,A)}withLastLimboFreeSnapshotVersion(A){return new zt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,A,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(A){this.Tt=A}}function CQ(t){const A=fQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?el(A,A.limit,"L"):A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(){this.Tn=new QQ}addToCollectionParentIndex(A,e){return this.Tn.add(e),K.resolve()}getCollectionParents(A,e){return K.resolve(this.Tn.getEntries(e))}addFieldIndex(A,e){return K.resolve()}deleteFieldIndex(A,e){return K.resolve()}deleteAllFieldIndexes(A){return K.resolve()}createTargetIndexes(A,e){return K.resolve()}getDocumentsMatchingTarget(A,e){return K.resolve(null)}getIndexType(A,e){return K.resolve(0)}getFieldIndexes(A,e){return K.resolve([])}getNextCollectionGroupToUpdate(A){return K.resolve(null)}getMinOffset(A,e){return K.resolve(ir.min())}getMinOffsetFromCollectionGroup(A,e){return K.resolve(ir.min())}updateCollectionGroup(A,e,r){return K.resolve()}updateIndexEntries(A,e){return K.resolve()}}class QQ{constructor(){this.index={}}add(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e]||new ue(JA.comparator),s=!n.has(r);return this.index[e]=n.add(r),s}has(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e];return n&&n.has(r)}getEntries(A){return(this.index[A]||new ue(JA.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UB=41943040;class De{static withCacheSize(A){return new De(A,De.DEFAULT_COLLECTION_PERCENTILE,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(A,e,r){this.cacheSizeCollectionThreshold=A,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */De.DEFAULT_COLLECTION_PERCENTILE=10,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,De.DEFAULT=new De(UB,De.DEFAULT_COLLECTION_PERCENTILE,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),De.DISABLED=new De(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(A){this.$n=A}next(){return this.$n+=2,this.$n}static Un(){return new mn(0)}static Kn(){return new mn(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="LruGarbageCollector",_Q=1048576;function Uh([t,A],[e,r]){const n=FA(t,e);return n===0?FA(A,r):n}class EQ{constructor(A){this.Hn=A,this.buffer=new ue(Uh),this.Jn=0}Yn(){return++this.Jn}Zn(A){const e=[A,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Uh(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vQ{constructor(A,e,r){this.garbageCollector=A,this.asyncQueue=e,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(A){eA(vh,`Garbage collection scheduled in ${A}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",A,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vn(e)?eA(vh,"Ignoring IndexedDB error during garbage collection: ",e):await En(e)}await this.er(3e5)})}}class UQ{constructor(A,e){this.tr=A,this.params=e}calculateTargetCount(A,e){return this.tr.nr(A).next(r=>Math.floor(e/100*r))}nthSequenceNumber(A,e){if(e===0)return K.resolve(mo.ae);const r=new EQ(e);return this.tr.forEachTarget(A,n=>r.Zn(n.sequenceNumber)).next(()=>this.tr.rr(A,n=>r.Zn(n))).next(()=>r.maxValue)}removeTargets(A,e,r){return this.tr.removeTargets(A,e,r)}removeOrphanedDocuments(A,e){return this.tr.removeOrphanedDocuments(A,e)}collect(A,e){return this.params.cacheSizeCollectionThreshold===-1?(eA("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Eh)):this.getCacheSize(A).next(r=>r<this.params.cacheSizeCollectionThreshold?(eA("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eh):this.ir(A,e))}getCacheSize(A){return this.tr.getCacheSize(A)}ir(A,e){let r,n,s,i,a,l,c;const u=Date.now();return this.calculateTargetCount(A,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(eA("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),n=this.params.maximumSequenceNumbersToCollect):n=f,i=Date.now(),this.nthSequenceNumber(A,n))).next(f=>(r=f,a=Date.now(),this.removeTargets(A,r,e))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(A,r))).next(f=>(c=Date.now(),rn()<=RA.DEBUG&&eA("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-u}ms
	Determined least recently used ${n} in `+(a-i)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:s,documentsRemoved:f})))}}function FQ(t,A){return new UQ(t,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(){this.changes=new xr(A=>A.toString(),(A,e)=>A.isEqual(e)),this.changesApplied=!1}addEntry(A){this.assertNotApplied(),this.changes.set(A.key,A)}removeEntry(A,e){this.assertNotApplied(),this.changes.set(A,Ie.newInvalidDocument(A).setReadTime(e))}getEntry(A,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?K.resolve(r):this.getFromCache(A,e)}getEntries(A,e){return this.getAllFromCache(A,e)}apply(A){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(A)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(A,e){this.overlayedDocument=A,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(A,e,r,n){this.remoteDocumentCache=A,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=n}getDocument(A,e){let r=null;return this.documentOverlayCache.getOverlay(A,e).next(n=>(r=n,this.remoteDocumentCache.getEntry(A,e))).next(n=>(r!==null&&as(r.mutation,n,Xe.empty(),ce.now()),n))}getDocuments(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.getLocalViewOfDocuments(A,r,HA()).next(()=>r))}getLocalViewOfDocuments(A,e,r=HA()){const n=Ur();return this.populateOverlays(A,n,e).next(()=>this.computeViews(A,e,n,r).next(s=>{let i=jn();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(A,e){const r=Ur();return this.populateOverlays(A,r,e).next(()=>this.computeViews(A,e,r,HA()))}populateOverlays(A,e,r){const n=[];return r.forEach(s=>{e.has(s)||n.push(s)}),this.documentOverlayCache.getOverlays(A,n).next(s=>{s.forEach((i,a)=>{e.set(i,a)})})}computeViews(A,e,r,n){let s=Mt();const i=os(),a=function(){return os()}();return e.forEach((l,c)=>{const u=r.get(c.key);n.has(c.key)&&(u===void 0||u.mutation instanceof Br)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),as(u.mutation,c,u.mutation.getFieldMask(),ce.now())):i.set(c.key,Xe.empty())}),this.recalculateAndSaveOverlays(A,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),e.forEach((c,u)=>{var f;return a.set(c,new bQ(u,(f=i.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(A,e){const r=os();let n=new zA((i,a)=>i-a),s=HA();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(A,e).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=e.get(l);if(c===null)return;let u=r.get(l)||Xe.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(n.get(a.batchId)||HA()).add(l);n=n.insert(a.batchId,f)})}).next(()=>{const i=[],a=n.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=aB();u.forEach(g=>{if(!s.has(g)){const B=dB(e.get(g),r.get(g));B!==null&&f.set(g,B),s=s.add(g)}}),i.push(this.documentOverlayCache.saveOverlays(A,c,f))}return K.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.recalculateAndSaveOverlays(A,r))}getDocumentsMatchingQuery(A,e,r,n){return function(i){return hA.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(A,e.path):Sy(e)?this.getDocumentsMatchingCollectionGroupQuery(A,e,r,n):this.getDocumentsMatchingCollectionQuery(A,e,r,n)}getNextDocuments(A,e,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(A,e,r,n).next(s=>{const i=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(A,e,r.largestBatchId,n-s.size):K.resolve(Ur());let a=ps,l=s;return i.next(c=>K.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?K.resolve():this.remoteDocumentCache.getEntry(A,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(A,c,s)).next(()=>this.computeViews(A,l,c,HA())).next(u=>({batchId:a,changes:oB(u)})))})}getDocumentsMatchingDocumentQuery(A,e){return this.getDocument(A,new hA(e)).next(r=>{let n=jn();return r.isFoundDocument()&&(n=n.insert(r.key,r)),n})}getDocumentsMatchingCollectionGroupQuery(A,e,r,n){const s=e.collectionGroup;let i=jn();return this.indexManager.getCollectionParents(A,s).next(a=>K.forEach(a,l=>{const c=function(f,g){return new Qo(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(A,c,r,n).next(u=>{u.forEach((f,g)=>{i=i.insert(f,g)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(A,e,r,n){let s;return this.documentOverlayCache.getOverlaysForCollection(A,e.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(A,e,r,s,n))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,Ie.newInvalidDocument(u)))});let a=jn();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&as(u.mutation,c,Xe.empty(),ce.now()),vo(e,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(A){this.serializer=A,this.dr=new Map,this.Ar=new Map}getBundleMetadata(A,e){return K.resolve(this.dr.get(e))}saveBundleMetadata(A,e){return this.dr.set(e.id,function(n){return{id:n.id,version:n.version,createTime:_t(n.createTime)}}(e)),K.resolve()}getNamedQuery(A,e){return K.resolve(this.Ar.get(e))}saveNamedQuery(A,e){return this.Ar.set(e.name,function(n){return{name:n.name,query:CQ(n.bundledQuery),readTime:_t(n.readTime)}}(e)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(){this.overlays=new zA(hA.comparator),this.Rr=new Map}getOverlay(A,e){return K.resolve(this.overlays.get(e))}getOverlays(A,e){const r=Ur();return K.forEach(e,n=>this.getOverlay(A,n).next(s=>{s!==null&&r.set(n,s)})).next(()=>r)}saveOverlays(A,e,r){return r.forEach((n,s)=>{this.Et(A,e,s)}),K.resolve()}removeOverlaysForBatchId(A,e,r){const n=this.Rr.get(r);return n!==void 0&&(n.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),K.resolve()}getOverlaysForCollection(A,e,r){const n=Ur(),s=e.length+1,i=new hA(e.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&n.set(l.getKey(),l)}return K.resolve(n)}getOverlaysForCollectionGroup(A,e,r,n){let s=new zA((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ur(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ur(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=n)););return K.resolve(a)}Et(A,e,r){const n=this.overlays.get(r.key);if(n!==null){const i=this.Rr.get(n.largestBatchId).delete(r.key);this.Rr.set(n.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new Yy(e,r));let s=this.Rr.get(e);s===void 0&&(s=HA(),this.Rr.set(e,s)),this.Rr.set(e,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(){this.sessionToken=ye.EMPTY_BYTE_STRING}getSessionToken(A){return K.resolve(this.sessionToken)}setSessionToken(A,e){return this.sessionToken=e,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.Vr=new ue(Be.mr),this.gr=new ue(Be.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(A,e){const r=new Be(A,e);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(A,e){A.forEach(r=>this.addReference(r,e))}removeReference(A,e){this.wr(new Be(A,e))}Sr(A,e){A.forEach(r=>this.removeReference(r,e))}br(A){const e=new hA(new JA([])),r=new Be(e,A),n=new Be(e,A+1),s=[];return this.gr.forEachInRange([r,n],i=>{this.wr(i),s.push(i.key)}),s}Dr(){this.Vr.forEach(A=>this.wr(A))}wr(A){this.Vr=this.Vr.delete(A),this.gr=this.gr.delete(A)}vr(A){const e=new hA(new JA([])),r=new Be(e,A),n=new Be(e,A+1);let s=HA();return this.gr.forEachInRange([r,n],i=>{s=s.add(i.key)}),s}containsKey(A){const e=new Be(A,0),r=this.Vr.firstAfterOrEqual(e);return r!==null&&A.isEqual(r.key)}}class Be{constructor(A,e){this.key=A,this.Cr=e}static mr(A,e){return hA.comparator(A.key,e.key)||FA(A.Cr,e.Cr)}static pr(A,e){return FA(A.Cr,e.Cr)||hA.comparator(A.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(A,e){this.indexManager=A,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new ue(Be.mr)}checkEmpty(A){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(A,e,r,n){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new zy(s,e,r,n);this.mutationQueue.push(i);for(const a of n)this.Mr=this.Mr.add(new Be(a.key,s)),this.indexManager.addToCollectionParentIndex(A,a.key.path.popLast());return K.resolve(i)}lookupMutationBatch(A,e){return K.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(A,e){const r=e+1,n=this.Nr(r),s=n<0?0:n;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Ol:this.Fr-1)}getAllMutationBatches(A){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(A,e){const r=new Be(e,0),n=new Be(e,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,n],i=>{const a=this.Or(i.Cr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(A,e){let r=new ue(FA);return e.forEach(n=>{const s=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,i],a=>{r=r.add(a.Cr)})}),K.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(A,e){const r=e.path,n=r.length+1;let s=r;hA.isDocumentKey(s)||(s=s.child(""));const i=new Be(new hA(s),0);let a=new ue(FA);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===n&&(a=a.add(l.Cr)),!0)},i),K.resolve(this.Br(a))}Br(A){const e=[];return A.forEach(r=>{const n=this.Or(r);n!==null&&e.push(n)}),e}removeMutationBatch(A,e){xA(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return K.forEach(e.mutations,n=>{const s=new Be(n.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(A,n.key)}).next(()=>{this.Mr=r})}qn(A){}containsKey(A,e){const r=new Be(e,0),n=this.Mr.firstAfterOrEqual(r);return K.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(A){return this.mutationQueue.length,K.resolve()}Lr(A,e){return this.Nr(A)}Nr(A){return this.mutationQueue.length===0?0:A-this.mutationQueue[0].batchId}Or(A){const e=this.Nr(A);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(A){this.kr=A,this.docs=function(){return new zA(hA.comparator)}(),this.size=0}setIndexManager(A){this.indexManager=A}addEntry(A,e){const r=e.key,n=this.docs.get(r),s=n?n.size:0,i=this.kr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(A,r.path.popLast())}removeEntry(A){const e=this.docs.get(A);e&&(this.docs=this.docs.remove(A),this.size-=e.size)}getEntry(A,e){const r=this.docs.get(e);return K.resolve(r?r.document.mutableCopy():Ie.newInvalidDocument(e))}getEntries(A,e){let r=Mt();return e.forEach(n=>{const s=this.docs.get(n);r=r.insert(n,s?s.document.mutableCopy():Ie.newInvalidDocument(n))}),K.resolve(r)}getDocumentsMatchingQuery(A,e,r,n){let s=Mt();const i=e.path,a=new hA(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||cy(ly(u),r)<=0||(n.has(u.key)||vo(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(A,e,r,n){wA()}qr(A,e){return K.forEach(this.docs,r=>e(r))}newChangeBuffer(A){return new kQ(this)}getSize(A){return K.resolve(this.size)}}class kQ extends IQ{constructor(A){super(),this.Ir=A}applyChanges(A){const e=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?e.push(this.Ir.addEntry(A,n)):this.Ir.removeEntry(r)}),K.waitFor(e)}getFromCache(A,e){return this.Ir.getEntry(A,e)}getAllFromCache(A,e){return this.Ir.getEntries(A,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(A){this.persistence=A,this.Qr=new xr(e=>Gl(e),Wl),this.lastRemoteSnapshotVersion=CA.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Yl,this.targetCount=0,this.Kr=mn.Un()}forEachTarget(A,e){return this.Qr.forEach((r,n)=>e(n)),K.resolve()}getLastRemoteSnapshotVersion(A){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(A){return K.resolve(this.$r)}allocateTargetId(A){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(A,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$r&&(this.$r=e),K.resolve()}zn(A){this.Qr.set(A.target,A);const e=A.targetId;e>this.highestTargetId&&(this.Kr=new mn(e),this.highestTargetId=e),A.sequenceNumber>this.$r&&(this.$r=A.sequenceNumber)}addTargetData(A,e){return this.zn(e),this.targetCount+=1,K.resolve()}updateTargetData(A,e){return this.zn(e),K.resolve()}removeTargetData(A,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,K.resolve()}removeTargets(A,e,r){let n=0;const s=[];return this.Qr.forEach((i,a)=>{a.sequenceNumber<=e&&r.get(a.targetId)===null&&(this.Qr.delete(i),s.push(this.removeMatchingKeysForTargetId(A,a.targetId)),n++)}),K.waitFor(s).next(()=>n)}getTargetCount(A){return K.resolve(this.targetCount)}getTargetData(A,e){const r=this.Qr.get(e)||null;return K.resolve(r)}addMatchingKeys(A,e,r){return this.Ur.yr(e,r),K.resolve()}removeMatchingKeys(A,e,r){this.Ur.Sr(e,r);const n=this.persistence.referenceDelegate,s=[];return n&&e.forEach(i=>{s.push(n.markPotentiallyOrphaned(A,i))}),K.waitFor(s)}removeMatchingKeysForTargetId(A,e){return this.Ur.br(e),K.resolve()}getMatchingKeysForTargetId(A,e){const r=this.Ur.vr(e);return K.resolve(r)}containsKey(A,e){return K.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(A,e){this.Wr={},this.overlays={},this.Gr=new mo(0),this.zr=!1,this.zr=!0,this.jr=new RQ,this.referenceDelegate=A(this),this.Hr=new xQ(this),this.indexManager=new yQ,this.remoteDocumentCache=function(n){return new LQ(n)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new mQ(e),this.Yr=new HQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(A){return this.indexManager}getDocumentOverlayCache(A){let e=this.overlays[A.toKey()];return e||(e=new SQ,this.overlays[A.toKey()]=e),e}getMutationQueue(A,e){let r=this.Wr[A.toKey()];return r||(r=new DQ(e,this.referenceDelegate),this.Wr[A.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(A,e,r){eA("MemoryPersistence","Starting transaction:",A);const n=new VQ(this.Gr.next());return this.referenceDelegate.Zr(),r(n).next(s=>this.referenceDelegate.Xr(n).next(()=>s)).toPromise().then(s=>(n.raiseOnCommittedEvent(),s))}ei(A,e){return K.or(Object.values(this.Wr).map(r=>()=>r.containsKey(A,e)))}}class VQ extends hy{constructor(A){super(),this.currentSequenceNumber=A}}class Zl{constructor(A){this.persistence=A,this.ti=new Yl,this.ni=null}static ri(A){return new Zl(A)}get ii(){if(this.ni)return this.ni;throw wA()}addReference(A,e,r){return this.ti.addReference(r,e),this.ii.delete(r.toString()),K.resolve()}removeReference(A,e,r){return this.ti.removeReference(r,e),this.ii.add(r.toString()),K.resolve()}markPotentiallyOrphaned(A,e){return this.ii.add(e.toString()),K.resolve()}removeTarget(A,e){this.ti.br(e.targetId).forEach(n=>this.ii.add(n.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(A,e.targetId).next(n=>{n.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(A,e))}Zr(){this.ni=new Set}Xr(A){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,r=>{const n=hA.fromPath(r);return this.si(A,n).next(s=>{s||e.removeEntry(n,CA.min())})}).next(()=>(this.ni=null,e.apply(A)))}updateLimboDocument(A,e){return this.si(A,e).next(r=>{r?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(A){return 0}si(A,e){return K.or([()=>K.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(A,e),()=>this.persistence.ei(A,e)])}}class Ao{constructor(A,e){this.persistence=A,this.oi=new xr(r=>gy(r.path),(r,n)=>r.isEqual(n)),this.garbageCollector=FQ(this,e)}static ri(A,e){return new Ao(A,e)}Zr(){}Xr(A){return K.resolve()}forEachTarget(A,e){return this.persistence.getTargetCache().forEachTarget(A,e)}nr(A){const e=this.sr(A);return this.persistence.getTargetCache().getTargetCount(A).next(r=>e.next(n=>r+n))}sr(A){let e=0;return this.rr(A,r=>{e++}).next(()=>e)}rr(A,e){return K.forEach(this.oi,(r,n)=>this.ar(A,r,n).next(s=>s?K.resolve():e(n)))}removeTargets(A,e,r){return this.persistence.getTargetCache().removeTargets(A,e,r)}removeOrphanedDocuments(A,e){let r=0;const n=this.persistence.getRemoteDocumentCache(),s=n.newChangeBuffer();return n.qr(A,i=>this.ar(A,i,e).next(a=>{a||(r++,s.removeEntry(i,CA.min()))})).next(()=>s.apply(A)).next(()=>r)}markPotentiallyOrphaned(A,e){return this.oi.set(e,A.currentSequenceNumber),K.resolve()}removeTarget(A,e){const r=e.withSequenceNumber(A.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(A,r)}addReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),K.resolve()}removeReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),K.resolve()}updateLimboDocument(A,e){return this.oi.set(e,A.currentSequenceNumber),K.resolve()}Jr(A){let e=A.key.toString().length;return A.isFoundDocument()&&(e+=Di(A.data.value)),e}ar(A,e,r){return K.or([()=>this.persistence.ei(A,e),()=>this.persistence.getTargetCache().containsKey(A,e),()=>{const n=this.oi.get(e);return K.resolve(n!==void 0&&n>r)}])}getCacheSize(A){return this.persistence.getRemoteDocumentCache().getSize(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(A,e,r,n){this.targetId=A,this.fromCache=e,this.Hi=r,this.Ji=n}static Yi(A,e){let r=HA(),n=HA();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:n=n.add(s.doc.key)}return new $l(A,e.fromCache,r,n)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(A){this._documentReadCount+=A}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gm()?8:fy(hm())>0?6:4}()}initialize(A,e){this.ns=A,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(A,e,r,n){const s={result:null};return this.rs(A,e).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ss(A,e,n,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new PQ;return this._s(A,e,i).next(a=>{if(s.result=a,this.Xi)return this.us(A,e,i,a.size)})}).next(()=>s.result)}us(A,e,r,n){return r.documentReadCount<this.es?(rn()<=RA.DEBUG&&eA("QueryEngine","SDK will not create cache indexes for query:",nn(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(rn()<=RA.DEBUG&&eA("QueryEngine","Query:",nn(e),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ts*n?(rn()<=RA.DEBUG&&eA("QueryEngine","The SDK decides to create cache indexes for query:",nn(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(A,Qt(e))):K.resolve())}rs(A,e){if(dh(e))return K.resolve(null);let r=Qt(e);return this.indexManager.getIndexType(A,r).next(n=>n===0?null:(e.limit!==null&&n===1&&(e=el(e,null,"F"),r=Qt(e)),this.indexManager.getDocumentsMatchingTarget(A,r).next(s=>{const i=HA(...s);return this.ns.getDocuments(A,i).next(a=>this.indexManager.getMinOffset(A,r).next(l=>{const c=this.cs(e,a);return this.ls(e,c,i,l.readTime)?this.rs(A,el(e,null,"F")):this.hs(A,c,e,l)}))})))}ss(A,e,r,n){return dh(e)||n.isEqual(CA.min())?K.resolve(null):this.ns.getDocuments(A,r).next(s=>{const i=this.cs(e,s);return this.ls(e,i,r,n)?K.resolve(null):(rn()<=RA.DEBUG&&eA("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nn(e)),this.hs(A,i,e,ay(n,ps)).next(a=>a))})}cs(A,e){let r=new ue(sB(A));return e.forEach((n,s)=>{vo(A,s)&&(r=r.add(s))}),r}ls(A,e,r,n){if(A.limit===null)return!1;if(r.size!==e.size)return!0;const s=A.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}_s(A,e,r){return rn()<=RA.DEBUG&&eA("QueryEngine","Using full collection scan to execute query:",nn(e)),this.ns.getDocumentsMatchingQuery(A,e,ir.min(),r)}hs(A,e,r,n){return this.ns.getDocumentsMatchingQuery(A,r,n).next(s=>(e.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="LocalStore",OQ=3e8;class KQ{constructor(A,e,r,n){this.persistence=A,this.Ps=e,this.serializer=n,this.Ts=new zA(FA),this.Is=new xr(s=>Gl(s),Wl),this.Es=new Map,this.ds=A.getRemoteDocumentCache(),this.Hr=A.getTargetCache(),this.Yr=A.getBundleCache(),this.As(r)}As(A){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(A),this.indexManager=this.persistence.getIndexManager(A),this.mutationQueue=this.persistence.getMutationQueue(A,this.indexManager),this.localDocuments=new TQ(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(A){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>A.collect(e,this.Ts))}}function NQ(t,A,e,r){return new KQ(t,A,e,r)}async function IB(t,A){const e=yA(t);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(s=>(n=s,e.As(A),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=HA();for(const c of n){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:i,addedBatchIds:a}))})})}function GQ(t,A){const e=yA(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const n=A.batch.keys(),s=e.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,g=f.keys();let B=K.resolve();return g.forEach(Q=>{B=B.next(()=>u.getEntry(l,Q)).next(y=>{const F=c.docVersions.get(Q);xA(F!==null),y.version.compareTo(F)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),B.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,r,A,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,n,A.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=HA();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(A))).next(()=>e.localDocuments.getDocuments(r,n))})}function bB(t){const A=yA(t);return A.persistence.runTransaction("Get last remote snapshot version","readonly",e=>A.Hr.getLastRemoteSnapshotVersion(e))}function WQ(t,A){const e=yA(t),r=A.snapshotVersion;let n=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=e.ds.newChangeBuffer({trackRemovals:!0});n=e.Ts;const a=[];A.targetChanges.forEach((u,f)=>{const g=n.get(f);if(!g)return;a.push(e.Hr.removeMatchingKeys(s,u.removedDocuments,f).next(()=>e.Hr.addMatchingKeys(s,u.addedDocuments,f)));let B=g.withSequenceNumber(s.currentSequenceNumber);A.targetMismatches.get(f)!==null?B=B.withResumeToken(ye.EMPTY_BYTE_STRING,CA.min()).withLastLimboFreeSnapshotVersion(CA.min()):u.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(u.resumeToken,r)),n=n.insert(f,B),function(y,F,R){return y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=OQ?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(g,B,u)&&a.push(e.Hr.updateTargetData(s,B))});let l=Mt(),c=HA();if(A.documentUpdates.forEach(u=>{A.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(jQ(s,i,A.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(CA.min())){const u=e.Hr.getLastRemoteSnapshotVersion(s).next(f=>e.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return K.waitFor(a).next(()=>i.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.Ts=n,s))}function jQ(t,A,e){let r=HA(),n=HA();return e.forEach(s=>r=r.add(s)),A.getEntries(t,r).next(s=>{let i=Mt();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(n=n.add(a)),l.isNoDocument()&&l.version.isEqual(CA.min())?(A.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(A.addEntry(l),i=i.insert(a,l)):eA(Ac,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:i,fs:n}})}function XQ(t,A){const e=yA(t);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(A===void 0&&(A=Ol),e.mutationQueue.getNextMutationBatchAfterBatchId(r,A)))}function JQ(t,A){const e=yA(t);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.Hr.getTargetData(r,A).next(s=>s?(n=s,K.resolve(n)):e.Hr.allocateTargetId(r).next(i=>(n=new zt(A,i,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,n).next(()=>n))))}).then(r=>{const n=e.Ts.get(r.targetId);return(n===null||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(A,r.targetId)),r})}async function il(t,A,e){const r=yA(t),n=r.Ts.get(A),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,n))}catch(i){if(!vn(i))throw i;eA(Ac,`Failed to update sequence numbers for target ${A}: ${i}`)}r.Ts=r.Ts.remove(A),r.Is.delete(n.target)}function Fh(t,A,e){const r=yA(t);let n=CA.min(),s=HA();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const f=yA(l),g=f.Is.get(u);return g!==void 0?K.resolve(f.Ts.get(g)):f.Hr.getTargetData(c,u)}(r,i,Qt(A)).next(a=>{if(a)return n=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(i,A,e?n:CA.min(),e?s:HA())).next(a=>(qQ(r,Dy(A),a),{documents:a,gs:s})))}function qQ(t,A,e){let r=t.Es.get(A)||CA.min();e.forEach((n,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(A,r)}class Ih{constructor(){this.activeTargetIds=My()}Ds(A){this.activeTargetIds=this.activeTargetIds.add(A)}vs(A){this.activeTargetIds=this.activeTargetIds.delete(A)}bs(){const A={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(A)}}class zQ{constructor(){this.ho=new Ih,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(A){}updateMutationState(A,e,r){}addLocalQueryTarget(A,e=!0){return e&&this.ho.Ds(A),this.Po[A]||"not-current"}updateQueryState(A,e,r){this.Po[A]=e}removeLocalQueryTarget(A){this.ho.vs(A)}isLocalQueryTarget(A){return this.ho.activeTargetIds.has(A)}clearQueryState(A){delete this.Po[A]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(A){return this.ho.activeTargetIds.has(A)}start(){return this.ho=new Ih,Promise.resolve()}handleUserChange(A,e,r){}setOnlineState(A){}shutdown(){}writeSequenceNumber(A){}notifyBundleLoaded(A){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{To(A){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="ConnectivityMonitor";class Th{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(A){this.Vo.push(A)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){eA(bh,"Network connectivity changed: AVAILABLE");for(const A of this.Vo)A(0)}Ro(){eA(bh,"Network connectivity changed: UNAVAILABLE");for(const A of this.Vo)A(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi=null;function ol(){return oi===null?oi=function(){return 268435456+Math.round(2147483648*Math.random())}():oi++,"0x"+oi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RestConnection",ZQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $Q{get fo(){return!1}constructor(A){this.databaseInfo=A,this.databaseId=A.databaseId;const e=A.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=e+"://"+A.host,this.yo=`projects/${r}/databases/${n}`,this.wo=this.databaseId.database===Xi?`project_id=${r}`:`project_id=${r}&database_id=${n}`}So(A,e,r,n,s){const i=ol(),a=this.bo(A,e.toUriEncodedString());eA(pa,`Sending RPC '${A}' ${i}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,n,s),this.vo(A,a,l,r).then(c=>(eA(pa,`Received RPC '${A}' ${i}: `,c),c),c=>{throw dn(pa,`RPC '${A}' ${i} failed with error: `,c,"url: ",a,"request:",r),c})}Co(A,e,r,n,s,i){return this.So(A,e,r,n,s)}Do(A,e,r){A["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_n}(),A["Content-Type"]="text/plain",this.databaseInfo.appId&&(A["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((n,s)=>A[s]=n),r&&r.headers.forEach((n,s)=>A[s]=n)}bo(A,e){const r=ZQ[A];return`${this.po}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(A){this.Fo=A.Fo,this.Mo=A.Mo}xo(A){this.Oo=A}No(A){this.Bo=A}Lo(A){this.ko=A}onMessage(A){this.qo=A}close(){this.Mo()}send(A){this.Fo(A)}Qo(){this.Oo()}$o(){this.Bo()}Uo(A){this.ko(A)}Ko(A){this.qo(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve="WebChannelConnection";class e_ extends $Q{constructor(A){super(A),this.forceLongPolling=A.forceLongPolling,this.autoDetectLongPolling=A.autoDetectLongPolling,this.useFetchStreams=A.useFetchStreams,this.longPollingOptions=A.longPollingOptions}vo(A,e,r,n){const s=ol();return new Promise((i,a)=>{const l=new Rg;l.setWithCredentials(!0),l.listenOnce(Dg.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ri.NO_ERROR:const u=l.getResponseJson();eA(ve,`XHR for RPC '${A}' ${s} received:`,JSON.stringify(u)),i(u);break;case Ri.TIMEOUT:eA(ve,`RPC '${A}' ${s} timed out`),a(new oA(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ri.HTTP_ERROR:const f=l.getStatus();if(eA(ve,`RPC '${A}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const B=g==null?void 0:g.error;if(B&&B.status&&B.message){const Q=function(F){const R=F.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(R)>=0?R:N.UNKNOWN}(B.status);a(new oA(Q,B.message))}else a(new oA(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oA(N.UNAVAILABLE,"Connection failed."));break;default:wA()}}finally{eA(ve,`RPC '${A}' ${s} completed.`)}});const c=JSON.stringify(n);eA(ve,`RPC '${A}' ${s} sending request:`,n),l.send(e,"POST",c,r,15)})}Wo(A,e,r){const n=ol(),s=[this.po,"/","google.firestore.v1.Firestore","/",A,"/channel"],i=xg(),a=kg(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,e,r),l.encodeInitMessageHeaders=!0;const u=s.join("");eA(ve,`Creating RPC '${A}' stream ${n}: ${u}`,l);const f=i.createWebChannel(u,l);let g=!1,B=!1;const Q=new A_({Fo:F=>{B?eA(ve,`Not sending because RPC '${A}' stream ${n} is closed:`,F):(g||(eA(ve,`Opening RPC '${A}' stream ${n} transport.`),f.open(),g=!0),eA(ve,`RPC '${A}' stream ${n} sending:`,F),f.send(F))},Mo:()=>f.close()}),y=(F,R,D)=>{F.listen(R,T=>{try{D(T)}catch(S){setTimeout(()=>{throw S},0)}})};return y(f,Wn.EventType.OPEN,()=>{B||(eA(ve,`RPC '${A}' stream ${n} transport opened.`),Q.Qo())}),y(f,Wn.EventType.CLOSE,()=>{B||(B=!0,eA(ve,`RPC '${A}' stream ${n} transport closed`),Q.Uo())}),y(f,Wn.EventType.ERROR,F=>{B||(B=!0,dn(ve,`RPC '${A}' stream ${n} transport errored:`,F),Q.Uo(new oA(N.UNAVAILABLE,"The operation could not be completed")))}),y(f,Wn.EventType.MESSAGE,F=>{var R;if(!B){const D=F.data[0];xA(!!D);const T=D,S=(T==null?void 0:T.error)||((R=T[0])===null||R===void 0?void 0:R.error);if(S){eA(ve,`RPC '${A}' stream ${n} received error:`,S);const M=S.status;let L=function(_){const I=ne[_];if(I!==void 0)return BB(I)}(M),E=S.message;L===void 0&&(L=N.INTERNAL,E="Unknown error status: "+M+" with message "+S.message),B=!0,Q.Uo(new oA(L,E)),f.close()}else eA(ve,`RPC '${A}' stream ${n} received:`,D),Q.Ko(D)}}),y(a,Lg.STAT_EVENT,F=>{F.stat===qa.PROXY?eA(ve,`RPC '${A}' stream ${n} detected buffering proxy`):F.stat===qa.NOPROXY&&eA(ve,`RPC '${A}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{Q.$o()},0),Q}}function wa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){return new sQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(A,e,r=1e3,n=1.5,s=6e4){this.Ti=A,this.timerId=e,this.Go=r,this.zo=n,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(A){this.cancel();const e=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),n=Math.max(0,e-r);n>0&&eA("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,()=>(this.Yo=Date.now(),A())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="PersistentStream";class HB{constructor(A,e,r,n,s,i,a,l){this.Ti=A,this.n_=r,this.r_=n,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new TB(A,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(A){this.E_(),this.stream.send(A)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(A,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,A!==4?this.a_.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(Pt(e.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=A,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const A=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,n])=>{this.i_===e&&this.V_(r,n)},r=>{A(()=>{const n=new oA(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(n)})})}V_(A,e){const r=this.R_(this.i_);this.stream=this.f_(A,e),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(n=>{r(()=>this.m_(n))}),this.stream.onMessage(n=>{r(()=>++this.__==1?this.g_(n):this.onNext(n))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(A){return eA(Hh,`close with error: ${A}`),this.stream=null,this.close(4,A)}R_(A){return e=>{this.Ti.enqueueAndForget(()=>this.i_===A?e():(eA(Hh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t_ extends HB{constructor(A,e,r,n,s,i){super(A,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}f_(A,e){return this.connection.Wo("Listen",A,e)}g_(A){return this.onNext(A)}onNext(A){this.a_.reset();const e=aQ(this.serializer,A),r=function(s){if(!("targetChange"in s))return CA.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?CA.min():i.readTime?_t(i.readTime):CA.min()}(A);return this.listener.p_(e,r)}y_(A){const e={};e.database=sl(this.serializer),e.addTarget=function(s,i){let a;const l=i.target;if(a=Al(l)?{documents:uQ(s,l)}:{query:hQ(s,l).ht},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=mB(s,i.resumeToken);const c=tl(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(CA.min())>0){a.readTime=$i(s,i.snapshotVersion.toTimestamp());const c=tl(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,A);const r=dQ(this.serializer,A);r&&(e.labels=r),this.I_(e)}w_(A){const e={};e.database=sl(this.serializer),e.removeTarget=A,this.I_(e)}}class r_ extends HB{constructor(A,e,r,n,s,i){super(A,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(A,e){return this.connection.Wo("Write",A,e)}g_(A){return xA(!!A.streamToken),this.lastStreamToken=A.streamToken,xA(!A.writeResults||A.writeResults.length===0),this.listener.D_()}onNext(A){xA(!!A.streamToken),this.lastStreamToken=A.streamToken,this.a_.reset();const e=cQ(A.writeResults,A.commitTime),r=_t(A.commitTime);return this.listener.v_(r,e)}C_(){const A={};A.database=sl(this.serializer),this.I_(A)}b_(A){const e={streamToken:this.lastStreamToken,writes:A.map(r=>lQ(this.serializer,r))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{}class s_ extends n_{constructor(A,e,r,n){super(),this.authCredentials=A,this.appCheckCredentials=e,this.connection=r,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new oA(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(A,e,r,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.So(A,rl(e,r),n,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oA(N.UNKNOWN,s.toString())})}Co(A,e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Co(A,rl(e,r),n,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oA(N.UNKNOWN,i.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class i_{constructor(A,e){this.asyncQueue=A,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(A){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${A.toString()}`),this.L_("Offline")))}set(A){this.Q_(),this.x_=0,A==="Online"&&(this.N_=!1),this.L_(A)}L_(A){A!==this.state&&(this.state=A,this.onlineStateHandler(A))}k_(A){const e=`Could not reach Cloud Firestore backend. ${A}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pt(e),this.N_=!1):eA("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="RemoteStore";class o_{constructor(A,e,r,n,s){this.localStore=A,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(i=>{r.enqueueAndForget(async()=>{Vr(this)&&(eA(Dr,"Restarting streams for network reachability change."),await async function(l){const c=yA(l);c.W_.add(4),await Is(c),c.j_.set("Unknown"),c.W_.delete(4),await To(c)}(this))})}),this.j_=new i_(r,n)}}async function To(t){if(Vr(t))for(const A of t.G_)await A(!0)}async function Is(t){for(const A of t.G_)await A(!1)}function SB(t,A){const e=yA(t);e.K_.has(A.targetId)||(e.K_.set(A.targetId,A),nc(e)?rc(e):Un(e).c_()&&tc(e,A))}function ec(t,A){const e=yA(t),r=Un(e);e.K_.delete(A),r.c_()&&RB(e,A),e.K_.size===0&&(r.c_()?r.P_():Vr(e)&&e.j_.set("Unknown"))}function tc(t,A){if(t.H_.Ne(A.targetId),A.resumeToken.approximateByteSize()>0||A.snapshotVersion.compareTo(CA.min())>0){const e=t.remoteSyncer.getRemoteKeysForTarget(A.targetId).size;A=A.withExpectedCount(e)}Un(t).y_(A)}function RB(t,A){t.H_.Ne(A),Un(t).w_(A)}function rc(t){t.H_=new eQ({getRemoteKeysForTarget:A=>t.remoteSyncer.getRemoteKeysForTarget(A),lt:A=>t.K_.get(A)||null,it:()=>t.datastore.serializer.databaseId}),Un(t).start(),t.j_.B_()}function nc(t){return Vr(t)&&!Un(t).u_()&&t.K_.size>0}function Vr(t){return yA(t).W_.size===0}function DB(t){t.H_=void 0}async function a_(t){t.j_.set("Online")}async function l_(t){t.K_.forEach((A,e)=>{tc(t,A)})}async function c_(t,A){DB(t),nc(t)?(t.j_.q_(A),rc(t)):t.j_.set("Unknown")}async function u_(t,A,e){if(t.j_.set("Online"),A instanceof wB&&A.state===2&&A.cause)try{await async function(n,s){const i=s.cause;for(const a of s.targetIds)n.K_.has(a)&&(await n.remoteSyncer.rejectListen(a,i),n.K_.delete(a),n.H_.removeTarget(a))}(t,A)}catch(r){eA(Dr,"Failed to remove targets %s: %s ",A.targetIds.join(","),r),await eo(t,r)}else if(A instanceof xi?t.H_.We(A):A instanceof pB?t.H_.Ze(A):t.H_.je(A),!e.isEqual(CA.min()))try{const r=await bB(t.localStore);e.compareTo(r)>=0&&await function(s,i){const a=s.H_.ot(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.K_.get(c);u&&s.K_.set(c,u.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const u=s.K_.get(l);if(!u)return;s.K_.set(l,u.withResumeToken(ye.EMPTY_BYTE_STRING,u.snapshotVersion)),RB(s,l);const f=new zt(u.target,l,c,u.sequenceNumber);tc(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,e)}catch(r){eA(Dr,"Failed to raise snapshot:",r),await eo(t,r)}}async function eo(t,A,e){if(!vn(A))throw A;t.W_.add(1),await Is(t),t.j_.set("Offline"),e||(e=()=>bB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{eA(Dr,"Retrying IndexedDB access"),await e(),t.W_.delete(1),await To(t)})}function LB(t,A){return A().catch(e=>eo(t,e,A))}async function Ho(t){const A=yA(t),e=cr(A);let r=A.U_.length>0?A.U_[A.U_.length-1].batchId:Ol;for(;h_(A);)try{const n=await XQ(A.localStore,r);if(n===null){A.U_.length===0&&e.P_();break}r=n.batchId,f_(A,n)}catch(n){await eo(A,n)}kB(A)&&xB(A)}function h_(t){return Vr(t)&&t.U_.length<10}function f_(t,A){t.U_.push(A);const e=cr(t);e.c_()&&e.S_&&e.b_(A.mutations)}function kB(t){return Vr(t)&&!cr(t).u_()&&t.U_.length>0}function xB(t){cr(t).start()}async function d_(t){cr(t).C_()}async function g_(t){const A=cr(t);for(const e of t.U_)A.b_(e.mutations)}async function B_(t,A,e){const r=t.U_.shift(),n=Jl.from(r,A,e);await LB(t,()=>t.remoteSyncer.applySuccessfulWrite(n)),await Ho(t)}async function p_(t,A){A&&cr(t).S_&&await async function(r,n){if(function(i){return $y(i)&&i!==N.ABORTED}(n.code)){const s=r.U_.shift();cr(r).h_(),await LB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,n)),await Ho(r)}}(t,A),kB(t)&&xB(t)}async function Sh(t,A){const e=yA(t);e.asyncQueue.verifyOperationInProgress(),eA(Dr,"RemoteStore received new credentials");const r=Vr(e);e.W_.add(3),await Is(e),r&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(A),e.W_.delete(3),await To(e)}async function w_(t,A){const e=yA(t);A?(e.W_.delete(2),await To(e)):A||(e.W_.add(2),await Is(e),e.j_.set("Unknown"))}function Un(t){return t.J_||(t.J_=function(e,r,n){const s=yA(e);return s.M_(),new t_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:a_.bind(null,t),No:l_.bind(null,t),Lo:c_.bind(null,t),p_:u_.bind(null,t)}),t.G_.push(async A=>{A?(t.J_.h_(),nc(t)?rc(t):t.j_.set("Unknown")):(await t.J_.stop(),DB(t))})),t.J_}function cr(t){return t.Y_||(t.Y_=function(e,r,n){const s=yA(e);return s.M_(),new r_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:d_.bind(null,t),Lo:p_.bind(null,t),D_:g_.bind(null,t),v_:B_.bind(null,t)}),t.G_.push(async A=>{A?(t.Y_.h_(),await Ho(t)):(await t.Y_.stop(),t.U_.length>0&&(eA(Dr,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(A,e,r,n,s){this.asyncQueue=A,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=s,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(A,e,r,n,s){const i=Date.now()+r,a=new sc(A,e,i,n,s);return a.start(r),a}start(A){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),A)}skipDelay(){return this.handleDelayElapsed()}cancel(A){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oA(N.CANCELLED,"Operation cancelled"+(A?": "+A:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(A=>this.deferred.resolve(A))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ic(t,A){if(Pt("AsyncQueue",`${A}: ${t}`),vn(t))return new oA(N.UNAVAILABLE,`${A}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{static emptySet(A){return new un(A.comparator)}constructor(A){this.comparator=A?(e,r)=>A(e,r)||hA.comparator(e.key,r.key):(e,r)=>hA.comparator(e.key,r.key),this.keyedMap=jn(),this.sortedSet=new zA(this.comparator)}has(A){return this.keyedMap.get(A)!=null}get(A){return this.keyedMap.get(A)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(A){const e=this.keyedMap.get(A);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(A){this.sortedSet.inorderTraversal((e,r)=>(A(e),!1))}add(A){const e=this.delete(A.key);return e.copy(e.keyedMap.insert(A.key,A),e.sortedSet.insert(A,null))}delete(A){const e=this.get(A);return e?this.copy(this.keyedMap.remove(A),this.sortedSet.remove(e)):this}isEqual(A){if(!(A instanceof un)||this.size!==A.size)return!1;const e=this.sortedSet.getIterator(),r=A.sortedSet.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(!n.isEqual(s))return!1}return!0}toString(){const A=[];return this.forEach(e=>{A.push(e.toString())}),A.length===0?"DocumentSet ()":`DocumentSet (
  `+A.join(`  
`)+`
)`}copy(A,e){const r=new un;return r.comparator=this.comparator,r.keyedMap=A,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this.Z_=new zA(hA.comparator)}track(A){const e=A.doc.key,r=this.Z_.get(e);r?A.type!==0&&r.type===3?this.Z_=this.Z_.insert(e,A):A.type===3&&r.type!==1?this.Z_=this.Z_.insert(e,{type:r.type,doc:A.doc}):A.type===2&&r.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):A.type===2&&r.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:A.doc}):A.type===1&&r.type===0?this.Z_=this.Z_.remove(e):A.type===1&&r.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:r.doc}):A.type===0&&r.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):wA():this.Z_=this.Z_.insert(e,A)}X_(){const A=[];return this.Z_.inorderTraversal((e,r)=>{A.push(r)}),A}}class Cn{constructor(A,e,r,n,s,i,a,l,c){this.query=A,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(A,e,r,n,s){const i=[];return e.forEach(a=>{i.push({type:0,doc:a})}),new Cn(A,e,un.emptySet(e),i,r,n,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(A){if(!(this.fromCache===A.fromCache&&this.hasCachedResults===A.hasCachedResults&&this.syncStateChanged===A.syncStateChanged&&this.mutatedKeys.isEqual(A.mutatedKeys)&&Eo(this.query,A.query)&&this.docs.isEqual(A.docs)&&this.oldDocs.isEqual(A.oldDocs)))return!1;const e=this.docChanges,r=A.docChanges;if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==r[n].type||!e[n].doc.isEqual(r[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(A=>A.ra())}}class C_{constructor(){this.queries=Dh(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,r){const n=yA(e),s=n.queries;n.queries=Dh(),s.forEach((i,a)=>{for(const l of a.ta)l.onError(r)})})(this,new oA(N.ABORTED,"Firestore shutting down"))}}function Dh(){return new xr(t=>nB(t),Eo)}async function oc(t,A){const e=yA(t);let r=3;const n=A.query;let s=e.queries.get(n);s?!s.na()&&A.ra()&&(r=2):(s=new m_,r=A.ra()?0:1);try{switch(r){case 0:s.ea=await e.onListen(n,!0);break;case 1:s.ea=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(i){const a=ic(i,`Initialization of query '${nn(A.query)}' failed`);return void A.onError(a)}e.queries.set(n,s),s.ta.push(A),A.sa(e.onlineState),s.ea&&A.oa(s.ea)&&lc(e)}async function ac(t,A){const e=yA(t),r=A.query;let n=3;const s=e.queries.get(r);if(s){const i=s.ta.indexOf(A);i>=0&&(s.ta.splice(i,1),s.ta.length===0?n=A.ra()?0:1:!s.na()&&A.ra()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function y_(t,A){const e=yA(t);let r=!1;for(const n of A){const s=n.query,i=e.queries.get(s);if(i){for(const a of i.ta)a.oa(n)&&(r=!0);i.ea=n}}r&&lc(e)}function Q_(t,A,e){const r=yA(t),n=r.queries.get(A);if(n)for(const s of n.ta)s.onError(e);r.queries.delete(A)}function lc(t){t.ia.forEach(A=>{A.next()})}var al,Lh;(Lh=al||(al={}))._a="default",Lh.Cache="cache";class cc{constructor(A,e,r){this.query=A,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(A){if(!this.options.includeMetadataChanges){const r=[];for(const n of A.docChanges)n.type!==3&&r.push(n);A=new Cn(A.query,A.docs,A.oldDocs,r,A.mutatedKeys,A.fromCache,A.syncStateChanged,!0,A.hasCachedResults)}let e=!1;return this.ua?this.la(A)&&(this.aa.next(A),e=!0):this.ha(A,this.onlineState)&&(this.Pa(A),e=!0),this.ca=A,e}onError(A){this.aa.error(A)}sa(A){this.onlineState=A;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,A)&&(this.Pa(this.ca),e=!0),e}ha(A,e){if(!A.fromCache||!this.ra())return!0;const r=e!=="Offline";return(!this.options.Ta||!r)&&(!A.docs.isEmpty()||A.hasCachedResults||e==="Offline")}la(A){if(A.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==A.hasPendingWrites;return!(!A.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(A){A=Cn.fromInitialDocuments(A.query,A.docs,A.mutatedKeys,A.fromCache,A.hasCachedResults),this.ua=!0,this.aa.next(A)}ra(){return this.options.source!==al.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(A){this.key=A}}class PB{constructor(A){this.key=A}}class __{constructor(A,e){this.query=A,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=HA(),this.mutatedKeys=HA(),this.ya=sB(A),this.wa=new un(this.ya)}get Sa(){return this.fa}ba(A,e){const r=e?e.Da:new Rh,n=e?e.wa:this.wa;let s=e?e.mutatedKeys:this.mutatedKeys,i=n,a=!1;const l=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,c=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(A.inorderTraversal((u,f)=>{const g=n.get(u),B=vo(this.query,f)?f:null,Q=!!g&&this.mutatedKeys.has(g.key),y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let F=!1;g&&B?g.data.isEqual(B.data)?Q!==y&&(r.track({type:3,doc:B}),F=!0):this.va(g,B)||(r.track({type:2,doc:B}),F=!0,(l&&this.ya(B,l)>0||c&&this.ya(B,c)<0)&&(a=!0)):!g&&B?(r.track({type:0,doc:B}),F=!0):g&&!B&&(r.track({type:1,doc:g}),F=!0,(l||c)&&(a=!0)),F&&(B?(i=i.add(B),s=y?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:i,Da:r,ls:a,mutatedKeys:s}}va(A,e){return A.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(A,e,r,n){const s=this.wa;this.wa=A.wa,this.mutatedKeys=A.mutatedKeys;const i=A.Da.X_();i.sort((u,f)=>function(B,Q){const y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wA()}};return y(B)-y(Q)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),n=n!=null&&n;const a=e&&!n?this.Fa():[],l=this.pa.size===0&&this.current&&!n?1:0,c=l!==this.ga;return this.ga=l,i.length!==0||c?{snapshot:new Cn(this.query,A.wa,s,i,A.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(A){return this.current&&A==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Rh,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(A){return!this.fa.has(A)&&!!this.wa.has(A)&&!this.wa.get(A).hasLocalMutations}Ca(A){A&&(A.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),A.modifiedDocuments.forEach(e=>{}),A.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=A.current)}Fa(){if(!this.current)return[];const A=this.pa;this.pa=HA(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const e=[];return A.forEach(r=>{this.pa.has(r)||e.push(new PB(r))}),this.pa.forEach(r=>{A.has(r)||e.push(new VB(r))}),e}Oa(A){this.fa=A.gs,this.pa=HA();const e=this.ba(A.documents);return this.applyChanges(e,!0)}Na(){return Cn.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const uc="SyncEngine";class E_{constructor(A,e,r){this.query=A,this.targetId=e,this.view=r}}class v_{constructor(A){this.key=A,this.Ba=!1}}class U_{constructor(A,e,r,n,s,i){this.localStore=A,this.remoteStore=e,this.eventManager=r,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.La={},this.ka=new xr(a=>nB(a),Eo),this.qa=new Map,this.Qa=new Set,this.$a=new zA(hA.comparator),this.Ua=new Map,this.Ka=new Yl,this.Wa={},this.Ga=new Map,this.za=mn.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function F_(t,A,e=!0){const r=WB(t);let n;const s=r.ka.get(A);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Na()):n=await MB(r,A,e,!0),n}async function I_(t,A){const e=WB(t);await MB(e,A,!0,!1)}async function MB(t,A,e,r){const n=await JQ(t.localStore,Qt(A)),s=n.targetId,i=t.sharedClientState.addLocalQueryTarget(s,e);let a;return r&&(a=await b_(t,A,s,i==="current",n.resumeToken)),t.isPrimaryClient&&e&&SB(t.remoteStore,n),a}async function b_(t,A,e,r,n){t.Ha=(f,g,B)=>async function(y,F,R,D){let T=F.view.ba(R);T.ls&&(T=await Fh(y.localStore,F.query,!1).then(({documents:E})=>F.view.ba(E,T)));const S=D&&D.targetChanges.get(F.targetId),M=D&&D.targetMismatches.get(F.targetId)!=null,L=F.view.applyChanges(T,y.isPrimaryClient,S,M);return xh(y,F.targetId,L.Ma),L.snapshot}(t,f,g,B);const s=await Fh(t.localStore,A,!0),i=new __(A,s.gs),a=i.ba(s.documents),l=Fs.createSynthesizedTargetChangeForCurrentChange(e,r&&t.onlineState!=="Offline",n),c=i.applyChanges(a,t.isPrimaryClient,l);xh(t,e,c.Ma);const u=new E_(A,e,i);return t.ka.set(A,u),t.qa.has(e)?t.qa.get(e).push(A):t.qa.set(e,[A]),c.snapshot}async function T_(t,A,e){const r=yA(t),n=r.ka.get(A),s=r.qa.get(n.targetId);if(s.length>1)return r.qa.set(n.targetId,s.filter(i=>!Eo(i,A))),void r.ka.delete(A);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await il(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),e&&ec(r.remoteStore,n.targetId),ll(r,n.targetId)}).catch(En)):(ll(r,n.targetId),await il(r.localStore,n.targetId,!0))}async function H_(t,A){const e=yA(t),r=e.ka.get(A),n=e.qa.get(r.targetId);e.isPrimaryClient&&n.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),ec(e.remoteStore,r.targetId))}async function S_(t,A,e){const r=P_(t);try{const n=await function(i,a){const l=yA(i),c=ce.now(),u=a.reduce((B,Q)=>B.add(Q.key),HA());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Q=Mt(),y=HA();return l.ds.getEntries(B,u).next(F=>{Q=F,Q.forEach((R,D)=>{D.isValidDocument()||(y=y.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(B,Q)).next(F=>{f=F;const R=[];for(const D of a){const T=Jy(D,f.get(D.key).overlayedDocument);T!=null&&R.push(new Br(D.key,T,Yg(T.value.mapValue),Je.exists(!0)))}return l.mutationQueue.addMutationBatch(B,c,R,a)}).next(F=>{g=F;const R=F.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(B,F.batchId,R)})}).then(()=>({batchId:g.batchId,changes:oB(f)}))}(r.localStore,A);r.sharedClientState.addPendingMutation(n.batchId),function(i,a,l){let c=i.Wa[i.currentUser.toKey()];c||(c=new zA(FA)),c=c.insert(a,l),i.Wa[i.currentUser.toKey()]=c}(r,n.batchId,e),await bs(r,n.changes),await Ho(r.remoteStore)}catch(n){const s=ic(n,"Failed to persist write");e.reject(s)}}async function OB(t,A){const e=yA(t);try{const r=await WQ(e.localStore,A);A.targetChanges.forEach((n,s)=>{const i=e.Ua.get(s);i&&(xA(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?i.Ba=!0:n.modifiedDocuments.size>0?xA(i.Ba):n.removedDocuments.size>0&&(xA(i.Ba),i.Ba=!1))}),await bs(e,r,A)}catch(r){await En(r)}}function kh(t,A,e){const r=yA(t);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const n=[];r.ka.forEach((s,i)=>{const a=i.view.sa(A);a.snapshot&&n.push(a.snapshot)}),function(i,a){const l=yA(i);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const g of f.ta)g.sa(a)&&(c=!0)}),c&&lc(l)}(r.eventManager,A),n.length&&r.La.p_(n),r.onlineState=A,r.isPrimaryClient&&r.sharedClientState.setOnlineState(A)}}async function R_(t,A,e){const r=yA(t);r.sharedClientState.updateQueryState(A,"rejected",e);const n=r.Ua.get(A),s=n&&n.key;if(s){let i=new zA(hA.comparator);i=i.insert(s,Ie.newNoDocument(s,CA.min()));const a=HA().add(s),l=new Io(CA.min(),new Map,new zA(FA),i,a);await OB(r,l),r.$a=r.$a.remove(s),r.Ua.delete(A),hc(r)}else await il(r.localStore,A,!1).then(()=>ll(r,A,e)).catch(En)}async function D_(t,A){const e=yA(t),r=A.batch.batchId;try{const n=await GQ(e.localStore,A);NB(e,r,null),KB(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await bs(e,n)}catch(n){await En(n)}}async function L_(t,A,e){const r=yA(t);try{const n=await function(i,a){const l=yA(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(xA(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,A);NB(r,A,e),KB(r,A),r.sharedClientState.updateMutationState(A,"rejected",e),await bs(r,n)}catch(n){await En(n)}}function KB(t,A){(t.Ga.get(A)||[]).forEach(e=>{e.resolve()}),t.Ga.delete(A)}function NB(t,A,e){const r=yA(t);let n=r.Wa[r.currentUser.toKey()];if(n){const s=n.get(A);s&&(e?s.reject(e):s.resolve(),n=n.remove(A)),r.Wa[r.currentUser.toKey()]=n}}function ll(t,A,e=null){t.sharedClientState.removeLocalQueryTarget(A);for(const r of t.qa.get(A))t.ka.delete(r),e&&t.La.Ja(r,e);t.qa.delete(A),t.isPrimaryClient&&t.Ka.br(A).forEach(r=>{t.Ka.containsKey(r)||GB(t,r)})}function GB(t,A){t.Qa.delete(A.path.canonicalString());const e=t.$a.get(A);e!==null&&(ec(t.remoteStore,e),t.$a=t.$a.remove(A),t.Ua.delete(e),hc(t))}function xh(t,A,e){for(const r of e)r instanceof VB?(t.Ka.addReference(r.key,A),k_(t,r)):r instanceof PB?(eA(uc,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,A),t.Ka.containsKey(r.key)||GB(t,r.key)):wA()}function k_(t,A){const e=A.key,r=e.path.canonicalString();t.$a.get(e)||t.Qa.has(r)||(eA(uc,"New document in limbo: "+e),t.Qa.add(r),hc(t))}function hc(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const A=t.Qa.values().next().value;t.Qa.delete(A);const e=new hA(JA.fromString(A)),r=t.za.next();t.Ua.set(r,new v_(e)),t.$a=t.$a.insert(e,r),SB(t.remoteStore,new zt(Qt(_o(e.path)),r,"TargetPurposeLimboResolution",mo.ae))}}async function bs(t,A,e){const r=yA(t),n=[],s=[],i=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{i.push(r.Ha(l,A,e).then(c=>{var u;if((c||e)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=e==null?void 0:e.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){n.push(c);const f=$l.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(i),r.La.p_(n),await async function(l,c){const u=yA(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(c,g=>K.forEach(g.Hi,B=>u.persistence.referenceDelegate.addReference(f,g.targetId,B)).next(()=>K.forEach(g.Ji,B=>u.persistence.referenceDelegate.removeReference(f,g.targetId,B)))))}catch(f){if(!vn(f))throw f;eA(Ac,"Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const B=u.Ts.get(g),Q=B.snapshotVersion,y=B.withLastLimboFreeSnapshotVersion(Q);u.Ts=u.Ts.insert(g,y)}}}(r.localStore,s))}async function x_(t,A){const e=yA(t);if(!e.currentUser.isEqual(A)){eA(uc,"User change. New user:",A.toKey());const r=await IB(e.localStore,A);e.currentUser=A,function(s,i){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new oA(N.CANCELLED,i))})}),s.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(A,r.removedBatchIds,r.addedBatchIds),await bs(e,r.Rs)}}function V_(t,A){const e=yA(t),r=e.Ua.get(A);if(r&&r.Ba)return HA().add(r.key);{let n=HA();const s=e.qa.get(A);if(!s)return n;for(const i of s){const a=e.ka.get(i);n=n.unionWith(a.view.Sa)}return n}}function WB(t){const A=yA(t);return A.remoteStore.remoteSyncer.applyRemoteEvent=OB.bind(null,A),A.remoteStore.remoteSyncer.getRemoteKeysForTarget=V_.bind(null,A),A.remoteStore.remoteSyncer.rejectListen=R_.bind(null,A),A.La.p_=y_.bind(null,A.eventManager),A.La.Ja=Q_.bind(null,A.eventManager),A}function P_(t){const A=yA(t);return A.remoteStore.remoteSyncer.applySuccessfulWrite=D_.bind(null,A),A.remoteStore.remoteSyncer.rejectFailedWrite=L_.bind(null,A),A}class to{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(A){this.serializer=bo(A.databaseInfo.databaseId),this.sharedClientState=this.Za(A),this.persistence=this.Xa(A),await this.persistence.start(),this.localStore=this.eu(A),this.gcScheduler=this.tu(A,this.localStore),this.indexBackfillerScheduler=this.nu(A,this.localStore)}tu(A,e){return null}nu(A,e){return null}eu(A){return NQ(this.persistence,new MQ,A.initialUser,this.serializer)}Xa(A){return new FB(Zl.ri,this.serializer)}Za(A){return new zQ}async terminate(){var A,e;(A=this.gcScheduler)===null||A===void 0||A.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}to.provider={build:()=>new to};class M_ extends to{constructor(A){super(),this.cacheSizeBytes=A}tu(A,e){xA(this.persistence.referenceDelegate instanceof Ao);const r=this.persistence.referenceDelegate.garbageCollector;return new vQ(r,A.asyncQueue,e)}Xa(A){const e=this.cacheSizeBytes!==void 0?De.withCacheSize(this.cacheSizeBytes):De.DEFAULT;return new FB(r=>Ao.ri(r,e),this.serializer)}}class cl{async initialize(A,e){this.localStore||(this.localStore=A.localStore,this.sharedClientState=A.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!A.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x_.bind(null,this.syncEngine),await w_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(A){return function(){return new C_}()}createDatastore(A){const e=bo(A.databaseInfo.databaseId),r=function(s){return new e_(s)}(A.databaseInfo);return function(s,i,a,l){return new s_(s,i,a,l)}(A.authCredentials,A.appCheckCredentials,r,e)}createRemoteStore(A){return function(r,n,s,i,a){return new o_(r,n,s,i,a)}(this.localStore,this.datastore,A.asyncQueue,e=>kh(this.syncEngine,e,0),function(){return Th.D()?new Th:new YQ}())}createSyncEngine(A,e){return function(n,s,i,a,l,c,u){const f=new U_(n,s,i,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,A.initialUser,A.maxConcurrentLimboResolutions,e)}async terminate(){var A,e;await async function(n){const s=yA(n);eA(Dr,"RemoteStore shutting down."),s.W_.add(5),await Is(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(A=this.datastore)===null||A===void 0||A.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}cl.provider={build:()=>new cl};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(A){this.observer=A,this.muted=!1}next(A){this.muted||this.observer.next&&this.iu(this.observer.next,A)}error(A){this.muted||(this.observer.error?this.iu(this.observer.error,A):Pt("Uncaught Error in snapshot listener:",A.toString()))}su(){this.muted=!0}iu(A,e){setTimeout(()=>{this.muted||A(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="FirestoreClient";class O_{constructor(A,e,r,n,s){this.authCredentials=A,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=n,this.user=Ue.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async i=>{eA(ur,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(eA(ur,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(A){this.authCredentialListener=A}setAppCheckTokenChangeListener(A){this.appCheckCredentialListener=A}terminate(){this.asyncQueue.enterRestrictedMode();const A=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),A.resolve()}catch(e){const r=ic(e,"Failed to shutdown persistence");A.reject(r)}}),A.promise}}async function ma(t,A){t.asyncQueue.verifyOperationInProgress(),eA(ur,"Initializing OfflineComponentProvider");const e=t.configuration;await A.initialize(e);let r=e.initialUser;t.setCredentialChangeListener(async n=>{r.isEqual(n)||(await IB(A.localStore,n),r=n)}),A.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=A}async function Vh(t,A){t.asyncQueue.verifyOperationInProgress();const e=await K_(t);eA(ur,"Initializing OnlineComponentProvider"),await A.initialize(e,t.configuration),t.setCredentialChangeListener(r=>Sh(A.remoteStore,r)),t.setAppCheckTokenChangeListener((r,n)=>Sh(A.remoteStore,n)),t._onlineComponents=A}async function K_(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){eA(ur,"Using user provided OfflineComponentProvider");try{await ma(t,t._uninitializedComponentsProvider._offline)}catch(A){const e=A;if(!function(n){return n.name==="FirebaseError"?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(e))throw e;dn("Error using user provided cache. Falling back to memory cache: "+e),await ma(t,new to)}}else eA(ur,"Using default OfflineComponentProvider"),await ma(t,new M_(void 0));return t._offlineComponents}async function jB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(eA(ur,"Using user provided OnlineComponentProvider"),await Vh(t,t._uninitializedComponentsProvider._online)):(eA(ur,"Using default OnlineComponentProvider"),await Vh(t,new cl))),t._onlineComponents}function N_(t){return jB(t).then(A=>A.syncEngine)}async function ro(t){const A=await jB(t),e=A.eventManager;return e.onListen=F_.bind(null,A.syncEngine),e.onUnlisten=T_.bind(null,A.syncEngine),e.onFirstRemoteStoreListen=I_.bind(null,A.syncEngine),e.onLastRemoteStoreUnlisten=H_.bind(null,A.syncEngine),e}function G_(t,A,e={}){const r=new kt;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new fc({next:g=>{u.su(),i.enqueueAndForget(()=>ac(s,f));const B=g.docs.has(a);!B&&g.fromCache?c.reject(new oA(N.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&g.fromCache&&l&&l.source==="server"?c.reject(new oA(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new cc(_o(a.path),u,{includeMetadataChanges:!0,Ta:!0});return oc(s,f)}(await ro(t),t.asyncQueue,A,e,r)),r.promise}function W_(t,A,e={}){const r=new kt;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new fc({next:g=>{u.su(),i.enqueueAndForget(()=>ac(s,f)),g.fromCache&&l.source==="server"?c.reject(new oA(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new cc(a,u,{includeMetadataChanges:!0,Ta:!0});return oc(s,f)}(await ro(t),t.asyncQueue,A,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){const A={};return t.timeoutSeconds!==void 0&&(A.timeoutSeconds=t.timeoutSeconds),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,A,e){if(!e)throw new oA(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${A}.`)}function j_(t,A,e,r){if(A===!0&&r===!0)throw new oA(N.INVALID_ARGUMENT,`${t} and ${e} cannot be used together.`)}function Mh(t){if(!hA.isDocumentKey(t))throw new oA(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Oh(t){if(hA.isDocumentKey(t))throw new oA(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const A=function(r){return r.constructor?r.constructor.name:null}(t);return A?`a custom ${A} object`:"an object"}}return typeof t=="function"?"a function":wA()}function qe(t,A){if("_delegate"in t&&(t=t._delegate),!(t instanceof A)){if(A.name===t.constructor.name)throw new oA(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=dc(t);throw new oA(N.INVALID_ARGUMENT,`Expected type '${A.name}', but it was: ${e}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="firestore.googleapis.com",Kh=!0;class Nh{constructor(A){var e,r;if(A.host===void 0){if(A.ssl!==void 0)throw new oA(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qB,this.ssl=Kh}else this.host=A.host,this.ssl=(e=A.ssl)!==null&&e!==void 0?e:Kh;if(this.credentials=A.credentials,this.ignoreUndefinedProperties=!!A.ignoreUndefinedProperties,this.localCache=A.localCache,A.cacheSizeBytes===void 0)this.cacheSizeBytes=UB;else{if(A.cacheSizeBytes!==-1&&A.cacheSizeBytes<_Q)throw new oA(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=A.cacheSizeBytes}j_("experimentalForceLongPolling",A.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",A.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!A.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:A.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!A.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XB((r=A.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!A.useFetchStreams}isEqual(A){return this.host===A.host&&this.ssl===A.ssl&&this.credentials===A.credentials&&this.cacheSizeBytes===A.cacheSizeBytes&&this.experimentalForceLongPolling===A.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===A.experimentalAutoDetectLongPolling&&function(r,n){return r.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,A.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===A.ignoreUndefinedProperties&&this.useFetchStreams===A.useFetchStreams}}class So{constructor(A,e,r,n){this._authCredentials=A,this._appCheckCredentials=e,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oA(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(A){if(this._settingsFrozen)throw new oA(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(A),this._emulatorOptions=A.emulatorOptions||{},A.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $C;switch(r.type){case"firstParty":return new ry(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oA(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(A.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Ph.get(e);r&&(eA("ComponentProvider","Removing Datastore"),Ph.delete(e),r.terminate())}(this),Promise.resolve()}}function X_(t,A,e,r={}){var n;const s=(t=qe(t,So))._getSettings(),i=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${A}:${e}`;s.host!==qB&&s.host!==a&&dn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!gs(l,i)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ue.MOCK_USER;else{c=um(r.mockUserToken,(n=t._app)===null||n===void 0?void 0:n.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new oA(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ue(f)}t._authCredentials=new Ay(new Vg(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(A,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=A}withConverter(A){return new Ts(this.firestore,A,this._query)}}class Se{constructor(A,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=A}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(A){return new Se(this.firestore,A,this._key)}}class rr extends Ts{constructor(A,e,r){super(A,e,_o(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const A=this._path.popLast();return A.isEmpty()?null:new Se(this.firestore,null,new hA(A))}withConverter(A){return new rr(this.firestore,A,this._path)}}function Hs(t,A,...e){if(t=it(t),JB("collection","path",A),t instanceof So){const r=JA.fromString(A,...e);return Oh(r),new rr(t,null,r)}{if(!(t instanceof Se||t instanceof rr))throw new oA(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(JA.fromString(A,...e));return Oh(r),new rr(t.firestore,null,r)}}function dt(t,A,...e){if(t=it(t),arguments.length===1&&(A=Mg.newId()),JB("doc","path",A),t instanceof So){const r=JA.fromString(A,...e);return Mh(r),new Se(t,null,new hA(r))}{if(!(t instanceof Se||t instanceof rr))throw new oA(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(JA.fromString(A,...e));return Mh(r),new Se(t.firestore,t instanceof rr?t.converter:null,new hA(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="AsyncQueue";class Wh{constructor(A=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new TB(this,"async_queue_retry"),this.Su=()=>{const r=wa();r&&eA(Gh,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=A;const e=wa();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(A){this.enqueue(A)}enqueueAndForgetEvenWhileRestricted(A){this.Du(),this.vu(A)}enterRestrictedMode(A){if(!this.mu){this.mu=!0,this.yu=A||!1;const e=wa();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(A){if(this.Du(),this.mu)return new Promise(()=>{});const e=new kt;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(A().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(A){this.enqueueAndForget(()=>(this.Vu.push(A),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(A){if(!vn(A))throw A;eA(Gh,"Operation failed with retryable error: "+A)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(A){const e=this.bu.then(()=>(this.pu=!0,A().catch(r=>{this.gu=r,this.pu=!1;const n=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw Pt("INTERNAL UNHANDLED ERROR: ",n),r}).then(r=>(this.pu=!1,r))));return this.bu=e,e}enqueueAfterDelay(A,e,r){this.Du(),this.wu.indexOf(A)>-1&&(e=0);const n=sc.createAndSchedule(this,A,e,r,s=>this.Fu(s));return this.fu.push(n),n}Du(){this.gu&&wA()}verifyOperationInProgress(){}async Mu(){let A;do A=this.bu,await A;while(A!==this.bu)}xu(A){for(const e of this.fu)if(e.timerId===A)return!0;return!1}Ou(A){return this.Mu().then(()=>{this.fu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),A!=="all"&&e.timerId===A)break;return this.Mu()})}Nu(A){this.wu.push(A)}Fu(A){const e=this.fu.indexOf(A);this.fu.splice(e,1)}}function jh(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const n=e;for(const s of r)if(s in n&&typeof n[s]=="function")return!0;return!1}(t,["next","error","complete"])}class hr extends So{constructor(A,e,r,n){super(A,e,r,n),this.type="firestore",this._queue=new Wh,this._persistenceKey=(n==null?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const A=this._firestoreClient.terminate();this._queue=new Wh(A),this._firestoreClient=void 0,await A}}}function zB(t,A){const e=typeof t=="object"?t:_0(),r=typeof t=="string"?t:Xi,n=Dl(e,"firestore").getImmediate({identifier:r});if(!n._initialized){const s=lm("firestore");s&&X_(n,...s)}return n}function Ss(t){if(t._terminated)throw new oA(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J_(t),t._firestoreClient}function J_(t){var A,e,r;const n=t._freezeSettings(),s=function(a,l,c,u){return new wy(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XB(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((A=t._app)===null||A===void 0?void 0:A.options.appId)||"",t._persistenceKey,n);t._componentsProvider||!((e=n.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=n.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),t._firestoreClient=new O_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(A){this._byteString=A}static fromBase64String(A){try{return new yn(ye.fromBase64String(A))}catch(e){throw new oA(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(A){return new yn(ye.fromUint8Array(A))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(A){return this._byteString.isEqual(A._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(...A){for(let e=0;e<A.length;++e)if(A[e].length===0)throw new oA(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(A)}isEqual(A){return this._internalPath.isEqual(A._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(A){this._methodName=A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(A,e){if(!isFinite(A)||A<-90||A>90)throw new oA(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+A);if(!isFinite(e)||e<-180||e>180)throw new oA(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=A,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(A){return this._lat===A._lat&&this._long===A._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(A){return FA(this._lat,A._lat)||FA(this._long,A._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(A){this._values=(A||[]).map(e=>e)}toArray(){return this._values.map(A=>A)}isEqual(A){return function(r,n){if(r.length!==n.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==n[s])return!1;return!0}(this._values,A._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=/^__.*__$/;class z_{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return this.fieldMask!==null?new Br(A,this.data,this.fieldMask,e,this.fieldTransforms):new Us(A,this.data,e,this.fieldTransforms)}}class YB{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return new Br(A,this.data,this.fieldMask,e,this.fieldTransforms)}}function ZB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wA()}}class Do{constructor(A,e,r,n,s,i){this.settings=A,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=n,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(A){return new Do(Object.assign(Object.assign({},this.settings),A),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.$u(A),n}Uu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.Bu(),n}Ku(A){return this.ku({path:void 0,Qu:!0})}Wu(A){return no(A,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(A){return this.fieldMask.find(e=>A.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>A.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let A=0;A<this.path.length;A++)this.$u(this.path.get(A))}$u(A){if(A.length===0)throw this.Wu("Document fields must not be empty");if(ZB(this.Lu)&&q_.test(A))throw this.Wu('Document fields cannot begin and end with "__"')}}class Y_{constructor(A,e,r){this.databaseId=A,this.ignoreUndefinedProperties=e,this.serializer=r||bo(A)}ju(A,e,r,n=!1){return new Do({Lu:A,methodName:e,zu:r,path:me.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pc(t){const A=t._freezeSettings(),e=bo(t._databaseId);return new Y_(t._databaseId,!!A.ignoreUndefinedProperties,e)}function $B(t,A,e,r,n,s={}){const i=t.ju(s.merge||s.mergeFields?2:0,A,e,n);mc("Data must be an object, but it was:",i,r);const a=tp(r,i);let l,c;if(s.merge)l=new Xe(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const g=ul(A,f,e);if(!i.contains(g))throw new oA(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);np(u,g)||u.push(g)}l=new Xe(u),c=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=i.fieldTransforms;return new z_(new ke(a),l,c)}class Lo extends Ro{_toFieldTransform(A){if(A.Lu!==2)throw A.Lu===1?A.Wu(`${this._methodName}() can only appear at the top level of your update data`):A.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return A.fieldMask.push(A.path),null}isEqual(A){return A instanceof Lo}}function Z_(t,A,e){return new Do({Lu:3,zu:A.settings.zu,methodName:t._methodName,Qu:e},A.databaseId,A.serializer,A.ignoreUndefinedProperties)}class wc extends Ro{constructor(A,e){super(A),this.Hu=e}_toFieldTransform(A){const e=Z_(this,A,!0),r=this.Hu.map(s=>Ds(s,e)),n=new wn(r);return new Gy(A.path,n)}isEqual(A){return A instanceof wc&&gs(this.Hu,A.Hu)}}function Ap(t,A,e,r){const n=t.ju(1,A,e);mc("Data must be an object, but it was:",n,r);const s=[],i=ke.empty();gr(r,(l,c)=>{const u=Cc(A,l,e);c=it(c);const f=n.Uu(u);if(c instanceof Lo)s.push(u);else{const g=Ds(c,f);g!=null&&(s.push(u),i.set(u,g))}});const a=new Xe(s);return new YB(i,a,n.fieldTransforms)}function ep(t,A,e,r,n,s){const i=t.ju(1,A,e),a=[ul(A,r,e)],l=[n];if(s.length%2!=0)throw new oA(N.INVALID_ARGUMENT,`Function ${A}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(ul(A,s[g])),l.push(s[g+1]);const c=[],u=ke.empty();for(let g=a.length-1;g>=0;--g)if(!np(c,a[g])){const B=a[g];let Q=l[g];Q=it(Q);const y=i.Uu(B);if(Q instanceof Lo)c.push(B);else{const F=Ds(Q,y);F!=null&&(c.push(B),u.set(B,F))}}const f=new Xe(c);return new YB(u,f,i.fieldTransforms)}function Ds(t,A){if(rp(t=it(t)))return mc("Unsupported field value:",A,t),tp(t,A);if(t instanceof Ro)return function(r,n){if(!ZB(n.Lu))throw n.Wu(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(n);s&&n.fieldTransforms.push(s)}(t,A),null;if(t===void 0&&A.ignoreUndefinedProperties)return null;if(A.path&&A.fieldMask.push(A.path),t instanceof Array){if(A.settings.Qu&&A.Lu!==4)throw A.Wu("Nested arrays are not supported");return function(r,n){const s=[];let i=0;for(const a of r){let l=Ds(a,n.Ku(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,A)}return function(r,n){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Oy(n.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ce.fromDate(r);return{timestampValue:$i(n.serializer,s)}}if(r instanceof ce){const s=new ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$i(n.serializer,s)}}if(r instanceof gc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yn)return{bytesValue:mB(n.serializer,r._byteString)};if(r instanceof Se){const s=n.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw n.Wu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zl(r.firestore._databaseId||n.databaseId,r._key.path)}}if(r instanceof Bc)return function(i,a){return{mapValue:{fields:{[Jg]:{stringValue:zg},[Ji]:{arrayValue:{values:i.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return jl(a.serializer,c)})}}}}}}(r,n);throw n.Wu(`Unsupported field value: ${dc(r)}`)}(t,A)}function tp(t,A){const e={};return Kg(t)?A.path&&A.path.length>0&&A.fieldMask.push(A.path):gr(t,(r,n)=>{const s=Ds(n,A.qu(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function rp(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ce||t instanceof gc||t instanceof yn||t instanceof Se||t instanceof Ro||t instanceof Bc)}function mc(t,A,e){if(!rp(e)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(e)){const r=dc(e);throw r==="an object"?A.Wu(t+" a custom object"):A.Wu(t+" "+r)}}function ul(t,A,e){if((A=it(A))instanceof Rs)return A._internalPath;if(typeof A=="string")return Cc(t,A);throw no("Field path arguments must be of type string or ",t,!1,void 0,e)}const $_=new RegExp("[~\\*/\\[\\]]");function Cc(t,A,e){if(A.search($_)>=0)throw no(`Invalid field path (${A}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,e);try{return new Rs(...A.split("."))._internalPath}catch{throw no(`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,e)}}function no(t,A,e,r,n){const s=r&&!r.isEmpty(),i=n!==void 0;let a=`Function ${A}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${n}`),l+=")"),new oA(N.INVALID_ARGUMENT,a+t+l)}function np(t,A){return t.some(e=>e.isEqual(A))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(A,e,r,n,s){this._firestore=A,this._userDataWriter=e,this._key=r,this._document=n,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const A=new AE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(A)}return this._userDataWriter.convertValue(this._document.data.value)}}get(A){if(this._document){const e=this._document.data.field(ip("DocumentSnapshot.get",A));if(e!==null)return this._userDataWriter.convertValue(e)}}}class AE extends sp{data(){return super.data()}}function ip(t,A){return typeof A=="string"?Cc(t,A):A instanceof Rs?A._internalPath:A._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oA(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eE{convertValue(A,e="none"){switch(lr(A)){case 0:return null;case 1:return A.booleanValue;case 2:return re(A.integerValue||A.doubleValue);case 3:return this.convertTimestamp(A.timestampValue);case 4:return this.convertServerTimestamp(A,e);case 5:return A.stringValue;case 6:return this.convertBytes(ar(A.bytesValue));case 7:return this.convertReference(A.referenceValue);case 8:return this.convertGeoPoint(A.geoPointValue);case 9:return this.convertArray(A.arrayValue,e);case 11:return this.convertObject(A.mapValue,e);case 10:return this.convertVectorValue(A.mapValue);default:throw wA()}}convertObject(A,e){return this.convertObjectMap(A.fields,e)}convertObjectMap(A,e="none"){const r={};return gr(A,(n,s)=>{r[n]=this.convertValue(s,e)}),r}convertVectorValue(A){var e,r,n;const s=(n=(r=(e=A.fields)===null||e===void 0?void 0:e[Ji].arrayValue)===null||r===void 0?void 0:r.values)===null||n===void 0?void 0:n.map(i=>re(i.doubleValue));return new Bc(s)}convertGeoPoint(A){return new gc(re(A.latitude),re(A.longitude))}convertArray(A,e){return(A.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(A,e){switch(e){case"previous":const r=yo(A);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(ws(A));default:return null}}convertTimestamp(A){const e=or(A);return new ce(e.seconds,e.nanos)}convertDocumentKey(A,e){const r=JA.fromString(A);xA(vB(r));const n=new ms(r.get(1),r.get(3)),s=new hA(r.popFirst(5));return n.isEqual(e)||Pt(`Document ${s} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t,A,e){let r;return r=t?e&&(e.merge||e.mergeFields)?t.toFirestore(A,e):t.toFirestore(A):A,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(A,e){this.hasPendingWrites=A,this.fromCache=e}isEqual(A){return this.hasPendingWrites===A.hasPendingWrites&&this.fromCache===A.fromCache}}class lp extends sp{constructor(A,e,r,n,s,i){super(A,e,r,n,i),this._firestore=A,this._firestoreImpl=A,this.metadata=s}exists(){return super.exists()}data(A={}){if(this._document){if(this._converter){const e=new Vi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,A)}return this._userDataWriter.convertValue(this._document.data.value,A.serverTimestamps)}}get(A,e={}){if(this._document){const r=this._document.data.field(ip("DocumentSnapshot.get",A));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Vi extends lp{data(A={}){return super.data(A)}}class cp{constructor(A,e,r,n){this._firestore=A,this._userDataWriter=e,this._snapshot=n,this.metadata=new Jn(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const A=[];return this.forEach(e=>A.push(e)),A}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(A,e){this._snapshot.docs.forEach(r=>{A.call(e,new Vi(this._firestore,this._userDataWriter,r.key,r,new Jn(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(A={}){const e=!!A.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new oA(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,s){if(n._snapshot.oldDocs.isEmpty()){let i=0;return n._snapshot.docChanges.map(a=>{const l=new Vi(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Jn(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vi(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Jn(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,u=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:tE(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function tE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){t=qe(t,Se);const A=qe(t.firestore,hr);return G_(Ss(A),t._key).then(e=>up(A,t,e))}class Qc extends eE{constructor(A){super(),this.firestore=A}convertBytes(A){return new yn(A)}convertReference(A){const e=this.convertDocumentKey(A,this.firestore._databaseId);return new Se(this.firestore,null,e)}}function Ft(t){t=qe(t,Ts);const A=qe(t.firestore,hr),e=Ss(A),r=new Qc(A);return op(t._query),W_(e,t._query).then(n=>new cp(A,r,t,n))}function rE(t,A,e){t=qe(t,Se);const r=qe(t.firestore,hr),n=ap(t.converter,A,e);return _c(r,[$B(pc(r),"setDoc",t._key,n,t.converter!==null,e).toMutation(t._key,Je.none())])}function Fn(t,A,e,...r){t=qe(t,Se);const n=qe(t.firestore,hr),s=pc(n);let i;return i=typeof(A=it(A))=="string"||A instanceof Rs?ep(s,"updateDoc",t._key,A,e,r):Ap(s,"updateDoc",t._key,A),_c(n,[i.toMutation(t._key,Je.exists(!0))])}function nE(t,...A){var e,r,n;t=it(t);let s={includeMetadataChanges:!1,source:"default"},i=0;typeof A[i]!="object"||jh(A[i])||(s=A[i],i++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jh(A[i])){const f=A[i];A[i]=(e=f.next)===null||e===void 0?void 0:e.bind(f),A[i+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),A[i+2]=(n=f.complete)===null||n===void 0?void 0:n.bind(f)}let l,c,u;if(t instanceof Se)c=qe(t.firestore,hr),u=_o(t._key.path),l={next:f=>{A[i]&&A[i](up(c,t,f))},error:A[i+1],complete:A[i+2]};else{const f=qe(t,Ts);c=qe(f.firestore,hr),u=f._query;const g=new Qc(c);l={next:B=>{A[i]&&A[i](new cp(c,g,f,B))},error:A[i+1],complete:A[i+2]},op(t._query)}return function(g,B,Q,y){const F=new fc(y),R=new cc(B,F,Q);return g.asyncQueue.enqueueAndForget(async()=>oc(await ro(g),R)),()=>{F.su(),g.asyncQueue.enqueueAndForget(async()=>ac(await ro(g),R))}}(Ss(c),u,a,l)}function _c(t,A){return function(r,n){const s=new kt;return r.asyncQueue.enqueueAndForget(async()=>S_(await N_(r),n,s)),s.promise}(Ss(t),A)}function up(t,A,e){const r=e.docs.get(A._key),n=new Qc(t);return new lp(t,n,A._key,r,new Jn(e.hasPendingWrites,e.fromCache),A.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(A,e){this._firestore=A,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=pc(A)}set(A,e,r){this._verifyNotCommitted();const n=Ca(A,this._firestore),s=ap(n.converter,e,r),i=$B(this._dataReader,"WriteBatch.set",n._key,s,n.converter!==null,r);return this._mutations.push(i.toMutation(n._key,Je.none())),this}update(A,e,r,...n){this._verifyNotCommitted();const s=Ca(A,this._firestore);let i;return i=typeof(e=it(e))=="string"||e instanceof Rs?ep(this._dataReader,"WriteBatch.update",s._key,e,r,n):Ap(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(i.toMutation(s._key,Je.exists(!0))),this}delete(A){this._verifyNotCommitted();const e=Ca(A,this._firestore);return this._mutations=this._mutations.concat(new Xl(e._key,Je.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oA(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ca(t,A){if((t=it(t)).firestore!==A)throw new oA(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function hp(...t){return new wc("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){return Ss(t=qe(t,hr)),new sE(t,A=>_c(t,A))}(function(A,e=!0){(function(n){_n=n})(Q0),sr(new xt("firestore",(r,{instanceIdentifier:n,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new hr(new ey(r.getProvider("auth-internal")),new ny(i,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oA(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ms(c.options.projectId,u)}(i,n),i);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yt(Yu,Zu,A),yt(Yu,Zu,"esm2017")})();var Ec={};(function t(A,e,r,n){var s=!!(A.Worker&&A.Blob&&A.Promise&&A.OffscreenCanvas&&A.OffscreenCanvasRenderingContext2D&&A.HTMLCanvasElement&&A.HTMLCanvasElement.prototype.transferControlToOffscreen&&A.URL&&A.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!A.OffscreenCanvas)return!1;var x=new OffscreenCanvas(1,1),H=x.getContext("2d");H.fillRect(0,0,1,1);var Y=x.transferToImageBitmap();try{H.createPattern(Y,"no-repeat")}catch{return!1}return!0}();function l(){}function c(x){var H=e.exports.Promise,Y=H!==void 0?H:A.Promise;return typeof Y=="function"?new Y(x):(x(l,l),null)}var u=function(x,H){return{transform:function(Y){if(x)return Y;if(H.has(Y))return H.get(Y);var q=new OffscreenCanvas(Y.width,Y.height),cA=q.getContext("2d");return cA.drawImage(Y,0,0),H.set(Y,q),q},clear:function(){H.clear()}}}(a,new Map),f=function(){var x=Math.floor(16.666666666666668),H,Y,q={},cA=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(H=function(aA){var sA=Math.random();return q[sA]=requestAnimationFrame(function j(J){cA===J||cA+x-1<J?(cA=J,delete q[sA],aA()):q[sA]=requestAnimationFrame(j)}),sA},Y=function(aA){q[aA]&&cancelAnimationFrame(q[aA])}):(H=function(aA){return setTimeout(aA,x)},Y=function(aA){return clearTimeout(aA)}),{frame:H,cancel:Y}}(),g=function(){var x,H,Y={};function q(cA){function aA(sA,j){cA.postMessage({options:sA||{},callback:j})}cA.init=function(j){var J=j.transferControlToOffscreen();cA.postMessage({canvas:J},[J])},cA.fire=function(j,J,EA){if(H)return aA(j,null),H;var vA=Math.random().toString(36).slice(2);return H=c(function(uA){function BA(QA){QA.data.callback===vA&&(delete Y[vA],cA.removeEventListener("message",BA),H=null,u.clear(),EA(),uA())}cA.addEventListener("message",BA),aA(j,vA),Y[vA]=BA.bind(null,{data:{callback:vA}})}),H},cA.reset=function(){cA.postMessage({reset:!0});for(var j in Y)Y[j](),delete Y[j]}}return function(){if(x)return x;if(!r&&s){var cA=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{x=new Worker(URL.createObjectURL(new Blob([cA])))}catch(aA){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",aA),null}q(x)}return x}}(),B={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Q(x,H){return H?H(x):x}function y(x){return x!=null}function F(x,H,Y){return Q(x&&y(x[H])?x[H]:B[H],Y)}function R(x){return x<0?0:Math.floor(x)}function D(x,H){return Math.floor(Math.random()*(H-x))+x}function T(x){return parseInt(x,16)}function S(x){return x.map(M)}function M(x){var H=String(x).replace(/[^0-9a-f]/gi,"");return H.length<6&&(H=H[0]+H[0]+H[1]+H[1]+H[2]+H[2]),{r:T(H.substring(0,2)),g:T(H.substring(2,4)),b:T(H.substring(4,6))}}function L(x){var H=F(x,"origin",Object);return H.x=F(H,"x",Number),H.y=F(H,"y",Number),H}function E(x){x.width=document.documentElement.clientWidth,x.height=document.documentElement.clientHeight}function p(x){var H=x.getBoundingClientRect();x.width=H.width,x.height=H.height}function _(x){var H=document.createElement("canvas");return H.style.position="fixed",H.style.top="0px",H.style.left="0px",H.style.pointerEvents="none",H.style.zIndex=x,H}function I(x,H,Y,q,cA,aA,sA,j,J){x.save(),x.translate(H,Y),x.rotate(aA),x.scale(q,cA),x.arc(0,0,1,sA,j,J),x.restore()}function U(x){var H=x.angle*(Math.PI/180),Y=x.spread*(Math.PI/180);return{x:x.x,y:x.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:x.startVelocity*.5+Math.random()*x.startVelocity,angle2D:-H+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:x.color,shape:x.shape,tick:0,totalTicks:x.ticks,decay:x.decay,drift:x.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:x.gravity*3,ovalScalar:.6,scalar:x.scalar,flat:x.flat}}function b(x,H){H.x+=Math.cos(H.angle2D)*H.velocity+H.drift,H.y+=Math.sin(H.angle2D)*H.velocity+H.gravity,H.velocity*=H.decay,H.flat?(H.wobble=0,H.wobbleX=H.x+10*H.scalar,H.wobbleY=H.y+10*H.scalar,H.tiltSin=0,H.tiltCos=0,H.random=1):(H.wobble+=H.wobbleSpeed,H.wobbleX=H.x+10*H.scalar*Math.cos(H.wobble),H.wobbleY=H.y+10*H.scalar*Math.sin(H.wobble),H.tiltAngle+=.1,H.tiltSin=Math.sin(H.tiltAngle),H.tiltCos=Math.cos(H.tiltAngle),H.random=Math.random()+2);var Y=H.tick++/H.totalTicks,q=H.x+H.random*H.tiltCos,cA=H.y+H.random*H.tiltSin,aA=H.wobbleX+H.random*H.tiltCos,sA=H.wobbleY+H.random*H.tiltSin;if(x.fillStyle="rgba("+H.color.r+", "+H.color.g+", "+H.color.b+", "+(1-Y)+")",x.beginPath(),i&&H.shape.type==="path"&&typeof H.shape.path=="string"&&Array.isArray(H.shape.matrix))x.fill(O(H.shape.path,H.shape.matrix,H.x,H.y,Math.abs(aA-q)*.1,Math.abs(sA-cA)*.1,Math.PI/10*H.wobble));else if(H.shape.type==="bitmap"){var j=Math.PI/10*H.wobble,J=Math.abs(aA-q)*.1,EA=Math.abs(sA-cA)*.1,vA=H.shape.bitmap.width*H.scalar,uA=H.shape.bitmap.height*H.scalar,BA=new DOMMatrix([Math.cos(j)*J,Math.sin(j)*J,-Math.sin(j)*EA,Math.cos(j)*EA,H.x,H.y]);BA.multiplySelf(new DOMMatrix(H.shape.matrix));var QA=x.createPattern(u.transform(H.shape.bitmap),"no-repeat");QA.setTransform(BA),x.globalAlpha=1-Y,x.fillStyle=QA,x.fillRect(H.x-vA/2,H.y-uA/2,vA,uA),x.globalAlpha=1}else if(H.shape==="circle")x.ellipse?x.ellipse(H.x,H.y,Math.abs(aA-q)*H.ovalScalar,Math.abs(sA-cA)*H.ovalScalar,Math.PI/10*H.wobble,0,2*Math.PI):I(x,H.x,H.y,Math.abs(aA-q)*H.ovalScalar,Math.abs(sA-cA)*H.ovalScalar,Math.PI/10*H.wobble,0,2*Math.PI);else if(H.shape==="star")for(var dA=Math.PI/2*3,gA=4*H.scalar,UA=8*H.scalar,VA=H.x,DA=H.y,PA=5,Ae=Math.PI/PA;PA--;)VA=H.x+Math.cos(dA)*UA,DA=H.y+Math.sin(dA)*UA,x.lineTo(VA,DA),dA+=Ae,VA=H.x+Math.cos(dA)*gA,DA=H.y+Math.sin(dA)*gA,x.lineTo(VA,DA),dA+=Ae;else x.moveTo(Math.floor(H.x),Math.floor(H.y)),x.lineTo(Math.floor(H.wobbleX),Math.floor(cA)),x.lineTo(Math.floor(aA),Math.floor(sA)),x.lineTo(Math.floor(q),Math.floor(H.wobbleY));return x.closePath(),x.fill(),H.tick<H.totalTicks}function w(x,H,Y,q,cA){var aA=H.slice(),sA=x.getContext("2d"),j,J,EA=c(function(vA){function uA(){j=J=null,sA.clearRect(0,0,q.width,q.height),u.clear(),cA(),vA()}function BA(){r&&!(q.width===n.width&&q.height===n.height)&&(q.width=x.width=n.width,q.height=x.height=n.height),!q.width&&!q.height&&(Y(x),q.width=x.width,q.height=x.height),sA.clearRect(0,0,q.width,q.height),aA=aA.filter(function(QA){return b(sA,QA)}),aA.length?j=f.frame(BA):uA()}j=f.frame(BA),J=uA});return{addFettis:function(vA){return aA=aA.concat(vA),EA},canvas:x,promise:EA,reset:function(){j&&f.cancel(j),J&&J()}}}function Z(x,H){var Y=!x,q=!!F(H||{},"resize"),cA=!1,aA=F(H,"disableForReducedMotion",Boolean),sA=s&&!!F(H||{},"useWorker"),j=sA?g():null,J=Y?E:p,EA=x&&j?!!x.__confetti_initialized:!1,vA=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,uA;function BA(dA,gA,UA){for(var VA=F(dA,"particleCount",R),DA=F(dA,"angle",Number),PA=F(dA,"spread",Number),Ae=F(dA,"startVelocity",Number),Ze=F(dA,"decay",Number),Bt=F(dA,"gravity",Number),pt=F(dA,"drift",Number),Re=F(dA,"colors",S),Tt=F(dA,"ticks",Number),MA=F(dA,"shapes"),pA=F(dA,"scalar"),KA=!!F(dA,"flat"),at=L(dA),lt=VA,ct=[],Ke=x.width*at.x,wt=x.height*at.y;lt--;)ct.push(U({x:Ke,y:wt,angle:DA,spread:PA,startVelocity:Ae,color:Re[lt%Re.length],shape:MA[D(0,MA.length)],ticks:Tt,decay:Ze,gravity:Bt,drift:pt,scalar:pA,flat:KA}));return uA?uA.addFettis(ct):(uA=w(x,ct,J,gA,UA),uA.promise)}function QA(dA){var gA=aA||F(dA,"disableForReducedMotion",Boolean),UA=F(dA,"zIndex",Number);if(gA&&vA)return c(function(Ae){Ae()});Y&&uA?x=uA.canvas:Y&&!x&&(x=_(UA),document.body.appendChild(x)),q&&!EA&&J(x);var VA={width:x.width,height:x.height};j&&!EA&&j.init(x),EA=!0,j&&(x.__confetti_initialized=!0);function DA(){if(j){var Ae={getBoundingClientRect:function(){if(!Y)return x.getBoundingClientRect()}};J(Ae),j.postMessage({resize:{width:Ae.width,height:Ae.height}});return}VA.width=VA.height=null}function PA(){uA=null,q&&(cA=!1,A.removeEventListener("resize",DA)),Y&&x&&(document.body.contains(x)&&document.body.removeChild(x),x=null,EA=!1)}return q&&!cA&&(cA=!0,A.addEventListener("resize",DA,!1)),j?j.fire(dA,VA,PA):BA(dA,VA,PA)}return QA.reset=function(){j&&j.reset(),uA&&uA.reset()},QA}var AA;function _A(){return AA||(AA=Z(null,{useWorker:!0,resize:!0})),AA}function O(x,H,Y,q,cA,aA,sA){var j=new Path2D(x),J=new Path2D;J.addPath(j,new DOMMatrix(H));var EA=new Path2D;return EA.addPath(J,new DOMMatrix([Math.cos(sA)*cA,Math.sin(sA)*cA,-Math.sin(sA)*aA,Math.cos(sA)*aA,Y,q])),EA}function mA(x){if(!i)throw new Error("path confetti are not supported in this browser");var H,Y;typeof x=="string"?H=x:(H=x.path,Y=x.matrix);var q=new Path2D(H),cA=document.createElement("canvas"),aA=cA.getContext("2d");if(!Y){for(var sA=1e3,j=sA,J=sA,EA=0,vA=0,uA,BA,QA=0;QA<sA;QA+=2)for(var dA=0;dA<sA;dA+=2)aA.isPointInPath(q,QA,dA,"nonzero")&&(j=Math.min(j,QA),J=Math.min(J,dA),EA=Math.max(EA,QA),vA=Math.max(vA,dA));uA=EA-j,BA=vA-J;var gA=10,UA=Math.min(gA/uA,gA/BA);Y=[UA,0,0,UA,-Math.round(uA/2+j)*UA,-Math.round(BA/2+J)*UA]}return{type:"path",path:H,matrix:Y}}function IA(x){var H,Y=1,q="#000000",cA='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof x=="string"?H=x:(H=x.text,Y="scalar"in x?x.scalar:Y,cA="fontFamily"in x?x.fontFamily:cA,q="color"in x?x.color:q);var aA=10*Y,sA=""+aA+"px "+cA,j=new OffscreenCanvas(aA,aA),J=j.getContext("2d");J.font=sA;var EA=J.measureText(H),vA=Math.ceil(EA.actualBoundingBoxRight+EA.actualBoundingBoxLeft),uA=Math.ceil(EA.actualBoundingBoxAscent+EA.actualBoundingBoxDescent),BA=2,QA=EA.actualBoundingBoxLeft+BA,dA=EA.actualBoundingBoxAscent+BA;vA+=BA+BA,uA+=BA+BA,j=new OffscreenCanvas(vA,uA),J=j.getContext("2d"),J.font=sA,J.fillStyle=q,J.fillText(H,QA,dA);var gA=1/Y;return{type:"bitmap",bitmap:j.transferToImageBitmap(),matrix:[gA,0,0,gA,-vA*gA/2,-uA*gA/2]}}e.exports=function(){return _A().apply(this,arguments)},e.exports.reset=function(){_A().reset()},e.exports.create=Z,e.exports.shapeFromPath=mA,e.exports.shapeFromText=IA})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ec,!1);const oE=Ec.exports;Ec.exports.create;function ls(t){const A=document.createElement("div");A.className="toast toast-top toast-end",A.innerHTML=`
        <div class="alert bg-primary/80 text-black border-2 border-primary shadow-lg">
            <span>${t}</span>
        </div>
    `,document.body.appendChild(A),setTimeout(()=>{A.remove()},5e3),oE({particleCount:100,spread:70,origin:{y:.6}})}const aE={apiKey:"AIzaSyCTe1si_Cg2Pkl2X77JpscYfW6KajberCM",authDomain:"drawit-1f620.firebaseapp.com",projectId:"drawit-1f620",storageBucket:"drawit-1f620.firebasestorage.app",messagingSenderId:"513679195329",appId:"1:513679195329:web:d650c7307b461788dc6840",measurementId:"G-P8GR3KFS0H"},lE=og(aE),Ls=zB(lE),Pr=Hs(Ls,"games"),ft=Hs(Ls,"users");Hs(Ls,"drawings");const fp=Hs(Ls,"words");async function cE(t){try{const A=go(xe),e=t.filter(s=>!A[s]);if(e.length===0)return;const r=await Ft(ft),n={};r.docs.forEach(s=>{const i=s.data();e.includes(i.name)&&(n[i.name]={...i,id:s.id})}),xe.update(s=>({...s,...n}))}catch(A){console.error("Error loading users:",A)}}async function uE(t,A,e,r){const n=dt(Pr,t),i=(await yc(n)).data();return i.drawings[A].comments.push({content:e,createdBy:r}),await Fn(n,{drawings:i.drawings}),i.drawings[A]}async function hE(){try{return(await Ft(fp)).docs.map(e=>e.data())}catch(t){console.error("Error loading words:",t)}return[]}async function fE(t,A){try{const e=dt(fp);await Uc(e,{word:t,createdBy:A,createdAt:new Date})}catch(e){console.error("Error creating custom word:",e)}}async function dE(t){try{const e=(await Ft(ft)).docs.find(s=>s.data().name===t);if(e){const i={...e.data(),id:e.id};return qA.set(i),xe.update(a=>({...a,[i.name]:i})),await dp(i.name),i}const r=dt(ft),n={name:t,coins:0,createdAt:new Date,id:r.id,dailyRewards:[],upgrades:[]};return await Uc(r,n),qA.set(n),xe.update(s=>({...s,[n.name]:n})),n}catch(A){throw console.error("Error creating/retrieving user:",A),A}}async function vc(t){try{const e=(await Ft(ft)).docs.find(r=>r.data().name===t);if(e){const n={...e.data(),id:e.id};return xe.update(s=>({...s,[n.name]:n})),n}return null}catch(A){return console.error("Error getting user:",A),null}}async function Xh(t){try{if(!t){const i=(await Ft(ft)).docs.map(a=>({...a.data(),id:a.id}));return xe.update(a=>{const l={...a};return i.forEach(c=>{l[c.name]=c}),l}),i}const A=go(xe),e=Object.values(A).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));if(e.length>0)return e;const n=(await Ft(ft)).docs.map(s=>({...s.data(),id:s.id})).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));return xe.update(s=>{const i={...s};return n.forEach(a=>{i[a.name]=a}),i}),n}catch(A){return console.error("Error searching users:",A),[]}}async function dp(t){try{const e=(await Ft(Pr)).docs.filter(n=>{const s=n.data();return s.users&&s.users.includes(t)}).map(n=>({...n.data(),id:n.id})),r={};return e.forEach(n=>{r[n.id]=n}),Tl.update(n=>({...n,...r})),Qn.set(e.map(n=>n.id)),e}catch(A){return console.error("Error in loadGames:",A),[]}}async function gE(t){const A=dt(Pr),e={id:A.id,users:t,createdAt:new Date,drawings:[],wordOptions:[]};return await Uc(A,e),rs.set(!1),e}async function ks(t){if(!t.id)return console.error("Cannot update game without ID"),t;try{const A=dt(Pr,t.id);return await Fn(A,{drawings:t.drawings,wordOptions:t.wordOptions}),t}catch(A){return console.error("Error updating game:",A),t}}async function Ir(t,A){const e=await vc(t);if(!e)return console.error("Cannot add coins to user without ID"),e;try{const r=dt(ft,e.id),n=e.coins+A;await Fn(r,{coins:n});const s={...e,coins:n},i=go(qA);return i&&i.name===t&&qA.set(s),xe.update(a=>({...a,[t]:s})),s}catch(r){return console.error("Error adding coins:",r),e}}async function BE(t,A,e){try{if(console.log(`likeDrawing called with gameId: ${t}, drawingIndex: ${A}, userName: ${e}`),!t||A===void 0)return console.error("Invalid gameId or drawingIndex",{gameId:t,drawingIndex:A}),!1;const r=dt(Pr,t);console.log(`Getting game ref for ${t}`);const n=await yc(r);if(!n.exists())return console.error("Game not found"),!1;const s=n.data();if(console.log("Game data retrieved:",s),!s.drawings||!Array.isArray(s.drawings))return console.error("Game has no drawings array",s),!1;if(A>=s.drawings.length)return console.error(`Drawing index out of bounds: ${A}, max: ${s.drawings.length-1}`),!1;const i=s.drawings[A];if(!i)return console.error("Drawing not found"),!1;i.likes||(i.likes=[]),console.log("Current likes:",i.likes);const a=i.likes.indexOf(e);return a>=0?(console.log(`Removing like from ${e}`),i.likes.splice(a,1)):(console.log(`Adding like from ${e}`),i.likes.push(e)),console.log("Updated likes:",i.likes),console.log("Updating game document"),await Fn(r,{drawings:s.drawings}),console.log("Like operation successful"),!0}catch(r){return console.error("Error liking drawing:",r),!1}}async function pE(){try{const t=go(qA);if(!t)return!1;const e=(await Ft(ft)).docs.find(s=>s.data().name===t.name);if(!e)return qA.set(null),localStorage.removeItem("drawIt-user-v2"),localStorage.removeItem("drawIt-games-v2"),localStorage.removeItem("drawIt-users-v2"),!1;const n={...e.data(),id:e.id};return qA.set(n),!0}catch(t){return console.error("Error validating user session:",t),!1}}async function Jh(t){try{const A=await yc(dt(Pr,t));return A.exists()?{...A.data(),id:A.id}:null}catch(A){return console.error("Error loading game:",A),null}}async function wE(){try{const t=await Ft(Pr),A=[];t.docs.forEach(r=>{const n=r.data();if(n.drawings&&n.drawings.length>0){const s=n.drawings.map((i,a)=>({...i,gameId:r.id,index:a}));for(const i of s)i.guessedBy=n.users.find(a=>a!==i.artist)??"";A.push(...s)}});const e=A.sort((r,n)=>{function s(l){return l?l instanceof Date?l:typeof l.toDate=="function"?l.toDate():typeof l=="string"?new Date(l):new Date(l):new Date(0)}const i=s(r.createdAt);return s(n.createdAt).getTime()-i.getTime()});return console.log(e),e.slice(0,100)}catch(t){return console.error("Error fetching recent drawings:",t),[]}}async function Uc(t,A,e){const{_middleware:r,...n}=A;return rE(t,n,e)}async function mE(t){var A;try{const e=new Date().toISOString().split("T")[0];if((A=t.dailyRewards)!=null&&A.includes(e))return!1;const r=Math.floor(Math.random()*10)+3,n=dt(ft,t.id);await Fn(n,{coins:t.coins+r,dailyRewards:hp(e)});const s={...t,coins:t.coins+r,dailyRewards:[...t.dailyRewards||[],e]};return qA.set(s),xe.update(i=>({...i,[t.name]:s})),ls(`Daily reward: ${r} coins!`),!0}catch(e){return console.error("Error giving daily reward:",e),!1}}async function qh(t,A,e){try{if(t.upgrades.includes(A)||t.coins<e)return!1;const r=dt(ft,t.id);await Fn(r,{upgrades:hp(A),coins:t.coins-e});const n=await vc(t.name);if(n){const s={...n,upgrades:Array.isArray(n.upgrades)?n.upgrades:[],dailyRewards:Array.isArray(n.dailyRewards)?n.dailyRewards:[]};qA.set(s)}return!0}catch(r){return console.error("Error purchasing upgrade:",r),!1}}let CE=["accident","air","airbag","airconditioner","airplane","airport","alarm","alarmclock","almanac","anchor","angry","animal","answer","ant","antler","anvil","apple","apron","arch","arm","armchair","armrest","army","arrow","art","artichoke","ashtray","ask","atom","avalanche","awning","baby","back","backhoe","backpack","bad","badge","bag","bagpipe","ball","balloon","banana","band","bandana","banjo","bank","bar","barbecue","barbell","barge","barn","barrel","baseball","basement","basket","basketball","bat","bath","bathtub","battery","beach","beachball","beacon","beaker","bear","beard","beautiful","bed","bedspread","bee","beehive","beer","beerglass","bell","bellhop","belt","bench","beverage","bicycle","big","bike","bin","binder","binoculars","bird","birth","blender","blizzard","block","blood","blouse","blueprint","boardgame","boat","boathouse","body","bodyguard","boiler","bonnet","book","bookcase","bookend","bookmark","boots","bottle","bottlecap","bouquet","bowler","bowtie","box","boy","bracelet","brainstorm","brake","branch","brass","bread","breadbasket","break","breeze","bridge","briefcase","bright","broom","broomstick","brother","brush","bucket","buffalo","build","bulldozer","bullet","bullhorn","bumper","bunkbed","burger","bus","bush","bushel","busstop","busy","butter","butterfly","buy","cabinet","cactus","cafe","cage","cairn","cake","calculator","calendar","calf","call","calm","camera","candle","candleholder","candy","cannonball","captain","car","carabiner","card","cardboard","carpet","carrot","cartridge","cartwheel","castle","cat","catch","catwalk","cave","ceiling","cellphone","chair","change","cheese","chest","chicken","child","chocolate","choose","church","city","clean","climb","clock","close","closed","cloud","coach","coal","coat","coffee","cold","come","compass","computer","contact","continent","cook","cookie","cool","cost","country","couple","cow","crab","crop","cross","crown","cry","cup","cushion","cut","dad","dance","dangerous","dark","daughter","day","deal","death","deep","degree","desert","desk","difficult","dinner","dirty","dock","doctor","dog","dolphin","door","doorbell","doorknob","draw","dream","dress","drink","drive","driver","drug","drum","dry","duck","dull","eagle","early","earrings","earth","easy","eat","egg","election","elephant","empire","empty","engine","eye","eyeglasses","face","factory","fall","family","farm","fast","father","faucet","feel","field","fight","film","finish","fire","fireplace","fish","fix","flag","flashlight","flat","flight","floor","flower","fly","food","foot","football","forest","fountain","fox","fresh","fries","frog","fruit","fuel","full","fun","furniture","game","garden","gate","gift","giraffe","girl","glass","glasses","glove","go","goal","god","golf","good","grass","group","grow","guitar","hair","hairbrush","hall","hand","happy","harbor","hard","hat","hate","head","headphones","hear","heart","heavy","helmet","help","high","highway","hill","hit","home","horse","hospital","hot","hotel","hour","house","husband","ice","idle","island","jacket","job","john","juice","jump","jungle","key","keyboard","kick","king","know","ladder","lady","lake","lamp","late","laugh","leaf","learn","leg","life","light","lighthouse","lion","list","lobster","lock","long","look","loose","lose","loss","lot","loud","love","low","lunch","machine","mailbox","man","map","market","match","meat","meet","message","microscope","microwave","milk","mirror","money","monkey","month","moon","morning","mosque","mother","motorcycle","mountain","mouse","music","name","narrow","neck","new","news","night","nose","note","notebook","ocean","octopus","office","officer","oil","old","open","owl","package","paddle","paint","paintbrush","palace","pants","paper","park","party","passport","pay","pen","pencil","pencilcase","pepper","person","phone","photograph","picture","pie","pier","pig","pillow","pizza","plane","plant","play","player","playground","plow","pointy","police","poor","port","postcard","pound","prince","product","pub","pull","push","quiet","rabbit","racket","radio","rain","read","record","referee","refrigerator","rest","restaurant","retirement","rich","ring","rise","river","road","roadsign","rock","roof","room","root","rough","round","run","sad","safe","salad","sale","salt","sand","sandwich","satellite","saxophone","say","school","score","screen","sea","see","seed","sell","shallow","shark","sharp","sheep","shelf","ship","shirt","shoe","shop","shoppingcart","short","show","shrink","side","sing","size","skateboard","skill","skirt","sleep","sleepingbag","slow","small","smell","smile","smooth","snake","snow","sock","soda","sofa","soft","song","sound","soup","space","speaker","spider","square","stale","star","starfish","start","station","stay","stone","stop","store","storm","street","strong","style","sugar","suitcase","summer","sun","sunflower","swim","table","talk","task","taste","tea","teach","teacher","team","teapot","television","temple","tent","thick","thin","think","throw","tie","tiger","tight","toothbrush","toothpaste","touch","tower","town","tractor","trafficlight","train","travel","tree","trombone","truck","trunk","turn","turtle","typewriter","ugly","umbrella","university","valley","vase","vegetable","vehicle","video","village","visit","volcano","wait","wake","walk","wall","wallet","war","warm","wash","watch","water","weak","week","wet","whale","wheel","wheelchair","wide","wife","win","wind","windmill","window","wine","wolf","woman","work","worker","wristwatch","write","yogurt","young","zebra","zipper","time","way","year","government","world","part","course","case","system","place","end","company","information","fact","point","example","state","business","area","thing","order","development","power","council","use","service","problem","court","a","interest","law","form","education","policy","research","sort","health","question","period","level","control","society","minister","view","line","community","south","centre","effect","staff","position","kind","action","management","act","process","north","age","evidence","idea","west","support","moment","sense","report","mind","industry","land","care","century","range","trade","history","study","committee","rate","word","language","experience","result","other","sir","section","programme","authority","role","reason","price","class","nature","subject","department","union","member","value","need","east","practice","type","date","decision","figure","right","president","friend","club","quality","voice","lord","stage","us","situation","tax","production","march","secretary","board","may","award","issue","project","chapter","amount","basis","knowledge","approach","series","top","front","future","manager","account","security","labour","structure","bill","force","attention","movement","success","letter","agreement","capital","analysis","population","environment","performance","model","material","theory","growth","chance","relationship","son","property","term","director","plan","behaviour","treatment","energy","st","peter","income","scheme","design","response","association","choice","pressure","technology","defence","chairman","activity","contract","county","paul","difference","set","colour","season","unit","investment","test","employment","science","charge","economy","page","risk","advice","event","commission","college","opportunity","conference","operation","application","press","extent","addition","access","region","doubt","majority","statement","parliament","site","mark","importance","title","species","increase","return","concern","public","competition","software","purpose","responsibility","leader","ability","appeal","opposition","campaign","respect","instance","whole","method","division","source","piece","pattern","lack","disease","equipment","surface","oxford","demand","post","mouth","provision","attempt","sector","firm","status","peace","variety","base","miss","safety","trouble","culture","direction","context","character","discussion","past","weight","organisation","league","condition","argument","sex","budget","english","transport","share","mum","cash","principle","exchange","aid","library","version","rule","balance","afternoon","reference","protection","truth","district","smith","review","minute","duty","survey","presence","influence","benefit","collection","executive","speech","function","queen","marriage","stock","failure","kitchen","student","effort","holiday","career","attack","length","progress","relation","memory","opinion","quarter","impact","scale","race","image","trust","justice","edge","gas","railway","expression","advantage","gold","wood","network","text","sister","cause","half","winter","corner","insurance","step","damage","credit","pain","possibility","legislation","strength","speed","crime","debate","will","supply","present","confidence","mary","patient","solution","museum","henry","assessment","no","skin","scene","article","stuff","introduction","administration","fear","proportion","japan","claim","kingdom","tv","existence","telephone","move","traffic","distance","relief","unemployment","reality","target","trial","concept","spirit","organization","construction","distribution","sight","difficulty","factor","exercise","weekend","battle","prison","grant","aircraft","strategy","contrast","juggling","communication","background","shape","hope","selection","detail","user","path","client","search","master","offer","freedom","attitude","while","agency","seat","manner","favour","fig","pair","crisis","danger","capacity","output","procedure","theatre","tour","recognition","middle","absence","sentence","track","sign","commitment","threat","weather","element","conflict","notice","victory","bottom","finance","fund","violence","file","profit","standard","jack","route","china","expenditure","second","discipline","cell","pp","reaction","congress","individual","lead","consideration","debt","option","payment","exhibition","reform","emphasis","spring","audience","feature","estate","assembly","volume","youth","contribution","curriculum","appearance","martin","tom","institute","membership","waste","heat","object","challenge","conversation","occasion","code","silence","literature","faith","hell","entry","transfer","gentleman","investigation","belief","total","major","document","description","murder","aim","manchester","conclusion","tradition","pleasure","connection","owner","treaty","tony","alan","desire","professor","copy","ministry","acid","address","institution","generation","partner","newspaper","reduction","welfare","definition","release","vote","examination","judge","atmosphere","leadership","sky","breath","creation","row","guide","cover","intention","criticism","jones","silver","customer","journey","explanation","green","measure","brain","significance","phase","injury","coast","technique","magazine","potential","revolution","bishop","settlement","christ","metal","motion","index","adult","inflation","sport","surprise","pension","tape","flow","iron","trip","lane","pool","independence","hole","un","content","noise","combination","session","appointment","fashion","consumer","accommodation","temperature","mike","religion","author","nation","northern","sample","assistance","interpretation","aspect","display","shoulder","agent","gallery","republic","cancer","proposal","sequence","interview","democracy","improvement","involvement","general","enterprise","van","meal","breakfast","motor","channel","impression","tone","sheet","pollution","bob","beauty","vision","spot","distinction","brown","crowd","sum","decline","revenue","diet","bedroom","soil","reader","shock","behalf","deputy","steel","co","artist","graham","plate","maintenance","formation","spokesman","program","link","expert","establishment","plastic","candidate","rail","passage","joe","parish","ref","emergency","liability","identity","location","framework","strike","countryside","household","approval","border","constitution","autumn","agriculture","concentration","guy","victim","editor","theme","error","loan","stress","recovery","electricity","recession","wealth","request","comparison","lewis","white","focus","chief","parent","mass","jane","foundation","item","lifespan","lee","publication","decade","height","charity","writer","panel","struggle","outcome","efficiency","offence","resolution","reputation","specialist","taylor","co-operation","incident","representation","chain","initiative","clause","resistance","mistake","advance","notion","delivery","licence","frank","average","awareness","expansion","alternative","chancellor","self","drama","corporation","currency","extension","convention","partnership","regime","inquiry","rugby","philosophy","scope","minority","intelligence","consequence","mill","priority","gun","gap","core","uncle","thatcher","arrival","command","abuse","limit","championship","quest","unity","zone","glory","joy","yard","amber","crystal","echo","flame","magic","rose","shadow","thunder","yellow","zeal","diamond","giant","jewel","legend","oracle","sword","treasure","voyage","wizard","yacht","zephyr","alien","angel","beast","bomb","button","champion","circle","cliff","dragon","feather","ghost","gravity","hammer","hero","honey","hunter","iceberg","joker","lab","laser","lightning","medal","monster","needle","oasis","orbit","painter","piano","planet","robot","rocket","shield","shoot","signal","skull","soldier","vapor","virus","warrior","weapon","witch"];function Fc(t,A){return t.drawings.filter(r=>!r.guessed)[0]||null}async function yE(t,A,e){const r=Fc(t,A.name);if(!r)return;const n=e.toLowerCase().trim(),s=r.secretWord.toLowerCase().trim();let i=!1;return n===s?(i=!0,r.guessed=!0,r.guessedBy=A.name,{...A},await Ir(A.name,r.coins),await Ir(r.artist,r.coins),ls(`It was ${r.secretWord}! You both get ${r.coins} coins!`),await Pi(3,t)):r.guesses.includes(e)||r.guesses.push(e),await ks(t),i}async function Pi(t,A,e=!1){if(A!=null&&A.wordOptions&&A.wordOptions.length>0&&!e)return A.wordOptions;const r=[];for(const i of CE)r.push({secretWord:i,coins:0});let n=await hE();r.push(...n.map(i=>({secretWord:i.word,coins:0,createdBy:i.createdBy,createdAt:i.createdAt})));const s=r.sort(()=>Math.random()-.5).slice(0,t);for(let i=0;i<s.length;i++)s[i].coins=i+1;return A&&(A.wordOptions=s,await ks(A)),s}async function QE(t,A,e){return e}function ai(t,A){const e=Fc(t);if(!e){if(t.drawings.length===0)return t.users[0]===A?"draw":"waiting";const r=[...t.drawings].reverse().find(a=>a.guessed);if(!r)return t.users[0]===A?"draw":"waiting";const s=(t.users.indexOf(r.artist)+1)%t.users.length;return t.users[s]===A?"draw":"waiting"}return e.artist===A?"waiting":"guess"}function _E(t){return{...t,hintPurchased:t.hintPurchased??!1,superHintPurchased:t.superHintPurchased??!1}}function zh(t){return`The word is ${t.secretWord.length} letters long`}function Yh(t){const A=t.secretWord.split("");for(let e=A.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[A[e],A[r]]=[A[r],A[e]]}return`Letters: ${A.join("  ").toUpperCase()}`}function so(t){return t?t instanceof Date?t.getTime():typeof t.toDate=="function"?t.toDate().getTime():typeof t=="string"?new Date(t).getTime():new Date(t).getTime():0}async function EE(t,A,e){if(e.coins<5||A.hintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&so(n.createdAt)===so(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,hintPurchased:!0},await ks(t),!0)}async function vE(t,A,e){if(e.coins<10||!A.hintPurchased||A.superHintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&so(n.createdAt)===so(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,superHintPurchased:!0},await ks(t),!0)}const Mr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAASUExURQAAAAYGCP/4Vf/QLPGZEf///5e4X0EAAAABdFJOUwBA5thmAAAAAWJLR0QF+G/pxwAAAAd0SU1FB+kFEQMBEaw38IoAAABMSURBVEjHY2CAA0EsgAEbGFVIP4VgQSUsAF31qEL6KUSoMcYCXEAAonpU4ajCUYWjCkcVjiokQyGisnHBArDWXKMK6adwKLQfR5pCAFjAgTiNHXoCAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI1LTA1LTE3VDAzOjAwOjU0KzAwOjAwAqVpBwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNS0wNS0xN1QwMzowMDo1NCswMDowMHP40bsAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjUtMDUtMTdUMDM6MDE6MTcrMDA6MDB+jY89AAAAAElFTkSuQmCC";function Zh(t){let A,e=t[0][0].toUpperCase()+"",r;return{c(){A=k("div"),r=iA(e),C(A,"class","w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold")},m(n,s){W(n,A,s),v(A,r)},p(n,s){s&1&&e!==(e=n[0][0].toUpperCase()+"")&&bA(r,e)},d(n){n&&G(A)}}}function $h(t){let A,e,r,n,s;return{c(){A=k("span"),e=iA(t[1]),r=X(),n=k("img"),Pe(n.src,s=Mr)||C(n,"src",s),C(n,"class","w-4 h-4"),C(n,"alt","coins")},m(i,a){W(i,A,a),v(A,e),W(i,r,a),W(i,n,a)},p(i,a){a&2&&bA(e,i[1])},d(i){i&&(G(A),G(r),G(n))}}}function Af(t){let A,e,r;return{c(){A=iA(" "),e=k("span"),r=iA(t[3]),C(e,"class","text-xs text-black/60")},m(n,s){W(n,A,s),W(n,e,s),v(e,r)},p(n,s){s&8&&bA(r,n[3])},d(n){n&&(G(A),G(e))}}}function ef(t){let A,e;return{c(){A=et("svg"),e=et("path"),C(e,"fill-rule","evenodd"),C(e,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),C(e,"clip-rule","evenodd"),C(A,"xmlns","http://www.w3.org/2000/svg"),C(A,"class","h-5 w-5 text-gray-400"),C(A,"viewBox","0 0 20 20"),C(A,"fill","currentColor")},m(r,n){W(r,A,n),v(A,e)},d(r){r&&G(A)}}}function UE(t){let A,e,r,n,s,i=t[0].toLowerCase()+"",a,l,c,u,f,g,B,Q,y=t[2]&&Zh(t),F=t[1]!==null&&$h(t),R=t[3]&&Af(t),D=t[4]&&ef();return{c(){A=k("button"),e=k("div"),y&&y.c(),r=X(),n=k("div"),s=k("span"),a=iA(i),l=X(),c=k("div"),F&&F.c(),u=X(),R&&R.c(),f=X(),D&&D.c(),C(s,"class","font-medium text-black"),C(c,"class","flex items-center gap-1 text-sm text-black/60"),C(n,"class","flex flex-col items-start"),C(e,"class","flex items-center gap-3"),C(A,"class","flex items-center justify-between w-full p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:border-primary/20 transition-colors active:bg-gray-50"),A.disabled=g=t[4]===null,qt(A,"cursor-pointer",t[4]!==null),qt(A,"cursor-default",t[4]===null)},m(T,S){W(T,A,S),v(A,e),y&&y.m(e,null),v(e,r),v(e,n),v(n,s),v(s,a),v(n,l),v(n,c),F&&F.m(c,null),v(c,u),R&&R.m(c,null),v(A,f),D&&D.m(A,null),B||(Q=fA(A,"click",t[5]),B=!0)},p(T,[S]){T[2]?y?y.p(T,S):(y=Zh(T),y.c(),y.m(e,r)):y&&(y.d(1),y=null),S&1&&i!==(i=T[0].toLowerCase()+"")&&bA(a,i),T[1]!==null?F?F.p(T,S):(F=$h(T),F.c(),F.m(c,u)):F&&(F.d(1),F=null),T[3]?R?R.p(T,S):(R=Af(T),R.c(),R.m(c,null)):R&&(R.d(1),R=null),T[4]?D||(D=ef(),D.c(),D.m(A,null)):D&&(D.d(1),D=null),S&16&&g!==(g=T[4]===null)&&(A.disabled=g),S&16&&qt(A,"cursor-pointer",T[4]!==null),S&16&&qt(A,"cursor-default",T[4]===null)},i:nA,o:nA,d(T){T&&G(A),y&&y.d(),F&&F.d(),R&&R.d(),D&&D.d(),B=!1,Q()}}}function FE(t,A,e){let{name:r}=A,{coins:n=null}=A,{showAvatar:s=!1}=A,{subtitle:i=null}=A,{onClick:a=null}=A;const l=()=>a==null?void 0:a();return t.$$set=c=>{"name"in c&&e(0,r=c.name),"coins"in c&&e(1,n=c.coins),"showAvatar"in c&&e(2,s=c.showAvatar),"subtitle"in c&&e(3,i=c.subtitle),"onClick"in c&&e(4,a=c.onClick)},[r,n,s,i,a,l]}class Ic extends Ye{constructor(A){super(),ze(this,A,FE,UE,Oe,{name:0,coins:1,showAvatar:2,subtitle:3,onClick:4})}}function tf(t,A,e){const r=t.slice();return r[11]=A[e],r}function IE(t){let A,e,r=OA(t[0].users.filter(t[9])),n=[];for(let i=0;i<r.length;i+=1)n[i]=rf(tf(t,r,i));const s=i=>lA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=ot()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);W(i,A,a),e=!0},p(i,a){if(a&99){r=OA(i[0].users.filter(i[9]));let l;for(l=0;l<r.length;l+=1){const c=tf(i,r,l);n[l]?(n[l].p(c,a),tA(n[l],1)):(n[l]=rf(c),n[l].c(),tA(n[l],1),n[l].m(A.parentNode,A))}for(he(),l=r.length;l<n.length;l+=1)s(l);fe()}},i(i){if(!e){for(let a=0;a<r.length;a+=1)tA(n[a]);e=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)lA(n[a]);e=!1},d(i){i&&G(A),Me(n,i)}}}function bE(t){let A,e,r;return e=new Ic({props:{name:t[2],coins:t[3],onClick:t[6]}}),{c(){A=k("div"),de(e.$$.fragment),C(A,"class","flex flex-row text-start w-full")},m(n,s){W(n,A,s),ie(e,A,null),r=!0},p(n,s){const i={};s&4&&(i.name=n[2]),s&8&&(i.coins=n[3]),e.$set(i)},i(n){r||(tA(e.$$.fragment,n),r=!0)},o(n){lA(e.$$.fragment,n),r=!1},d(n){n&&G(A),oe(e)}}}function TE(t){let A,e=t[11]+"",r;return{c(){A=k("span"),r=iA(e),C(A,"class","font-bold text-black")},m(n,s){W(n,A,s),v(A,r)},p(n,s){s&3&&e!==(e=n[11]+"")&&bA(r,e)},i:nA,o:nA,d(n){n&&G(A)}}}function HE(t){let A,e;return A=new Ic({props:{name:t[11],coins:t[5][t[11]].coins,subtitle:`${t[0].drawings.length} drawing${t[0].drawings.length===1?"":"s"}`,onClick:t[6]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p(r,n){const s={};n&3&&(s.name=r[11]),n&35&&(s.coins=r[5][r[11]].coins),n&1&&(s.subtitle=`${r[0].drawings.length} drawing${r[0].drawings.length===1?"":"s"}`),A.$set(s)},i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function rf(t){let A,e,r,n,s;const i=[HE,TE],a=[];function l(c,u){return c[5][c[11]]?0:1}return e=l(t),r=a[e]=i[e](t),{c(){A=k("div"),r.c(),n=X(),C(A,"class","w-full flex flex-col items-center justify-center gap-0.5")},m(c,u){W(c,A,u),a[e].m(A,null),v(A,n),s=!0},p(c,u){let f=e;e=l(c),e===f?a[e].p(c,u):(he(),lA(a[f],1,1,()=>{a[f]=null}),fe(),r=a[e],r?r.p(c,u):(r=a[e]=i[e](c),r.c()),tA(r,1),r.m(A,n))},i(c){s||(tA(r),s=!0)},o(c){lA(r),s=!1},d(c){c&&G(A),a[e].d()}}}function SE(t){let A,e,r,n;const s=[bE,IE],i=[];function a(l,c){return l[4]?0:l[0]?1:-1}return~(e=a(t))&&(r=i[e]=s[e](t)),{c(){A=k("div"),r&&r.c(),C(A,"class","cursor-pointer py-1 rounded-lg transition-colors w-full mb-2 flex flex-col gap-2 items-center justify-between"),qt(A,"bg-primary-10",!t[4]),qt(A,"bg-secondary-10",t[4])},m(l,c){W(l,A,c),~e&&i[e].m(A,null),n=!0},p(l,[c]){let u=e;e=a(l),e===u?~e&&i[e].p(l,c):(r&&(he(),lA(i[u],1,1,()=>{i[u]=null}),fe()),~e?(r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),tA(r,1),r.m(A,null)):r=null),(!n||c&16)&&qt(A,"bg-primary-10",!l[4]),(!n||c&16)&&qt(A,"bg-secondary-10",l[4])},i(l){n||(tA(r),n=!0)},o(l){lA(r),n=!1},d(l){l&&G(A),~e&&i[e].d()}}}function RE(t,A,e){let r,n;ZA(t,He,Q=>e(10,r=Q)),ZA(t,xe,Q=>e(5,n=Q));let{game:s=null}=A,{currentUserName:i=""}=A,{user:a=""}=A,{coins:l=null}=A,{isNewGame:c=!1}=A,{onClick:u=null}=A,{navigate:f=null}=A;function g(){c&&u?u():s&&f&&(Te(He,r=s,r),f("home"))}const B=Q=>Q!==i;return t.$$set=Q=>{"game"in Q&&e(0,s=Q.game),"currentUserName"in Q&&e(1,i=Q.currentUserName),"user"in Q&&e(2,a=Q.user),"coins"in Q&&e(3,l=Q.coins),"isNewGame"in Q&&e(4,c=Q.isNewGame),"onClick"in Q&&e(7,u=Q.onClick),"navigate"in Q&&e(8,f=Q.navigate)},[s,i,a,l,c,n,g,u,f,B]}class DE extends Ye{constructor(A){super(),ze(this,A,RE,SE,Oe,{game:0,currentUserName:1,user:2,coins:3,isNewGame:4,onClick:7,navigate:8})}}function nf(t,A,e){const r=t.slice();return r[5]=A[e],r}function sf(t){let A,e;return A=new DE({props:{game:t[5],currentUserName:t[2],navigate:t[4]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p(r,n){const s={};n&2&&(s.game=r[5]),n&4&&(s.currentUserName=r[2]),n&16&&(s.navigate=r[4]),A.$set(s)},i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function LE(t){let A,e,r,n,s,i=OA(t[1]),a=[];for(let c=0;c<i.length;c+=1)a[c]=sf(nf(t,i,c));const l=c=>lA(a[c],1,1,()=>{a[c]=null});return{c(){A=k("div"),e=k("h3"),r=iA(t[0]),n=X();for(let c=0;c<a.length;c+=1)a[c].c();C(e,"class",t[3]),C(A,"class","flex flex-col gap-0")},m(c,u){W(c,A,u),v(A,e),v(e,r),v(A,n);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(A,null);s=!0},p(c,[u]){if((!s||u&1)&&bA(r,c[0]),(!s||u&8)&&C(e,"class",c[3]),u&22){i=OA(c[1]);let f;for(f=0;f<i.length;f+=1){const g=nf(c,i,f);a[f]?(a[f].p(g,u),tA(a[f],1)):(a[f]=sf(g),a[f].c(),tA(a[f],1),a[f].m(A,null))}for(he(),f=i.length;f<a.length;f+=1)l(f);fe()}},i(c){if(!s){for(let u=0;u<i.length;u+=1)tA(a[u]);s=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)lA(a[u]);s=!1},d(c){c&&G(A),Me(a,c)}}}function kE(t,A,e){let{title:r}=A,{games:n}=A,{currentUserName:s}=A,{titleClass:i="text-sm font-semibold text-primary"}=A,{navigate:a=null}=A;return t.$$set=l=>{"title"in l&&e(0,r=l.title),"games"in l&&e(1,n=l.games),"currentUserName"in l&&e(2,s=l.currentUserName),"titleClass"in l&&e(3,i=l.titleClass),"navigate"in l&&e(4,a=l.navigate)},[r,n,s,i,a]}class gp extends Ye{constructor(A){super(),ze(this,A,kE,LE,Oe,{title:0,games:1,currentUserName:2,titleClass:3,navigate:4})}}const Bp=""+new URL("logo-BEMpbk-Y.svg",import.meta.url).href;function xE(t){let A,e,r,n;return{c(){A=k("img"),Pe(A.src,e=Bp)||C(A,"src",e),C(A,"alt","drawIt"),C(A,"class","w-48 mx-auto mb-6 drop-shadow-md cursor-pointer")},m(s,i){W(s,A,i),r||(n=fA(A,"click",t[0]),r=!0)},p:nA,i:nA,o:nA,d(s){s&&G(A),r=!1,n()}}}function VE(t,A,e){let{navigate:r}=A;function n(){r?r("home"):window.location.href="/"}return t.$$set=s=>{"navigate"in s&&e(1,r=s.navigate)},[n,r]}class ko extends Ye{constructor(A){super(),ze(this,A,VE,xE,Oe,{navigate:1})}}const{Boolean:pp}=Zd;function of(t,A,e){const r=t.slice();return r[18]=A[e],r}function af(t,A,e){const r=t.slice();return r[18]=A[e],r}function PE(t){let A,e,r,n,s,i,a,l,c,u;return{c(){var f;A=k("div"),e=k("span"),e.textContent="Who are you?",r=X(),n=k("input"),s=X(),i=k("button"),a=iA("get drawin'"),C(e,"class","text-2xl font-bold text-primary"),C(n,"type","text"),C(n,"placeholder","Your name"),C(n,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-lg px-4 py-2 shadow"),C(n,"autocapitalize","off"),C(n,"autocorrect","off"),C(n,"maxlength","14"),C(i,"class","btn btn-primary text-white w-full rounded-xl text-lg py-2 shadow"),i.disabled=l=!((f=t[4])!=null&&f.trim()),C(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto mt-8")},m(f,g){W(f,A,g),v(A,e),v(A,r),v(A,n),Et(n,t[4]),v(A,s),v(A,i),v(i,a),c||(u=[fA(n,"input",t[14]),fA(i,"click",t[15])],c=!0)},p(f,g){var B;g&16&&n.value!==f[4]&&Et(n,f[4]),g&16&&l!==(l=!((B=f[4])!=null&&B.trim()))&&(i.disabled=l)},i:nA,o:nA,d(f){f&&G(A),c=!1,Qe(u)}}}function ME(t){let A,e,r,n;const s=[NE,KE],i=[];function a(l,c){return l[5].length!==0?0:1}return A=a(t),e=i[A]=s[A](t),{c(){e.c(),r=ot()},m(l,c){i[A].m(l,c),W(l,r,c),n=!0},p(l,c){let u=A;A=a(l),A===u?i[A].p(l,c):(he(),lA(i[u],1,1,()=>{i[u]=null}),fe(),e=i[A],e?e.p(l,c):(e=i[A]=s[A](l),e.c()),tA(e,1),e.m(r.parentNode,r))},i(l){n||(tA(e),n=!0)},o(l){lA(e),n=!1},d(l){l&&G(r),i[A].d(l)}}}function OE(t){let A;return{c(){A=k("div"),A.innerHTML='<div class="text-primary text-lg font-semibold">Loading...</div>',C(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto")},m(e,r){W(e,A,r)},p:nA,i:nA,o:nA,d(e){e&&G(A)}}}function KE(t){let A;return{c(){A=k("div"),A.textContent="No games yet. Start a new one!",C(A,"class","text-center text-gray-500 mt-8")},m(e,r){W(e,A,r)},p:nA,i:nA,o:nA,d(e){e&&G(A)}}}function NE(t){let A,e,r=t[3]&&lf(t);return{c(){A=k("div"),r&&r.c(),C(A,"class","flex flex-col gap-6 w-full max-w-xs mx-auto")},m(n,s){W(n,A,s),r&&r.m(A,null),e=!0},p(n,s){n[3]?r?(r.p(n,s),s&8&&tA(r,1)):(r=lf(n),r.c(),tA(r,1),r.m(A,null)):r&&(he(),lA(r,1,1,()=>{r=null}),fe())},i(n){e||(tA(r),e=!0)},o(n){lA(r),e=!1},d(n){n&&G(A),r&&r.d()}}}function lf(t){let A=t[5].filter(t[11]).length>0,e,r=t[5].filter(t[10]).length>0,n,s,i=A&&cf(t),a=r&&hf(t);return{c(){i&&i.c(),e=X(),a&&a.c(),n=ot()},m(l,c){i&&i.m(l,c),W(l,e,c),a&&a.m(l,c),W(l,n,c),s=!0},p(l,c){c&40&&(A=l[5].filter(l[11]).length>0),A?i?(i.p(l,c),c&40&&tA(i,1)):(i=cf(l),i.c(),tA(i,1),i.m(e.parentNode,e)):i&&(he(),lA(i,1,1,()=>{i=null}),fe()),c&40&&(r=l[5].filter(l[10]).length>0),r?a?(a.p(l,c),c&40&&tA(a,1)):(a=hf(l),a.c(),tA(a,1),a.m(n.parentNode,n)):a&&(he(),lA(a,1,1,()=>{a=null}),fe())},i(l){s||(tA(i),tA(a),s=!0)},o(l){lA(i),lA(a),s=!1},d(l){l&&(G(e),G(n)),i&&i.d(l),a&&a.d(l)}}}function cf(t){let A,e,r,n,s=OA(t[5].filter(t[12])),i=[];for(let l=0;l<s.length;l+=1)i[l]=uf(af(t,s,l));const a=l=>lA(i[l],1,1,()=>{i[l]=null});return{c(){A=k("div"),e=k("div"),e.textContent="Your Turn!",r=X();for(let l=0;l<i.length;l+=1)i[l].c();C(e,"class","text-center text-2xl font-bold mb-2 animate-gradient-text svelte-1by7pf7"),C(A,"class","rounded-2xl bg-white/90 shadow-md p-4")},m(l,c){W(l,A,c),v(A,e),v(A,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(A,null);n=!0},p(l,c){if(c&41){s=OA(l[5].filter(l[12]));let u;for(u=0;u<s.length;u+=1){const f=af(l,s,u);i[u]?(i[u].p(f,c),tA(i[u],1)):(i[u]=uf(f),i[u].c(),tA(i[u],1),i[u].m(A,null))}for(he(),u=s.length;u<i.length;u+=1)a(u);fe()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)tA(i[c]);n=!0}},o(l){i=i.filter(pp);for(let c=0;c<i.length;c+=1)lA(i[c]);n=!1},d(l){l&&G(A),Me(i,l)}}}function uf(t){let A,e;return A=new gp({props:{title:"",games:[t[18]],currentUserName:t[3],navigate:t[0]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p(r,n){const s={};n&40&&(s.games=[r[18]]),n&8&&(s.currentUserName=r[3]),n&1&&(s.navigate=r[0]),A.$set(s)},i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function hf(t){let A,e,r,n,s=OA(t[5].filter(t[13])),i=[];for(let l=0;l<s.length;l+=1)i[l]=ff(of(t,s,l));const a=l=>lA(i[l],1,1,()=>{i[l]=null});return{c(){A=k("div"),e=k("div"),e.textContent="Waiting",r=X();for(let l=0;l<i.length;l+=1)i[l].c();C(e,"class","text-center text-secondary/60 font-semibold text-xs mb-2"),C(A,"class","rounded-2xl bg-white/60 shadow-sm p-4 opacity-60")},m(l,c){W(l,A,c),v(A,e),v(A,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(A,null);n=!0},p(l,c){if(c&41){s=OA(l[5].filter(l[13]));let u;for(u=0;u<s.length;u+=1){const f=of(l,s,u);i[u]?(i[u].p(f,c),tA(i[u],1)):(i[u]=ff(f),i[u].c(),tA(i[u],1),i[u].m(A,null))}for(he(),u=s.length;u<i.length;u+=1)a(u);fe()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)tA(i[c]);n=!0}},o(l){i=i.filter(pp);for(let c=0;c<i.length;c+=1)lA(i[c]);n=!1},d(l){l&&G(A),Me(i,l)}}}function ff(t){let A,e;return A=new gp({props:{title:"",games:[t[18]],currentUserName:t[3],navigate:t[0]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p(r,n){const s={};n&40&&(s.games=[r[18]]),n&8&&(s.currentUserName=r[3]),n&1&&(s.navigate=r[0]),A.$set(s)},i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function GE(t){let A,e,r,n,s,i;e=new ko({props:{navigate:t[0]}});const a=[OE,ME,PE],l=[];function c(u,f){return u[2]||u[1]&&!u[6]?0:u[1]?1:2}return n=c(t),s=l[n]=a[n](t),{c(){A=k("div"),de(e.$$.fragment),r=X(),s.c(),C(A,"class","w-full min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-background-gradient-start to-background-gradient-end text-black")},m(u,f){W(u,A,f),ie(e,A,null),v(A,r),l[n].m(A,null),i=!0},p(u,[f]){const g={};f&1&&(g.navigate=u[0]),e.$set(g);let B=n;n=c(u),n===B?l[n].p(u,f):(he(),lA(l[B],1,1,()=>{l[B]=null}),fe(),s=l[n],s?s.p(u,f):(s=l[n]=a[n](u),s.c()),tA(s,1),s.m(A,null))},i(u){i||(tA(e.$$.fragment,u),tA(s),i=!0)},o(u){lA(e.$$.fragment,u),lA(s),i=!1},d(u){u&&G(A),oe(e),l[n].d()}}}function WE(t,A,e){let r,n,s,i,a;ZA(t,qA,T=>e(1,n=T)),ZA(t,rs,T=>e(6,s=T)),ZA(t,Tl,T=>e(8,i=T)),ZA(t,Qn,T=>e(9,a=T));let l=!0,c=null,u="",{navigate:f}=A;async function g(T){T.trim()&&/^[a-zA-Z0-9]+$/.test(T)?(e(2,l=!0),await dE(T.trim()),e(2,l=!1),window.location.reload()):T.trim()}vs(async()=>{if(e(2,l=!0),Te(rs,s=!1,s),n!=null&&n.name){const T=await vc(n.name);if(!T)Te(qA,n=null,n);else{const S={...T,upgrades:Array.isArray(T.upgrades)?T.upgrades:[],dailyRewards:Array.isArray(T.dailyRewards)?T.dailyRewards:[]};await mE(S);const L=(await dp(S.name)).flatMap(E=>E.users.filter(p=>p!==S.name));await cE(L),Te(rs,s=!0,s),Te(qA,n=S,n)}}e(2,l=!1)});const B=T=>ai(T,c)==="waiting",Q=T=>["draw","guess"].includes(ai(T,c)),y=T=>["draw","guess"].includes(ai(T,c)),F=T=>ai(T,c)==="waiting";function R(){u=this.value,e(4,u)}const D=()=>g(u);return t.$$set=T=>{"navigate"in T&&e(0,f=T.navigate)},t.$$.update=()=>{t.$$.dirty&2&&e(3,c=n?n.name:null),t.$$.dirty&768&&e(5,r=a.map(T=>i[T]).filter(Boolean))},[f,n,l,c,u,r,s,g,i,a,B,Q,y,F,R,D]}class wp extends Ye{constructor(A){super(),ze(this,A,WE,GE,Oe,{navigate:0})}}var XA=(t=>(t.MoreWordOptions="moreWordOptions",t.ColorPicker="colorPicker",t))(XA||{});function df(t,A,e){const r=t.slice();return r[31]=A[e],r}function gf(t,A,e){const r=t.slice();return r[34]=A[e],r}function Bf(t){let A,e,r;return{c(){A=k("input"),C(A,"type","color"),C(A,"class","w-8 h-8 p-1 rounded-2xl border-2 border-primary cursor-pointer"),A.value=t[1]},m(n,s){W(n,A,s),e||(r=fA(A,"input",t[15]),e=!0)},p(n,s){s[0]&2&&(A.value=n[1])},d(n){n&&G(A),e=!1,r()}}}function pf(t){let A,e,r,n;function s(){return t[16](t[34])}return{c(){A=k("button"),C(A,"class",e="w-8 h-8 rounded-full border-2 "+(t[1]===t[34]?"border-primary":"")),Ma(A,"background-color",t[34])},m(i,a){W(i,A,a),r||(n=fA(A,"click",s),r=!0)},p(i,a){t=i,a[0]&2&&e!==(e="w-8 h-8 rounded-full border-2 "+(t[1]===t[34]?"border-primary":""))&&C(A,"class",e)},d(i){i&&G(A),r=!1,n()}}}function wf(t){let A,e,r,n,s;function i(){return t[17](t[31])}return{c(){A=k("button"),e=k("div"),C(e,"class","w-4 h-4 rounded-full bg-black mx-auto"),Ma(e,"width",t[31]+"px"),Ma(e,"height",t[31]+"px"),C(A,"class",r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[31]?"border-primary":"border-transparent"))},m(a,l){W(a,A,l),v(A,e),n||(s=fA(A,"click",i),n=!0)},p(a,l){t=a,l[0]&1&&r!==(r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[31]?"border-primary":"border-transparent"))&&C(A,"class",r)},d(a){a&&G(A),n=!1,s()}}}function jE(t){var D,T;let A,e,r=(T=(D=t[6])==null?void 0:D.upgrades)==null?void 0:T.includes(XA.ColorPicker),n,s,i,a,l,c,u,f,g,B=r&&Bf(t),Q=OA(t[7]),y=[];for(let S=0;S<Q.length;S+=1)y[S]=pf(gf(t,Q,S));let F=OA(t[8]),R=[];for(let S=0;S<F.length;S+=1)R[S]=wf(df(t,F,S));return{c(){A=k("div"),e=k("div"),B&&B.c(),n=X();for(let S=0;S<y.length;S+=1)y[S].c();s=X(),i=k("div");for(let S=0;S<R.length;S+=1)R[S].c();a=X(),l=k("button"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path></svg>',c=X(),u=k("canvas"),C(e,"class","flex gap-2 justify-start items-center flex-wrap"),C(l,"class","w-8 h-8 rounded-full border-2 bg-white border-transparent"),C(i,"class","flex gap-2 justify-start items-center"),C(u,"class","border-2 border-gray-300 rounded-lg touch-none w-full aspect-square"),C(A,"class","flex flex-col gap-2 w-full")},m(S,M){W(S,A,M),v(A,e),B&&B.m(e,null),v(e,n);for(let L=0;L<y.length;L+=1)y[L]&&y[L].m(e,null);v(A,s),v(A,i);for(let L=0;L<R.length;L+=1)R[L]&&R[L].m(i,null);v(i,a),v(i,l),v(A,c),v(A,u),t[18](u),t[19](A),f||(g=[fA(l,"click",t[2]),fA(u,"mousedown",t[9]),fA(u,"mousemove",t[10]),fA(u,"mouseup",t[11]),fA(u,"mouseleave",t[11]),fA(u,"touchstart",t[9]),fA(u,"touchmove",t[10]),fA(u,"touchend",t[11],{passive:!0})],f=!0)},p(S,M){var L,E;if(M[0]&64&&(r=(E=(L=S[6])==null?void 0:L.upgrades)==null?void 0:E.includes(XA.ColorPicker)),r?B?B.p(S,M):(B=Bf(S),B.c(),B.m(e,n)):B&&(B.d(1),B=null),M[0]&146){Q=OA(S[7]);let p;for(p=0;p<Q.length;p+=1){const _=gf(S,Q,p);y[p]?y[p].p(_,M):(y[p]=pf(_),y[p].c(),y[p].m(e,null))}for(;p<y.length;p+=1)y[p].d(1);y.length=Q.length}if(M[0]&273){F=OA(S[8]);let p;for(p=0;p<F.length;p+=1){const _=df(S,F,p);R[p]?R[p].p(_,M):(R[p]=wf(_),R[p].c(),R[p].m(i,a))}for(;p<R.length;p+=1)R[p].d(1);R.length=F.length}},i:nA,o:nA,d(S){S&&G(A),B&&B.d(),Me(y,S),Me(R,S),t[18](null),t[19](null),f=!1,Qe(g)}}}function XE(t,A,e){let r;ZA(t,qA,O=>e(6,r=O));let n=400,s=400,{lineWidth:i=5}=A,{strokeColor:a="#000000"}=A,l,c,u=!1,f,g=[],B=null;const Q=["#E74C3C","#E67E22","#F1C40F","#2ECC71","#1ABC9C","#3498DB","#4834D4","#9B59B6","#D291BC","#F5E6DE","#D2A679","#8D5524","#000000","#7F8C8D","#FFFFFF"],y=[2,5,15,25];function F(){if(!l)return;const O=window.devicePixelRatio||1;e(3,l.width=n*O,l),e(3,l.height=s*O,l),e(3,l.style.width=n+"px",l),e(3,l.style.height=s+"px",l),e(4,c=l.getContext("2d")),c.setTransform(1,0,0,1,0,0),c.scale(O,O),e(4,c.lineCap="round",c),e(4,c.lineJoin="round",c),e(4,c.strokeStyle=a,c),e(4,c.lineWidth=i,c),e(4,c.fillStyle="#FFFFFF",c),c.fillRect(0,0,n,s)}function R(O){u=!0;const mA=E(O);B={color:a,width:i,points:[mA]}}function D(O){if(!u||!B)return;const mA=E(O);B.points.push(mA),S()}function T(){u&&B&&(g.push(B),B=null),u=!1}function S(){c.clearRect(0,0,n,s),e(4,c.fillStyle="#FFFFFF",c),c.fillRect(0,0,n,s);for(const O of g)M(O);B&&M(B)}function M(O){if(!(O.points.length<2)){c.save(),e(4,c.strokeStyle=O.color,c),e(4,c.lineWidth=O.width,c),c.beginPath(),c.moveTo(O.points[0].x,O.points[0].y);for(let mA=1;mA<O.points.length;mA++)c.lineTo(O.points[mA].x,O.points[mA].y);c.stroke(),c.restore()}}function L(){g.length>0&&(g.pop(),S())}function E(O){const mA=l.getBoundingClientRect();if("touches"in O&&O.touches.length>0){const IA=O.touches[0];return{x:IA.clientX-mA.left,y:IA.clientY-mA.top}}return{x:O.clientX-mA.left,y:O.clientY-mA.top}}function p(){window.confirm("Are you sure you want to clear the canvas?")&&(g=[],B=null,e(4,c.fillStyle="#FFFFFF",c),c.fillRect(0,0,n,s))}function _(){return l.toDataURL("image/png")}function I(O){e(1,a=O),e(4,c.strokeStyle=O,c)}function U(){!f||!l||(n=f.clientWidth,s=n,F(),S())}vs(()=>{F(),S();const O=new ResizeObserver(()=>{U()});return f&&O.observe(f),()=>{O.disconnect()}});const b=O=>{e(1,a=O.currentTarget.value),e(4,c.strokeStyle=O.currentTarget.value,c)},w=O=>{e(1,a=O),e(4,c.strokeStyle=O,c)},Z=O=>{e(0,i=O),e(4,c.lineWidth=O,c)};function AA(O){ds[O?"unshift":"push"](()=>{l=O,e(3,l)})}function _A(O){ds[O?"unshift":"push"](()=>{f=O,e(5,f)})}return t.$$set=O=>{"lineWidth"in O&&e(0,i=O.lineWidth),"strokeColor"in O&&e(1,a=O.strokeColor)},[i,a,L,l,c,f,r,Q,y,R,D,T,p,_,I,b,w,Z,AA,_A]}class JE extends Ye{constructor(A){super(),ze(this,A,XE,jE,Oe,{lineWidth:0,strokeColor:1,undo:2,clearCanvas:12,getImageData:13,setColor:14},null,[-1,-1])}get undo(){return this.$$.ctx[2]}get clearCanvas(){return this.$$.ctx[12]}get getImageData(){return this.$$.ctx[13]}get setColor(){return this.$$.ctx[14]}}const qn="data:image/gif;base64,R0lGODdhUABQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAUABQAIIAAAAGBgjxmRH/0Cz/+FUAAAAAAAAAAAAD/wi63B0wykmrlS7rza//HieOGWieAamSaHut8ObOU2w/dH7vQK7zNh8NGBS6iDHjEYmzEJ7QqHRKrUZDN491y91ii86uePxNXsZobhmmTbun61X7TSfEVfO6+8466998I3l/ZC9ZfoRogT2IVAOPkJGSk5SVkQKYmZo5W5aen56aogKcVqCnqAOjmzSdqa+Vq5mlVbC2krKYtI63vbmkraa9t7+7U8PEucZSyLbFwbXNr88zrtKo1C7W16DZLdvcocrQvOGf3ijg5pToJ+rruOPVwvCx8tr09ZPtJu/6qve+5fsHiR8If/oMfkBYT+EgZgTjyVoWJaLEVRShWLwUMKzdwIgOGx3b+ChkmGgkTVZgCE8lBZbrXE6AaU6mBJrhbEbAyU0nBJ7XfAYAKk0o0WZGPxJMinIj03JOO7pT+k9hhwu/smrFaAhMha1gty66aiGsWakRdng4y1bUWBlY28p9q2Gt3LZ0S8S9ezavA7t8zfpt8jWw4K5myhoOOxiPEhRM5Dw+EdnxZBCV+1z+kFnQZs6dyX62EFr0aAql4Z6ukLruatat/75GfSMBACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTCHUAONjo+QkAKTlJWJO4JZkZublZ4Clx2ZU5yljp+WfySLT6amqJShGKwErqWwk7IQtLacuKCqI7y9kb+6V6NSxMW4x0AfYcuSzcE2yVHSj8bVIcPZA9s4TdBg343hPSne2egWK+vS7ULq14zm8kvjHtH31OL05LSYA+cv3ap6rfrBcuYFYS2FqBgygLcM3xF9Fvh9s4gC0mMFjewKuvNIAWQ8kfMOBtQE8ZPEPStJtfT0ssi+cjNT/VN5U2DOWNw4UCTGMcA7hwOLHo2p7GeuoBuG9lJKcoLJiijzAezJcmPWi1sz4vS6ECompticAtspDKnamoHQ2iMb0awouQnpurQ7y61emnx3+Q1Zlm2OE7+oAkKcuLBBNYwb7zVcx4TkupQNWb4MODOTyJyfekYCOjTcpR5C63wMZ7Pqtawrf3gtOjaghkqM3kZtZDfvIL6ryggeFjjxtrmPI1ei3Fry5kJz64Z+lvmQBAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRVECv2wf4vH6/j4o3c3aCfISEfkUcgYJ1hY15h0CJTIt3jo2QPZJFlIyWhZg8mkCcdJ6fV38aipSmhqiIgJOkrXygNKI9pAK0fa+RsZuzvI++mcCjwsMDtkbHucnDzE3OPLrKeNJTqrKc18vFodQ01tfZuNXQvObiM+TK69vB3eXgt+wy7tH1zfHI8+/7pvV79k8fl1QZVi3yBi8hN1b0DsIaiK6guoDaHMqDCFCl4i+K49LRaohB4aCIYSZq9MfRYMqPKwm2vOjRGMh2IluRvGCyUseXNmNWnDkS47mQFovWDHcTX05TOy307PTTDMKSDxeitKoS60atVXdc5Zn1ZNg1Y6WW9emSK0yvLMG2Fds1xFRddOKsuItXrwq+uvymAExKMArCnAyfQExJsQnGixyXgCxIMgnKdiyPwFxHM4zPoEOLHk26tOnTqFOrXs26NekEACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrcHTDKSauVLuvNr/8eJ44ZaJ4BqZJoe63w5s5TbD90fu9ArvM2Hw0YFLqIMeMRibMQntCodEqtRkM3j3XL3WKLzq54/E1exmhuGaZNu6frVftNJ8RV87r7zjrr33wjeX9kL1l+hGiBPRcCjo+QA5KTlJWWl5iUXjSQnQKZoKGgmzOekaKoqaQupo+pr6GrLa2OsLaXsii0n7e9krknu76+wCbCw7fFIMfIsMofzM2qVjnR0qLPHtbXo9SctNzTVdXg4djepeXm3ePfreux6Kzq8Ljys/T1ldmN+fqT/Cxs+zcgYIWB/wxSQKhP4QSG9RxKgAhPYgSK6yxCwGhOqmMAjuE8guQm0h/Bku8I7runy2RClsFcNoRpTGZEmstsVsQJTWdGntp8dgTaL6VKgEQFCg2Z9OBSkk0XPr32rEPRXVizQlpkVanWr1i5yrgKtmwnsRqCml37CG0JsmzLunWgNq7ZuU2c2r1rCIzevWDxMqgLWKvgBYQLh+3LRIGSFo3xPD4Ruc9kEJUFXcacuetmxp3pfj4MZDRpHqZBhx6cusLqtK0p7EgAACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTAnAoyNjgOQkZKTk2GJOyaOmgKUnZ2WfySLm42eppGgOE0fpKWnpqk9KaOtr7Bglx2ZrZy2n7ihI7Skvr9owTa7tcWVwKqzysTMkrEWK8Ob09TOsqLR2dqQ1ULQrLzh4tzWqx68veHjS+wW7ugD8UfzFfXo+Cj6FPjBU0fOm7llA489M9juXD+C8so1RKjNX4Br3zTZs4jx2KC0hFuQhcCm8aHCbsIyPjIZcmFKj+BAuhHJgeRKmX5cJoNZEuccmhtsuvJJCCgmnjcrQswnkZ5Donh0jlQ5VOnJdU33PbXaEuXOiR+5zpRakyqjjUv/ZQ24dRpHgBMEis3pdSrSqm7TXoQrQW7eqwVfgo059yfZoGbfFS56+Ojgnouj1qUh1B2jXEMqW8b8Q7M7zj488wKtQ3Qr0jlMk0JdQ/Um1pQTfzaaRPZo2pltn8YNSAlTQHxbAH/hW+1whkaOB4etvPhe5YKTQ48eZDp1Hta/Sv+RAAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRWzio2+94vGDP78cvczp5g4N9hgJ/FoE5hI12h35iG4s4jo6QfIkVlDeWjZh7mhScNp6EoIiSGqQEpoWgohOsrnmosRKztHe2qhm5unW8RRy/wMJAxF9JwI+wvRjFusc9yUjLzAPTPNVP18zaNNxa3sbOw5PKQ9jZ5sjo1urY4Ebv3fHf7dT14/flmLcRotGa12QfGXLS8m0zWAPhQIXhGAZx6IrglFXp6MiDSA+oIzyN+P49A5RR0EaR5zzaA+kPEkAIAityLKiSH8uEKN3VPNgPp8uRikoyOvkzpS+hlYgeevkgpimL4njefJhT386GPakW1Xn0o8mQW612Xfm15VKgm5B2UmqIqQOnnqCWkIJKLhomdWdebIM3b9iFd4v4/RsxMJDBZ42yoIs4kuIVjBuHQosismS3ISw3xgxCM2LOMEKLHk26tOnTqFOrXs26tevXoxMAADs=";function mf(t,A,e){const r=t.slice();return r[31]=A[e],r}function Cf(t,A,e){const r=t.slice();return r[34]=A[e],r}function yf(t,A,e){const r=t.slice();return r[12]=A[e],r}function qE(t){let A,e,r,n;const s=[ZE,YE],i=[];function a(l,c){return!l[1]&&l[2]?0:1}return e=a(t),r=i[e]=s[e](t),{c(){A=k("div"),r.c(),C(A,"class","flex flex-col items-center gap-6")},m(l,c){W(l,A,c),i[e].m(A,null),n=!0},p(l,c){let u=e;e=a(l),e===u?i[e].p(l,c):(he(),lA(i[u],1,1,()=>{i[u]=null}),fe(),r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),tA(r,1),r.m(A,null))},i(l){n||(tA(r),n=!0)},o(l){lA(r),n=!1},d(l){l&&G(A),i[e].d()}}}function zE(t){let A,e,r,n,s,i,a,l,c,u;function f(S,M){return S[0].data&&S[0].data.length>10?rv:tv}let g=f(t),B=g(t);function Q(S,M){return S[9]?sv:nv}let y=Q(t),F=y(t),R=OA(t[0].guesses),D=[];for(let S=0;S<R.length;S+=1)D[S]=Tf(yf(t,R,S));let T=!t[0].guessed&&t[2].name!==t[0].artist&&Hf(t);return{c(){A=k("div"),e=k("div"),B.c(),r=X(),n=k("div"),s=k("h2"),s.textContent="What's this?",i=X(),a=k("p"),F.c(),l=X(),c=k("div");for(let S=0;S<D.length;S+=1)D[S].c();u=X(),T&&T.c(),C(e,"class","bg-white/90 p-2 rounded-lg w-full max-w-[min(90vw,300px)] aspect-square flex items-center justify-center mx-auto border-2 border-primary"),C(s,"class","text-xl font-bold mb-2 text-primary"),C(a,"class","mb-4"),C(c,"class","flex flex-wrap gap-2 w-full overflow-y-auto"),C(n,"class","w-full max-w-[min(90vw,400px)]"),C(A,"class","flex flex-col items-center gap-6")},m(S,M){W(S,A,M),v(A,e),B.m(e,null),v(A,r),v(A,n),v(n,s),v(n,i),v(n,a),F.m(a,null),v(n,l),v(n,c);for(let L=0;L<D.length;L+=1)D[L]&&D[L].m(c,null);v(A,u),T&&T.m(A,null)},p(S,M){if(g===(g=f(S))&&B?B.p(S,M):(B.d(1),B=g(S),B&&(B.c(),B.m(e,null))),y===(y=Q(S))&&F?F.p(S,M):(F.d(1),F=y(S),F&&(F.c(),F.m(a,null))),M[0]&1){R=OA(S[0].guesses);let L;for(L=0;L<R.length;L+=1){const E=yf(S,R,L);D[L]?D[L].p(E,M):(D[L]=Tf(E),D[L].c(),D[L].m(c,null))}for(;L<D.length;L+=1)D[L].d(1);D.length=R.length}!S[0].guessed&&S[2].name!==S[0].artist?T?T.p(S,M):(T=Hf(S),T.c(),T.m(A,null)):T&&(T.d(1),T=null)},i:nA,o:nA,d(S){S&&G(A),B.d(),F.d(),Me(D,S),T&&T.d()}}}function YE(t){var I,U,b;let A,e,r,n,s=(((I=t[1])==null?void 0:I.secretWord.toUpperCase())??"")+"",i,a,l=(b=(U=t[2])==null?void 0:U.upgrades)==null?void 0:b.includes(XA.ColorPicker),c,u,f,g,B,Q,y,F,R,D=t[4]?"Posting, great work...":"Submit Drawing",T,S,M,L,E,p=l&&Qf(t),_={};return f=new JE({props:_}),t[24](f),{c(){A=k("div"),e=k("h2"),r=iA("Ok, let's draw "),n=k("span"),i=iA(s),a=X(),p&&p.c(),c=X(),u=k("div"),de(f.$$.fragment),g=X(),B=k("div"),Q=k("button"),Q.textContent="Clear",y=X(),F=k("button"),R=k("span"),T=iA(D),C(n,"class","font-bold text-black"),C(e,"class","text-xl mb-4 text-black/60"),C(Q,"class","btn btn-outline flex-1"),C(F,"class",S=t[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"),C(B,"class","flex flex-row gap-2 mt-4 w-full"),C(u,"class","w-full aspect-square max-w-[min(90vw,400px)] mx-auto"),C(A,"class","w-full h-screen")},m(w,Z){W(w,A,Z),v(A,e),v(e,r),v(e,n),v(n,i),v(e,a),p&&p.m(e,null),v(A,c),v(A,u),ie(f,u,null),v(u,g),v(u,B),v(B,Q),v(B,y),v(B,F),v(F,R),v(R,T),M=!0,L||(E=[fA(Q,"click",t[25]),fA(F,"click",t[26])],L=!0)},p(w,Z){var _A,O,mA;(!M||Z[0]&2)&&s!==(s=(((_A=w[1])==null?void 0:_A.secretWord.toUpperCase())??"")+"")&&bA(i,s),Z[0]&4&&(l=(mA=(O=w[2])==null?void 0:O.upgrades)==null?void 0:mA.includes(XA.ColorPicker)),l?p?p.p(w,Z):(p=Qf(w),p.c(),p.m(e,null)):p&&(p.d(1),p=null);const AA={};f.$set(AA),(!M||Z[0]&16)&&D!==(D=w[4]?"Posting, great work...":"Submit Drawing")&&bA(T,D),(!M||Z[0]&16&&S!==(S=w[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"))&&C(F,"class",S)},i(w){M||(tA(f.$$.fragment,w),M=!0)},o(w){lA(f.$$.fragment,w),M=!1},d(w){w&&G(A),p&&p.d(),t[24](null),oe(f),L=!1,Qe(E)}}}function ZE(t){let A,e,r,n,s,i,a,l=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"",c,u,f,g,B,Q={ctx:t,current:null,token:null,hasCatch:!1,pending:ev,then:Av,catch:$E,value:30};return bu(B=t[7],Q),{c(){A=k("div"),e=k("h2"),e.textContent="Pick a word to draw",r=X(),n=k("p"),s=k("span"),i=iA("You get coins as the artist, and "),a=k("span"),c=iA(l),u=iA(" gets coins for guessing correctly!"),f=X(),g=k("div"),Q.block.c(),C(e,"class","text-xl font-bold mb-2 text-black"),C(a,"class","font-bold"),C(n,"class","mb-6 text-black/60 italic tooltip flex flex-row gap-2 text-xs"),C(g,"class","flex flex-col gap-4 w-full"),C(A,"class","w-full flex flex-col items-center")},m(y,F){W(y,A,F),v(A,e),v(A,r),v(A,n),v(n,s),v(s,i),v(s,a),v(a,c),v(s,u),v(A,f),v(A,g),Q.block.m(g,Q.anchor=null),Q.mount=()=>g,Q.anchor=null},p(y,F){t=y,F[0]&12&&l!==(l=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"")&&bA(c,l),Q.ctx=t,F[0]&128&&B!==(B=t[7])&&bu(B,Q)||zw(Q,t,F)},i:nA,o:nA,d(y){y&&G(A),Q.block.d(),Q.token=null,Q=null}}}function Qf(t){let A,e,r,n,s;return{c(){A=k("p"),e=iA(` Purchase color wheel in the
								
								
								`),r=k("span"),r.textContent="Store",C(r,"class","font-bold text-primary cursor-pointer"),C(A,"class","text-xs text-black/60 italic pt-4")},m(i,a){W(i,A,a),v(A,e),v(A,r),n||(s=fA(r,"click",t[23]),n=!0)},p:nA,d(i){i&&G(A),n=!1,s()}}}function $E(t){return{c:nA,m:nA,p:nA,d:nA}}function Av(t){let A,e,r,n=t[8]?"Refreshing...":"Refresh Words",s,i,a,l,c,u,f,g,B,Q=OA(t[30]),y=[];for(let R=0;R<Q.length;R+=1)y[R]=Ef(mf(t,Q,R));let F=!t[8]&&vf();return{c(){for(let R=0;R<y.length;R+=1)y[R].c();A=X(),e=k("button"),r=k("span"),s=iA(n),i=X(),F&&F.c(),l=X(),c=k("p"),u=iA(`Get 5 options instead of 3 in the
								`),f=k("span"),f.textContent="Store",C(e,"class",a="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!t[2]||t[2].coins<5||t[8]?"opacity-20 cursor-not-allowed":"")),C(f,"class","font-bold text-primary cursor-pointer"),C(c,"class","text-xs text-black/60 italic")},m(R,D){for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(R,D);W(R,A,D),W(R,e,D),v(e,r),v(r,s),v(e,i),F&&F.m(e,null),W(R,l,D),W(R,c,D),v(c,u),v(c,f),g||(B=[fA(e,"click",t[21]),fA(f,"click",t[22])],g=!0)},p(R,D){if(D[0]&142){Q=OA(R[30]);let T;for(T=0;T<Q.length;T+=1){const S=mf(R,Q,T);y[T]?y[T].p(S,D):(y[T]=Ef(S),y[T].c(),y[T].m(A.parentNode,A))}for(;T<y.length;T+=1)y[T].d(1);y.length=Q.length}D[0]&256&&n!==(n=R[8]?"Refreshing...":"Refresh Words")&&bA(s,n),R[8]?F&&(F.d(1),F=null):F||(F=vf(),F.c(),F.m(e,null)),D[0]&260&&a!==(a="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!R[2]||R[2].coins<5||R[8]?"opacity-20 cursor-not-allowed":""))&&C(e,"class",a)},d(R){R&&(G(A),G(e),G(l),G(c)),Me(y,R),F&&F.d(),g=!1,Qe(B)}}}function _f(t){let A,e;return{c(){A=k("img"),Pe(A.src,e=Mr)||C(A,"src",e),C(A,"class","w-4 h-4")},m(r,n){W(r,A,n)},p:nA,d(r){r&&G(A)}}}function Ef(t){let A,e,r,n=t[31].secretWord.toUpperCase()+"",s,i,a,l=t[31].createdBy?"by "+t[31].createdBy:"",c,u,f,g,B,Q,y=OA(Array(t[31].coins)),F=[];for(let D=0;D<y.length;D+=1)F[D]=_f(Cf(t,y,D));function R(){return t[20](t[31])}return{c(){A=k("button"),e=k("div"),r=k("span"),s=iA(n),i=X(),a=k("span"),c=iA(l),u=X(),f=k("span");for(let D=0;D<F.length;D+=1)F[D].c();C(r,"class","text-sm font-semibold"),C(a,"class","text-[0.8rem] text-white opacity-80"),C(e,"class","flex flex-col items-start gap-1"),C(f,"class","flex items-center gap-1"),C(A,"class",g="btn flex flex-row items-center justify-between w-full border "+(t[31].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))},m(D,T){W(D,A,T),v(A,e),v(e,r),v(r,s),v(e,i),v(e,a),v(a,c),v(A,u),v(A,f);for(let S=0;S<F.length;S+=1)F[S]&&F[S].m(f,null);B||(Q=fA(A,"click",R),B=!0)},p(D,T){if(t=D,T[0]&128&&n!==(n=t[31].secretWord.toUpperCase()+"")&&bA(s,n),T[0]&128&&l!==(l=t[31].createdBy?"by "+t[31].createdBy:"")&&bA(c,l),T[0]&128){y=OA(Array(t[31].coins));let S;for(S=0;S<y.length;S+=1){const M=Cf(t,y,S);F[S]?F[S].p(M,T):(F[S]=_f(),F[S].c(),F[S].m(f,null))}for(;S<F.length;S+=1)F[S].d(1);F.length=y.length}T[0]&128&&g!==(g="btn flex flex-row items-center justify-between w-full border "+(t[31].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))&&C(A,"class",g)},d(D){D&&G(A),Me(F,D),B=!1,Q()}}}function vf(t){let A;return{c(){A=k("span"),A.innerHTML=`5 <img src="${Mr}" class="w-4 h-4 inline" alt="coin"/>`,C(A,"class","text-xs items-center flex flex-row gap-1")},m(e,r){W(e,A,r)},d(e){e&&G(A)}}}function ev(t){return{c:nA,m:nA,p:nA,d:nA}}function tv(t){let A;return{c(){A=k("span"),A.textContent="No drawing yet",C(A,"class","text-accent")},m(e,r){W(e,A,r)},p:nA,d(e){e&&G(A)}}}function rv(t){let A,e;return{c(){A=k("img"),Pe(A.src,e=`${t[0].data}`)||C(A,"src",e),C(A,"class","w-full h-full object-contain"),C(A,"alt","Current drawing")},m(r,n){W(r,A,n)},p(r,n){n[0]&1&&!Pe(A.src,e=`${r[0].data}`)&&C(A,"src",e)},d(r){r&&G(A)}}}function nv(t){let A,e,r=t[0].artist+"",n,s,i,a=(t[0].hintPurchased||t[0].superHintPurchased)&&Uf(t);return{c(){A=iA("Drawn by "),e=k("span"),n=iA(r),s=X(),a&&a.c(),i=ot(),C(e,"class","font-bold text-secondary")},m(l,c){W(l,A,c),W(l,e,c),v(e,n),W(l,s,c),a&&a.m(l,c),W(l,i,c)},p(l,c){c[0]&1&&r!==(r=l[0].artist+"")&&bA(n,r),l[0].hintPurchased||l[0].superHintPurchased?a?a.p(l,c):(a=Uf(l),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(l){l&&(G(A),G(e),G(s),G(i)),a&&a.d(l)}}}function sv(t){let A,e,r=t[0].secretWord+"",n;return{c(){A=iA("You drew this. The secret word is "),e=k("span"),n=iA(r),C(e,"class","font-bold text-secondary")},m(s,i){W(s,A,i),W(s,e,i),v(e,n)},p(s,i){i[0]&1&&r!==(r=s[0].secretWord+"")&&bA(n,r)},d(s){s&&(G(A),G(e))}}}function Uf(t){let A,e,r=t[0].hintPurchased&&Ff(t),n=t[0].superHintPurchased&&If(t);return{c(){A=k("ul"),r&&r.c(),e=X(),n&&n.c(),C(A,"class","pl-4 mt-1 space-y-1")},m(s,i){W(s,A,i),r&&r.m(A,null),v(A,e),n&&n.m(A,null)},p(s,i){s[0].hintPurchased?r?r.p(s,i):(r=Ff(s),r.c(),r.m(A,e)):r&&(r.d(1),r=null),s[0].superHintPurchased?n?n.p(s,i):(n=If(s),n.c(),n.m(A,null)):n&&(n.d(1),n=null)},d(s){s&&G(A),r&&r.d(),n&&n.d()}}}function Ff(t){let A,e=zh(t[0])+"",r;return{c(){A=k("li"),r=iA(e),C(A,"class","text-xs list-disc text-accent/70")},m(n,s){W(n,A,s),v(A,r)},p(n,s){s[0]&1&&e!==(e=zh(n[0])+"")&&bA(r,e)},d(n){n&&G(A)}}}function If(t){let A,e=Yh(t[0])+"",r;return{c(){A=k("li"),r=iA(e),C(A,"class","text-xs list-disc text-accent/70")},m(n,s){W(n,A,s),v(A,r)},p(n,s){s[0]&1&&e!==(e=Yh(n[0])+"")&&bA(r,e)},d(n){n&&G(A)}}}function bf(t){let A,e=t[12]+"",r,n;return{c(){A=k("div"),r=iA(e),n=X(),C(A,"class","bg-accent-light px-3 py-1 rounded-full text-black/60 border border-accent")},m(s,i){W(s,A,i),v(A,r),v(A,n)},p(s,i){i[0]&1&&e!==(e=s[12]+"")&&bA(r,e)},d(s){s&&G(A)}}}function Tf(t){let A,e=t[12]&&bf(t);return{c(){e&&e.c(),A=ot()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,n){r[12]?e?e.p(r,n):(e=bf(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&G(A),e&&e.d(r)}}}function Hf(t){let A,e,r,n,s,i,a,l,c;function u(B,Q){if(!B[0].hintPurchased)return ov;if(!B[0].superHintPurchased)return iv}let f=u(t),g=f&&f(t);return{c(){A=k("div"),e=k("div"),g&&g.c(),r=X(),n=k("div"),s=k("input"),i=X(),a=k("button"),a.textContent="Guess",C(e,"class","flex gap-2"),C(s,"type","text"),C(s,"placeholder","Type your guess..."),C(s,"class","input input-bordered flex-1 bg-white text-black border-primary"),C(a,"class","btn btn-primary"),C(n,"class","flex gap-2"),C(A,"class","flex flex-col gap-2 w-full max-w-[min(90vw,400px)]")},m(B,Q){W(B,A,Q),v(A,e),g&&g.m(e,null),v(A,r),v(A,n),v(n,s),Et(s,t[12]),v(n,i),v(n,a),l||(c=[fA(s,"input",t[16]),fA(s,"keydown",t[17]),fA(a,"click",t[18])],l=!0)},p(B,Q){f===(f=u(B))&&g?g.p(B,Q):(g&&g.d(1),g=f&&f(B),g&&(g.c(),g.m(e,null))),Q[0]&4096&&s.value!==B[12]&&Et(s,B[12])},d(B){B&&G(A),g&&g.d(),l=!1,Qe(c)}}}function iv(t){let A,e=t[11]?"Purchasing...":"Super Hint (10 ",r,n,s,i=t[11]?"":")",a,l,c,u,f;return{c(){A=k("button"),r=iA(e),n=k("img"),a=iA(i),Pe(n.src,s=Mr)||C(n,"src",s),C(n,"class","w-4 h-4 inline"),C(A,"class",l="btn btn-outline flex-1 "+(t[2].coins<10||t[11]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<10||t[11]},m(g,B){W(g,A,B),v(A,r),v(A,n),v(A,a),u||(f=fA(A,"click",t[15]),u=!0)},p(g,B){B[0]&2048&&e!==(e=g[11]?"Purchasing...":"Super Hint (10 ")&&bA(r,e),B[0]&2048&&i!==(i=g[11]?"":")")&&bA(a,i),B[0]&2052&&l!==(l="btn btn-outline flex-1 "+(g[2].coins<10||g[11]?"opacity-40 btn-error cursor-not-allowed":""))&&C(A,"class",l),B[0]&2052&&c!==(c=g[2].coins<10||g[11])&&(A.disabled=c)},d(g){g&&G(A),u=!1,f()}}}function ov(t){let A,e=t[10]?"Purchasing...":"Hint (5 ",r,n,s,i=t[10]?"":")",a,l,c,u,f;return{c(){A=k("button"),r=iA(e),n=k("img"),a=iA(i),Pe(n.src,s=Mr)||C(n,"src",s),C(n,"class","w-4 h-4 inline"),C(A,"class",l="btn btn-outline flex-1 "+(t[2].coins<5||t[10]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<5||t[10]},m(g,B){W(g,A,B),v(A,r),v(A,n),v(A,a),u||(f=fA(A,"click",t[14]),u=!0)},p(g,B){B[0]&1024&&e!==(e=g[10]?"Purchasing...":"Hint (5 ")&&bA(r,e),B[0]&1024&&i!==(i=g[10]?"":")")&&bA(a,i),B[0]&1028&&l!==(l="btn btn-outline flex-1 "+(g[2].coins<5||g[10]?"opacity-40 btn-error cursor-not-allowed":""))&&C(A,"class",l),B[0]&1028&&c!==(c=g[2].coins<5||g[10])&&(A.disabled=c)},d(g){g&&G(A),u=!1,f()}}}function av(t){let A,e,r,n;const s=[zE,qE],i=[];function a(l,c){return l[3]&&l[2]&&l[0]?0:l[2]&&l[3]?1:-1}return~(e=a(t))&&(r=i[e]=s[e](t)),{c(){A=k("div"),r&&r.c(),C(A,"class","rounded-lg p-9 bg-background flex flex-col justify-center")},m(l,c){W(l,A,c),~e&&i[e].m(A,null),n=!0},p(l,c){let u=e;e=a(l),e===u?~e&&i[e].p(l,c):(r&&(he(),lA(i[u],1,1,()=>{i[u]=null}),fe()),~e?(r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),tA(r,1),r.m(A,null)):r=null)},i(l){n||(tA(r),n=!0)},o(l){lA(r),n=!1},d(l){l&&G(A),~e&&i[e].d()}}}function lv(t,A,e){let r,n,s;ZA(t,qA,AA=>e(2,r=AA)),ZA(t,He,AA=>e(3,n=AA)),ZA(t,Si,AA=>e(27,s=AA));let i=null,a="",l=null,c=!1,u,f=0,g,B=!1,Q=!1,y=!1,F=!1;async function R(AA){if(!n||!r||!i||!AA.trim()||(e(12,a=""),i.guesses.includes(AA)))return;const _A={...i};_A.guesses.push(AA);const O={...n},mA=O.drawings.findIndex(IA=>!IA.guessed&&IA.artist===_A.artist);mA>=0&&(O.drawings[mA]=_A,Te(He,n=O,n));try{await yE(n,r,AA)}catch(IA){console.error("Error submitting guess:",IA)}}async function D(){if(!r||!i||!n||i.hintPurchased||r.coins<5||y)return;e(10,y=!0),await EE(n,i,r)&&await Ir(r.name,-5),e(10,y=!1)}async function T(){if(!r||!i||!n||!i.hintPurchased||r.coins<10||F)return;e(11,F=!0),await vE(n,i,r)&&await Ir(r.name,-10),e(11,F=!1)}function S(){a=this.value,e(12,a)}const M=AA=>{AA.key==="Enter"&&a.length>0&&R(a)},L=()=>R(a),E=AA=>AA!==((r==null?void 0:r.name)||""),p=async AA=>{n&&r&&(await QE(n,r.name,AA),e(1,l={secretWord:AA.secretWord,coins:AA.coins,data:"",artist:r.name,guessed:!1,guesses:[],createdAt:new Date,guessedBy:"",hintPurchased:!1,superHintPurchased:!1,comments:[],likes:[]}))},_=async()=>{var AA;if(r&&r.coins>=5&&!B){e(8,B=!0);try{if(await Ir(r.name,-5),e(6,f++,f),!n)return;e(7,g=Pi((AA=r==null?void 0:r.upgrades)!=null&&AA.includes(XA.MoreWordOptions)?5:3,n,!0))}finally{setTimeout(()=>{e(8,B=!1)},1e3)}}},I=()=>{window.location.href="/?page=store"},U=()=>{window.location.href="/?page=store"};function b(AA){ds[AA?"unshift":"push"](()=>{u=AA,e(5,u)})}const w=()=>u.clearCanvas(),Z=async()=>{if(l&&n&&r&&!c){e(4,c=!0);try{const AA=u.getImageData();if(!AA)throw new Error("No drawing data");const _A={...l,data:AA};Te(He,n.wordOptions=[],n),n.drawings.push(_A),await ks(n),e(1,l=null),Te(He,n=null,n)}catch(AA){console.error("Error submitting drawing:",AA)}finally{e(4,c=!1)}}};return t.$$.update=()=>{var AA,_A;if(t.$$.dirty[0]&13&&n&&r){const O=Fc(n,r.name);e(0,i=O?_E(O):null),e(9,Q=r.name===(i==null?void 0:i.artist))}t.$$.dirty[0]&12&&e(7,g=n?Pi((AA=r==null?void 0:r.upgrades)!=null&&AA.includes(XA.MoreWordOptions)?5:3,n):Pi((_A=r==null?void 0:r.upgrades)!=null&&_A.includes(XA.MoreWordOptions)?5:3)),t.$$.dirty[0]&2&&(l?Te(Si,s=!0,s):Te(Si,s=!1,s))},[i,l,r,n,c,u,f,g,B,Q,y,F,a,R,D,T,S,M,L,E,p,_,I,U,b,w,Z]}class cv extends Ye{constructor(A){super(),ze(this,A,lv,av,Oe,{},null,[-1,-1])}}const{Boolean:uv}=Zd;function Sf(t,A,e){const r=t.slice();return r[19]=A[e],r}function Rf(t){let A,e,r;return{c(){A=k("button"),A.textContent="",C(A,"class","absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-black p-2")},m(n,s){W(n,A,s),e||(r=fA(A,"click",t[11]),e=!0)},p:nA,d(n){n&&G(A),e=!1,r()}}}function hv(t){let A,e,r=OA(t[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Lf(Sf(t,r,i));const s=i=>lA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=ot()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);W(i,A,a),e=!0},p(i,a){if(a&180){r=OA(i[2]);let l;for(l=0;l<r.length;l+=1){const c=Sf(i,r,l);n[l]?(n[l].p(c,a),tA(n[l],1)):(n[l]=Lf(c),n[l].c(),tA(n[l],1),n[l].m(A.parentNode,A))}for(he(),l=r.length;l<n.length;l+=1)s(l);fe()}},i(i){if(!e){for(let a=0;a<r.length;a+=1)tA(n[a]);e=!0}},o(i){n=n.filter(uv);for(let a=0;a<n.length;a+=1)lA(n[a]);e=!1},d(i){i&&G(A),Me(n,i)}}}function fv(t){let A;return{c(){A=k("div"),A.textContent="No users found",C(A,"class","text-center py-8 text-black/60")},m(e,r){W(e,A,r)},p:nA,i:nA,o:nA,d(e){e&&G(A)}}}function dv(t){let A;return{c(){A=k("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',C(A,"class","flex items-center justify-center py-8")},m(e,r){W(e,A,r)},p:nA,i:nA,o:nA,d(e){e&&G(A)}}}function Df(t){let A,e;function r(...a){return t[12](t[19],...a)}function n(...a){return t[13](t[19],...a)}function s(...a){return t[14](t[19],...a)}function i(){return t[15](t[19])}return A=new Ic({props:{name:t[19].name,coins:t[19].coins,showAvatar:!0,subtitle:t[4].filter(r).length>0?`${t[4].filter(n).length} game${t[4].filter(s).length>1?"s":""}`:null,onClick:i}}),{c(){de(A.$$.fragment)},m(a,l){ie(A,a,l),e=!0},p(a,l){t=a;const c={};l&4&&(c.name=t[19].name),l&4&&(c.coins=t[19].coins),l&20&&(c.subtitle=t[4].filter(r).length>0?`${t[4].filter(n).length} game${t[4].filter(s).length>1?"s":""}`:null),l&4&&(c.onClick=i),A.$set(c)},i(a){e||(tA(A.$$.fragment,a),e=!0)},o(a){lA(A.$$.fragment,a),e=!1},d(a){oe(A,a)}}}function Lf(t){let A,e,r=t[5]&&t[5].name!==t[19].name&&Df(t);return{c(){r&&r.c(),A=ot()},m(n,s){r&&r.m(n,s),W(n,A,s),e=!0},p(n,s){n[5]&&n[5].name!==n[19].name?r?(r.p(n,s),s&36&&tA(r,1)):(r=Df(n),r.c(),tA(r,1),r.m(A.parentNode,A)):r&&(he(),lA(r,1,1,()=>{r=null}),fe())},i(n){e||(tA(r),e=!0)},o(n){lA(r),e=!1},d(n){n&&G(A),r&&r.d(n)}}}function gv(t){let A,e,r,n,s,i,a,l,c,u,f,g,B,Q,y,F,R,D;r=new ko({props:{navigate:t[0]}});let T=t[1]&&Rf(t);const S=[dv,fv,hv],M=[];function L(E,p){return E[3]?0:E[2].length===0?1:2}return Q=L(t),y=M[Q]=S[Q](t),{c(){A=k("div"),e=k("div"),de(r.$$.fragment),n=X(),s=k("h2"),s.textContent="Challenge a friend",i=X(),a=k("p"),a.textContent="Tap on a user to start a new game",l=X(),c=k("div"),u=k("input"),f=X(),T&&T.c(),g=X(),B=k("div"),y.c(),C(s,"class","text-xl font-bold text-primary"),C(a,"class","text-sm text-black/60"),C(e,"class","flex flex-col gap-2"),C(u,"type","text"),C(u,"placeholder","Search users..."),C(u,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-base px-4 py-3 shadow-sm"),C(u,"autocorrect","off"),C(c,"class","relative"),C(B,"class","flex flex-col w-full gap-2 pt-2 overflow-y-auto"),C(A,"class","flex flex-col gap-4 p-4 pt-24")},m(E,p){W(E,A,p),v(A,e),ie(r,e,null),v(e,n),v(e,s),v(e,i),v(e,a),v(A,l),v(A,c),v(c,u),Et(u,t[1]),v(c,f),T&&T.m(c,null),v(A,g),v(A,B),M[Q].m(B,null),F=!0,R||(D=[fA(u,"input",t[6]),fA(u,"input",t[10])],R=!0)},p(E,[p]){const _={};p&1&&(_.navigate=E[0]),r.$set(_),p&2&&u.value!==E[1]&&Et(u,E[1]),E[1]?T?T.p(E,p):(T=Rf(E),T.c(),T.m(c,null)):T&&(T.d(1),T=null);let I=Q;Q=L(E),Q===I?M[Q].p(E,p):(he(),lA(M[I],1,1,()=>{M[I]=null}),fe(),y=M[Q],y?y.p(E,p):(y=M[Q]=S[Q](E),y.c()),tA(y,1),y.m(B,null))},i(E){F||(tA(r.$$.fragment,E),tA(y),F=!0)},o(E){lA(r.$$.fragment,E),lA(y),F=!1},d(E){E&&G(A),oe(r),T&&T.d(),M[Q].d(),R=!1,Qe(D)}}}function Bv(t,A,e){let r,n,s,i,a;ZA(t,qA,L=>e(5,n=L)),ZA(t,He,L=>e(18,s=L)),ZA(t,Tl,L=>e(8,i=L)),ZA(t,Qn,L=>e(9,a=L));let l="",c=[],u,f=!0,g=!1,{navigate:B}=A;function Q(){clearTimeout(u),u=setTimeout(async()=>{e(3,f=!0),e(2,c=await Xh(l)),e(3,f=!1)},300)}(async()=>(e(3,f=!0),e(2,c=await Xh("")),e(3,f=!1)))();async function y(L){if(!(!n||g)){g=!0;try{Te(He,s=await gE([n.name,L.name]),s)}catch(E){console.error("Error creating game:",E)}finally{g=!1}}}function F(){l=this.value,e(1,l)}const R=()=>{e(1,l=""),Q()},D=(L,E)=>E.users.includes(L.name),T=(L,E)=>E.users.includes(L.name),S=(L,E)=>E.users.includes(L.name),M=L=>y(L);return t.$$set=L=>{"navigate"in L&&e(0,B=L.navigate)},t.$$.update=()=>{t.$$.dirty&768&&e(4,r=a.map(L=>i[L]).filter(Boolean))},[B,l,c,f,r,n,Q,y,i,a,F,R,D,T,S,M]}class pv extends Ye{constructor(A){super(),ze(this,A,Bv,gv,Oe,{navigate:0})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hl=function(t,A){return hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},hl(t,A)};function gt(t,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");hl(t,A);function e(){this.constructor=t}t.prototype=A===null?Object.create(A):(e.prototype=A.prototype,new e)}function $e(t,A,e,r){function n(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Ge(t,A){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,n,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(u){c=[6,u],n=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Lr=function(){function t(A,e,r,n){this.left=A,this.top=e,this.width=r,this.height=n}return t.prototype.add=function(A,e,r,n){return new t(this.left+A,this.top+e,this.width+r,this.height+n)},t.fromClientRect=function(A,e){return new t(e.left+A.windowBounds.left,e.top+A.windowBounds.top,e.width,e.height)},t.fromDOMRectList=function(A,e){var r=Array.from(e).find(function(n){return n.width!==0});return r?new t(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),bc=function(t,A){return Lr.fromClientRect(t,A.getBoundingClientRect())},xo=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},te=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},kf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var li=0;li<kf.length;li++)wv[kf.charCodeAt(li)]=li;var xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ci=0;ci<xf.length;ci++)zn[xf.charCodeAt(ci)]=ci;var mv=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,a,l;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=zn[t.charCodeAt(r)],i=zn[t.charCodeAt(r+1)],a=zn[t.charCodeAt(r+2)],l=zn[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|a>>2,u[n++]=(a&3)<<6|l&63;return c},Cv=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},yv=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},br=5,Tc=11,ya=2,Qv=Tc-br,mp=65536>>br,_v=1<<br,Qa=_v-1,Ev=1024>>br,vv=mp+Ev,Uv=vv,Fv=32,Iv=Uv+Fv,bv=65536>>Tc,Tv=1<<Qv,Hv=Tv-1,Vf=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},Sv=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},Rv=function(t,A){var e=mv(t),r=Array.isArray(e)?yv(e):new Uint32Array(e),n=Array.isArray(e)?Cv(e):new Uint16Array(e),s=24,i=Vf(n,s/2,r[4]/2),a=r[5]===2?Vf(n,(s+r[4])/2):Sv(r,Math.ceil((s+r[4])/4));return new Dv(r[0],r[1],r[2],r[3],i,a)},Dv=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>br],e=(e<<ya)+(A&Qa),this.data[e];if(A<=65535)return e=this.index[mp+(A-55296>>br)],e=(e<<ya)+(A&Qa),this.data[e];if(A<this.highStart)return e=Iv-bv+(A>>Tc),e=this.index[e],e+=A>>br&Hv,e=this.index[e],e=(e<<ya)+(A&Qa),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ui=0;ui<Pf.length;ui++)Lv[Pf.charCodeAt(ui)]=ui;var kv="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Mf=50,xv=1,Cp=2,yp=3,Vv=4,Pv=5,Of=7,Qp=8,Kf=9,Yt=10,fl=11,Nf=12,dl=13,Mv=14,Yn=15,gl=16,hi=17,On=18,Ov=19,Gf=20,Bl=21,Kn=22,_a=23,zr=24,We=25,Zn=26,$n=27,Yr=28,Kv=29,_r=30,Nv=31,fi=32,di=33,pl=34,wl=35,ml=36,Qs=37,Cl=38,Mi=39,Oi=40,Ea=41,_p=42,Gv=43,Wv=[9001,65288],Ep="!",TA="",gi="",yl=Rv(kv),Rt=[_r,ml],Ql=[xv,Cp,yp,Pv],vp=[Yt,Qp],Wf=[$n,Zn],jv=Ql.concat(vp),jf=[Cl,Mi,Oi,pl,wl],Xv=[Yn,dl],Jv=function(t,A){A===void 0&&(A="strict");var e=[],r=[],n=[];return t.forEach(function(s,i){var a=yl.get(s);if(a>Mf?(n.push(!0),a-=Mf):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(i),e.push(gl);if(a===Vv||a===fl){if(i===0)return r.push(i),e.push(_r);var l=e[i-1];return jv.indexOf(l)===-1?(r.push(r[i-1]),e.push(l)):(r.push(i),e.push(_r))}if(r.push(i),a===Nv)return e.push(A==="strict"?Bl:Qs);if(a===_p||a===Kv)return e.push(_r);if(a===Gv)return s>=131072&&s<=196605||s>=196608&&s<=262141?e.push(Qs):e.push(_r);e.push(a)}),[r,e,n]},va=function(t,A,e,r){var n=r[e];if(Array.isArray(t)?t.indexOf(n)!==-1:t===n)for(var s=e;s<=r.length;){s++;var i=r[s];if(i===A)return!0;if(i!==Yt)break}if(n===Yt)for(var s=e;s>0;){s--;var a=r[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=e;l<=r.length;){l++;var i=r[l];if(i===A)return!0;if(i!==Yt)break}if(a!==Yt)break}return!1},Xf=function(t,A){for(var e=t;e>=0;){var r=A[e];if(r===Yt)e--;else return r}return 0},qv=function(t,A,e,r,n){if(e[r]===0)return TA;var s=r-1;if(Array.isArray(n)&&n[s]===!0)return TA;var i=s-1,a=s+1,l=A[s],c=i>=0?A[i]:0,u=A[a];if(l===Cp&&u===yp)return TA;if(Ql.indexOf(l)!==-1)return Ep;if(Ql.indexOf(u)!==-1||vp.indexOf(u)!==-1)return TA;if(Xf(s,A)===Qp)return gi;if(yl.get(t[s])===fl||(l===fi||l===di)&&yl.get(t[a])===fl||l===Of||u===Of||l===Kf||[Yt,dl,Yn].indexOf(l)===-1&&u===Kf||[hi,On,Ov,zr,Yr].indexOf(u)!==-1||Xf(s,A)===Kn||va(_a,Kn,s,A)||va([hi,On],Bl,s,A)||va(Nf,Nf,s,A))return TA;if(l===Yt)return gi;if(l===_a||u===_a)return TA;if(u===gl||l===gl)return gi;if([dl,Yn,Bl].indexOf(u)!==-1||l===Mv||c===ml&&Xv.indexOf(l)!==-1||l===Yr&&u===ml||u===Gf||Rt.indexOf(u)!==-1&&l===We||Rt.indexOf(l)!==-1&&u===We||l===$n&&[Qs,fi,di].indexOf(u)!==-1||[Qs,fi,di].indexOf(l)!==-1&&u===Zn||Rt.indexOf(l)!==-1&&Wf.indexOf(u)!==-1||Wf.indexOf(l)!==-1&&Rt.indexOf(u)!==-1||[$n,Zn].indexOf(l)!==-1&&(u===We||[Kn,Yn].indexOf(u)!==-1&&A[a+1]===We)||[Kn,Yn].indexOf(l)!==-1&&u===We||l===We&&[We,Yr,zr].indexOf(u)!==-1)return TA;if([We,Yr,zr,hi,On].indexOf(u)!==-1)for(var f=s;f>=0;){var g=A[f];if(g===We)return TA;if([Yr,zr].indexOf(g)!==-1)f--;else break}if([$n,Zn].indexOf(u)!==-1)for(var f=[hi,On].indexOf(l)!==-1?i:s;f>=0;){var g=A[f];if(g===We)return TA;if([Yr,zr].indexOf(g)!==-1)f--;else break}if(Cl===l&&[Cl,Mi,pl,wl].indexOf(u)!==-1||[Mi,pl].indexOf(l)!==-1&&[Mi,Oi].indexOf(u)!==-1||[Oi,wl].indexOf(l)!==-1&&u===Oi||jf.indexOf(l)!==-1&&[Gf,Zn].indexOf(u)!==-1||jf.indexOf(u)!==-1&&l===$n||Rt.indexOf(l)!==-1&&Rt.indexOf(u)!==-1||l===zr&&Rt.indexOf(u)!==-1||Rt.concat(We).indexOf(l)!==-1&&u===Kn&&Wv.indexOf(t[a])===-1||Rt.concat(We).indexOf(u)!==-1&&l===On)return TA;if(l===Ea&&u===Ea){for(var B=e[s],Q=1;B>0&&(B--,A[B]===Ea);)Q++;if(Q%2!==0)return TA}return l===fi&&u===di?TA:gi},zv=function(t,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var e=Jv(t,A.lineBreak),r=e[0],n=e[1],s=e[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(a){return[We,_r,_p].indexOf(a)!==-1?Qs:a}));var i=A.wordBreak==="keep-all"?s.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,n,i]},Yv=function(){function t(A,e,r,n){this.codePoints=A,this.required=e===Ep,this.start=r,this.end=n}return t.prototype.slice=function(){return te.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Zv=function(t,A){var e=xo(t),r=zv(e,A),n=r[0],s=r[1],i=r[2],a=e.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=TA;c<a&&(u=qv(e,s,n,++c,i))===TA;);if(u!==TA||c===a){var f=new Yv(e,u,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},$v=1,AU=2,xs=4,Jf=8,io=10,qf=47,cs=92,eU=9,tU=32,Bi=34,Nn=61,rU=35,nU=36,sU=37,pi=39,wi=40,Gn=41,iU=95,Le=45,oU=33,aU=60,lU=62,cU=64,uU=91,hU=93,fU=61,dU=123,mi=63,gU=125,zf=124,BU=126,pU=128,Yf=65533,Ua=42,Fr=43,wU=44,mU=58,CU=59,_s=46,yU=0,QU=8,_U=11,EU=14,vU=31,UU=127,mt=-1,Up=48,Fp=97,Ip=101,FU=102,IU=117,bU=122,bp=65,Tp=69,Hp=70,TU=85,HU=90,Fe=function(t){return t>=Up&&t<=57},SU=function(t){return t>=55296&&t<=57343},Zr=function(t){return Fe(t)||t>=bp&&t<=Hp||t>=Fp&&t<=FU},RU=function(t){return t>=Fp&&t<=bU},DU=function(t){return t>=bp&&t<=HU},LU=function(t){return RU(t)||DU(t)},kU=function(t){return t>=pU},Ci=function(t){return t===io||t===eU||t===tU},oo=function(t){return LU(t)||kU(t)||t===iU},Zf=function(t){return oo(t)||Fe(t)||t===Le},xU=function(t){return t>=yU&&t<=QU||t===_U||t>=EU&&t<=vU||t===UU},Jt=function(t,A){return t!==cs?!1:A!==io},yi=function(t,A,e){return t===Le?oo(A)||Jt(A,e):oo(t)?!0:!!(t===cs&&Jt(t,A))},Fa=function(t,A,e){return t===Fr||t===Le?Fe(A)?!0:A===_s&&Fe(e):Fe(t===_s?A:t)},VU=function(t){var A=0,e=1;(t[A]===Fr||t[A]===Le)&&(t[A]===Le&&(e=-1),A++);for(var r=[];Fe(t[A]);)r.push(t[A++]);var n=r.length?parseInt(te.apply(void 0,r),10):0;t[A]===_s&&A++;for(var s=[];Fe(t[A]);)s.push(t[A++]);var i=s.length,a=i?parseInt(te.apply(void 0,s),10):0;(t[A]===Tp||t[A]===Ip)&&A++;var l=1;(t[A]===Fr||t[A]===Le)&&(t[A]===Le&&(l=-1),A++);for(var c=[];Fe(t[A]);)c.push(t[A++]);var u=c.length?parseInt(te.apply(void 0,c),10):0;return e*(n+a*Math.pow(10,-i))*Math.pow(10,l*u)},PU={type:2},MU={type:3},OU={type:4},KU={type:13},NU={type:8},GU={type:21},WU={type:9},jU={type:10},XU={type:11},JU={type:12},qU={type:14},Qi={type:23},zU={type:1},YU={type:25},ZU={type:24},$U={type:26},AF={type:27},eF={type:28},tF={type:29},rF={type:31},_l={type:32},Sp=function(){function t(){this._value=[]}return t.prototype.write=function(A){this._value=this._value.concat(xo(A))},t.prototype.read=function(){for(var A=[],e=this.consumeToken();e!==_l;)A.push(e),e=this.consumeToken();return A},t.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case Bi:return this.consumeStringToken(Bi);case rU:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Zf(e)||Jt(r,n)){var s=yi(e,r,n)?AU:$v,i=this.consumeName();return{type:5,value:i,flags:s}}break;case nU:if(this.peekCodePoint(0)===Nn)return this.consumeCodePoint(),KU;break;case pi:return this.consumeStringToken(pi);case wi:return PU;case Gn:return MU;case Ua:if(this.peekCodePoint(0)===Nn)return this.consumeCodePoint(),qU;break;case Fr:if(Fa(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case wU:return OU;case Le:var a=A,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Fa(a,l,c))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(yi(a,l,c))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(l===Le&&c===lU)return this.consumeCodePoint(),this.consumeCodePoint(),ZU;break;case _s:if(Fa(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case qf:if(this.peekCodePoint(0)===Ua)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Ua&&(u=this.consumeCodePoint(),u===qf))return this.consumeToken();if(u===mt)return this.consumeToken()}break;case mU:return $U;case CU:return AF;case aU:if(this.peekCodePoint(0)===oU&&this.peekCodePoint(1)===Le&&this.peekCodePoint(2)===Le)return this.consumeCodePoint(),this.consumeCodePoint(),YU;break;case cU:var f=this.peekCodePoint(0),g=this.peekCodePoint(1),B=this.peekCodePoint(2);if(yi(f,g,B)){var i=this.consumeName();return{type:7,value:i}}break;case uU:return eF;case cs:if(Jt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case hU:return tF;case fU:if(this.peekCodePoint(0)===Nn)return this.consumeCodePoint(),NU;break;case dU:return XU;case gU:return JU;case IU:case TU:var Q=this.peekCodePoint(0),y=this.peekCodePoint(1);return Q===Fr&&(Zr(y)||y===mi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case zf:if(this.peekCodePoint(0)===Nn)return this.consumeCodePoint(),WU;if(this.peekCodePoint(0)===zf)return this.consumeCodePoint(),GU;break;case BU:if(this.peekCodePoint(0)===Nn)return this.consumeCodePoint(),jU;break;case mt:return _l}return Ci(A)?(this.consumeWhiteSpace(),rF):Fe(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):oo(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:te(A)}},t.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},t.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},t.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},t.prototype.consumeUnicodeRangeToken=function(){for(var A=[],e=this.consumeCodePoint();Zr(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();for(var r=!1;e===mi&&A.length<6;)A.push(e),e=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(te.apply(void 0,A.map(function(l){return l===mi?Up:l})),16),s=parseInt(te.apply(void 0,A.map(function(l){return l===mi?Hp:l})),16);return{type:30,start:n,end:s}}var i=parseInt(te.apply(void 0,A),16);if(this.peekCodePoint(0)===Le&&Zr(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var a=[];Zr(e)&&a.length<6;)a.push(e),e=this.consumeCodePoint();var s=parseInt(te.apply(void 0,a),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===wi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===wi?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},t.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===mt)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===pi||e===Bi){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===mt||this.peekCodePoint(0)===Gn)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Qi)}for(;;){var n=this.consumeCodePoint();if(n===mt||n===Gn)return{type:22,value:te.apply(void 0,A)};if(Ci(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===mt||this.peekCodePoint(0)===Gn?(this.consumeCodePoint(),{type:22,value:te.apply(void 0,A)}):(this.consumeBadUrlRemnants(),Qi);if(n===Bi||n===pi||n===wi||xU(n))return this.consumeBadUrlRemnants(),Qi;if(n===cs)if(Jt(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Qi;else A.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;Ci(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===Gn||A===mt)return;Jt(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(A){for(var e=5e4,r="";A>0;){var n=Math.min(e,A);r+=te.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},t.prototype.consumeStringToken=function(A){var e="",r=0;do{var n=this._value[r];if(n===mt||n===void 0||n===A)return e+=this.consumeStringSlice(r),{type:0,value:e};if(n===io)return this._value.splice(0,r),zU;if(n===cs){var s=this._value[r+1];s!==mt&&s!==void 0&&(s===io?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):Jt(n,s)&&(e+=this.consumeStringSlice(r),e+=te(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var A=[],e=xs,r=this.peekCodePoint(0);for((r===Fr||r===Le)&&A.push(this.consumeCodePoint());Fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===_s&&Fe(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Jf;Fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===Tp||r===Ip)&&((n===Fr||n===Le)&&Fe(s)||Fe(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Jf;Fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[VU(A),e]},t.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),e=A[0],r=A[1],n=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(yi(n,s,i)){var a=this.consumeName();return{type:15,number:e,flags:r,unit:a}}return n===sU?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Zr(A)){for(var e=te(A);Zr(this.peekCodePoint(0))&&e.length<6;)e+=te(this.consumeCodePoint());Ci(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return r===0||SU(r)||r>1114111?Yf:r}return A===mt?Yf:A},t.prototype.consumeName=function(){for(var A="";;){var e=this.consumeCodePoint();if(Zf(e))A+=te(e);else if(Jt(e,this.peekCodePoint(0)))A+=te(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),A}},t}(),Rp=function(){function t(A){this._tokens=A}return t.create=function(A){var e=new Sp;return e.write(A),new t(e.read())},t.parseValue=function(A){return t.create(A).parseComponentValue()},t.parseValues=function(A){return t.create(A).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var e=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var A=[];;){var e=this.consumeComponentValue();if(e.type===32)return A;A.push(e),A.push()}},t.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},t.prototype.consumeSimpleBlock=function(A){for(var e={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||nF(r,A))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(A){for(var e={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?_l:A},t.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},t}(),Vs=function(t){return t.type===15},Vo=function(t){return t.type===17},$A=function(t){return t.type===20},El=function(t,A){return $A(t)&&t.value===A},Po=function(t){return t.type!==31&&t.type!==4},It=function(t){var A=[],e=[];return t.forEach(function(r){if(r.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(e),e=[];return}r.type!==31&&e.push(r)}),e.length&&A.push(e),A},nF=function(t,A){return A===11&&t.type===12||A===28&&t.type===29?!0:A===2&&t.type===3},fr=function(t){return t.type===17||t.type===15},se=function(t){return t.type===16||fr(t)},Dp=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ce={type:17,number:0,flags:xs},Hc={type:16,number:50,flags:xs},Zt={type:16,number:100,flags:xs},As=function(t,A,e){var r=t[0],n=t[1];return[GA(r,A),GA(typeof n<"u"?n:r,e)]},GA=function(t,A){if(t.type===16)return t.number/100*A;if(Vs(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Lp="deg",kp="grad",xp="rad",Vp="turn",Mo={name:"angle",parse:function(t,A){if(A.type===15)switch(A.unit){case Lp:return Math.PI*A.number/180;case kp:return Math.PI/200*A.number;case xp:return A.number;case Vp:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},Pp=function(t){return t.type===15&&(t.unit===Lp||t.unit===kp||t.unit===xp||t.unit===Vp)},Mp=function(t){var A=t.filter($A).map(function(e){return e.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ce,Ce];case"to top":case"bottom":return rt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ce,Zt];case"to right":case"left":return rt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zt,Zt];case"to bottom":case"top":return rt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zt,Ce];case"to left":case"right":return rt(270)}return 0},rt=function(t){return Math.PI*t/180},nr={name:"color",parse:function(t,A){if(A.type===18){var e=sF[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return e(t,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3);return $t(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3),i=A.value.substring(3,4);return $t(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6);return $t(parseInt(r,16),parseInt(n,16),parseInt(s,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6),i=A.value.substring(6,8);return $t(parseInt(r,16),parseInt(n,16),parseInt(s,16),parseInt(i,16)/255)}}if(A.type===20){var a=Es[A.value.toUpperCase()];if(typeof a<"u")return a}return Es.TRANSPARENT}},hn=function(t){return(255&t)===0},ge=function(t){var A=255&t,e=255&t>>8,r=255&t>>16,n=255&t>>24;return A<255?"rgba("+n+","+r+","+e+","+A/255+")":"rgb("+n+","+r+","+e+")"},$t=function(t,A,e,r){return(t<<24|A<<16|e<<8|Math.round(r*255)<<0)>>>0},$f=function(t,A){if(t.type===17)return t.number;if(t.type===16){var e=A===3?1:255;return A===3?t.number/100*e:Math.round(t.number/100*e)}return 0},Ad=function(t,A){var e=A.filter(Po);if(e.length===3){var r=e.map($f),n=r[0],s=r[1],i=r[2];return $t(n,s,i,1)}if(e.length===4){var a=e.map($f),n=a[0],s=a[1],i=a[2],l=a[3];return $t(n,s,i,l)}return 0};function Ia(t,A,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(A-t)*e*6+t:e<1/2?A:e<2/3?(A-t)*6*(2/3-e)+t:t}var ed=function(t,A){var e=A.filter(Po),r=e[0],n=e[1],s=e[2],i=e[3],a=(r.type===17?rt(r.number):Mo.parse(t,r))/(Math.PI*2),l=se(n)?n.number/100:0,c=se(s)?s.number/100:0,u=typeof i<"u"&&se(i)?GA(i,1):1;if(l===0)return $t(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,g=c*2-f,B=Ia(g,f,a+1/3),Q=Ia(g,f,a),y=Ia(g,f,a-1/3);return $t(B*255,Q*255,y*255,u)},sF={hsl:ed,hsla:ed,rgb:Ad,rgba:Ad},td=function(t,A){return nr.parse(t,Rp.create(A).parseComponentValue())},Es={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},iF={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if($A(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oF={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Oo=function(t,A){var e=nr.parse(t,A[0]),r=A[1];return r&&se(r)?{color:e,stop:r}:{color:e,stop:null}},rd=function(t,A){var e=t[0],r=t[t.length-1];e.stop===null&&(e.stop=Ce),r.stop===null&&(r.stop=Zt);for(var n=[],s=0,i=0;i<t.length;i++){var a=t[i].stop;if(a!==null){var l=GA(a,A);l>s?n.push(l):n.push(s),s=l}else n.push(null)}for(var c=null,i=0;i<n.length;i++){var u=n[i];if(u===null)c===null&&(c=i);else if(c!==null){for(var f=i-c,g=n[c-1],B=(u-g)/(f+1),Q=1;Q<=f;Q++)n[c+Q-1]=B*Q;c=null}}return t.map(function(y,F){var R=y.color;return{color:R,stop:Math.max(Math.min(1,n[F]/A),0)}})},aF=function(t,A,e){var r=A/2,n=e/2,s=GA(t[0],A)-r,i=n-GA(t[1],e);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},lF=function(t,A,e){var r=typeof t=="number"?t:aF(t,A,e),n=Math.abs(A*Math.sin(r))+Math.abs(e*Math.cos(r)),s=A/2,i=e/2,a=n/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[n,s-c,s+c,i-l,i+l]},ht=function(t,A){return Math.sqrt(t*t+A*A)},nd=function(t,A,e,r,n){var s=[[0,0],[0,A],[t,0],[t,A]];return s.reduce(function(i,a){var l=a[0],c=a[1],u=ht(e-l,r-c);return(n?u<i.optimumDistance:u>i.optimumDistance)?{optimumCorner:a,optimumDistance:u}:i},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},cF=function(t,A,e,r,n){var s=0,i=0;switch(t.size){case 0:t.shape===0?s=i=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.min(Math.abs(A),Math.abs(A-r)),i=Math.min(Math.abs(e),Math.abs(e-n)));break;case 2:if(t.shape===0)s=i=Math.min(ht(A,e),ht(A,e-n),ht(A-r,e),ht(A-r,e-n));else if(t.shape===1){var a=Math.min(Math.abs(e),Math.abs(e-n))/Math.min(Math.abs(A),Math.abs(A-r)),l=nd(r,n,A,e,!0),c=l[0],u=l[1];s=ht(c-A,(u-e)/a),i=a*s}break;case 1:t.shape===0?s=i=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.max(Math.abs(A),Math.abs(A-r)),i=Math.max(Math.abs(e),Math.abs(e-n)));break;case 3:if(t.shape===0)s=i=Math.max(ht(A,e),ht(A,e-n),ht(A-r,e),ht(A-r,e-n));else if(t.shape===1){var a=Math.max(Math.abs(e),Math.abs(e-n))/Math.max(Math.abs(A),Math.abs(A-r)),f=nd(r,n,A,e,!1),c=f[0],u=f[1];s=ht(c-A,(u-e)/a),i=a*s}break}return Array.isArray(t.size)&&(s=GA(t.size[0],r),i=t.size.length===2?GA(t.size[1],n):s),[s,i]},uF=function(t,A){var e=rt(180),r=[];return It(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&i.value==="to"){e=Mp(n);return}else if(Pp(i)){e=Mo.parse(t,i);return}}var a=Oo(t,n);r.push(a)}),{angle:e,stops:r,type:1}},_i=function(t,A){var e=rt(180),r=[];return It(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){e=Mp(n);return}else if(Pp(i)){e=(Mo.parse(t,i)+rt(270))%rt(360);return}}var a=Oo(t,n);r.push(a)}),{angle:e,stops:r,type:1}},hF=function(t,A){var e=rt(180),r=[],n=1,s=0,i=3,a=[];return It(A).forEach(function(l,c){var u=l[0];if(c===0){if($A(u)&&u.value==="linear"){n=1;return}else if($A(u)&&u.value==="radial"){n=2;return}}if(u.type===18){if(u.name==="from"){var f=nr.parse(t,u.values[0]);r.push({stop:Ce,color:f})}else if(u.name==="to"){var f=nr.parse(t,u.values[0]);r.push({stop:Zt,color:f})}else if(u.name==="color-stop"){var g=u.values.filter(Po);if(g.length===2){var f=nr.parse(t,g[1]),B=g[0];Vo(B)&&r.push({stop:{type:16,number:B.number*100,flags:B.flags},color:f})}}}}),n===1?{angle:(e+rt(180))%rt(360),stops:r,type:n}:{size:i,shape:s,stops:r,position:a,type:n}},Op="closest-side",Kp="farthest-side",Np="closest-corner",Gp="farthest-corner",Wp="circle",jp="ellipse",Xp="cover",Jp="contain",fF=function(t,A){var e=0,r=3,n=[],s=[];return It(A).forEach(function(i,a){var l=!0;if(a===0){var c=!1;l=i.reduce(function(f,g){if(c)if($A(g))switch(g.value){case"center":return s.push(Hc),f;case"top":case"left":return s.push(Ce),f;case"right":case"bottom":return s.push(Zt),f}else(se(g)||fr(g))&&s.push(g);else if($A(g))switch(g.value){case Wp:return e=0,!1;case jp:return e=1,!1;case"at":return c=!0,!1;case Op:return r=0,!1;case Xp:case Kp:return r=1,!1;case Jp:case Np:return r=2,!1;case Gp:return r=3,!1}else if(fr(g)||se(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return f},l)}if(l){var u=Oo(t,i);n.push(u)}}),{size:r,shape:e,stops:n,position:s,type:2}},Ei=function(t,A){var e=0,r=3,n=[],s=[];return It(A).forEach(function(i,a){var l=!0;if(a===0?l=i.reduce(function(u,f){if($A(f))switch(f.value){case"center":return s.push(Hc),!1;case"top":case"left":return s.push(Ce),!1;case"right":case"bottom":return s.push(Zt),!1}else if(se(f)||fr(f))return s.push(f),!1;return u},l):a===1&&(l=i.reduce(function(u,f){if($A(f))switch(f.value){case Wp:return e=0,!1;case jp:return e=1,!1;case Jp:case Op:return r=0,!1;case Kp:return r=1,!1;case Np:return r=2,!1;case Xp:case Gp:return r=3,!1}else if(fr(f)||se(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},l)),l){var c=Oo(t,i);n.push(c)}}),{size:r,shape:e,stops:n,position:s,type:2}},dF=function(t){return t.type===1},gF=function(t){return t.type===2},Sc={name:"image",parse:function(t,A){if(A.type===22){var e={url:A.value,type:0};return t.cache.addImage(A.value),e}if(A.type===18){var r=qp[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(t,A.values)}throw new Error("Unsupported image type "+A.type)}};function BF(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!qp[t.name])}var qp={"linear-gradient":uF,"-moz-linear-gradient":_i,"-ms-linear-gradient":_i,"-o-linear-gradient":_i,"-webkit-linear-gradient":_i,"radial-gradient":fF,"-moz-radial-gradient":Ei,"-ms-radial-gradient":Ei,"-o-radial-gradient":Ei,"-webkit-radial-gradient":Ei,"-webkit-gradient":hF},pF={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var e=A[0];return e.type===20&&e.value==="none"?[]:A.filter(function(r){return Po(r)&&BF(r)}).map(function(r){return Sc.parse(t,r)})}},wF={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if($A(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mF={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,A){return It(A).map(function(e){return e.filter(se)}).map(Dp)}},CF={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,A){return It(A).map(function(e){return e.filter($A).map(function(r){return r.value}).join(" ")}).map(yF)}},yF=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},fn;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(fn||(fn={}));var QF={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,A){return It(A).map(function(e){return e.filter(_F)})}},_F=function(t){return $A(t)||se(t)},Ko=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},EF=Ko("top"),vF=Ko("right"),UF=Ko("bottom"),FF=Ko("left"),No=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(A,e){return Dp(e.filter(se))}}},IF=No("top-left"),bF=No("top-right"),TF=No("bottom-right"),HF=No("bottom-left"),Go=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},SF=Go("top"),RF=Go("right"),DF=Go("bottom"),LF=Go("left"),Wo=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return Vs(e)?e.number:0}}},kF=Wo("top"),xF=Wo("right"),VF=Wo("bottom"),PF=Wo("left"),MF={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},OF={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},KF={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,A){return A.filter($A).reduce(function(e,r){return e|NF(r.value)},0)}},NF=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},GF={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},WF={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},ao;(function(t){t.NORMAL="normal",t.STRICT="strict"})(ao||(ao={}));var jF={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"strict":return ao.STRICT;case"normal":default:return ao.NORMAL}}},XF={name:"line-height",initialValue:"normal",prefix:!1,type:4},sd=function(t,A){return $A(t)&&t.value==="normal"?1.2*A:t.type===17?A*t.number:se(t)?GA(t,A):A},JF={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,A){return A.type===20&&A.value==="none"?null:Sc.parse(t,A)}},qF={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},zF={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},jo=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},YF=jo("top"),ZF=jo("right"),$F=jo("bottom"),AI=jo("left"),eI={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,A){return A.filter($A).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},tI={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Xo=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},rI=Xo("top"),nI=Xo("right"),sI=Xo("bottom"),iI=Xo("left"),oI={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},aI={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},lI={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&El(A[0],"none")?[]:It(A).map(function(e){for(var r={color:Es.TRANSPARENT,offsetX:Ce,offsetY:Ce,blur:Ce},n=0,s=0;s<e.length;s++){var i=e[s];fr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:r.blur=i,n++):r.color=nr.parse(t,i)}return r})}},cI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},uI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var e=dI[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return e(A.values)}return null}},hI=function(t){var A=t.filter(function(e){return e.type===17}).map(function(e){return e.number});return A.length===6?A:null},fI=function(t){var A=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),e=A[0],r=A[1];A[2],A[3];var n=A[4],s=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var i=A[12],a=A[13];return A[14],A[15],A.length===16?[e,r,n,s,i,a]:null},dI={matrix:hI,matrix3d:fI},id={type:16,number:50,flags:xs},gI=[id,id],BI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,A){var e=A.filter(se);return e.length!==2?gI:[e[0],e[1]]}},pI={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},us;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(us||(us={}));var wI={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-all":return us.BREAK_ALL;case"keep-all":return us.KEEP_ALL;case"normal":default:return us.NORMAL}}},mI={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,A){if(A.type===20)return{auto:!0,order:0};if(Vo(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},zp={name:"time",parse:function(t,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},CI={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,A){return Vo(A)?A.number:1}},yI={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},QI={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,A){return A.filter($A).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},_I={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,A){var e=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:e.push(n.value);break;case 17:e.push(n.number.toString());break;case 4:r.push(e.join(" ")),e.length=0;break}}),e.length&&r.push(e.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},EI={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vI={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,A){if(Vo(A))return A.number;if($A(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},UI={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.filter($A).map(function(e){return e.value})}},FI={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ae=function(t,A){return(t&A)!==0},II={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,A){return A.filter(Vs).map(function(e){return zp.parse(t,e)})}},bI={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&El(A[0],"none")?[]:It(A).map(function(e){for(var r={color:255,offsetX:Ce,offsetY:Ce,blur:Ce,spread:Ce,inset:!1},n=0,s=0;s<e.length;s++){var i=e[s];El(i,"inset")?r.inset=!0:fr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:n===2?r.blur=i:r.spread=i,n++):r.color=nr.parse(t,i)}return r})}},TI={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,A){var e=[0,1,2],r=[];return A.filter($A).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),e.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},HI={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},SI={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,A){return Vs(A)?A.number:0}},RI=function(){function t(A,e){var r,n;this.animationDuration=rA(A,II,e.animationDuration),this.backgroundClip=rA(A,iF,e.backgroundClip),this.backgroundColor=rA(A,oF,e.backgroundColor),this.backgroundImage=rA(A,pF,e.backgroundImage),this.backgroundOrigin=rA(A,wF,e.backgroundOrigin),this.backgroundPosition=rA(A,mF,e.backgroundPosition),this.backgroundRepeat=rA(A,CF,e.backgroundRepeat),this.backgroundSize=rA(A,QF,e.backgroundSize),this.borderTopColor=rA(A,EF,e.borderTopColor),this.borderRightColor=rA(A,vF,e.borderRightColor),this.borderBottomColor=rA(A,UF,e.borderBottomColor),this.borderLeftColor=rA(A,FF,e.borderLeftColor),this.borderTopLeftRadius=rA(A,IF,e.borderTopLeftRadius),this.borderTopRightRadius=rA(A,bF,e.borderTopRightRadius),this.borderBottomRightRadius=rA(A,TF,e.borderBottomRightRadius),this.borderBottomLeftRadius=rA(A,HF,e.borderBottomLeftRadius),this.borderTopStyle=rA(A,SF,e.borderTopStyle),this.borderRightStyle=rA(A,RF,e.borderRightStyle),this.borderBottomStyle=rA(A,DF,e.borderBottomStyle),this.borderLeftStyle=rA(A,LF,e.borderLeftStyle),this.borderTopWidth=rA(A,kF,e.borderTopWidth),this.borderRightWidth=rA(A,xF,e.borderRightWidth),this.borderBottomWidth=rA(A,VF,e.borderBottomWidth),this.borderLeftWidth=rA(A,PF,e.borderLeftWidth),this.boxShadow=rA(A,bI,e.boxShadow),this.color=rA(A,MF,e.color),this.direction=rA(A,OF,e.direction),this.display=rA(A,KF,e.display),this.float=rA(A,GF,e.cssFloat),this.fontFamily=rA(A,_I,e.fontFamily),this.fontSize=rA(A,EI,e.fontSize),this.fontStyle=rA(A,FI,e.fontStyle),this.fontVariant=rA(A,UI,e.fontVariant),this.fontWeight=rA(A,vI,e.fontWeight),this.letterSpacing=rA(A,WF,e.letterSpacing),this.lineBreak=rA(A,jF,e.lineBreak),this.lineHeight=rA(A,XF,e.lineHeight),this.listStyleImage=rA(A,JF,e.listStyleImage),this.listStylePosition=rA(A,qF,e.listStylePosition),this.listStyleType=rA(A,zF,e.listStyleType),this.marginTop=rA(A,YF,e.marginTop),this.marginRight=rA(A,ZF,e.marginRight),this.marginBottom=rA(A,$F,e.marginBottom),this.marginLeft=rA(A,AI,e.marginLeft),this.opacity=rA(A,CI,e.opacity);var s=rA(A,eI,e.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=rA(A,tI,e.overflowWrap),this.paddingTop=rA(A,rI,e.paddingTop),this.paddingRight=rA(A,nI,e.paddingRight),this.paddingBottom=rA(A,sI,e.paddingBottom),this.paddingLeft=rA(A,iI,e.paddingLeft),this.paintOrder=rA(A,TI,e.paintOrder),this.position=rA(A,aI,e.position),this.textAlign=rA(A,oI,e.textAlign),this.textDecorationColor=rA(A,yI,(r=e.textDecorationColor)!==null&&r!==void 0?r:e.color),this.textDecorationLine=rA(A,QI,(n=e.textDecorationLine)!==null&&n!==void 0?n:e.textDecoration),this.textShadow=rA(A,lI,e.textShadow),this.textTransform=rA(A,cI,e.textTransform),this.transform=rA(A,uI,e.transform),this.transformOrigin=rA(A,BI,e.transformOrigin),this.visibility=rA(A,pI,e.visibility),this.webkitTextStrokeColor=rA(A,HI,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=rA(A,SI,e.webkitTextStrokeWidth),this.wordBreak=rA(A,wI,e.wordBreak),this.zIndex=rA(A,mI,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return hn(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ae(this.display,4)||ae(this.display,33554432)||ae(this.display,268435456)||ae(this.display,536870912)||ae(this.display,67108864)||ae(this.display,134217728)},t}(),rA=function(t,A,e){var r=new Sp,n=e!==null&&typeof e<"u"?e.toString():A.initialValue;r.write(n);var s=new Rp(r.read());switch(A.type){case 2:var i=s.parseComponentValue();return A.parse(t,$A(i)?i.value:A.initialValue);case 0:return A.parse(t,s.parseComponentValue());case 1:return A.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(A.format){case"angle":return Mo.parse(t,s.parseComponentValue());case"color":return nr.parse(t,s.parseComponentValue());case"image":return Sc.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return fr(a)?a:Ce;case"length-percentage":var l=s.parseComponentValue();return se(l)?l:Ce;case"time":return zp.parse(t,s.parseComponentValue())}break}},DI="data-html2canvas-debug",LI=function(t){var A=t.getAttribute(DI);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},od=function(t,A){var e=LI(t);return e===1||A===e},bt=function(){function t(A,e){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,od(e,3))debugger;this.styles=new RI(A,window.getComputedStyle(e,null)),Lb(e)&&(this.styles.animationDuration.some(function(r){return r>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=bc(this.context,e),od(e,4)&&(this.flags|=16)}return t}(),kI="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",es=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vi=0;vi<ad.length;vi++)es[ad.charCodeAt(vi)]=vi;var xI=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,a,l;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=es[t.charCodeAt(r)],i=es[t.charCodeAt(r+1)],a=es[t.charCodeAt(r+2)],l=es[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|a>>2,u[n++]=(a&3)<<6|l&63;return c},VI=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},PI=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},Tr=5,Rc=11,ba=2,MI=Rc-Tr,Yp=65536>>Tr,OI=1<<Tr,Ta=OI-1,KI=1024>>Tr,NI=Yp+KI,GI=NI,WI=32,jI=GI+WI,XI=65536>>Rc,JI=1<<MI,qI=JI-1,ld=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},zI=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},YI=function(t,A){var e=xI(t),r=Array.isArray(e)?PI(e):new Uint32Array(e),n=Array.isArray(e)?VI(e):new Uint16Array(e),s=24,i=ld(n,s/2,r[4]/2),a=r[5]===2?ld(n,(s+r[4])/2):zI(r,Math.ceil((s+r[4])/4));return new ZI(r[0],r[1],r[2],r[3],i,a)},ZI=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>Tr],e=(e<<ba)+(A&Ta),this.data[e];if(A<=65535)return e=this.index[Yp+(A-55296>>Tr)],e=(e<<ba)+(A&Ta),this.data[e];if(A<this.highStart)return e=jI-XI+(A>>Rc),e=this.index[e],e+=A>>Tr&qI,e=this.index[e],e=(e<<ba)+(A&Ta),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$I=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ui=0;Ui<cd.length;Ui++)$I[cd.charCodeAt(Ui)]=Ui;var Ab=1,Ha=2,Sa=3,ud=4,hd=5,eb=7,fd=8,Ra=9,Da=10,dd=11,gd=12,Bd=13,pd=14,La=15,tb=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},rb=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},nb=YI(kI),At="",ka="",sb=function(t){return nb.get(t)},ib=function(t,A,e){var r=e-2,n=A[r],s=A[e-1],i=A[e];if(s===Ha&&i===Sa)return At;if(s===Ha||s===Sa||s===ud||i===Ha||i===Sa||i===ud)return ka;if(s===fd&&[fd,Ra,dd,gd].indexOf(i)!==-1||(s===dd||s===Ra)&&(i===Ra||i===Da)||(s===gd||s===Da)&&i===Da||i===Bd||i===hd||i===eb||s===Ab)return At;if(s===Bd&&i===pd){for(;n===hd;)n=A[--r];if(n===pd)return At}if(s===La&&i===La){for(var a=0;n===La;)a++,n=A[--r];if(a%2===0)return At}return ka},ob=function(t){var A=tb(t),e=A.length,r=0,n=0,s=A.map(sb);return{next:function(){if(r>=e)return{done:!0,value:null};for(var i=At;r<e&&(i=ib(A,s,++r))===At;);if(i!==At||r===e){var a=rb.apply(null,A.slice(n,r));return n=r,{value:a,done:!1}}return{done:!0,value:null}}}},ab=function(t){for(var A=ob(t),e=[],r;!(r=A.next()).done;)r.value&&e.push(r.value.slice());return e},lb=function(t){var A=123;if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=A+"px",r.style.display="block",t.body.appendChild(r),e.selectNode(r);var n=e.getBoundingClientRect(),s=Math.round(n.height);if(t.body.removeChild(r),s===A)return!0}}return!1},cb=function(t){var A=t.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",t.body.appendChild(A);var e=t.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=xo(r.data).map(function(l){return te(l)}),s=0,i={},a=n.every(function(l,c){e.setStart(r,s),e.setEnd(r,s+l.length);var u=e.getBoundingClientRect();s+=l.length;var f=u.x>i.x||u.y>i.y;return i=u,c===0?!0:f});return t.body.removeChild(A),a},ub=function(){return typeof new Image().crossOrigin<"u"},hb=function(){return typeof new XMLHttpRequest().responseType=="string"},fb=function(t){var A=new Image,e=t.createElement("canvas"),r=e.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),e.toDataURL()}catch{return!1}return!0},wd=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},db=function(t){var A=t.createElement("canvas"),e=100;A.width=e,A.height=e;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,e,e);var n=new Image,s=A.toDataURL();n.src=s;var i=vl(e,e,0,0,n);return r.fillStyle="red",r.fillRect(0,0,e,e),md(i).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,e,e).data;r.fillStyle="red",r.fillRect(0,0,e,e);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=e+"px",wd(l)?md(vl(e,e,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),wd(r.getImageData(0,0,e,e).data)}).catch(function(){return!1})},vl=function(t,A,e,r,n){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",A.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(a),a.appendChild(n),i},md=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){return A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},je={get SUPPORT_RANGE_BOUNDS(){var t=lb(document);return Object.defineProperty(je,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=je.SUPPORT_RANGE_BOUNDS&&cb(document);return Object.defineProperty(je,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=fb(document);return Object.defineProperty(je,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?db(document):Promise.resolve(!1);return Object.defineProperty(je,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=ub();return Object.defineProperty(je,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=hb();return Object.defineProperty(je,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(je,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(je,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},hs=function(){function t(A,e){this.text=A,this.bounds=e}return t}(),gb=function(t,A,e,r){var n=wb(A,e),s=[],i=0;return n.forEach(function(a){if(e.textDecorationLine.length||a.trim().length>0)if(je.SUPPORT_RANGE_BOUNDS){var l=Cd(r,i,a.length).getClientRects();if(l.length>1){var c=Dc(a),u=0;c.forEach(function(g){s.push(new hs(g,Lr.fromDOMRectList(t,Cd(r,u+i,g.length).getClientRects()))),u+=g.length})}else s.push(new hs(a,Lr.fromDOMRectList(t,l)))}else{var f=r.splitText(a.length);s.push(new hs(a,Bb(t,r))),r=f}else je.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));i+=a.length}),s},Bb=function(t,A){var e=A.ownerDocument;if(e){var r=e.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var s=bc(t,r);return r.firstChild&&n.replaceChild(r.firstChild,r),s}}return Lr.EMPTY},Cd=function(t,A,e){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(t,A),n.setEnd(t,A+e),n},Dc=function(t){if(je.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(t)).map(function(e){return e.segment})}return ab(t)},pb=function(t,A){if(je.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Cb(t,A)},wb=function(t,A){return A.letterSpacing!==0?Dc(t):pb(t,A)},mb=[32,160,4961,65792,65793,4153,4241],Cb=function(t,A){for(var e=Zv(t,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,s=function(){if(n.value){var i=n.value.slice(),a=xo(i),l="";a.forEach(function(c){mb.indexOf(c)===-1?l+=te(c):(l.length&&r.push(l),r.push(te(c)),l="")}),l.length&&r.push(l)}};!(n=e.next()).done;)s();return r},yb=function(){function t(A,e,r){this.text=Qb(e.data,r.textTransform),this.textBounds=gb(A,this.text,r,e)}return t}(),Qb=function(t,A){switch(A){case 1:return t.toLowerCase();case 3:return t.replace(_b,Eb);case 2:return t.toUpperCase();default:return t}},_b=/(^|\s|:|-|\(|\))([a-z])/g,Eb=function(t,A,e){return t.length>0?A+e.toUpperCase():t},Zp=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(bt),$p=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(bt),Aw=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=new XMLSerializer,i=bc(e,r);return r.setAttribute("width",i.width+"px"),r.setAttribute("height",i.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(bt),ew=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(bt),Ul=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(bt),vb=[{type:15,flags:0,unit:"px",number:3}],Ub=[{type:16,flags:0,number:50}],Fb=function(t){return t.width>t.height?new Lr(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Lr(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Ib=function(t){var A=t.type===bb?new Array(t.value.length+1).join(""):t.value;return A.length===0?t.placeholder||"":A},lo="checkbox",co="radio",bb="password",yd=707406591,Lc=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=Ib(r),(n.type===lo||n.type===co)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=Fb(n.bounds)),n.type){case lo:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=vb;break;case co:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Ub;break}return n}return A}(bt),tw=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=r.options[r.selectedIndex||0];return n.value=s&&s.text||"",n}return A}(bt),rw=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(bt),nw=function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=Hb(e,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?td(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Es.TRANSPARENT,i=r.contentWindow.document.body?td(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):Es.TRANSPARENT;n.backgroundColor=hn(s)?hn(i)?n.styles.backgroundColor:i:s}}catch{}return n}return A}(bt),Tb=["OL","UL","MENU"],Ki=function(t,A,e,r){for(var n=A.firstChild,s=void 0;n;n=s)if(s=n.nextSibling,Db(n)&&n.data.trim().length>0)e.textNodes.push(new yb(t,n,e.styles));else if(iw(n))if(Gb(n)&&n.assignedNodes)n.assignedNodes().forEach(function(a){return Ki(t,a,e,r)});else{var i=sw(t,n);i.styles.isVisible()&&(Sb(n,i,r)?i.flags|=4:Rb(i.styles)&&(i.flags|=2),Tb.indexOf(n.tagName)!==-1&&(i.flags|=8),e.elements.push(i),n.slot,n.shadowRoot?Ki(t,n.shadowRoot,i,r):!aw(n)&&!ow(n)&&!lw(n)&&Ki(t,n,i,r))}},sw=function(t,A){return Kb(A)?new Zp(t,A):Ob(A)?new $p(t,A):ow(A)?new Aw(t,A):xb(A)?new ew(t,A):Vb(A)?new Ul(t,A):Pb(A)?new Lc(t,A):lw(A)?new tw(t,A):aw(A)?new rw(t,A):Nb(A)?new nw(t,A):new bt(t,A)},Hb=function(t,A){var e=sw(t,A);return e.flags|=4,Ki(t,A,e,e),e},Sb=function(t,A,e){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Mb(t)&&e.styles.isTransparent()},Rb=function(t){return t.isPositioned()||t.isFloating()},Db=function(t){return t.nodeType===Node.TEXT_NODE},iw=function(t){return t.nodeType===Node.ELEMENT_NODE},Lb=function(t){return iw(t)&&typeof t.style<"u"&&!kb(t)},kb=function(t){return typeof t.className=="object"},xb=function(t){return t.tagName==="LI"},Vb=function(t){return t.tagName==="OL"},Pb=function(t){return t.tagName==="INPUT"},ow=function(t){return t.tagName==="svg"},Mb=function(t){return t.tagName==="BODY"},Ob=function(t){return t.tagName==="CANVAS"},Kb=function(t){return t.tagName==="IMG"},Nb=function(t){return t.tagName==="IFRAME"},aw=function(t){return t.tagName==="TEXTAREA"},lw=function(t){return t.tagName==="SELECT"},Gb=function(t){return t.tagName==="SLOT"},Qd={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_d={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wb={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jb={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$r=function(t,A,e,r,n,s){return t<A||t>e?kc(t,n,s.length>0):r.integers.reduce(function(i,a,l){for(;t>=a;)t-=a,i+=r.values[l];return i},"")+s},cw=function(t,A,e,r){var n="";do e||t--,n=r(t)+n,t/=A;while(t*A>=A);return n},ee=function(t,A,e,r,n){var s=e-A+1;return(t<0?"-":"")+(cw(Math.abs(t),s,r,function(i){return te(Math.floor(i%s)+A)})+n)},yr=function(t,A,e){e===void 0&&(e=". ");var r=A.length;return cw(Math.abs(t),r,!1,function(n){return A[Math.floor(n%r)]})+e},an=1,jt=2,Xt=4,ts=8,Dt=function(t,A,e,r,n,s){if(t<-9999||t>9999)return kc(t,4,n.length>0);var i=Math.abs(t),a=n;if(i===0)return A[0]+a;for(var l=0;i>0&&l<=4;l++){var c=i%10;c===0&&ae(s,an)&&a!==""?a=A[c]+a:c>1||c===1&&l===0||c===1&&l===1&&ae(s,jt)||c===1&&l===1&&ae(s,Xt)&&t>100||c===1&&l>1&&ae(s,ts)?a=A[c]+(l>0?e[l-1]:"")+a:c===1&&l>0&&(a=e[l-1]+a),i=Math.floor(i/10)}return(t<0?r:"")+a},Ed="",vd="",Ud="",xa="",kc=function(t,A,e){var r=e?". ":"",n=e?"":"",s=e?", ":"",i=e?" ":"";switch(A){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var a=ee(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return yr(t,"",n);case 6:return $r(t,1,3999,Qd,3,r).toLowerCase();case 7:return $r(t,1,3999,Qd,3,r);case 8:return ee(t,945,969,!1,r);case 9:return ee(t,97,122,!1,r);case 10:return ee(t,65,90,!1,r);case 11:return ee(t,1632,1641,!0,r);case 12:case 49:return $r(t,1,9999,_d,3,r);case 35:return $r(t,1,9999,_d,3,r).toLowerCase();case 13:return ee(t,2534,2543,!0,r);case 14:case 30:return ee(t,6112,6121,!0,r);case 15:return yr(t,"",n);case 16:return yr(t,"",n);case 17:case 48:return Dt(t,"",Ed,"",n,jt|Xt|ts);case 47:return Dt(t,"",vd,"",n,an|jt|Xt|ts);case 42:return Dt(t,"",Ed,"",n,jt|Xt|ts);case 41:return Dt(t,"",vd,"",n,an|jt|Xt|ts);case 26:return Dt(t,"","",Ud,n,0);case 25:return Dt(t,"","",Ud,n,an|jt|Xt);case 31:return Dt(t,"","",xa,s,an|jt|Xt);case 33:return Dt(t,"","",xa,s,0);case 32:return Dt(t,"","",xa,s,an|jt|Xt);case 18:return ee(t,2406,2415,!0,r);case 20:return $r(t,1,19999,jb,3,r);case 21:return ee(t,2790,2799,!0,r);case 22:return ee(t,2662,2671,!0,r);case 22:return $r(t,1,10999,Wb,3,r);case 23:return yr(t,"");case 24:return yr(t,"");case 27:return ee(t,3302,3311,!0,r);case 28:return yr(t,"",n);case 29:return yr(t,"",n);case 34:return ee(t,3792,3801,!0,r);case 37:return ee(t,6160,6169,!0,r);case 38:return ee(t,4160,4169,!0,r);case 39:return ee(t,2918,2927,!0,r);case 40:return ee(t,1776,1785,!0,r);case 43:return ee(t,3046,3055,!0,r);case 44:return ee(t,3174,3183,!0,r);case 45:return ee(t,3664,3673,!0,r);case 46:return ee(t,3872,3881,!0,r);case 3:default:return ee(t,48,57,!0,r)}},Fd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Fd||(Fd={}));var Xb=function(){function t(){}return t.getOrigin=function(A){var e=t._link;return e?(e.href=A,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},t.isSameOrigin=function(A){return t.getOrigin(A)===t._origin},t.setContext=function(A){t._link=A.document.createElement("a"),t._origin=t.getOrigin(A.location.href)},t._origin="about:blank",t}(),$=function(){function t(A,e){this.type=0,this.x=A,this.y=e}return t.prototype.add=function(A,e){return new t(this.x+A,this.y+e)},t}(),An=function(t,A,e){return new $(t.x+(A.x-t.x)*e,t.y+(A.y-t.y)*e)},Fi=function(){function t(A,e,r,n){this.type=1,this.start=A,this.startControl=e,this.endControl=r,this.end=n}return t.prototype.subdivide=function(A,e){var r=An(this.start,this.startControl,A),n=An(this.startControl,this.endControl,A),s=An(this.endControl,this.end,A),i=An(r,n,A),a=An(n,s,A),l=An(i,a,A);return e?new t(this.start,r,i,l):new t(l,a,s,this.end)},t.prototype.add=function(A,e){return new t(this.start.add(A,e),this.startControl.add(A,e),this.endControl.add(A,e),this.end.add(A,e))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),tt=function(t){return t.type===1},Jb=function(){function t(A){var e=A.styles,r=A.bounds,n=As(e.borderTopLeftRadius,r.width,r.height),s=n[0],i=n[1],a=As(e.borderTopRightRadius,r.width,r.height),l=a[0],c=a[1],u=As(e.borderBottomRightRadius,r.width,r.height),f=u[0],g=u[1],B=As(e.borderBottomLeftRadius,r.width,r.height),Q=B[0],y=B[1],F=[];F.push((s+l)/r.width),F.push((Q+f)/r.width),F.push((i+y)/r.height),F.push((c+g)/r.height);var R=Math.max.apply(Math,F);R>1&&(s/=R,i/=R,l/=R,c/=R,f/=R,g/=R,Q/=R,y/=R);var D=r.width-l,T=r.height-g,S=r.width-f,M=r.height-y,L=e.borderTopWidth,E=e.borderRightWidth,p=e.borderBottomWidth,_=e.borderLeftWidth,I=GA(e.paddingTop,A.bounds.width),U=GA(e.paddingRight,A.bounds.width),b=GA(e.paddingBottom,A.bounds.width),w=GA(e.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?jA(r.left+_/3,r.top+L/3,s-_/3,i-L/3,kA.TOP_LEFT):new $(r.left+_/3,r.top+L/3),this.topRightBorderDoubleOuterBox=s>0||i>0?jA(r.left+D,r.top+L/3,l-E/3,c-L/3,kA.TOP_RIGHT):new $(r.left+r.width-E/3,r.top+L/3),this.bottomRightBorderDoubleOuterBox=f>0||g>0?jA(r.left+S,r.top+T,f-E/3,g-p/3,kA.BOTTOM_RIGHT):new $(r.left+r.width-E/3,r.top+r.height-p/3),this.bottomLeftBorderDoubleOuterBox=Q>0||y>0?jA(r.left+_/3,r.top+M,Q-_/3,y-p/3,kA.BOTTOM_LEFT):new $(r.left+_/3,r.top+r.height-p/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?jA(r.left+_*2/3,r.top+L*2/3,s-_*2/3,i-L*2/3,kA.TOP_LEFT):new $(r.left+_*2/3,r.top+L*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?jA(r.left+D,r.top+L*2/3,l-E*2/3,c-L*2/3,kA.TOP_RIGHT):new $(r.left+r.width-E*2/3,r.top+L*2/3),this.bottomRightBorderDoubleInnerBox=f>0||g>0?jA(r.left+S,r.top+T,f-E*2/3,g-p*2/3,kA.BOTTOM_RIGHT):new $(r.left+r.width-E*2/3,r.top+r.height-p*2/3),this.bottomLeftBorderDoubleInnerBox=Q>0||y>0?jA(r.left+_*2/3,r.top+M,Q-_*2/3,y-p*2/3,kA.BOTTOM_LEFT):new $(r.left+_*2/3,r.top+r.height-p*2/3),this.topLeftBorderStroke=s>0||i>0?jA(r.left+_/2,r.top+L/2,s-_/2,i-L/2,kA.TOP_LEFT):new $(r.left+_/2,r.top+L/2),this.topRightBorderStroke=s>0||i>0?jA(r.left+D,r.top+L/2,l-E/2,c-L/2,kA.TOP_RIGHT):new $(r.left+r.width-E/2,r.top+L/2),this.bottomRightBorderStroke=f>0||g>0?jA(r.left+S,r.top+T,f-E/2,g-p/2,kA.BOTTOM_RIGHT):new $(r.left+r.width-E/2,r.top+r.height-p/2),this.bottomLeftBorderStroke=Q>0||y>0?jA(r.left+_/2,r.top+M,Q-_/2,y-p/2,kA.BOTTOM_LEFT):new $(r.left+_/2,r.top+r.height-p/2),this.topLeftBorderBox=s>0||i>0?jA(r.left,r.top,s,i,kA.TOP_LEFT):new $(r.left,r.top),this.topRightBorderBox=l>0||c>0?jA(r.left+D,r.top,l,c,kA.TOP_RIGHT):new $(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||g>0?jA(r.left+S,r.top+T,f,g,kA.BOTTOM_RIGHT):new $(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=Q>0||y>0?jA(r.left,r.top+M,Q,y,kA.BOTTOM_LEFT):new $(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||i>0?jA(r.left+_,r.top+L,Math.max(0,s-_),Math.max(0,i-L),kA.TOP_LEFT):new $(r.left+_,r.top+L),this.topRightPaddingBox=l>0||c>0?jA(r.left+Math.min(D,r.width-E),r.top+L,D>r.width+E?0:Math.max(0,l-E),Math.max(0,c-L),kA.TOP_RIGHT):new $(r.left+r.width-E,r.top+L),this.bottomRightPaddingBox=f>0||g>0?jA(r.left+Math.min(S,r.width-_),r.top+Math.min(T,r.height-p),Math.max(0,f-E),Math.max(0,g-p),kA.BOTTOM_RIGHT):new $(r.left+r.width-E,r.top+r.height-p),this.bottomLeftPaddingBox=Q>0||y>0?jA(r.left+_,r.top+Math.min(M,r.height-p),Math.max(0,Q-_),Math.max(0,y-p),kA.BOTTOM_LEFT):new $(r.left+_,r.top+r.height-p),this.topLeftContentBox=s>0||i>0?jA(r.left+_+w,r.top+L+I,Math.max(0,s-(_+w)),Math.max(0,i-(L+I)),kA.TOP_LEFT):new $(r.left+_+w,r.top+L+I),this.topRightContentBox=l>0||c>0?jA(r.left+Math.min(D,r.width+_+w),r.top+L+I,D>r.width+_+w?0:l-_+w,c-(L+I),kA.TOP_RIGHT):new $(r.left+r.width-(E+U),r.top+L+I),this.bottomRightContentBox=f>0||g>0?jA(r.left+Math.min(S,r.width-(_+w)),r.top+Math.min(T,r.height+L+I),Math.max(0,f-(E+U)),g-(p+b),kA.BOTTOM_RIGHT):new $(r.left+r.width-(E+U),r.top+r.height-(p+b)),this.bottomLeftContentBox=Q>0||y>0?jA(r.left+_+w,r.top+M,Math.max(0,Q-(_+w)),y-(p+b),kA.BOTTOM_LEFT):new $(r.left+_+w,r.top+r.height-(p+b))}return t}(),kA;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(kA||(kA={}));var jA=function(t,A,e,r,n){var s=4*((Math.sqrt(2)-1)/3),i=e*s,a=r*s,l=t+e,c=A+r;switch(n){case kA.TOP_LEFT:return new Fi(new $(t,c),new $(t,c-a),new $(l-i,A),new $(l,A));case kA.TOP_RIGHT:return new Fi(new $(t,A),new $(t+i,A),new $(l,c-a),new $(l,c));case kA.BOTTOM_RIGHT:return new Fi(new $(l,A),new $(l,A+a),new $(t+i,c),new $(t,c));case kA.BOTTOM_LEFT:default:return new Fi(new $(l,c),new $(l-i,c),new $(t,A+a),new $(t,A))}},uo=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},qb=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ho=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},zb=function(){function t(A,e,r){this.offsetX=A,this.offsetY=e,this.matrix=r,this.type=0,this.target=6}return t}(),Ii=function(){function t(A,e){this.path=A,this.target=e,this.type=1}return t}(),Yb=function(){function t(A){this.opacity=A,this.type=2,this.target=6}return t}(),Zb=function(t){return t.type===0},uw=function(t){return t.type===1},$b=function(t){return t.type===2},Id=function(t,A){return t.length===A.length?t.some(function(e,r){return e===A[r]}):!1},A1=function(t,A,e,r,n){return t.map(function(s,i){switch(i){case 0:return s.add(A,e);case 1:return s.add(A+r,e);case 2:return s.add(A+r,e+n);case 3:return s.add(A,e+n)}return s})},hw=function(){function t(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),fw=function(){function t(A,e){if(this.container=A,this.parent=e,this.effects=[],this.curves=new Jb(this.container),this.container.styles.opacity<1&&this.effects.push(new Yb(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new zb(r,n,s))}if(this.container.styles.overflowX!==0){var i=uo(this.curves),a=ho(this.curves);Id(i,a)?this.effects.push(new Ii(i,6)):(this.effects.push(new Ii(i,2)),this.effects.push(new Ii(a,4)))}}return t.prototype.getEffects=function(A){for(var e=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!uw(l)});if(e||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,s),e=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var i=uo(r.curves),a=ho(r.curves);Id(i,a)||n.unshift(new Ii(a,6))}}else n.unshift.apply(n,s);r=r.parent}return n.filter(function(l){return ae(l.target,A)})},t}(),Fl=function(t,A,e,r){t.container.elements.forEach(function(n){var s=ae(n.flags,4),i=ae(n.flags,2),a=new fw(n,t);ae(n.styles.display,2048)&&r.push(a);var l=ae(n.flags,8)?[]:r;if(s||i){var c=s||n.styles.isPositioned()?e:A,u=new hw(a);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var g=0;c.negativeZIndex.some(function(Q,y){return f>Q.element.container.styles.zIndex.order?(g=y,!1):g>0}),c.negativeZIndex.splice(g,0,u)}else if(f>0){var B=0;c.positiveZIndex.some(function(Q,y){return f>=Q.element.container.styles.zIndex.order?(B=y+1,!1):B>0}),c.positiveZIndex.splice(B,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Fl(a,u,s?u:e,l)}else n.styles.isInlineLevel()?A.inlineLevel.push(a):A.nonInlineLevel.push(a),Fl(a,A,e,l);ae(n.flags,8)&&dw(n,l)})},dw=function(t,A){for(var e=t instanceof Ul?t.start:1,r=t instanceof Ul?t.reversed:!1,n=0;n<A.length;n++){var s=A[n];s.container instanceof ew&&typeof s.container.value=="number"&&s.container.value!==0&&(e=s.container.value),s.listValue=kc(e,s.container.styles.listStyleType,!0),e+=r?-1:1}},e1=function(t){var A=new fw(t,null),e=new hw(A),r=[];return Fl(A,e,e,r),dw(A.container,r),e},bd=function(t,A){switch(A){case 0:return nt(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return nt(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return nt(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return nt(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},t1=function(t,A){switch(A){case 0:return nt(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return nt(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return nt(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return nt(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},r1=function(t,A){switch(A){case 0:return nt(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return nt(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return nt(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return nt(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},n1=function(t,A){switch(A){case 0:return bi(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return bi(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return bi(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return bi(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},bi=function(t,A){var e=[];return tt(t)?e.push(t.subdivide(.5,!1)):e.push(t),tt(A)?e.push(A.subdivide(.5,!0)):e.push(A),e},nt=function(t,A,e,r){var n=[];return tt(t)?n.push(t.subdivide(.5,!1)):n.push(t),tt(e)?n.push(e.subdivide(.5,!0)):n.push(e),tt(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),tt(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},gw=function(t){var A=t.bounds,e=t.styles;return A.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},fo=function(t){var A=t.styles,e=t.bounds,r=GA(A.paddingLeft,e.width),n=GA(A.paddingRight,e.width),s=GA(A.paddingTop,e.width),i=GA(A.paddingBottom,e.width);return e.add(r+A.borderLeftWidth,s+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+s+i))},s1=function(t,A){return t===0?A.bounds:t===2?fo(A):gw(A)},i1=function(t,A){return t===0?A.bounds:t===2?fo(A):gw(A)},Va=function(t,A,e){var r=s1(ln(t.styles.backgroundOrigin,A),t),n=i1(ln(t.styles.backgroundClip,A),t),s=o1(ln(t.styles.backgroundSize,A),e,r),i=s[0],a=s[1],l=As(ln(t.styles.backgroundPosition,A),r.width-i,r.height-a),c=a1(ln(t.styles.backgroundRepeat,A),l,s,r,n),u=Math.round(r.left+l[0]),f=Math.round(r.top+l[1]);return[c,u,f,i,a]},en=function(t){return $A(t)&&t.value===fn.AUTO},Ti=function(t){return typeof t=="number"},o1=function(t,A,e){var r=A[0],n=A[1],s=A[2],i=t[0],a=t[1];if(!i)return[0,0];if(se(i)&&a&&se(a))return[GA(i,e.width),GA(a,e.height)];var l=Ti(s);if($A(i)&&(i.value===fn.CONTAIN||i.value===fn.COVER)){if(Ti(s)){var c=e.width/e.height;return c<s!=(i.value===fn.COVER)?[e.width,e.width/s]:[e.height*s,e.height]}return[e.width,e.height]}var u=Ti(r),f=Ti(n),g=u||f;if(en(i)&&(!a||en(a))){if(u&&f)return[r,n];if(!l&&!g)return[e.width,e.height];if(g&&l){var B=u?r:n*s,Q=f?n:r/s;return[B,Q]}var y=u?r:e.width,F=f?n:e.height;return[y,F]}if(l){var R=0,D=0;return se(i)?R=GA(i,e.width):se(a)&&(D=GA(a,e.height)),en(i)?R=D*s:(!a||en(a))&&(D=R/s),[R,D]}var T=null,S=null;if(se(i)?T=GA(i,e.width):a&&se(a)&&(S=GA(a,e.height)),T!==null&&(!a||en(a))&&(S=u&&f?T/r*n:e.height),S!==null&&en(i)&&(T=u&&f?S/n*r:e.width),T!==null&&S!==null)return[T,S];throw new Error("Unable to calculate background-size for element")},ln=function(t,A){var e=t[A];return typeof e>"u"?t[0]:e},a1=function(t,A,e,r,n){var s=A[0],i=A[1],a=e[0],l=e[1];switch(t){case 2:return[new $(Math.round(r.left),Math.round(r.top+i)),new $(Math.round(r.left+r.width),Math.round(r.top+i)),new $(Math.round(r.left+r.width),Math.round(l+r.top+i)),new $(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new $(Math.round(r.left+s),Math.round(r.top)),new $(Math.round(r.left+s+a),Math.round(r.top)),new $(Math.round(r.left+s+a),Math.round(r.height+r.top)),new $(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new $(Math.round(r.left+s),Math.round(r.top+i)),new $(Math.round(r.left+s+a),Math.round(r.top+i)),new $(Math.round(r.left+s+a),Math.round(r.top+i+l)),new $(Math.round(r.left+s),Math.round(r.top+i+l))];default:return[new $(Math.round(n.left),Math.round(n.top)),new $(Math.round(n.left+n.width),Math.round(n.top)),new $(Math.round(n.left+n.width),Math.round(n.height+n.top)),new $(Math.round(n.left),Math.round(n.height+n.top))]}},l1="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Td="Hidden Text",c1=function(){function t(A){this._data={},this._document=A}return t.prototype.parseMetrics=function(A,e){var r=this._document.createElement("div"),n=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",i.appendChild(r),n.src=l1,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",s.style.fontFamily=A,s.style.fontSize=e,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Td)),r.appendChild(s),r.appendChild(n);var a=n.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(Td)),r.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-r.offsetTop+2;return i.removeChild(r),{baseline:a,middle:l}},t.prototype.getMetrics=function(A,e){var r=A+" "+e;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,e)),this._data[r]},t}(),Bw=function(){function t(A,e){this.context=A,this.options=e}return t}(),u1=1e4;(function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new c1(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(e){for(var r=this;this._activeEffects.length;)this.popEffect();e.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(e){this.ctx.save(),$b(e)&&(this.ctx.globalAlpha=e.opacity),Zb(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),uw(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(e){return $e(this,void 0,void 0,function(){var r;return Ge(this,function(n){switch(n.label){case 0:return r=e.element.container.styles,r.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(e){return $e(this,void 0,void 0,function(){return Ge(this,function(r){switch(r.label){case 0:if(ae(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(e,r,n){var s=this;if(r===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var i=Dc(e.text);i.reduce(function(a,l){return s.ctx.fillText(l,a,e.bounds.top+n),a+s.ctx.measureText(l).width},e.bounds.left)}},A.prototype.createFontStyle=function(e){var r=e.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),n=B1(e.fontFamily).join(", "),s=Vs(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,r,e.fontWeight,s,n].join(" "),n,s]},A.prototype.renderTextNode=function(e,r){return $e(this,void 0,void 0,function(){var n,s,i,a,l,c,u,f,g=this;return Ge(this,function(B){return n=this.createFontStyle(r),s=n[0],i=n[1],a=n[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,a),c=l.baseline,u=l.middle,f=r.paintOrder,e.textBounds.forEach(function(Q){f.forEach(function(y){switch(y){case 0:g.ctx.fillStyle=ge(r.color),g.renderTextWithLetterSpacing(Q,r.letterSpacing,c);var F=r.textShadow;F.length&&Q.text.trim().length&&(F.slice(0).reverse().forEach(function(R){g.ctx.shadowColor=ge(R.color),g.ctx.shadowOffsetX=R.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=R.offsetY.number*g.options.scale,g.ctx.shadowBlur=R.blur.number,g.renderTextWithLetterSpacing(Q,r.letterSpacing,c)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=ge(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(R){switch(R){case 1:g.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top+c),Q.bounds.width,1);break;case 2:g.ctx.fillRect(Q.bounds.left,Math.round(Q.bounds.top),Q.bounds.width,1);break;case 3:g.ctx.fillRect(Q.bounds.left,Math.ceil(Q.bounds.top+u),Q.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&Q.text.trim().length&&(g.ctx.strokeStyle=ge(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(Q.text,Q.bounds.left,Q.bounds.top+c)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(e,r,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var s=fo(e),i=ho(r);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(e){return $e(this,void 0,void 0,function(){var r,n,s,i,a,l,D,D,c,u,f,g,S,B,Q,M,y,F,R,D,T,S,M;return Ge(this,function(L){switch(L.label){case 0:this.applyEffects(e.getEffects(4)),r=e.container,n=e.curves,s=r.styles,i=0,a=r.textNodes,L.label=1;case 1:return i<a.length?(l=a[i],[4,this.renderTextNode(l,s)]):[3,4];case 2:L.sent(),L.label=3;case 3:return i++,[3,1];case 4:if(!(r instanceof Zp))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return D=L.sent(),this.renderReplacedElement(r,n,D),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof $p&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof Aw))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return D=L.sent(),this.renderReplacedElement(r,n,D),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof nw&&r.tree?(c=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=L.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),L.label=14;case 14:if(r instanceof Lc&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===lo?r.checked&&(this.ctx.save(),this.path([new $(r.bounds.left+f*.39363,r.bounds.top+f*.79),new $(r.bounds.left+f*.16,r.bounds.top+f*.5549),new $(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new $(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new $(r.bounds.left+f*.72983,r.bounds.top+f*.23),new $(r.bounds.left+f*.84,r.bounds.top+f*.34085),new $(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=ge(yd),this.ctx.fill(),this.ctx.restore()):r.type===co&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=ge(yd),this.ctx.fill(),this.ctx.restore())),h1(r)&&r.value.length){switch(g=this.createFontStyle(s),S=g[0],B=g[1],Q=this.fontMetrics.getMetrics(S,B).baseline,this.ctx.font=S,this.ctx.fillStyle=ge(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=d1(r.styles.textAlign),M=fo(r),y=0,r.styles.textAlign){case 1:y+=M.width/2;break;case 2:y+=M.width;break}F=M.add(y,0,0,-M.height/2+1),this.ctx.save(),this.path([new $(M.left,M.top),new $(M.left+M.width,M.top),new $(M.left+M.width,M.top+M.height),new $(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new hs(r.value,F),s.letterSpacing,Q),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ae(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(R=r.styles.listStyleImage,R.type!==0)return[3,18];D=void 0,T=R.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return D=L.sent(),this.ctx.drawImage(D,r.bounds.left-(D.width+10),r.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:e.listValue&&r.styles.listStyleType!==-1&&(S=this.createFontStyle(s)[0],this.ctx.font=S,this.ctx.fillStyle=ge(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new Lr(r.bounds.left,r.bounds.top+GA(r.styles.paddingTop,r.bounds.width),r.bounds.width,sd(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new hs(e.listValue,M),s.letterSpacing,sd(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(e){return $e(this,void 0,void 0,function(){var r,n,R,s,i,R,a,l,R,c,u,R,f,g,R,B,Q,R,y,F,R;return Ge(this,function(D){switch(D.label){case 0:if(ae(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:D.sent(),r=0,n=e.negativeZIndex,D.label=2;case 2:return r<n.length?(R=n[r],[4,this.renderStack(R)]):[3,5];case 3:D.sent(),D.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:D.sent(),s=0,i=e.nonInlineLevel,D.label=7;case 7:return s<i.length?(R=i[s],[4,this.renderNode(R)]):[3,10];case 8:D.sent(),D.label=9;case 9:return s++,[3,7];case 10:a=0,l=e.nonPositionedFloats,D.label=11;case 11:return a<l.length?(R=l[a],[4,this.renderStack(R)]):[3,14];case 12:D.sent(),D.label=13;case 13:return a++,[3,11];case 14:c=0,u=e.nonPositionedInlineLevel,D.label=15;case 15:return c<u.length?(R=u[c],[4,this.renderStack(R)]):[3,18];case 16:D.sent(),D.label=17;case 17:return c++,[3,15];case 18:f=0,g=e.inlineLevel,D.label=19;case 19:return f<g.length?(R=g[f],[4,this.renderNode(R)]):[3,22];case 20:D.sent(),D.label=21;case 21:return f++,[3,19];case 22:B=0,Q=e.zeroOrAutoZIndexOrTransformedOrOpacity,D.label=23;case 23:return B<Q.length?(R=Q[B],[4,this.renderStack(R)]):[3,26];case 24:D.sent(),D.label=25;case 25:return B++,[3,23];case 26:y=0,F=e.positiveZIndex,D.label=27;case 27:return y<F.length?(R=F[y],[4,this.renderStack(R)]):[3,30];case 28:D.sent(),D.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},A.prototype.formatPath=function(e){var r=this;e.forEach(function(n,s){var i=tt(n)?n.start:n;s===0?r.ctx.moveTo(i.x,i.y):r.ctx.lineTo(i.x,i.y),tt(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(e,r,n,s){this.path(e),this.ctx.fillStyle=r,this.ctx.translate(n,s),this.ctx.fill(),this.ctx.translate(-n,-s)},A.prototype.resizeImage=function(e,r,n){var s;if(e.width===r&&e.height===n)return e;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=i.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,n);var l=a.getContext("2d");return l.drawImage(e,0,0,e.width,e.height,0,0,r,n),a},A.prototype.renderBackgroundImage=function(e){return $e(this,void 0,void 0,function(){var r,n,s,i,a,l;return Ge(this,function(c){switch(c.label){case 0:r=e.styles.backgroundImage.length-1,n=function(u){var f,g,B,I,_A,O,w,Z,p,Q,I,_A,O,w,Z,y,F,R,D,T,S,M,L,E,p,_,I,U,b,w,Z,AA,_A,O,mA,IA,x,H,Y,q,cA,aA;return Ge(this,function(sA){switch(sA.label){case 0:if(u.type!==0)return[3,5];f=void 0,g=u.url,sA.label=1;case 1:return sA.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return f=sA.sent(),[3,4];case 3:return sA.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return f&&(B=Va(e,r,[f.width,f.height,f.width/f.height]),I=B[0],_A=B[1],O=B[2],w=B[3],Z=B[4],p=s.ctx.createPattern(s.resizeImage(f,w,Z),"repeat"),s.renderRepeat(I,p,_A,O)),[3,6];case 5:dF(u)?(Q=Va(e,r,[null,null,null]),I=Q[0],_A=Q[1],O=Q[2],w=Q[3],Z=Q[4],y=lF(u.angle,w,Z),F=y[0],R=y[1],D=y[2],T=y[3],S=y[4],M=document.createElement("canvas"),M.width=w,M.height=Z,L=M.getContext("2d"),E=L.createLinearGradient(R,T,D,S),rd(u.stops,F).forEach(function(j){return E.addColorStop(j.stop,ge(j.color))}),L.fillStyle=E,L.fillRect(0,0,w,Z),w>0&&Z>0&&(p=s.ctx.createPattern(M,"repeat"),s.renderRepeat(I,p,_A,O))):gF(u)&&(_=Va(e,r,[null,null,null]),I=_[0],U=_[1],b=_[2],w=_[3],Z=_[4],AA=u.position.length===0?[Hc]:u.position,_A=GA(AA[0],w),O=GA(AA[AA.length-1],Z),mA=cF(u,_A,O,w,Z),IA=mA[0],x=mA[1],IA>0&&x>0&&(H=s.ctx.createRadialGradient(U+_A,b+O,0,U+_A,b+O,IA),rd(u.stops,IA*2).forEach(function(j){return H.addColorStop(j.stop,ge(j.color))}),s.path(I),s.ctx.fillStyle=H,IA!==x?(Y=e.bounds.left+.5*e.bounds.width,q=e.bounds.top+.5*e.bounds.height,cA=x/IA,aA=1/cA,s.ctx.save(),s.ctx.translate(Y,q),s.ctx.transform(1,0,0,cA,0,0),s.ctx.translate(-Y,-q),s.ctx.fillRect(U,aA*(b-q)+q,w,Z*aA),s.ctx.restore()):s.ctx.fill())),sA.label=6;case 6:return r--,[2]}})},s=this,i=0,a=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<a.length?(l=a[i],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(e,r,n){return $e(this,void 0,void 0,function(){return Ge(this,function(s){return this.path(bd(n,r)),this.ctx.fillStyle=ge(e),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(e,r,n,s){return $e(this,void 0,void 0,function(){var i,a;return Ge(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return l.sent(),[2];case 2:return i=t1(s,n),this.path(i),this.ctx.fillStyle=ge(e),this.ctx.fill(),a=r1(s,n),this.path(a),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(e){return $e(this,void 0,void 0,function(){var r,n,s,i,a,l,c,u,f=this;return Ge(this,function(g){switch(g.label){case 0:return this.applyEffects(e.getEffects(2)),r=e.container.styles,n=!hn(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],i=f1(ln(r.backgroundClip,0),e.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),hn(r.backgroundColor)||(this.ctx.fillStyle=ge(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(B){f.ctx.save();var Q=uo(e.curves),y=B.inset?0:u1,F=A1(Q,-y+(B.inset?1:-1)*B.spread.number,(B.inset?1:-1)*B.spread.number,B.spread.number*(B.inset?-2:2),B.spread.number*(B.inset?-2:2));B.inset?(f.path(Q),f.ctx.clip(),f.mask(F)):(f.mask(Q),f.ctx.clip(),f.path(F)),f.ctx.shadowOffsetX=B.offsetX.number+y,f.ctx.shadowOffsetY=B.offsetY.number,f.ctx.shadowColor=ge(B.color),f.ctx.shadowBlur=B.blur.number,f.ctx.fillStyle=B.inset?ge(B.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),g.label=2;case 2:a=0,l=0,c=s,g.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!hn(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,e.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,e.curves,3)];case 6:return g.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,e.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,e.curves)];case 10:g.sent(),g.label=11;case 11:a++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(e,r,n,s,i){return $e(this,void 0,void 0,function(){var a,l,c,u,f,g,B,Q,y,F,R,D,T,S,M,L,M,L;return Ge(this,function(E){return this.ctx.save(),a=n1(s,n),l=bd(s,n),i===2&&(this.path(l),this.ctx.clip()),tt(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),tt(l[1])?(f=l[1].end.x,g=l[1].end.y):(f=l[1].x,g=l[1].y),n===0||n===2?B=Math.abs(c-f):B=Math.abs(u-g),this.ctx.beginPath(),i===3?this.formatPath(a):this.formatPath(l.slice(0,2)),Q=r<3?r*3:r*2,y=r<3?r*2:r,i===3&&(Q=r,y=r),F=!0,B<=Q*2?F=!1:B<=Q*2+y?(R=B/(2*Q+y),Q*=R,y*=R):(D=Math.floor((B+y)/(Q+y)),T=(B-D*Q)/(D-1),S=(B-(D+1)*Q)/D,y=S<=0||Math.abs(y-T)<Math.abs(y-S)?T:S),F&&(i===3?this.ctx.setLineDash([0,Q+y]):this.ctx.setLineDash([Q,y])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ge(e),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(tt(l[0])&&(M=l[3],L=l[0],this.ctx.beginPath(),this.formatPath([new $(M.end.x,M.end.y),new $(L.start.x,L.start.y)]),this.ctx.stroke()),tt(l[1])&&(M=l[1],L=l[2],this.ctx.beginPath(),this.formatPath([new $(M.end.x,M.end.y),new $(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(e){return $e(this,void 0,void 0,function(){var r;return Ge(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ge(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=e1(e),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A})(Bw);var h1=function(t){return t instanceof rw||t instanceof tw?!0:t instanceof Lc&&t.type!==co&&t.type!==lo},f1=function(t,A){switch(t){case 0:return uo(A);case 2:return qb(A);case 1:default:return ho(A)}},d1=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},g1=["-apple-system","system-ui"],B1=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(A){return g1.indexOf(A)===-1}):t};(function(t){gt(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(e){return $e(this,void 0,void 0,function(){var r,n;return Ge(this,function(s){switch(s.label){case 0:return r=vl(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,p1(r)];case 1:return n=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ge(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A})(Bw);var p1=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window<"u"&&Xb.setContext(window);function Hd(t,A,e){const r=t.slice();return r[24]=A[e],r[26]=e,r}function Sd(t,A,e){const r=t.slice();return r[27]=A[e],r}function Rd(t,A,e){const r=t.slice();return r[30]=A[e],r[26]=e,r}function Dd(t,A,e){const r=t.slice();return r[32]=A[e],r}function w1(t){let A,e=OA(t[1]),r=[];for(let n=0;n<e.length;n+=1)r[n]=Nd(Hd(t,e,n));return{c(){A=k("div");for(let n=0;n<r.length;n+=1)r[n].c();C(A,"class","flex flex-col gap-4")},m(n,s){W(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&970){e=OA(n[1]);let i;for(i=0;i<e.length;i+=1){const a=Hd(n,e,i);r[i]?r[i].p(a,s):(r[i]=Nd(a),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&G(A),Me(r,n)}}}function m1(t){let A;return{c(){A=k("div"),A.innerHTML='<span class="text-accent">Loading drawings...</span>',C(A,"class","flex justify-center items-center h-40")},m(e,r){W(e,A,r)},p:nA,d(e){e&&G(A)}}}function Ld(t){var dA;let A,e,r,n,s,i,a,l=(((dA=t[24].likes)==null?void 0:dA.length)||0)+"",c,u,f,g,B,Q,y,F,R,D,T,S,M=t[24].artist.toLowerCase()+"",L,E,p,_,I=Wd(t[24].createdAt)+"",U,b,w,Z,AA,_A,O,mA,IA=OA(Array(t[24].coins)),x=[];for(let gA=0;gA<IA.length;gA+=1)x[gA]=kd(Dd(t,IA,gA));function H(gA,UA){return UA[0]&2&&(s=null),s==null&&(s=!!gA[8](gA[24])),s?y1:C1}let Y=H(t,[-1,-1]),q=Y(t);function cA(){return t[13](t[24])}function aA(){return t[14](t[26])}function sA(gA,UA){return gA[24].guessed?_1:Q1}let j=sA(t),J=j(t);function EA(gA,UA){return gA[24].guesses&&gA[24].guesses.length>0?v1:E1}let vA=EA(t),uA=vA(t),BA=t[24].hintPurchased&&Pd(t),QA=t[24].guessed&&Md(t);return{c(){A=k("div"),e=k("div");for(let gA=0;gA<x.length;gA+=1)x[gA].c();r=X(),n=k("div"),q.c(),i=X(),a=k("span"),c=iA(l),u=X(),f=k("div"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',g=X(),B=k("div"),B.textContent="Copied!",Q=X(),y=k("img"),R=X(),D=k("p"),J.c(),T=iA(`
							by
							`),S=k("span"),L=iA(M),E=X(),p=k("span"),_=iA("on "),U=iA(I),b=X(),w=k("p"),uA.c(),Z=X(),BA&&BA.c(),AA=X(),QA&&QA.c(),_A=X(),C(e,"class","flex flex-row gap-1 absolute top-2 right-2"),C(a,"class","text-sm font-semibold"),C(n,"class","absolute top-2 left-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-20"),C(f,"class","absolute top-10 right-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-10"),C(f,"title","Copy screenshot to clipboard"),C(B,"id",`feedback-drawing-card-${t[26]}`),C(B,"class","absolute top-12 right-2 bg-green-500 text-white p-1 rounded text-xs hidden z-30"),Pe(y.src,F=`${t[24].data}`)||C(y,"src",F),C(y,"class","w-full h-full object-contain"),C(y,"alt","Drawing"),C(S,"class","font-semibold"),C(p,"class","text-[10px] opacity-50"),C(D,"class","text-lg text-center py-2 align-middle items-center"),C(w,"class","text-[0.8rem] text-center align-middle items-center w-3/4"),C(A,"id",`drawing-card-${t[26]}`),C(A,"class","bg-white/90 p-1 relative rounded-lg w-full max-w-[min(90vw,400px)] flex flex-col items-center justify-center mx-auto border-2 border-primary")},m(gA,UA){W(gA,A,UA),v(A,e);for(let VA=0;VA<x.length;VA+=1)x[VA]&&x[VA].m(e,null);v(A,r),v(A,n),q.m(n,null),v(n,i),v(n,a),v(a,c),v(A,u),v(A,f),v(A,g),v(A,B),v(A,Q),v(A,y),v(A,R),v(A,D),J.m(D,null),v(D,T),v(D,S),v(S,L),v(D,E),v(D,p),v(p,_),v(p,U),v(A,b),v(A,w),uA.m(w,null),v(A,Z),BA&&BA.m(A,null),v(A,AA),QA&&QA.m(A,null),v(A,_A),O||(mA=[fA(n,"click",Fu(cA)),fA(f,"click",Fu(aA))],O=!0)},p(gA,UA){var VA;if(t=gA,UA[0]&2){IA=OA(Array(t[24].coins));let DA;for(DA=0;DA<IA.length;DA+=1){const PA=Dd(t,IA,DA);x[DA]?x[DA].p(PA,UA):(x[DA]=kd(),x[DA].c(),x[DA].m(e,null))}for(;DA<x.length;DA+=1)x[DA].d(1);x.length=IA.length}Y!==(Y=H(t,UA))&&(q.d(1),q=Y(t),q&&(q.c(),q.m(n,i))),UA[0]&2&&l!==(l=(((VA=t[24].likes)==null?void 0:VA.length)||0)+"")&&bA(c,l),UA[0]&2&&!Pe(y.src,F=`${t[24].data}`)&&C(y,"src",F),j===(j=sA(t))&&J?J.p(t,UA):(J.d(1),J=j(t),J&&(J.c(),J.m(D,T))),UA[0]&2&&M!==(M=t[24].artist.toLowerCase()+"")&&bA(L,M),UA[0]&2&&I!==(I=Wd(t[24].createdAt)+"")&&bA(U,I),vA===(vA=EA(t))&&uA?uA.p(t,UA):(uA.d(1),uA=vA(t),uA&&(uA.c(),uA.m(w,null))),t[24].hintPurchased?BA?BA.p(t,UA):(BA=Pd(t),BA.c(),BA.m(A,AA)):BA&&(BA.d(1),BA=null),t[24].guessed?QA?QA.p(t,UA):(QA=Md(t),QA.c(),QA.m(A,_A)):QA&&(QA.d(1),QA=null)},d(gA){gA&&G(A),Me(x,gA),q.d(),J.d(),uA.d(),BA&&BA.d(),QA&&QA.d(),O=!1,Qe(mA)}}}function kd(t){let A,e;return{c(){A=k("img"),Pe(A.src,e=Mr)||C(A,"src",e),C(A,"class","w-4 h-4"),C(A,"alt","Coin")},m(r,n){W(r,A,n)},p:nA,d(r){r&&G(A)}}}function C1(t){let A,e;return{c(){A=et("svg"),e=et("path"),C(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),C(A,"xmlns","http://www.w3.org/2000/svg"),C(A,"width","20"),C(A,"height","20"),C(A,"viewBox","0 0 24 24"),C(A,"fill","none"),C(A,"stroke","currentColor"),C(A,"stroke-width","2"),C(A,"stroke-linecap","round"),C(A,"stroke-linejoin","round")},m(r,n){W(r,A,n),v(A,e)},d(r){r&&G(A)}}}function y1(t){let A,e;return{c(){A=et("svg"),e=et("path"),C(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),C(A,"xmlns","http://www.w3.org/2000/svg"),C(A,"width","20"),C(A,"height","20"),C(A,"viewBox","0 0 24 24"),C(A,"fill","#ff6b6b"),C(A,"stroke","#ff6b6b"),C(A,"stroke-width","2"),C(A,"stroke-linecap","round"),C(A,"stroke-linejoin","round")},m(r,n){W(r,A,n),v(A,e)},d(r){r&&G(A)}}}function Q1(t){let A;return{c(){A=k("span"),A.textContent="?",C(A,"class","font-bold text-primary")},m(e,r){W(e,A,r)},p:nA,d(e){e&&G(A)}}}function _1(t){let A,e=t[24].secretWord+"",r;return{c(){A=k("span"),r=iA(e),C(A,"class","font-bold text-primary")},m(n,s){W(n,A,s),v(A,r)},p(n,s){s[0]&2&&e!==(e=n[24].secretWord+"")&&bA(r,e)},d(n){n&&G(A)}}}function E1(t){let A,e,r=t[24].guessedBy+"",n,s;return{c(){A=k("span"),e=k("span"),n=iA(r),s=iA(`
									is thinking...`),C(e,"class","font-semibold"),C(A,"class","italic")},m(i,a){W(i,A,a),v(A,e),v(e,n),v(A,s)},p(i,a){a[0]&2&&r!==(r=i[24].guessedBy+"")&&bA(n,r)},d(i){i&&G(A)}}}function v1(t){let A,e=t[24].guessedBy+"",r,n,s,i,a=!t[24].guessed&&xd(),l=OA(t[24].guesses),c=[];for(let u=0;u<l.length;u+=1)c[u]=Vd(Rd(t,l,u));return{c(){A=k("span"),r=iA(e),n=X(),a&&a.c(),s=iA(`
								guessed:
								`);for(let u=0;u<c.length;u+=1)c[u].c();i=ot(),C(A,"class","font-semibold")},m(u,f){W(u,A,f),v(A,r),W(u,n,f),a&&a.m(u,f),W(u,s,f);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(u,f);W(u,i,f)},p(u,f){if(f[0]&2&&e!==(e=u[24].guessedBy+"")&&bA(r,e),u[24].guessed?a&&(a.d(1),a=null):a||(a=xd(),a.c(),a.m(s.parentNode,s)),f[0]&2){l=OA(u[24].guesses);let g;for(g=0;g<l.length;g+=1){const B=Rd(u,l,g);c[g]?c[g].p(B,f):(c[g]=Vd(B),c[g].c(),c[g].m(i.parentNode,i))}for(;g<c.length;g+=1)c[g].d(1);c.length=l.length}},d(u){u&&(G(A),G(n),G(s),G(i)),a&&a.d(u),Me(c,u)}}}function xd(t){let A;return{c(){A=iA("has")},m(e,r){W(e,A,r)},d(e){e&&G(A)}}}function Vd(t){let A,e=t[30]+"",r,n=t[26]<t[24].guesses.length-1?", ":"",s;return{c(){A=k("span"),r=iA(e),s=iA(n),C(A,"class","italic")},m(i,a){W(i,A,a),v(A,r),v(A,s)},p(i,a){a[0]&2&&e!==(e=i[30]+"")&&bA(r,e),a[0]&2&&n!==(n=i[26]<i[24].guesses.length-1?", ":"")&&bA(s,n)},d(i){i&&G(A)}}}function Pd(t){let A,e=t[24].hintPurchased?`${t[24].guessedBy} used a Hint`:"",r,n=t[24].superHintPurchased?"... AND a SuperHint!":"",s;return{c(){A=k("p"),r=iA(e),s=iA(n),C(A,"class","text-[0.8rem] text-secondary flex flex-row py-2 text-center align-middle items-center")},m(i,a){W(i,A,a),v(A,r),v(A,s)},p(i,a){a[0]&2&&e!==(e=i[24].hintPurchased?`${i[24].guessedBy} used a Hint`:"")&&bA(r,e),a[0]&2&&n!==(n=i[24].superHintPurchased?"... AND a SuperHint!":"")&&bA(s,n)},d(i){i&&G(A)}}}function Md(t){let A,e,r,n,s,i,a,l,c,u;function f(...Q){return t[16](t[24],...Q)}function g(){return t[17](t[24])}let B=t[24].comments&&t[24].comments.length>0&&Od(t);return{c(){A=k("div"),e=k("div"),r=k("input"),n=X(),s=k("button"),i=iA("Comment"),l=X(),B&&B.c(),C(r,"type","text"),C(r,"placeholder","Add a comment"),C(r,"class","input input-bordered bg-white input-sm text-black w-full"),C(s,"class","btn btn-secondary btn-sm"),s.disabled=a=t[3].trim()==="",C(e,"class","flex flex-row gap-2 items-center"),C(A,"class","flex flex-col gap-2 pt-4 pb-1 w-full px-2")},m(Q,y){W(Q,A,y),v(A,e),v(e,r),Et(r,t[3]),v(e,n),v(e,s),v(s,i),v(A,l),B&&B.m(A,null),c||(u=[fA(r,"input",t[15]),fA(r,"keydown",f),fA(s,"click",g)],c=!0)},p(Q,y){t=Q,y[0]&8&&r.value!==t[3]&&Et(r,t[3]),y[0]&8&&a!==(a=t[3].trim()==="")&&(s.disabled=a),t[24].comments&&t[24].comments.length>0?B?B.p(t,y):(B=Od(t),B.c(),B.m(A,null)):B&&(B.d(1),B=null)},d(Q){Q&&G(A),B&&B.d(),c=!1,Qe(u)}}}function Od(t){let A,e=OA(t[24].comments),r=[];for(let n=0;n<e.length;n+=1)r[n]=Kd(Sd(t,e,n));return{c(){A=k("div");for(let n=0;n<r.length;n+=1)r[n].c();C(A,"class","flex flex-col gap-1 mt-2 pb-2")},m(n,s){W(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&2){e=OA(n[24].comments);let i;for(i=0;i<e.length;i+=1){const a=Sd(n,e,i);r[i]?r[i].p(a,s):(r[i]=Kd(a),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&G(A),Me(r,n)}}}function Kd(t){let A,e,r=t[27].createdBy+"",n,s,i,a=t[27].content+"",l,c;return{c(){A=k("p"),e=k("span"),n=iA(r),s=iA(":"),i=X(),l=iA(a),c=X(),C(e,"class","font-semibold"),C(A,"class","text-[0.8rem] text-left")},m(u,f){W(u,A,f),v(A,e),v(e,n),v(e,s),v(A,i),v(A,l),v(A,c)},p(u,f){f[0]&2&&r!==(r=u[27].createdBy+"")&&bA(n,r),f[0]&2&&a!==(a=u[27].content+"")&&bA(l,a)},d(u){u&&G(A)}}}function Nd(t){let A,e=t[24].data&&t[24].data.length>10&&Ld(t);return{c(){e&&e.c(),A=ot()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,n){r[24].data&&r[24].data.length>10?e?e.p(r,n):(e=Ld(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&G(A),e&&e.d(r)}}}function Gd(t){let A,e,r,n,s,i,a,l,c,u,f,g,B,Q,y,F;return{c(){A=k("div"),e=k("div"),r=k("h3"),r.textContent="Share Drawing",n=X(),s=k("div"),i=k("img"),l=X(),c=k("div"),u=k("button"),u.textContent="Download",f=X(),g=k("button"),g.textContent="Share",B=X(),Q=k("button"),Q.textContent="Cancel",C(r,"class","text-xl font-bold text-primary mb-4 text-center"),Pe(i.src,a=URL.createObjectURL(t[4]))||C(i,"src",a),C(i,"alt","Drawing screenshot"),C(i,"class","w-full h-auto"),C(s,"class","mb-4 border border-gray-200 rounded-lg overflow-hidden"),C(u,"class","btn btn-primary"),C(g,"class","btn btn-secondary"),C(c,"class","grid grid-cols-2 gap-3 mb-4"),C(Q,"class","w-full btn btn-outline btn-sm"),C(e,"class","bg-white rounded-lg p-6 max-w-sm w-full mx-4"),C(A,"class","fixed inset-0 bg-black/70 flex items-center justify-center z-50")},m(R,D){W(R,A,D),v(A,e),v(e,r),v(e,n),v(e,s),v(s,i),v(e,l),v(e,c),v(c,u),v(c,f),v(c,g),v(e,B),v(e,Q),y||(F=[fA(u,"click",t[10]),fA(g,"click",t[11]),fA(Q,"click",t[12])],y=!0)},p(R,D){D[0]&16&&!Pe(i.src,a=URL.createObjectURL(R[4]))&&C(i,"src",a)},d(R){R&&G(A),y=!1,Qe(F)}}}function U1(t){let A,e,r,n,s;e=new ko({props:{navigate:t[0]}});function i(u,f){return u[2]?m1:w1}let a=i(t),l=a(t),c=t[5]&&t[4]&&Gd(t);return{c(){A=k("div"),de(e.$$.fragment),r=X(),l.c(),n=X(),c&&c.c(),C(A,"class","p-4")},m(u,f){W(u,A,f),ie(e,A,null),v(A,r),l.m(A,null),v(A,n),c&&c.m(A,null),s=!0},p(u,f){const g={};f[0]&1&&(g.navigate=u[0]),e.$set(g),a===(a=i(u))&&l?l.p(u,f):(l.d(1),l=a(u),l&&(l.c(),l.m(A,n))),u[5]&&u[4]?c?c.p(u,f):(c=Gd(u),c.c(),c.m(A,null)):c&&(c.d(1),c=null)},i(u){s||(tA(e.$$.fragment,u),s=!0)},o(u){lA(e.$$.fragment,u),s=!1},d(u){u&&G(A),oe(e),l.d(),c&&c.d()}}}function Pa(t){return new Promise((A,e)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>A(r),r.onerror=n=>e(n),r.src=t})}function F1(t,A,e,r,n,s){const i=A.split(" ");let a="",l=0;for(let c=0;c<i.length;c++){const u=a+i[c]+" ";t.measureText(u).width>n&&c>0?(t.fillText(a,e,r+l*s),a=i[c]+" ",l++):a=u}return t.fillText(a,e,r+l*s),l+1}function Wd(t){return t&&typeof t.toDate=="function"?t.toDate().toLocaleDateString("en-US",{month:"long",day:"numeric"}):new Date(t).toLocaleDateString("en-US",{month:"long",day:"numeric"})}function I1(t,A,e){let r;ZA(t,qA,U=>e(21,r=U));let n=[],s=!0,i="",a=[];const l=zB();let c=!1,u=null,f=!1,g="",{navigate:B}=A;vs(async()=>{console.log("Feed mounted");try{e(1,n=await wE()),console.log("Drawings loaded",n),Q()}catch(U){console.error("Error loading drawings:",U)}finally{e(2,s=!1)}}),Ww(()=>{a.forEach(U=>U())});function Q(){a.forEach(b=>b()),a=[];const U=new Set(n.map(b=>b.gameId).filter(Boolean));console.log("Setting up subscriptions for game IDs:",[...U]),U.forEach(b=>{if(!b)return;const w=dt(Hs(l,"games"),b),Z=nE(w,AA=>{if(AA.exists()){const _A=AA.data();console.log(`Game data updated for ${b}:`,_A),e(1,n=n.map(O=>O.gameId===b&&O.index!==void 0?(console.log(`Updating drawing ${O.index} for game ${b}`),{..._A.drawings[O.index],gameId:b,index:O.index,guessedBy:O.guessedBy}):O))}},AA=>{console.error(`Error in game subscription for ${b}:`,AA)});a.push(Z)})}async function y(U,b){if(i.trim()==="")return;const w=r;if(w)try{const Z=i.trim();uE(U,b,Z,w.name),e(3,i="")}catch(Z){console.error("Error adding comment:",Z)}}async function F(U,b){const w=r;if(w)try{await BE(U,b,w.name)}catch(Z){console.error("Error liking drawing:",Z)}else alert("No user logged in")}function R(U){const b=r;return!b||!U.likes?!1:U.likes.includes(b.name)}async function D(U){var b;if(!c)try{c=!0;const w=n[U];if(!w||!w.data){c=!1;return}e(5,f=!1);const[Z,AA,_A]=await Promise.all([Pa(w.data),Pa(Bp),Pa(Mr)]),O=20,mA=4,IA="#a78bfa",x="#ffffff",H=120,Y="#000000",q="#6419e6",cA="#d926a9",aA="#000000",sA=25,j=document.createElement("canvas"),J=j.getContext("2d");if(!J){c=!1;return}const EA=Math.min(Z.width,600),vA=Z.height*(EA/Z.width);j.width=EA+O*2+mA*2,j.height=vA+O*2+mA*2+150+sA,J.fillStyle=x,J.fillRect(0,0,j.width,j.height),J.strokeStyle=IA,J.lineWidth=mA,J.strokeRect(O/2,O/2,j.width-O,j.height-O-sA);const uA=O+mA,BA=O+mA+30;if(J.drawImage(Z,uA,BA,EA,vA),w.coins)for(let KA=0;KA<w.coins;KA++)J.drawImage(_A,j.width-O-mA-(KA+1)*32,O+mA+10,28,28);J.fillStyle=aA,J.font="bold 24px Outfit, sans-serif";const QA=` ${((b=w.likes)==null?void 0:b.length)||0}`;J.fillText(QA,O+mA+10,O+mA+32);const dA=BA+vA+50;J.textAlign="center",J.font="bold 30px Outfit, sans-serif";const gA=w.guessed?w.secretWord:"?";J.fillStyle=q;let UA;w.createdAt&&typeof w.createdAt.toDate=="function"?UA=w.createdAt.toDate():UA=new Date(w.createdAt);const VA=` by ${w.artist.toLowerCase()} on ${UA.toLocaleDateString("en-US",{month:"long",day:"numeric"})}`,DA=J.measureText(gA).width,PA=J.measureText(VA).width,Ae=DA+PA;let Ze=30;Ae>j.width-100&&(Ze=Math.floor(Ze*(j.width-100)/Ae),J.font=`bold ${Ze}px Outfit, sans-serif`),J.fillText(gA,j.width/2-PA/2,dA),J.fillStyle=Y,J.font=`${Ze}px Outfit, sans-serif`,J.fillText(VA,j.width/2+DA/2,dA),J.font="16px Outfit, sans-serif",J.fillStyle=Y;let Bt="";w.guesses&&w.guesses.length>0?Bt=`${w.guessedBy} ${w.guessed?"":"has "}guessed: ${w.guesses.join(", ")}`:Bt=`${w.guessedBy} is thinking...`;const pt=j.width-80;if(F1(J,Bt,j.width/2,dA+30,pt,25),w.hintPurchased){J.fillStyle=cA,J.font="18px Outfit, sans-serif";const MA=`${w.guessedBy} used a Hint${w.superHintPurchased?"... AND a SuperHint!":""}`;J.fillText(MA,j.width/2,dA+50)}const Re=AA.height/AA.width*H;J.fillStyle="white",J.fillRect(j.width-H-15,j.height-Re-15,H,Re),J.drawImage(AA,j.width-H-15,j.height-Re-15,H,Re),J.font="16px Outfit, sans-serif",J.fillStyle="rgba(0,0,0,0.6)",J.textAlign="center",J.fillText("drawit.jsph.cx",j.width/2,j.height-15);const Tt=new Date().toISOString().replace(/[:.]/g,"-");g=`drawit-${w.artist.toLowerCase()}-${Tt}.png`,j.toBlob(MA=>{if(!MA){c=!1;return}e(4,u=MA),e(5,f=!0),c=!1},"image/png",1)}catch(w){console.error("Screenshot capture failed:",w),c=!1}}function T(){if(!u)return;const U=document.createElement("a");U.href=URL.createObjectURL(u),U.download=g,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(U.href),e(5,f=!1)}async function S(){if(u){try{const b=[new File([u],g,{type:"image/png"})];if(navigator.canShare&&navigator.canShare({files:b}))console.log("Web Share Level 2 is supported!"),await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!",files:b}),console.log("File shared successfully");else if(console.log("File sharing not supported, falling back to basic share"),navigator.share){await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!"});const w=URL.createObjectURL(u);window.open(w,"_blank"),setTimeout(()=>URL.revokeObjectURL(w),5e3)}else{const w=URL.createObjectURL(u);window.open(w,"_blank"),setTimeout(()=>URL.revokeObjectURL(w),5e3)}}catch(U){console.warn("Share failed:",U);const b=URL.createObjectURL(u);window.open(b,"_blank"),setTimeout(()=>URL.revokeObjectURL(b),5e3)}e(5,f=!1)}}function M(){e(5,f=!1),e(4,u=null)}const L=U=>{console.log("Drawing object:",U),console.log("gameId:",U.gameId,"index:",U.index),U.gameId&&U.index!==void 0?F(U.gameId,U.index):alert("Error: gameId or index is missing")},E=U=>D(U);function p(){i=this.value,e(3,i)}const _=(U,b)=>{b.key==="Enter"&&y(U.gameId??"",U.index??0)},I=U=>y(U.gameId??"",U.index??0);return t.$$set=U=>{"navigate"in U&&e(0,B=U.navigate)},[B,n,s,i,u,f,y,F,R,D,T,S,M,L,E,p,_,I]}class b1 extends Ye{constructor(A){super(),ze(this,A,I1,U1,Oe,{navigate:0},null,[-1,-1])}}function jd(t){var M;let A,e,r,n,s,i,a,l,c=(((M=t[2])==null?void 0:M.coins)||0)+"",u,f,g,B,Q,y,F,R;function D(L,E){return L[3]?H1:T1}let T=D(t),S=T(t);return{c(){A=k("nav"),e=k("div"),r=k("button"),n=k("div"),s=k("img"),a=X(),l=k("span"),u=iA(c),f=X(),g=k("span"),g.textContent="coins",B=X(),S.c(),Q=X(),y=k("div"),Pe(s.src,i=qn)||C(s,"src",i),C(s,"class","w-5 h-5"),C(s,"alt","coins"),C(l,"class","text-sm font-medium"),C(n,"class","flex items-center gap-1"),C(g,"class","text-xs text-gray-500"),C(r,"class","flex flex-col items-center"),C(e,"class","flex justify-around items-center max-w-md mx-auto"),C(A,"class","fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2"),C(y,"class","h-20")},m(L,E){W(L,A,E),v(A,e),v(e,r),v(r,n),v(n,s),v(n,a),v(n,l),v(l,u),v(r,f),v(r,g),v(e,B),S.m(e,null),W(L,Q,E),W(L,y,E),F||(R=fA(r,"click",t[6]),F=!0)},p(L,E){var p;E&4&&c!==(c=(((p=L[2])==null?void 0:p.coins)||0)+"")&&bA(u,c),T===(T=D(L))&&S?S.p(L,E):(S.d(1),S=T(L),S&&(S.c(),S.m(e,null)))},d(L){L&&(G(A),G(Q),G(y)),S.d(),F=!1,R()}}}function T1(t){let A,e,r,n,s,i,a,l,c,u,f,g,B,Q,y,F,R,D,T,S,M,L,E,p,_,I,U,b;return{c(){A=k("button"),e=et("svg"),r=et("path"),s=X(),i=k("span"),a=iA("Home"),c=X(),u=k("button"),f=et("svg"),g=et("path"),Q=X(),y=k("span"),F=iA("New"),D=X(),T=k("button"),S=et("svg"),M=et("path"),E=X(),p=k("span"),_=iA("Feed"),C(r,"stroke-linecap","round"),C(r,"stroke-linejoin","round"),C(r,"stroke-width","2"),C(r,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"class",n="h-6 w-6 "+(t[0]==="home"?"text-primary":"text-gray-400")),C(e,"fill","none"),C(e,"viewBox","0 0 24 24"),C(e,"stroke","currentColor"),C(i,"class",l="text-xs "+(t[0]==="home"?"text-primary":"text-gray-500")),C(A,"class","flex flex-col items-center"),C(g,"stroke-linecap","round"),C(g,"stroke-linejoin","round"),C(g,"stroke-width","2"),C(g,"d","M12 4v16m8-8H4"),C(f,"xmlns","http://www.w3.org/2000/svg"),C(f,"class",B="h-6 w-6 "+(t[0]==="new"?"text-primary":"text-gray-400")),C(f,"fill","none"),C(f,"viewBox","0 0 24 24"),C(f,"stroke","currentColor"),C(y,"class",R="text-xs "+(t[0]==="new"?"text-primary":"text-gray-500")),C(u,"class","flex flex-col items-center"),C(M,"stroke-linecap","round"),C(M,"stroke-linejoin","round"),C(M,"stroke-width","2"),C(M,"d","M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"),C(S,"xmlns","http://www.w3.org/2000/svg"),C(S,"class",L="h-6 w-6 "+(t[0]==="feed"?"text-primary":"text-gray-400")),C(S,"fill","none"),C(S,"viewBox","0 0 24 24"),C(S,"stroke","currentColor"),C(p,"class",I="text-xs "+(t[0]==="feed"?"text-primary":"text-gray-500")),C(T,"class","flex flex-col items-center")},m(w,Z){W(w,A,Z),v(A,e),v(e,r),v(A,s),v(A,i),v(i,a),W(w,c,Z),W(w,u,Z),v(u,f),v(f,g),v(u,Q),v(u,y),v(y,F),W(w,D,Z),W(w,T,Z),v(T,S),v(S,M),v(T,E),v(T,p),v(p,_),U||(b=[fA(A,"click",t[8]),fA(u,"click",t[9]),fA(T,"click",t[10])],U=!0)},p(w,Z){Z&1&&n!==(n="h-6 w-6 "+(w[0]==="home"?"text-primary":"text-gray-400"))&&C(e,"class",n),Z&1&&l!==(l="text-xs "+(w[0]==="home"?"text-primary":"text-gray-500"))&&C(i,"class",l),Z&1&&B!==(B="h-6 w-6 "+(w[0]==="new"?"text-primary":"text-gray-400"))&&C(f,"class",B),Z&1&&R!==(R="text-xs "+(w[0]==="new"?"text-primary":"text-gray-500"))&&C(y,"class",R),Z&1&&L!==(L="h-6 w-6 "+(w[0]==="feed"?"text-primary":"text-gray-400"))&&C(S,"class",L),Z&1&&I!==(I="text-xs "+(w[0]==="feed"?"text-primary":"text-gray-500"))&&C(p,"class",I)},d(w){w&&(G(A),G(c),G(u),G(D),G(T)),U=!1,Qe(b)}}}function H1(t){let A,e,r;return{c(){A=k("button"),A.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> <span class="text-xs text-primary">Back</span>',C(A,"class","flex flex-col items-center")},m(n,s){W(n,A,s),e||(r=fA(A,"click",t[7]),e=!0)},p:nA,d(n){n&&G(A),e=!1,r()}}}function S1(t){let A,e=!t[1]&&jd(t);return{c(){e&&e.c(),A=ot()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,[n]){r[1]?e&&(e.d(1),e=null):e?e.p(r,n):(e=jd(r),e.c(),e.m(A.parentNode,A))},i:nA,o:nA,d(r){r&&G(A),e&&e.d(r)}}}function R1(t,A,e){let r,n,s;ZA(t,Si,y=>e(1,r=y)),ZA(t,qA,y=>e(2,n=y)),ZA(t,He,y=>e(3,s=y));let{navigate:i}=A,a="home";function l(){const y=new URLSearchParams(window.location.search);e(0,a=y.get("page")||"home")}typeof window<"u"&&(window.addEventListener("popstate",l),l());const c=y=>{e(0,a=y),i(y)},u=()=>c("store"),f=()=>{Te(He,s=null,s),c("home")},g=()=>c("home"),B=()=>c("new"),Q=()=>c("feed");return t.$$set=y=>{"navigate"in y&&e(5,i=y.navigate)},[a,r,n,s,c,i,u,f,g,B,Q]}class D1 extends Ye{constructor(A){super(),ze(this,A,R1,S1,Oe,{navigate:5})}}function Xd(t){let A,e,r,n,s,i,a,l,c,u,f,g;return{c(){A=k("div"),e=k("div"),r=k("h2"),r.textContent="Dev Menu",n=X(),s=k("div"),i=k("button"),i.textContent="Delete All Users",a=X(),l=k("button"),c=iA("Add 5 Points"),C(r,"class","text-lg font-bold mb-4"),C(i,"class","btn btn-error"),C(l,"class","btn btn-primary"),l.disabled=u=!t[1],C(s,"class","flex flex-col gap-2"),C(e,"class","bg-white rounded-lg shadow-lg p-4 border border-gray-200"),C(A,"class","fixed top-0 right-0 p-4 z-50")},m(B,Q){W(B,A,Q),v(A,e),v(e,r),v(e,n),v(e,s),v(s,i),v(s,a),v(s,l),v(l,c),f||(g=[fA(i,"click",t[2]),fA(l,"click",t[3])],f=!0)},p(B,Q){Q&2&&u!==(u=!B[1])&&(l.disabled=u)},d(B){B&&G(A),f=!1,Qe(g)}}}function L1(t){let A,e=t[0]&&Xd(t);return{c(){e&&e.c(),A=ot()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,[n]){r[0]?e?e.p(r,n):(e=Xd(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},i:nA,o:nA,d(r){r&&G(A),e&&e.d(r)}}}function k1(t,A,e){let r;ZA(t,qA,l=>e(1,r=l));let n=!1;async function s(l){l.key==="\\"&&e(0,n=!n)}async function i(){if(confirm("Are you sure you want to delete ALL users? This cannot be undone!"))try{const l=await Ft(ft),c=iE(Ls);l.docs.forEach(u=>{c.delete(u.ref)}),await c.commit(),localStorage.removeItem("drawIt-user-v2"),localStorage.removeItem("drawIt-games-v2"),localStorage.removeItem("drawIt-users-v2"),qA.set(null),alert("All users deleted successfully!"),window.location.reload()}catch(l){console.error("Error deleting users:",l),alert("Error deleting users. Check console for details.")}}async function a(){if(r)try{await Ir(r.name,5)}catch(l){console.error("Error adding points:",l),alert("Error adding points. Check console for details.")}}return vs(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[n,r,i,a]}class x1 extends Ye{constructor(A){super(),ze(this,A,k1,L1,Oe,{})}}function V1(t){var Bt,pt,Re,Tt,MA;let A,e,r,n,s,i,a,l,c,u=(((Bt=t[2])==null?void 0:Bt.coins)||0)+"",f,g,B,Q,y,F,R,D,T,S,M,L,E,p,_,I,U,b,w,Z,AA,_A,O,mA,IA,x=(Re=(pt=t[3])==null?void 0:pt.upgrades)!=null&&Re.includes(XA.MoreWordOptions)?"Already Purchased ":"Purchase Upgrade",H,Y,q,cA,aA,sA,j,J,EA,vA,uA,BA=(MA=(Tt=t[3])==null?void 0:Tt.upgrades)!=null&&MA.includes(XA.ColorPicker)?"Already Purchased ":"Purchase Upgrade",QA,dA,gA,UA,VA,DA,PA,Ae,Ze;return e=new ko({props:{navigate:t[0]}}),{c(){var pA,KA,at,lt,ct,Ke,wt,Ot;A=k("div"),de(e.$$.fragment),r=X(),n=k("div"),s=k("div"),i=k("img"),l=X(),c=k("span"),f=iA(u),g=X(),B=k("p"),B.textContent="Your current balance",Q=X(),y=k("div"),F=k("div"),R=k("div"),R.innerHTML=`<p class="text-gray-600 text-lg font-bold"> Add a Custom Word</p> <div class="flex flex-row items-center justify-center gap-2"><img src="${qn}" class="w-4 h-4" alt="coins"/> <span class="text-md font-bold">30</span></div>`,D=X(),T=k("p"),T.textContent="Add a custom word to everyone's word options.",S=X(),M=k("div"),L=k("input"),E=X(),p=k("button"),_=iA("Submit"),b=X(),w=k("div"),Z=k("div"),AA=k("div"),AA.innerHTML=`<p class="text-gray-600 text-lg font-bold"> More Word Options</p> <div class="flex flex-row items-center justify-center gap-2"><img src="${qn}" class="w-4 h-4" alt="coins"/> <span class="text-md font-bold">50</span></div>`,_A=X(),O=k("p"),O.textContent="Permanently get 5 word options instead of 3 when drawing.",mA=X(),IA=k("button"),H=iA(x),cA=X(),aA=k("div"),sA=k("div"),j=k("div"),j.innerHTML=`<p class="text-gray-600 text-lg font-bold"> Color Wheel</p> <div class="flex flex-row items-center justify-center gap-2"><img src="${qn}" class="w-4 h-4" alt="coins"/> <span class="text-md font-bold">75</span></div>`,J=X(),EA=k("p"),EA.textContent="Permanently get access to a full color wheel when drawing.",vA=X(),uA=k("button"),QA=iA(BA),UA=X(),VA=k("div"),DA=k("button"),DA.textContent="Logout",Pe(i.src,a=qn)||C(i,"src",a),C(i,"class","w-8 h-8"),C(i,"alt","coins"),C(c,"class","text-2xl font-bold"),C(s,"class","flex items-center gap-2"),C(B,"class","text-gray-600"),C(R,"class","flex flex-row justify-between w-full"),C(T,"class","text-gray-600 opacity-50 text-xs"),C(L,"type","text"),C(L,"placeholder","Enter custom word"),C(L,"class","input input-bordered w-full max-w-xs text-black bg-white"),C(L,"maxlength","15"),C(L,"minlength","3"),C(p,"class",I="btn btn-primary "+(t[4]?"":"opacity-50")),p.disabled=U=!t[4],C(M,"class","flex flex-row justify-between w-full gap-4"),C(F,"class","flex flex-col items-start justify-center gap-4 bg-white p-4 rounded-2xl"),C(y,"class","flex flex-col items-center justify-center gap-2 pt-8 drop-shadow-sm"),C(AA,"class","flex flex-row justify-between w-full"),C(O,"class","text-gray-600 opacity-50 text-xs"),C(IA,"class",Y="btn btn-primary w-full "+((((pA=t[3])==null?void 0:pA.coins)??0)<50||(at=(KA=t[3])==null?void 0:KA.upgrades)!=null&&at.includes(XA.MoreWordOptions)?"opacity-50 cursor-not-allowed":"")),IA.disabled=q=!t[3]||(t[3].coins??0)<50||((lt=t[3].upgrades)==null?void 0:lt.includes(XA.MoreWordOptions)),C(Z,"class","flex flex-col items-start justify-center gap-4 bg-white p-4 rounded-2xl"),C(w,"class","flex flex-col items-center justify-center gap-4 pt-8 drop-shadow-sm"),C(j,"class","flex flex-row justify-between w-full"),C(EA,"class","text-gray-600 opacity-50 text-xs"),C(uA,"class",dA="btn btn-primary w-full "+((((ct=t[3])==null?void 0:ct.coins)??0)<75||(wt=(Ke=t[3])==null?void 0:Ke.upgrades)!=null&&wt.includes(XA.ColorPicker)?"opacity-50 cursor-not-allowed":"")),uA.disabled=gA=!t[3]||(t[3].coins??0)<75||((Ot=t[3].upgrades)==null?void 0:Ot.includes(XA.ColorPicker)),C(sA,"class","flex flex-col items-start justify-center gap-4 bg-white p-4 rounded-2xl"),C(aA,"class","flex flex-col items-center justify-center gap-4 pt-8 drop-shadow-sm"),C(DA,"class","btn btn-error"),C(VA,"class","mt-8"),C(n,"class","flex flex-col items-center justify-center mt-8"),C(A,"class","p-4")},m(pA,KA){W(pA,A,KA),ie(e,A,null),v(A,r),v(A,n),v(n,s),v(s,i),v(s,l),v(s,c),v(c,f),v(n,g),v(n,B),v(n,Q),v(n,y),v(y,F),v(F,R),v(F,D),v(F,T),v(F,S),v(F,M),v(M,L),Et(L,t[1]),v(M,E),v(M,p),v(p,_),v(n,b),v(n,w),v(w,Z),v(Z,AA),v(Z,_A),v(Z,O),v(Z,mA),v(Z,IA),v(IA,H),v(n,cA),v(n,aA),v(aA,sA),v(sA,j),v(sA,J),v(sA,EA),v(sA,vA),v(sA,uA),v(uA,QA),v(n,UA),v(n,VA),v(VA,DA),PA=!0,Ae||(Ze=[fA(L,"input",t[8]),fA(L,"input",t[5]),fA(L,"keydown",t[9]),fA(p,"click",t[6]),fA(IA,"click",t[10]),fA(uA,"click",t[11]),fA(DA,"click",t[7])],Ae=!0)},p(pA,[KA]){var lt,ct,Ke,wt,Ot,Or,Ps,Ms,Kr,In,bn,Kt,Nr;const at={};KA&1&&(at.navigate=pA[0]),e.$set(at),(!PA||KA&4)&&u!==(u=(((lt=pA[2])==null?void 0:lt.coins)||0)+"")&&bA(f,u),KA&2&&L.value!==pA[1]&&Et(L,pA[1]),(!PA||KA&16&&I!==(I="btn btn-primary "+(pA[4]?"":"opacity-50")))&&C(p,"class",I),(!PA||KA&16&&U!==(U=!pA[4]))&&(p.disabled=U),(!PA||KA&8)&&x!==(x=(Ke=(ct=pA[3])==null?void 0:ct.upgrades)!=null&&Ke.includes(XA.MoreWordOptions)?"Already Purchased ":"Purchase Upgrade")&&bA(H,x),(!PA||KA&8&&Y!==(Y="btn btn-primary w-full "+((((wt=pA[3])==null?void 0:wt.coins)??0)<50||(Or=(Ot=pA[3])==null?void 0:Ot.upgrades)!=null&&Or.includes(XA.MoreWordOptions)?"opacity-50 cursor-not-allowed":"")))&&C(IA,"class",Y),(!PA||KA&8&&q!==(q=!pA[3]||(pA[3].coins??0)<50||((Ps=pA[3].upgrades)==null?void 0:Ps.includes(XA.MoreWordOptions))))&&(IA.disabled=q),(!PA||KA&8)&&BA!==(BA=(Kr=(Ms=pA[3])==null?void 0:Ms.upgrades)!=null&&Kr.includes(XA.ColorPicker)?"Already Purchased ":"Purchase Upgrade")&&bA(QA,BA),(!PA||KA&8&&dA!==(dA="btn btn-primary w-full "+((((In=pA[3])==null?void 0:In.coins)??0)<75||(Kt=(bn=pA[3])==null?void 0:bn.upgrades)!=null&&Kt.includes(XA.ColorPicker)?"opacity-50 cursor-not-allowed":"")))&&C(uA,"class",dA),(!PA||KA&8&&gA!==(gA=!pA[3]||(pA[3].coins??0)<75||((Nr=pA[3].upgrades)==null?void 0:Nr.includes(XA.ColorPicker))))&&(uA.disabled=gA)},i(pA){PA||(tA(e.$$.fragment,pA),PA=!0)},o(pA){lA(e.$$.fragment,pA),PA=!1},d(pA){pA&&G(A),oe(e),Ae=!1,Qe(Ze)}}}function Jd(t){return t.replace(/[^a-zA-Z0-9 ]/g,"")}function P1(t,A,e){let r,n,s;ZA(t,qA,y=>e(3,s=y));let{navigate:i}=A,a="";function l(y){const F=y.target;e(1,a=Jd(F.value))}async function c(){if(!n||!r)return;let y=Jd(a);y=y.trim(),await Ir(r.name,-30),await fE(y,r.name),ls("Custom word added!"),e(1,a="")}function u(){qA.set(null),Qn.set([]),He.set(null),xe.set({}),rs.set(!1),localStorage.clear(),window.location.reload()}function f(){a=this.value,e(1,a)}const g=y=>{y.key==="Enter"&&c()},B=async()=>{var y;s&&(s.coins??0)>=50&&!((y=s.upgrades)!=null&&y.includes(XA.MoreWordOptions))&&await qh(s,XA.MoreWordOptions,50)&&ls("Upgrade purchased! You now get 5 word options!")},Q=async()=>{var y;s&&(s.coins??0)>=75&&!((y=s.upgrades)!=null&&y.includes(XA.ColorPicker))&&await qh(s,XA.ColorPicker,75)&&ls("Upgrade purchased! You now have access to the color picker!")};return t.$$set=y=>{"navigate"in y&&e(0,i=y.navigate)},t.$$.update=()=>{t.$$.dirty&8&&e(2,r=s),t.$$.dirty&6&&e(4,n=r&&r.coins!==void 0&&r.coins>=30&&a.length>=3&&a.length<=15)},[i,a,r,s,n,l,c,u,f,g,B,Q]}class M1 extends Ye{constructor(A){super(),ze(this,A,P1,V1,Oe,{navigate:0})}}function O1(t){let A,e,r,n,s,i,a,l,c;const u=[J1,X1,j1,W1,G1],f=[];function g(B,Q){return B[2]?0:B[0]==="home"?1:B[0]==="new"?2:B[0]==="feed"?3:B[0]==="store"?4:-1}return~(r=g(t))&&(n=f[r]=u[r](t)),i=new D1({props:{navigate:t[4]}}),l=new x1({}),{c(){A=k("main"),e=k("div"),n&&n.c(),s=X(),de(i.$$.fragment),a=X(),de(l.$$.fragment),C(e,"class","w-full max-w-md mx-auto px-4"),C(A,"class","w-full min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-background-gradient-start to-background-gradient-end text-black pb-20 overflow-y-auto")},m(B,Q){W(B,A,Q),v(A,e),~r&&f[r].m(e,null),v(A,s),ie(i,A,null),v(A,a),ie(l,A,null),c=!0},p(B,Q){let y=r;r=g(B),r===y?~r&&f[r].p(B,Q):(n&&(he(),lA(f[y],1,1,()=>{f[y]=null}),fe()),~r?(n=f[r],n?n.p(B,Q):(n=f[r]=u[r](B),n.c()),tA(n,1),n.m(e,null)):n=null)},i(B){c||(tA(n),tA(i.$$.fragment,B),tA(l.$$.fragment,B),c=!0)},o(B){lA(n),lA(i.$$.fragment,B),lA(l.$$.fragment,B),c=!1},d(B){B&&G(A),~r&&f[r].d(),oe(i),oe(l)}}}function K1(t){let A,e;return A=new wp({props:{navigate:t[4]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p:nA,i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function N1(t){let A;return{c(){A=k("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',C(A,"class","w-full min-h-screen flex items-center justify-center")},m(e,r){W(e,A,r)},p:nA,i:nA,o:nA,d(e){e&&G(A)}}}function G1(t){let A,e;return A=new M1({props:{navigate:t[4]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p:nA,i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function W1(t){let A,e;return A=new b1({props:{navigate:t[4]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p:nA,i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function j1(t){let A,e;return A=new pv({props:{navigate:t[4]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p:nA,i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function X1(t){let A,e;return A=new wp({props:{navigate:t[4]}}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p:nA,i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function J1(t){let A,e;return A=new cv({}),{c(){de(A.$$.fragment)},m(r,n){ie(A,r,n),e=!0},p:nA,i(r){e||(tA(A.$$.fragment,r),e=!0)},o(r){lA(A.$$.fragment,r),e=!1},d(r){oe(A,r)}}}function q1(t){let A,e,r,n;const s=[N1,K1,O1],i=[];function a(l,c){return l[1]?0:l[3]?2:1}return A=a(t),e=i[A]=s[A](t),{c(){e.c(),r=ot()},m(l,c){i[A].m(l,c),W(l,r,c),n=!0},p(l,[c]){let u=A;A=a(l),A===u?i[A].p(l,c):(he(),lA(i[u],1,1,()=>{i[u]=null}),fe(),e=i[A],e?e.p(l,c):(e=i[A]=s[A](l),e.c()),tA(e,1),e.m(r.parentNode,r))},i(l){n||(tA(e),n=!0)},o(l){lA(e),n=!1},d(l){l&&G(r),i[A].d(l)}}}function z1(t,A,e){let r,n;ZA(t,He,l=>e(2,r=l)),ZA(t,qA,l=>e(3,n=l));let s="home",i=!0;vs(async()=>{await pE();const l=new URLSearchParams(window.location.search);e(0,s=l.get("page")||"home");const c=l.get("currentGame");if(c){const u=await Jh(c);u&&Te(He,r=u,r)}window.addEventListener("popstate",async()=>{const u=new URLSearchParams(window.location.search);e(0,s=u.get("page")||"home");const f=u.get("currentGame");if(f){const g=await Jh(f);g&&Te(He,r=g,r)}else Te(He,r=null,r)}),e(1,i=!1)});function a(l){const c=new URLSearchParams(window.location.search),u=r==null?void 0:r.id;u?c.set("currentGame",u):c.delete("currentGame"),l!=="home"?c.set("page",l):c.delete("page");const f=c.toString(),g=f?`?${f}`:"/";window.history.pushState({},"",g),e(0,s=l)}return[s,i,r,n,a]}class Y1 extends Ye{constructor(A){super(),ze(this,A,z1,q1,Oe,{})}}new Y1({target:document.getElementById("app")});
