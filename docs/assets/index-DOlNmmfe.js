var Dw=Object.defineProperty;var Lw=(t,A,e)=>A in t?Dw(t,A,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[A]=e;var Yo=(t,A,e)=>Lw(t,typeof A!="symbol"?A+"":A,e);(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();function tA(){}function kw(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Pd(t){return t()}function Cu(){return Object.create(null)}function ve(t){t.forEach(Pd)}function Kd(t){return typeof t=="function"}function Ve(t,A){return t!=t?A==A:t!==A||t&&typeof t=="object"||typeof t=="function"}let Gs;function Le(t,A){return t===A?!0:(Gs||(Gs=document.createElement("a")),Gs.href=A,t===Gs.href)}function Vw(t){return Object.keys(t).length===0}function Od(t,...A){if(t==null){for(const r of A)r(void 0);return tA}const e=t.subscribe(...A);return e.unsubscribe?()=>e.unsubscribe():e}function gs(t){let A;return Od(t,e=>A=e)(),A}function YA(t,A,e){t.$$.on_destroy.push(Od(A,e))}function Oe(t,A,e){return t.set(e),A}const Nd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function U(t,A){t.appendChild(A)}function W(t,A,e){t.insertBefore(A,e||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function ke(t,A){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(A)}function D(t){return document.createElement(t)}function ze(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function sA(t){return document.createTextNode(t)}function q(){return sA(" ")}function tt(){return sA("")}function fA(t,A,e,r){return t.addEventListener(A,e,r),()=>t.removeEventListener(A,e,r)}function yu(t){return function(A){return A.stopPropagation(),t.call(this,A)}}function _(t,A,e){e==null?t.removeAttribute(A):t.getAttribute(A)!==e&&t.setAttribute(A,e)}function xw(t){return Array.from(t.childNodes)}function IA(t,A){A=""+A,t.data!==A&&(t.data=A)}function ft(t,A){t.value=A??""}function Ta(t,A,e,r){e==null?t.style.removeProperty(A):t.style.setProperty(A,e,"")}function xt(t,A,e){t.classList.toggle(A,!!e)}let rs;function Et(t){rs=t}function ml(){if(!rs)throw new Error("Function called outside component initialization");return rs}function Bs(t){ml().$$.on_mount.push(t)}function Mw(t){ml().$$.on_destroy.push(t)}const jr=[],ns=[];let $r=[];const Qu=[],Pw=Promise.resolve();let Ha=!1;function Kw(){Ha||(Ha=!0,Pw.then(Cl))}function Sa(t){$r.push(t)}const Zo=new Set;let xr=0;function Cl(){if(xr!==0)return;const t=rs;do{try{for(;xr<jr.length;){const A=jr[xr];xr++,Et(A),Ow(A.$$)}}catch(A){throw jr.length=0,xr=0,A}for(Et(null),jr.length=0,xr=0;ns.length;)ns.pop()();for(let A=0;A<$r.length;A+=1){const e=$r[A];Zo.has(e)||(Zo.add(e),e())}$r.length=0}while(jr.length);for(;Qu.length;)Qu.pop()();Ha=!1,Zo.clear(),Et(t)}function Ow(t){if(t.fragment!==null){t.update(),ve(t.before_update);const A=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,A),t.after_update.forEach(Sa)}}function Nw(t){const A=[],e=[];$r.forEach(r=>t.indexOf(r)===-1?A.push(r):e.push(r)),e.forEach(r=>r()),$r=A}const mi=new Set;let Br;function oe(){Br={r:0,c:[],p:Br}}function ae(){Br.r||ve(Br.c),Br=Br.p}function AA(t,A){t&&t.i&&(mi.delete(t),t.i(A))}function iA(t,A,e,r){if(t&&t.o){if(mi.has(t))return;mi.add(t),Br.c.push(()=>{mi.delete(t),r&&(e&&t.d(1),r())}),t.o(A)}else r&&r()}function _u(t,A){const e=A.token={};function r(n,s,i,a){if(A.token!==e)return;A.resolved=a;let l=A.ctx;i!==void 0&&(l=l.slice(),l[i]=a);const c=n&&(A.current=n)(l);let u=!1;A.block&&(A.blocks?A.blocks.forEach((f,g)=>{g!==s&&f&&(oe(),iA(f,1,1,()=>{A.blocks[g]===f&&(A.blocks[g]=null)}),ae())}):A.block.d(1),c.c(),AA(c,1),c.m(A.mount(),A.anchor),u=!0),A.block=c,A.blocks&&(A.blocks[s]=c),u&&Cl()}if(kw(t)){const n=ml();if(t.then(s=>{Et(n),r(A.then,1,A.value,s),Et(null)},s=>{if(Et(n),r(A.catch,2,A.error,s),Et(null),!A.hasCatch)throw s}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,t),!0;A.resolved=t}}function Gw(t,A,e){const r=A.slice(),{resolved:n}=t;t.current===t.then&&(r[t.value]=n),t.current===t.catch&&(r[t.error]=n),t.block.p(r,e)}function DA(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function le(t){t&&t.c()}function ee(t,A,e){const{fragment:r,after_update:n}=t.$$;r&&r.m(A,e),Sa(()=>{const s=t.$$.on_mount.map(Pd).filter(Kd);t.$$.on_destroy?t.$$.on_destroy.push(...s):ve(s),t.$$.on_mount=[]}),n.forEach(Sa)}function te(t,A){const e=t.$$;e.fragment!==null&&(Nw(e.after_update),ve(e.on_destroy),e.fragment&&e.fragment.d(A),e.on_destroy=e.fragment=null,e.ctx=[])}function Ww(t,A){t.$$.dirty[0]===-1&&(jr.push(t),Kw(),t.$$.dirty.fill(0)),t.$$.dirty[A/31|0]|=1<<A%31}function je(t,A,e,r,n,s,i=null,a=[-1]){const l=rs;Et(t);const c=t.$$={fragment:null,ctx:[],props:s,update:tA,not_equal:n,bound:Cu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(l?l.$$.context:[])),callbacks:Cu(),dirty:a,skip_bound:!1,root:A.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=e?e(t,A.props||{},(f,g,...B)=>{const C=B.length?B[0]:g;return c.ctx&&n(c.ctx[f],c.ctx[f]=C)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](C),u&&Ww(t,f)),g}):[],c.update(),u=!0,ve(c.before_update),c.fragment=r?r(c.ctx):!1,A.target){if(A.hydrate){const f=xw(A.target);c.fragment&&c.fragment.l(f),f.forEach(G)}else c.fragment&&c.fragment.c();A.intro&&AA(t.$$.fragment),ee(t,A.target,A.anchor),Cl()}Et(l)}class Xe{constructor(){Yo(this,"$$");Yo(this,"$$set")}$destroy(){te(this,1),this.$destroy=tA}$on(A,e){if(!Kd(e))return tA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(e),()=>{const n=r.indexOf(e);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!Vw(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const jw="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(jw);const Mr=[];function Ir(t,A=tA){let e;const r=new Set;function n(a){if(Ve(t,a)&&(t=a,e)){const l=!Mr.length;for(const c of r)c[1](),Mr.push(c,t);if(l){for(let c=0;c<Mr.length;c+=2)Mr[c][0](Mr[c+1]);Mr.length=0}}}function s(a){n(a(t))}function i(a,l=tA){const c=[a,l];return r.add(c),r.size===1&&(e=A(n,s)||tA),a(t),()=>{r.delete(c),r.size===0&&e&&(e(),e=null)}}return{set:n,update:s,subscribe:i}}const Ae=Ir(null),un=Ir([]),Se=Ir(null),Re=Ir({}),Jn=Ir(!1),Ci=Ir(!1),yl=Ir({});try{const t=localStorage.getItem("drawIt-user-v2");t&&Ae.set(JSON.parse(t));const A=localStorage.getItem("drawIt-games-v2");A&&un.set(JSON.parse(A));const e=localStorage.getItem("drawIt-users-v2");e&&Re.set(JSON.parse(e))}catch(t){console.error("Error loading from localStorage:",t)}Ae.subscribe(t=>{t?localStorage.setItem("drawIt-user-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-user-v2")});un.subscribe(t=>{t?localStorage.setItem("drawIt-games-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-games-v2")});Re.subscribe(t=>{Object.keys(t).length>0?localStorage.setItem("drawIt-users-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-users-v2")});const Xw=()=>{};var Eu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=function(t){const A=[];let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?A[e++]=n:n<2048?(A[e++]=n>>6|192,A[e++]=n&63|128):(n&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++r)&1023),A[e++]=n>>18|240,A[e++]=n>>12&63|128,A[e++]=n>>6&63|128,A[e++]=n&63|128):(A[e++]=n>>12|224,A[e++]=n>>6&63|128,A[e++]=n&63|128)}return A},Jw=function(t){const A=[];let e=0,r=0;for(;e<t.length;){const n=t[e++];if(n<128)A[r++]=String.fromCharCode(n);else if(n>191&&n<224){const s=t[e++];A[r++]=String.fromCharCode((n&31)<<6|s&63)}else if(n>239&&n<365){const s=t[e++],i=t[e++],a=t[e++],l=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;A[r++]=String.fromCharCode(55296+(l>>10)),A[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[e++],i=t[e++];A[r++]=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63)}}return A.join("")},Wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,A){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<t.length;n+=3){const s=t[n],i=n+1<t.length,a=i?t[n+1]:0,l=n+2<t.length,c=l?t[n+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,B=c&63;l||(B=64,i||(g=64)),r.push(e[u],e[f],e[g],e[B])}return r.join("")},encodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(t):this.encodeByteArray(Gd(t),A)},decodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(t):Jw(this.decodeStringToByteArray(t,A))},decodeStringToByteArray(t,A){this.init_();const e=A?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<t.length;){const s=e[t.charAt(n++)],a=n<t.length?e[t.charAt(n)]:0;++n;const c=n<t.length?e[t.charAt(n)]:64;++n;const f=n<t.length?e[t.charAt(n)]:64;if(++n,s==null||a==null||c==null||f==null)throw new qw;const g=s<<2|a>>4;if(r.push(g),c!==64){const B=a<<4&240|c>>2;if(r.push(B),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(t){const A=Gd(t);return Wd.encodeByteArray(A,!0)},Ti=function(t){return zw(t).replace(/\./g,"")},Yw=function(t){try{return Wd.decodeString(t,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=()=>Zw().__FIREBASE_DEFAULTS__,Am=()=>{if(typeof process>"u"||typeof Eu>"u")return;const t=Eu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},em=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const A=t&&Yw(t[1]);return A&&JSON.parse(A)},Ql=()=>{try{return Xw()||$w()||Am()||em()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tm=t=>{var A,e;return(e=(A=Ql())===null||A===void 0?void 0:A.emulatorHosts)===null||e===void 0?void 0:e[t]},rm=t=>{const A=tm(t);if(!A)return;const e=A.lastIndexOf(":");if(e<=0||e+1===A.length)throw new Error(`Invalid host ${A} with no separate hostname and port!`);const r=parseInt(A.substring(e+1),10);return A[0]==="["?[A.substring(1,e-1),r]:[A.substring(0,e),r]},jd=()=>{var t;return(t=Ql())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}wrapCallback(A){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof A=="function"&&(this.promise.catch(()=>{}),A.length===1?A(e):A(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,A){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=A||"demo-project",n=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ti(JSON.stringify(e)),Ti(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function om(){var t;const A=(t=Ql())===null||t===void 0?void 0:t.forceEnvironment;if(A==="node")return!0;if(A==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function am(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lm(){return!om()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xd(){try{return typeof indexedDB=="object"}catch{return!1}}function Jd(){return new Promise((t,A)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},n.onupgradeneeded=()=>{e=!1},n.onerror=()=>{var s;A(((s=n.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){A(e)}})}function cm(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="FirebaseError";class rr extends Error{constructor(A,e,r){super(e),this.code=A,this.customData=r,this.name=um,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(A,e,r){this.service=A,this.serviceName=e,this.errors=r}create(A,...e){const r=e[0]||{},n=`${this.service}/${A}`,s=this.errors[A],i=s?hm(s,r):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new rr(n,a,r)}}function hm(t,A){return t.replace(fm,(e,r)=>{const n=A[r];return n!=null?String(n):`<${r}?>`})}const fm=/\{\$([^}]+)}/g;function Hi(t,A){if(t===A)return!0;const e=Object.keys(t),r=Object.keys(A);for(const n of e){if(!r.includes(n))return!1;const s=t[n],i=A[n];if(vu(s)&&vu(i)){if(!Hi(s,i))return!1}else if(s!==i)return!1}for(const n of r)if(!e.includes(n))return!1;return!0}function vu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=1e3,gm=2,Bm=4*60*60*1e3,pm=.5;function Uu(t,A=dm,e=gm){const r=A*Math.pow(e,t),n=Math.round(pm*r*(Math.random()-.5)*2);return Math.min(Bm,r+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Ut{constructor(A,e,r){this.name=A,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(A,e){this.name=A,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const e=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(e)){const r=new nm;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&r.resolve(n)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(A){var e;const r=this.normalizeInstanceIdentifier(A==null?void 0:A.identifier),n=(e=A==null?void 0:A.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,!!this.shouldAutoInitialize()){if(Cm(A))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:n});r.resolve(s)}catch{}}}}clearInstance(A=dr){this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}async delete(){const A=Array.from(this.instances.values());await Promise.all([...A.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...A.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(A=dr){return this.instances.has(A)}getOptions(A=dr){return this.instancesOptions.get(A)||{}}initialize(A={}){const{options:e={}}=A,r=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(n)}return n}onInit(A,e){var r;const n=this.normalizeInstanceIdentifier(e),s=(r=this.onInitCallbacks.get(n))!==null&&r!==void 0?r:new Set;s.add(A),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&A(i,n),()=>{s.delete(A)}}invokeOnInitCallbacks(A,e){const r=this.onInitCallbacks.get(e);if(r)for(const n of r)try{n(A,e)}catch{}}getOrInitializeService({instanceIdentifier:A,options:e={}}){let r=this.instances.get(A);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mm(A),options:e}),this.instances.set(A,r),this.instancesOptions.set(A,e),this.invokeOnInitCallbacks(r,A),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,A,r)}catch{}return r||null}normalizeInstanceIdentifier(A=dr){return this.component?this.component.multipleInstances?A:dr:A}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mm(t){return t===dr?void 0:t}function Cm(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(A){this.name=A,this.providers=new Map}addComponent(A){const e=this.getProvider(A.name);if(e.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);e.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.addComponent(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const e=new wm(A,this);return this.providers.set(A,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TA;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(TA||(TA={}));const Qm={debug:TA.DEBUG,verbose:TA.VERBOSE,info:TA.INFO,warn:TA.WARN,error:TA.ERROR,silent:TA.SILENT},_m=TA.INFO,Em={[TA.DEBUG]:"log",[TA.VERBOSE]:"log",[TA.INFO]:"info",[TA.WARN]:"warn",[TA.ERROR]:"error"},vm=(t,A,...e)=>{if(A<t.logLevel)return;const r=new Date().toISOString(),n=Em[A];if(n)console[n](`[${r}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`)};class _l{constructor(A){this.name=A,this._logLevel=_m,this._logHandler=vm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in TA))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel=typeof A=="string"?Qm[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if(typeof A!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(...A){this._userLogHandler&&this._userLogHandler(this,TA.DEBUG,...A),this._logHandler(this,TA.DEBUG,...A)}log(...A){this._userLogHandler&&this._userLogHandler(this,TA.VERBOSE,...A),this._logHandler(this,TA.VERBOSE,...A)}info(...A){this._userLogHandler&&this._userLogHandler(this,TA.INFO,...A),this._logHandler(this,TA.INFO,...A)}warn(...A){this._userLogHandler&&this._userLogHandler(this,TA.WARN,...A),this._logHandler(this,TA.WARN,...A)}error(...A){this._userLogHandler&&this._userLogHandler(this,TA.ERROR,...A),this._logHandler(this,TA.ERROR,...A)}}const Um=(t,A)=>A.some(e=>t instanceof e);let Fu,Iu;function Fm(){return Fu||(Fu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Im(){return Iu||(Iu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qd=new WeakMap,Ra=new WeakMap,zd=new WeakMap,$o=new WeakMap,El=new WeakMap;function bm(t){const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{e(Nt(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",i)});return A.then(e=>{e instanceof IDBCursor&&qd.set(e,t)}).catch(()=>{}),El.set(A,t),A}function Tm(t){if(Ra.has(t))return;const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});Ra.set(t,A)}let Da={get(t,A,e){if(t instanceof IDBTransaction){if(A==="done")return Ra.get(t);if(A==="objectStoreNames")return t.objectStoreNames||zd.get(t);if(A==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Nt(t[A])},set(t,A,e){return t[A]=e,!0},has(t,A){return t instanceof IDBTransaction&&(A==="done"||A==="store")?!0:A in t}};function Hm(t){Da=t(Da)}function Sm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(A,...e){const r=t.call(Aa(this),A,...e);return zd.set(r,A.sort?A.sort():[A]),Nt(r)}:Im().includes(t)?function(...A){return t.apply(Aa(this),A),Nt(qd.get(this))}:function(...A){return Nt(t.apply(Aa(this),A))}}function Rm(t){return typeof t=="function"?Sm(t):(t instanceof IDBTransaction&&Tm(t),Um(t,Fm())?new Proxy(t,Da):t)}function Nt(t){if(t instanceof IDBRequest)return bm(t);if($o.has(t))return $o.get(t);const A=Rm(t);return A!==t&&($o.set(t,A),El.set(A,t)),A}const Aa=t=>El.get(t);function Yd(t,A,{blocked:e,upgrade:r,blocking:n,terminated:s}={}){const i=indexedDB.open(t,A),a=Nt(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Nt(i.result),l.oldVersion,l.newVersion,Nt(i.transaction),l)}),e&&i.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),n&&l.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Dm=["get","getKey","getAll","getAllKeys","count"],Lm=["put","add","delete","clear"],ea=new Map;function bu(t,A){if(!(t instanceof IDBDatabase&&!(A in t)&&typeof A=="string"))return;if(ea.get(A))return ea.get(A);const e=A.replace(/FromIndex$/,""),r=A!==e,n=Lm.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(n||Dm.includes(e)))return;const s=async function(i,...a){const l=this.transaction(i,n?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),n&&l.done]))[0]};return ea.set(A,s),s}Hm(t=>({...t,get:(A,e,r)=>bu(A,e)||t.get(A,e,r),has:(A,e)=>!!bu(A,e)||t.has(A,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Vm(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Vm(t){const A=t.getComponent();return(A==null?void 0:A.type)==="VERSION"}const La="@firebase/app",Tu="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new _l("@firebase/app"),xm="@firebase/app-compat",Mm="@firebase/analytics-compat",Pm="@firebase/analytics",Km="@firebase/app-check-compat",Om="@firebase/app-check",Nm="@firebase/auth",Gm="@firebase/auth-compat",Wm="@firebase/database",jm="@firebase/data-connect",Xm="@firebase/database-compat",Jm="@firebase/functions",qm="@firebase/functions-compat",zm="@firebase/installations",Ym="@firebase/installations-compat",Zm="@firebase/messaging",$m="@firebase/messaging-compat",AC="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",rC="@firebase/remote-config-compat",nC="@firebase/storage",sC="@firebase/storage-compat",iC="@firebase/firestore",oC="@firebase/vertexai",aC="@firebase/firestore-compat",lC="firebase",cC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]",uC={[La]:"fire-core",[xm]:"fire-core-compat",[Pm]:"fire-analytics",[Mm]:"fire-analytics-compat",[Om]:"fire-app-check",[Km]:"fire-app-check-compat",[Nm]:"fire-auth",[Gm]:"fire-auth-compat",[Wm]:"fire-rtdb",[jm]:"fire-data-connect",[Xm]:"fire-rtdb-compat",[Jm]:"fire-fn",[qm]:"fire-fn-compat",[zm]:"fire-iid",[Ym]:"fire-iid-compat",[Zm]:"fire-fcm",[$m]:"fire-fcm-compat",[AC]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[rC]:"fire-rc-compat",[nC]:"fire-gcs",[sC]:"fire-gcs-compat",[iC]:"fire-fst",[aC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Map,hC=new Map,Va=new Map;function Hu(t,A){try{t.container.addComponent(A)}catch(e){Ft.debug(`Component ${A.name} failed to register with FirebaseApp ${t.name}`,e)}}function Jt(t){const A=t.name;if(Va.has(A))return Ft.debug(`There were multiple attempts to register component ${A}.`),!1;Va.set(A,t);for(const e of Si.values())Hu(e,t);for(const e of hC.values())Hu(e,t);return!0}function vl(t,A){const e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(A)}function fC(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gt=new to("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(A,e,r){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=cC;function Zd(t,A={}){let e=t;typeof A!="object"&&(A={name:A});const r=Object.assign({name:ka,automaticDataCollectionEnabled:!1},A),n=r.name;if(typeof n!="string"||!n)throw Gt.create("bad-app-name",{appName:String(n)});if(e||(e=jd()),!e)throw Gt.create("no-options");const s=Si.get(n);if(s){if(Hi(e,s.options)&&Hi(r,s.config))return s;throw Gt.create("duplicate-app",{appName:n})}const i=new ym(n);for(const l of Va.values())i.addComponent(l);const a=new gC(e,r,i);return Si.set(n,a),a}function pC(t=ka){const A=Si.get(t);if(!A&&t===ka&&jd())return Zd();if(!A)throw Gt.create("no-app",{appName:t});return A}function ct(t,A,e){var r;let n=(r=uC[t])!==null&&r!==void 0?r:t;e&&(n+=`-${e}`);const s=n.match(/\s|\//),i=A.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${A}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${A}" contains illegal characters (whitespace or "/")`),Ft.warn(a.join(" "));return}Jt(new Ut(`${n}-version`,()=>({library:n,version:A}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebase-heartbeat-database",mC=1,ss="firebase-heartbeat-store";let ta=null;function $d(){return ta||(ta=Yd(wC,mC,{upgrade:(t,A)=>{switch(A){case 0:try{t.createObjectStore(ss)}catch(e){console.warn(e)}}}}).catch(t=>{throw Gt.create("idb-open",{originalErrorMessage:t.message})})),ta}async function CC(t){try{const e=(await $d()).transaction(ss),r=await e.objectStore(ss).get(Ag(t));return await e.done,r}catch(A){if(A instanceof rr)Ft.warn(A.message);else{const e=Gt.create("idb-get",{originalErrorMessage:A==null?void 0:A.message});Ft.warn(e.message)}}}async function Su(t,A){try{const r=(await $d()).transaction(ss,"readwrite");await r.objectStore(ss).put(A,Ag(t)),await r.done}catch(e){if(e instanceof rr)Ft.warn(e.message);else{const r=Gt.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ft.warn(r.message)}}}function Ag(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,QC=30;class _C{constructor(A){this.container=A,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vC(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var A,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ru();if(((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>QC){const i=UC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ft.warn(r)}}async getHeartbeatsHeader(){var A;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ru(),{heartbeatsToSend:r,unsentEntries:n}=EC(this._heartbeatsCache.heartbeats),s=Ti(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ft.warn(e),""}}}function Ru(){return new Date().toISOString().substring(0,10)}function EC(t,A=yC){const e=[];let r=t.slice();for(const n of t){const s=e.find(i=>i.agent===n.agent);if(s){if(s.dates.push(n.date),Du(e)>A){s.dates.pop();break}}else if(e.push({agent:n.agent,dates:[n.date]}),Du(e)>A){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class vC{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xd()?Jd().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await CC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Su(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:A.heartbeats})}else return}async add(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Su(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...A.heartbeats]})}else return}}function Du(t){return Ti(JSON.stringify({version:2,heartbeats:t})).length}function UC(t){if(t.length===0)return-1;let A=0,e=t[0].date;for(let r=1;r<t.length;r++)t[r].date<e&&(e=t[r].date,A=r);return A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){Jt(new Ut("platform-logger",A=>new km(A),"PRIVATE")),Jt(new Ut("heartbeat",A=>new _C(A),"PRIVATE")),ct(La,Tu,t),ct(La,Tu,"esm2017"),ct("fire-js","")}FC("");var IC="firebase",bC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ct(IC,bC,"app");const eg="@firebase/installations",Ul="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=1e4,rg=`w:${Ul}`,ng="FIS_v2",TC="https://firebaseinstallations.googleapis.com/v1",HC=60*60*1e3,SC="installations",RC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_r=new to(SC,RC,DC);function sg(t){return t instanceof rr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig({projectId:t}){return`${TC}/projects/${t}/installations`}function og(t){return{token:t.token,requestStatus:2,expiresIn:kC(t.expiresIn),creationTime:Date.now()}}async function ag(t,A){const r=(await A.json()).error;return _r.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lg({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LC(t,{refreshToken:A}){const e=lg(t);return e.append("Authorization",VC(A)),e}async function cg(t){const A=await t();return A.status>=500&&A.status<600?t():A}function kC(t){return Number(t.replace("s","000"))}function VC(t){return`${ng} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC({appConfig:t,heartbeatServiceProvider:A},{fid:e}){const r=ig(t),n=lg(t),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={fid:e,authVersion:ng,appId:t.appId,sdkVersion:rg},a={method:"POST",headers:n,body:JSON.stringify(i)},l=await cg(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||e,registrationStatus:2,refreshToken:c.refreshToken,authToken:og(c.authToken)}}else throw await ag("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){return new Promise(A=>{setTimeout(A,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/^[cdef][\w-]{21}$/,xa="";function KC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=OC(t);return PC.test(e)?e:xa}catch{return xa}}function OC(t){return MC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map;function fg(t,A){const e=ro(t);dg(e,A),NC(e,A)}function dg(t,A){const e=hg.get(t);if(e)for(const r of e)r(A)}function NC(t,A){const e=GC();e&&e.postMessage({key:t,fid:A}),WC()}let pr=null;function GC(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=t=>{dg(t.data.key,t.data.fid)}),pr}function WC(){hg.size===0&&pr&&(pr.close(),pr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="firebase-installations-database",XC=1,Er="firebase-installations-store";let ra=null;function Fl(){return ra||(ra=Yd(jC,XC,{upgrade:(t,A)=>{switch(A){case 0:t.createObjectStore(Er)}}})),ra}async function Ri(t,A){const e=ro(t),n=(await Fl()).transaction(Er,"readwrite"),s=n.objectStore(Er),i=await s.get(e);return await s.put(A,e),await n.done,(!i||i.fid!==A.fid)&&fg(t,A.fid),A}async function gg(t){const A=ro(t),r=(await Fl()).transaction(Er,"readwrite");await r.objectStore(Er).delete(A),await r.done}async function no(t,A){const e=ro(t),n=(await Fl()).transaction(Er,"readwrite"),s=n.objectStore(Er),i=await s.get(e),a=A(i);return a===void 0?await s.delete(e):await s.put(a,e),await n.done,a&&(!i||i.fid!==a.fid)&&fg(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){let A;const e=await no(t.appConfig,r=>{const n=JC(r),s=qC(t,n);return A=s.registrationPromise,s.installationEntry});return e.fid===xa?{installationEntry:await A}:{installationEntry:e,registrationPromise:A}}function JC(t){const A=t||{fid:KC(),registrationStatus:0};return Bg(A)}function qC(t,A){if(A.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(_r.create("app-offline"));return{installationEntry:A,registrationPromise:n}}const e={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},r=zC(t,e);return{installationEntry:e,registrationPromise:r}}else return A.registrationStatus===1?{installationEntry:A,registrationPromise:YC(t)}:{installationEntry:A}}async function zC(t,A){try{const e=await xC(t,A);return Ri(t.appConfig,e)}catch(e){throw sg(e)&&e.customData.serverCode===409?await gg(t.appConfig):await Ri(t.appConfig,{fid:A.fid,registrationStatus:0}),e}}async function YC(t){let A=await Lu(t.appConfig);for(;A.registrationStatus===1;)await ug(100),A=await Lu(t.appConfig);if(A.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await Il(t);return r||e}return A}function Lu(t){return no(t,A=>{if(!A)throw _r.create("installation-not-found");return Bg(A)})}function Bg(t){return ZC(t)?{fid:t.fid,registrationStatus:0}:t}function ZC(t){return t.registrationStatus===1&&t.registrationTime+tg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C({appConfig:t,heartbeatServiceProvider:A},e){const r=A0(t,e),n=LC(t,e),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={installation:{sdkVersion:rg,appId:t.appId}},a={method:"POST",headers:n,body:JSON.stringify(i)},l=await cg(()=>fetch(r,a));if(l.ok){const c=await l.json();return og(c)}else throw await ag("Generate Auth Token",l)}function A0(t,{fid:A}){return`${ig(t)}/${A}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,A=!1){let e;const r=await no(t.appConfig,s=>{if(!pg(s))throw _r.create("not-registered");const i=s.authToken;if(!A&&r0(i))return s;if(i.requestStatus===1)return e=e0(t,A),s;{if(!navigator.onLine)throw _r.create("app-offline");const a=s0(s);return e=t0(t,a),a}});return e?await e:r.authToken}async function e0(t,A){let e=await ku(t.appConfig);for(;e.authToken.requestStatus===1;)await ug(100),e=await ku(t.appConfig);const r=e.authToken;return r.requestStatus===0?bl(t,A):r}function ku(t){return no(t,A=>{if(!pg(A))throw _r.create("not-registered");const e=A.authToken;return i0(e)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}async function t0(t,A){try{const e=await $C(t,A),r=Object.assign(Object.assign({},A),{authToken:e});return await Ri(t.appConfig,r),e}catch(e){if(sg(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await gg(t.appConfig);else{const r=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});await Ri(t.appConfig,r)}throw e}}function pg(t){return t!==void 0&&t.registrationStatus===2}function r0(t){return t.requestStatus===2&&!n0(t)}function n0(t){const A=Date.now();return A<t.creationTime||t.creationTime+t.expiresIn<A+HC}function s0(t){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:A})}function i0(t){return t.requestStatus===1&&t.requestTime+tg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(t){const A=t,{installationEntry:e,registrationPromise:r}=await Il(A);return r?r.catch(console.error):bl(A).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(t,A=!1){const e=t;return await l0(e),(await bl(e,A)).token}async function l0(t){const{registrationPromise:A}=await Il(t);A&&await A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){if(!t||!t.options)throw na("App Configuration");if(!t.name)throw na("App Name");const A=["projectId","apiKey","appId"];for(const e of A)if(!t.options[e])throw na(e);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function na(t){return _r.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="installations",u0="installations-internal",h0=t=>{const A=t.getProvider("app").getImmediate(),e=c0(A),r=vl(A,"heartbeat");return{app:A,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f0=t=>{const A=t.getProvider("app").getImmediate(),e=vl(A,wg).getImmediate();return{getId:()=>o0(e),getToken:n=>a0(e,n)}};function d0(){Jt(new Ut(wg,h0,"PUBLIC")),Jt(new Ut(u0,f0,"PRIVATE"))}d0();ct(eg,Ul);ct(eg,Ul,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="analytics",g0="firebase_id",B0="origin",p0=60*1e3,w0="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tl="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=new _l("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},At=new to("analytics","Analytics",m0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){if(!t.startsWith(Tl)){const A=At.create("invalid-gtag-resource",{gtagURL:t});return De.warn(A.message),""}return t}function mg(t){return Promise.all(t.map(A=>A.catch(e=>e)))}function y0(t,A){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(t,A)),e}function Q0(t,A){const e=y0("firebase-js-sdk-policy",{createScriptURL:C0}),r=document.createElement("script"),n=`${Tl}?l=${t}&id=${A}`;r.src=e?e==null?void 0:e.createScriptURL(n):n,r.async=!0,document.head.appendChild(r)}function _0(t){let A=[];return Array.isArray(window[t])?A=window[t]:window[t]=A,A}async function E0(t,A,e,r,n,s){const i=r[n];try{if(i)await A[i];else{const l=(await mg(e)).find(c=>c.measurementId===n);l&&await A[l.appId]}}catch(a){De.error(a)}t("config",n,s)}async function v0(t,A,e,r,n){try{let s=[];if(n&&n.send_to){let i=n.send_to;Array.isArray(i)||(i=[i]);const a=await mg(e);for(const l of i){const c=a.find(f=>f.measurementId===l),u=c&&A[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(A)),await Promise.all(s),t("event",r,n||{})}catch(s){De.error(s)}}function U0(t,A,e,r){async function n(s,...i){try{if(s==="event"){const[a,l]=i;await v0(t,A,e,a,l)}else if(s==="config"){const[a,l]=i;await E0(t,A,e,r,a,l)}else if(s==="consent"){const[a,l]=i;t("consent",a,l)}else if(s==="get"){const[a,l,c]=i;t("get",a,l,c)}else if(s==="set"){const[a]=i;t("set",a)}else t(s,...i)}catch(a){De.error(a)}}return n}function F0(t,A,e,r,n){let s=function(...i){window[r].push(arguments)};return window[n]&&typeof window[n]=="function"&&(s=window[n]),window[n]=U0(s,t,A,e),{gtagCore:s,wrappedGtag:window[n]}}function I0(t){const A=window.document.getElementsByTagName("script");for(const e of Object.values(A))if(e.src&&e.src.includes(Tl)&&e.src.includes(t))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=30,T0=1e3;class H0{constructor(A={},e=T0){this.throttleMetadata=A,this.intervalMillis=e}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,e){this.throttleMetadata[A]=e}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}}const Cg=new H0;function S0(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function R0(t){var A;const{appId:e,apiKey:r}=t,n={method:"GET",headers:S0(r)},s=w0.replace("{app-id}",e),i=await fetch(s,n);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();!((A=l.error)===null||A===void 0)&&A.message&&(a=l.error.message)}catch{}throw At.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function D0(t,A=Cg,e){const{appId:r,apiKey:n,measurementId:s}=t.options;if(!r)throw At.create("no-app-id");if(!n){if(s)return{measurementId:s,appId:r};throw At.create("no-api-key")}const i=A.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new V0;return setTimeout(async()=>{a.abort()},p0),yg({appId:r,apiKey:n,measurementId:s},i,a,A)}async function yg(t,{throttleEndTimeMillis:A,backoffCount:e},r,n=Cg){var s;const{appId:i,measurementId:a}=t;try{await L0(r,A)}catch(l){if(a)return De.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw l}try{const l=await R0(t);return n.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!k0(c)){if(n.deleteThrottleMetadata(i),a)return De.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Uu(e,n.intervalMillis,b0):Uu(e,n.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return n.setThrottleMetadata(i,f),De.debug(`Calling attemptFetch again in ${u} millis`),yg(t,f,r,n)}}function L0(t,A){return new Promise((e,r)=>{const n=Math.max(A-Date.now(),0),s=setTimeout(e,n);t.addEventListener(()=>{clearTimeout(s),r(At.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function k0(t){if(!(t instanceof rr)||!t.customData)return!1;const A=Number(t.customData.httpStatus);return A===429||A===500||A===503||A===504}class V0{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}async function x0(t,A,e,r,n){if(n&&n.global){t("event",e,r);return}else{const s=await A,i=Object.assign(Object.assign({},r),{send_to:s});t("event",e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(){if(Xd())try{await Jd()}catch(t){return De.warn(At.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return De.warn(At.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function P0(t,A,e,r,n,s,i){var a;const l=D0(t);l.then(B=>{e[B.measurementId]=B.appId,t.options.measurementId&&B.measurementId!==t.options.measurementId&&De.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>De.error(B)),A.push(l);const c=M0().then(B=>{if(B)return r.getId()}),[u,f]=await Promise.all([l,c]);I0(s)||Q0(s,u.measurementId),n("js",new Date);const g=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return g[B0]="firebase",g.update=!0,f!=null&&(g[g0]=f),n("config",u.measurementId,g),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(A){this.app=A}_delete(){return delete qn[this.app.options.appId],Promise.resolve()}}let qn={},xu=[];const Mu={};let sa="dataLayer",O0="gtag",Pu,Qg,Ku=!1;function N0(){const t=[];if(am()&&t.push("This is a browser extension environment."),cm()||t.push("Cookies are not available."),t.length>0){const A=t.map((r,n)=>`(${n+1}) ${r}`).join(" "),e=At.create("invalid-analytics-context",{errorInfo:A});De.warn(e.message)}}function G0(t,A,e){N0();const r=t.options.appId;if(!r)throw At.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)De.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw At.create("no-api-key");if(qn[r]!=null)throw At.create("already-exists",{id:r});if(!Ku){_0(sa);const{wrappedGtag:s,gtagCore:i}=F0(qn,xu,Mu,sa,O0);Qg=s,Pu=i,Ku=!0}return qn[r]=P0(t,xu,Mu,A,Pu,sa,e),new K0(t)}function W0(t,A,e,r){t=et(t),x0(Qg,qn[t.app.options.appId],A,e,r).catch(n=>De.error(n))}const Ou="@firebase/analytics",Nu="0.10.12";function j0(){Jt(new Ut(Vu,(A,{options:e})=>{const r=A.getProvider("app").getImmediate(),n=A.getProvider("installations-internal").getImmediate();return G0(r,n,e)},"PUBLIC")),Jt(new Ut("analytics-internal",t,"PRIVATE")),ct(Ou,Nu),ct(Ou,Nu,"esm2017");function t(A){try{const e=A.getProvider(Vu).getImmediate();return{logEvent:(r,n,s)=>W0(e,r,n,s)}}catch(e){throw At.create("interop-component-reg-failed",{reason:e})}}}j0();var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wt,_g;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function A(E,m){function Q(){}Q.prototype=m.prototype,E.D=m.prototype,E.prototype=new Q,E.prototype.constructor=E,E.C=function(I,v,b){for(var p=Array(arguments.length-2),O=2;O<arguments.length;O++)p[O-2]=arguments[O];return m.prototype[v].apply(I,p)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}A(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(E,m,Q){Q||(Q=0);var I=Array(16);if(typeof m=="string")for(var v=0;16>v;++v)I[v]=m.charCodeAt(Q++)|m.charCodeAt(Q++)<<8|m.charCodeAt(Q++)<<16|m.charCodeAt(Q++)<<24;else for(v=0;16>v;++v)I[v]=m[Q++]|m[Q++]<<8|m[Q++]<<16|m[Q++]<<24;m=E.g[0],Q=E.g[1],v=E.g[2];var b=E.g[3],p=m+(b^Q&(v^b))+I[0]+3614090360&4294967295;m=Q+(p<<7&4294967295|p>>>25),p=b+(v^m&(Q^v))+I[1]+3905402710&4294967295,b=m+(p<<12&4294967295|p>>>20),p=v+(Q^b&(m^Q))+I[2]+606105819&4294967295,v=b+(p<<17&4294967295|p>>>15),p=Q+(m^v&(b^m))+I[3]+3250441966&4294967295,Q=v+(p<<22&4294967295|p>>>10),p=m+(b^Q&(v^b))+I[4]+4118548399&4294967295,m=Q+(p<<7&4294967295|p>>>25),p=b+(v^m&(Q^v))+I[5]+1200080426&4294967295,b=m+(p<<12&4294967295|p>>>20),p=v+(Q^b&(m^Q))+I[6]+2821735955&4294967295,v=b+(p<<17&4294967295|p>>>15),p=Q+(m^v&(b^m))+I[7]+4249261313&4294967295,Q=v+(p<<22&4294967295|p>>>10),p=m+(b^Q&(v^b))+I[8]+1770035416&4294967295,m=Q+(p<<7&4294967295|p>>>25),p=b+(v^m&(Q^v))+I[9]+2336552879&4294967295,b=m+(p<<12&4294967295|p>>>20),p=v+(Q^b&(m^Q))+I[10]+4294925233&4294967295,v=b+(p<<17&4294967295|p>>>15),p=Q+(m^v&(b^m))+I[11]+2304563134&4294967295,Q=v+(p<<22&4294967295|p>>>10),p=m+(b^Q&(v^b))+I[12]+1804603682&4294967295,m=Q+(p<<7&4294967295|p>>>25),p=b+(v^m&(Q^v))+I[13]+4254626195&4294967295,b=m+(p<<12&4294967295|p>>>20),p=v+(Q^b&(m^Q))+I[14]+2792965006&4294967295,v=b+(p<<17&4294967295|p>>>15),p=Q+(m^v&(b^m))+I[15]+1236535329&4294967295,Q=v+(p<<22&4294967295|p>>>10),p=m+(v^b&(Q^v))+I[1]+4129170786&4294967295,m=Q+(p<<5&4294967295|p>>>27),p=b+(Q^v&(m^Q))+I[6]+3225465664&4294967295,b=m+(p<<9&4294967295|p>>>23),p=v+(m^Q&(b^m))+I[11]+643717713&4294967295,v=b+(p<<14&4294967295|p>>>18),p=Q+(b^m&(v^b))+I[0]+3921069994&4294967295,Q=v+(p<<20&4294967295|p>>>12),p=m+(v^b&(Q^v))+I[5]+3593408605&4294967295,m=Q+(p<<5&4294967295|p>>>27),p=b+(Q^v&(m^Q))+I[10]+38016083&4294967295,b=m+(p<<9&4294967295|p>>>23),p=v+(m^Q&(b^m))+I[15]+3634488961&4294967295,v=b+(p<<14&4294967295|p>>>18),p=Q+(b^m&(v^b))+I[4]+3889429448&4294967295,Q=v+(p<<20&4294967295|p>>>12),p=m+(v^b&(Q^v))+I[9]+568446438&4294967295,m=Q+(p<<5&4294967295|p>>>27),p=b+(Q^v&(m^Q))+I[14]+3275163606&4294967295,b=m+(p<<9&4294967295|p>>>23),p=v+(m^Q&(b^m))+I[3]+4107603335&4294967295,v=b+(p<<14&4294967295|p>>>18),p=Q+(b^m&(v^b))+I[8]+1163531501&4294967295,Q=v+(p<<20&4294967295|p>>>12),p=m+(v^b&(Q^v))+I[13]+2850285829&4294967295,m=Q+(p<<5&4294967295|p>>>27),p=b+(Q^v&(m^Q))+I[2]+4243563512&4294967295,b=m+(p<<9&4294967295|p>>>23),p=v+(m^Q&(b^m))+I[7]+1735328473&4294967295,v=b+(p<<14&4294967295|p>>>18),p=Q+(b^m&(v^b))+I[12]+2368359562&4294967295,Q=v+(p<<20&4294967295|p>>>12),p=m+(Q^v^b)+I[5]+4294588738&4294967295,m=Q+(p<<4&4294967295|p>>>28),p=b+(m^Q^v)+I[8]+2272392833&4294967295,b=m+(p<<11&4294967295|p>>>21),p=v+(b^m^Q)+I[11]+1839030562&4294967295,v=b+(p<<16&4294967295|p>>>16),p=Q+(v^b^m)+I[14]+4259657740&4294967295,Q=v+(p<<23&4294967295|p>>>9),p=m+(Q^v^b)+I[1]+2763975236&4294967295,m=Q+(p<<4&4294967295|p>>>28),p=b+(m^Q^v)+I[4]+1272893353&4294967295,b=m+(p<<11&4294967295|p>>>21),p=v+(b^m^Q)+I[7]+4139469664&4294967295,v=b+(p<<16&4294967295|p>>>16),p=Q+(v^b^m)+I[10]+3200236656&4294967295,Q=v+(p<<23&4294967295|p>>>9),p=m+(Q^v^b)+I[13]+681279174&4294967295,m=Q+(p<<4&4294967295|p>>>28),p=b+(m^Q^v)+I[0]+3936430074&4294967295,b=m+(p<<11&4294967295|p>>>21),p=v+(b^m^Q)+I[3]+3572445317&4294967295,v=b+(p<<16&4294967295|p>>>16),p=Q+(v^b^m)+I[6]+76029189&4294967295,Q=v+(p<<23&4294967295|p>>>9),p=m+(Q^v^b)+I[9]+3654602809&4294967295,m=Q+(p<<4&4294967295|p>>>28),p=b+(m^Q^v)+I[12]+3873151461&4294967295,b=m+(p<<11&4294967295|p>>>21),p=v+(b^m^Q)+I[15]+530742520&4294967295,v=b+(p<<16&4294967295|p>>>16),p=Q+(v^b^m)+I[2]+3299628645&4294967295,Q=v+(p<<23&4294967295|p>>>9),p=m+(v^(Q|~b))+I[0]+4096336452&4294967295,m=Q+(p<<6&4294967295|p>>>26),p=b+(Q^(m|~v))+I[7]+1126891415&4294967295,b=m+(p<<10&4294967295|p>>>22),p=v+(m^(b|~Q))+I[14]+2878612391&4294967295,v=b+(p<<15&4294967295|p>>>17),p=Q+(b^(v|~m))+I[5]+4237533241&4294967295,Q=v+(p<<21&4294967295|p>>>11),p=m+(v^(Q|~b))+I[12]+1700485571&4294967295,m=Q+(p<<6&4294967295|p>>>26),p=b+(Q^(m|~v))+I[3]+2399980690&4294967295,b=m+(p<<10&4294967295|p>>>22),p=v+(m^(b|~Q))+I[10]+4293915773&4294967295,v=b+(p<<15&4294967295|p>>>17),p=Q+(b^(v|~m))+I[1]+2240044497&4294967295,Q=v+(p<<21&4294967295|p>>>11),p=m+(v^(Q|~b))+I[8]+1873313359&4294967295,m=Q+(p<<6&4294967295|p>>>26),p=b+(Q^(m|~v))+I[15]+4264355552&4294967295,b=m+(p<<10&4294967295|p>>>22),p=v+(m^(b|~Q))+I[6]+2734768916&4294967295,v=b+(p<<15&4294967295|p>>>17),p=Q+(b^(v|~m))+I[13]+1309151649&4294967295,Q=v+(p<<21&4294967295|p>>>11),p=m+(v^(Q|~b))+I[4]+4149444226&4294967295,m=Q+(p<<6&4294967295|p>>>26),p=b+(Q^(m|~v))+I[11]+3174756917&4294967295,b=m+(p<<10&4294967295|p>>>22),p=v+(m^(b|~Q))+I[2]+718787259&4294967295,v=b+(p<<15&4294967295|p>>>17),p=Q+(b^(v|~m))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(v+(p<<21&4294967295|p>>>11))&4294967295,E.g[2]=E.g[2]+v&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var Q=m-this.blockSize,I=this.B,v=this.h,b=0;b<m;){if(v==0)for(;b<=Q;)n(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<m;)if(I[v++]=E.charCodeAt(b++),v==this.blockSize){n(this,I),v=0;break}}else for(;b<m;)if(I[v++]=E[b++],v==this.blockSize){n(this,I),v=0;break}}this.h=v,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var Q=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=Q&255,Q/=256;for(this.u(E),E=Array(16),m=Q=0;4>m;++m)for(var I=0;32>I;I+=8)E[Q++]=this.g[m]>>>I&255;return E};function s(E,m){var Q=a;return Object.prototype.hasOwnProperty.call(Q,E)?Q[E]:Q[E]=m(E)}function i(E,m){this.h=m;for(var Q=[],I=!0,v=E.length-1;0<=v;v--){var b=E[v]|0;I&&b==m||(Q[v]=b,I=!1)}this.g=Q}var a={};function l(E){return-128<=E&&128>E?s(E,function(m){return new i([m|0],0>m?-1:0)}):new i([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return F(c(-E));for(var m=[],Q=1,I=0;E>=Q;I++)m[I]=E/Q|0,Q*=4294967296;return new i(m,0)}function u(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return F(u(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var Q=c(Math.pow(m,8)),I=f,v=0;v<E.length;v+=8){var b=Math.min(8,E.length-v),p=parseInt(E.substring(v,v+b),m);8>b?(b=c(Math.pow(m,b)),I=I.j(b).add(c(p))):(I=I.j(Q),I=I.add(c(p)))}return I}var f=l(0),g=l(1),B=l(16777216);t=i.prototype,t.m=function(){if(y(this))return-F(this).m();for(var E=0,m=1,Q=0;Q<this.g.length;Q++){var I=this.i(Q);E+=(0<=I?I:4294967296+I)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(y(this))return"-"+F(this).toString(E);for(var m=c(Math.pow(E,6)),Q=this,I="";;){var v=x(Q,m).g;Q=S(Q,v.j(m));var b=((0<Q.g.length?Q.g[0]:Q.h)>>>0).toString(E);if(Q=v,C(Q))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=S(this,E),y(E)?-1:C(E)?0:1};function F(E){for(var m=E.g.length,Q=[],I=0;I<m;I++)Q[I]=~E.g[I];return new i(Q,~E.h).add(g)}t.abs=function(){return y(this)?F(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),Q=[],I=0,v=0;v<=m;v++){var b=I+(this.i(v)&65535)+(E.i(v)&65535),p=(b>>>16)+(this.i(v)>>>16)+(E.i(v)>>>16);I=p>>>16,b&=65535,p&=65535,Q[v]=p<<16|b}return new i(Q,Q[Q.length-1]&-2147483648?-1:0)};function S(E,m){return E.add(F(m))}t.j=function(E){if(C(this)||C(E))return f;if(y(this))return y(E)?F(this).j(F(E)):F(F(this).j(E));if(y(E))return F(this.j(F(E)));if(0>this.l(B)&&0>E.l(B))return c(this.m()*E.m());for(var m=this.g.length+E.g.length,Q=[],I=0;I<2*m;I++)Q[I]=0;for(I=0;I<this.g.length;I++)for(var v=0;v<E.g.length;v++){var b=this.i(I)>>>16,p=this.i(I)&65535,O=E.i(v)>>>16,uA=E.i(v)&65535;Q[2*I+2*v]+=p*uA,R(Q,2*I+2*v),Q[2*I+2*v+1]+=b*uA,R(Q,2*I+2*v+1),Q[2*I+2*v+1]+=p*O,R(Q,2*I+2*v+1),Q[2*I+2*v+2]+=b*O,R(Q,2*I+2*v+2)}for(I=0;I<m;I++)Q[I]=Q[2*I+1]<<16|Q[2*I];for(I=m;I<2*m;I++)Q[I]=0;return new i(Q,0)};function R(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function H(E,m){this.g=E,this.h=m}function x(E,m){if(C(m))throw Error("division by zero");if(C(E))return new H(f,f);if(y(E))return m=x(F(E),m),new H(F(m.g),F(m.h));if(y(m))return m=x(E,F(m)),new H(F(m.g),m.h);if(30<E.g.length){if(y(E)||y(m))throw Error("slowDivide_ only works with positive integers.");for(var Q=g,I=m;0>=I.l(E);)Q=P(Q),I=P(I);var v=L(Q,1),b=L(I,1);for(I=L(I,2),Q=L(Q,2);!C(I);){var p=b.add(I);0>=p.l(E)&&(v=v.add(Q),b=p),I=L(I,1),Q=L(Q,1)}return m=S(E,v.j(m)),new H(v,m)}for(v=f;0<=E.l(m);){for(Q=Math.max(1,Math.floor(E.m()/m.m())),I=Math.ceil(Math.log(Q)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=c(Q),p=b.j(m);y(p)||0<p.l(E);)Q-=I,b=c(Q),p=b.j(m);C(b)&&(b=g),v=v.add(b),E=S(E,p)}return new H(v,E)}t.A=function(E){return x(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),Q=[],I=0;I<m;I++)Q[I]=this.i(I)&E.i(I);return new i(Q,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),Q=[],I=0;I<m;I++)Q[I]=this.i(I)|E.i(I);return new i(Q,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),Q=[],I=0;I<m;I++)Q[I]=this.i(I)^E.i(I);return new i(Q,this.h^E.h)};function P(E){for(var m=E.g.length+1,Q=[],I=0;I<m;I++)Q[I]=E.i(I)<<1|E.i(I-1)>>>31;return new i(Q,E.h)}function L(E,m){var Q=m>>5;m%=32;for(var I=E.g.length-Q,v=[],b=0;b<I;b++)v[b]=0<m?E.i(b+Q)>>>m|E.i(b+Q+1)<<32-m:E.i(b+Q);return new i(v,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_g=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=u,Wt=i}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});var Ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eg,kn,vg,yi,Ma,Ug,Fg,Ig;(function(){var t,A=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,d){return o==Array.prototype||o==Object.prototype||(o[h]=d.value),o};function e(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ws=="object"&&Ws];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=e(this);function n(o,h){if(h)A:{var d=r;o=o.split(".");for(var w=0;w<o.length-1;w++){var k=o[w];if(!(k in d))break A;d=d[k]}o=o[o.length-1],w=d[o],h=h(w),h!=w&&h!=null&&A(d,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var d=0,w=!1,k={next:function(){if(!w&&d<o.length){var M=d++;return{value:h(M,o[M]),done:!1}}return w=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}n("Array.prototype.values",function(o){return o||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function f(o,h,d){if(!o)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,w),o.apply(h,k)}}return function(){return o.apply(h,arguments)}}function g(o,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,g.apply(null,arguments)}function B(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var w=d.slice();return w.push.apply(w,arguments),o.apply(this,w)}}function C(o,h){function d(){}d.prototype=h.prototype,o.aa=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(w,k,M){for(var J=Array(arguments.length-2),VA=2;VA<arguments.length;VA++)J[VA-2]=arguments[VA];return h.prototype[k].apply(w,J)}}function y(o){const h=o.length;if(0<h){const d=Array(h);for(let w=0;w<h;w++)d[w]=o[w];return d}return[]}function F(o,h){for(let d=1;d<arguments.length;d++){const w=arguments[d];if(l(w)){const k=o.length||0,M=w.length||0;o.length=k+M;for(let J=0;J<M;J++)o[k+J]=w[J]}else o.push(w)}}class S{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function R(o){return/^[\s\xa0]*$/.test(o)}function H(){var o=a.navigator;return o&&(o=o.userAgent)?o:""}function x(o){return x[" "](o),o}x[" "]=function(){};var P=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function L(o,h,d){for(const w in o)h.call(d,o[w],w,o)}function E(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function m(o){const h={};for(const d in o)h[d]=o[d];return h}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,h){let d,w;for(let k=1;k<arguments.length;k++){w=arguments[k];for(d in w)o[d]=w[d];for(let M=0;M<Q.length;M++)d=Q[M],Object.prototype.hasOwnProperty.call(w,d)&&(o[d]=w[d])}}function v(o){var h=1;o=o.split(":");const d=[];for(;0<h&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function b(o){a.setTimeout(()=>{throw o},0)}function p(){var o=KA;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class O{constructor(){this.h=this.g=null}add(h,d){const w=uA.get();w.set(h,d),this.h?this.h.next=w:this.g=w,this.h=w}}var uA=new S(()=>new dA,o=>o.reset());class dA{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let nA,LA=!1,KA=new O,V=()=>{const o=a.Promise.resolve(void 0);nA=()=>{o.then(T)}};var T=()=>{for(var o;o=p();){try{o.h.call(o.g)}catch(d){b(d)}var h=uA;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}LA=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var cA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function oA(o,h){if(z.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,w=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(P){A:{try{x(h.nodeName);var k=!0;break A}catch{}k=!1}k||(h=null)}}else d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:lA[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&oA.aa.h.call(this)}}C(oA,z);var lA={2:"touch",3:"pen",4:"mouse"};oA.prototype.h=function(){oA.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),X=0;function FA(o,h,d,w,k){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!w,this.ha=k,this.key=++X,this.da=this.fa=!1}function _A(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function CA(o){this.src=o,this.g={},this.h=0}CA.prototype.add=function(o,h,d,w,k){var M=o.toString();o=this.g[M],o||(o=this.g[M]=[],this.h++);var J=QA(o,h,w,k);return-1<J?(h=o[J],d||(h.fa=!1)):(h=new FA(h,this.src,M,!!w,k),h.fa=d,o.push(h)),h};function wA(o,h){var d=h.type;if(d in o.g){var w=o.g[d],k=Array.prototype.indexOf.call(w,h,void 0),M;(M=0<=k)&&Array.prototype.splice.call(w,k,1),M&&(_A(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function QA(o,h,d,w){for(var k=0;k<o.length;++k){var M=o[k];if(!M.da&&M.listener==h&&M.capture==!!d&&M.ha==w)return k}return-1}var gA="closure_lm_"+(1e6*Math.random()|0),BA={};function EA(o,h,d,w,k){if(Array.isArray(h)){for(var M=0;M<h.length;M++)EA(o,h[M],d,w,k);return null}return d=Rr(d),o&&o[j]?o.K(h,d,c(w)?!!w.capture:!!w,k):OA(o,h,d,!1,w,k)}function OA(o,h,d,w,k,M){if(!h)throw Error("Invalid event type");var J=c(k)?!!k.capture:!!k,VA=or(o);if(VA||(o[gA]=VA=new CA(o)),d=VA.add(h,d,w,J,M),d.proxy)return d;if(w=kA(),d.proxy=w,w.src=o,w.listener=d,o.addEventListener)cA||(k=J),k===void 0&&(k=!1),o.addEventListener(h.toString(),w,k);else if(o.attachEvent)o.attachEvent(mt(h.toString()),w);else if(o.addListener&&o.removeListener)o.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return d}function kA(){function o(d){return h.call(o.src,o.listener,d)}const h=ir;return o}function Ue(o,h,d,w,k){if(Array.isArray(h))for(var M=0;M<h.length;M++)Ue(o,h[M],d,w,k);else w=c(w)?!!w.capture:!!w,d=Rr(d),o&&o[j]?(o=o.i,h=String(h).toString(),h in o.g&&(M=o.g[h],d=QA(M,d,w,k),-1<d&&(_A(M[d]),Array.prototype.splice.call(M,d,1),M.length==0&&(delete o.g[h],o.h--)))):o&&(o=or(o))&&(h=o.g[h.toString()],o=-1,h&&(o=QA(h,d,w,k)),(d=-1<o?h[o]:null)&&fe(d))}function fe(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[j])wA(h.i,o);else{var d=o.type,w=o.proxy;h.removeEventListener?h.removeEventListener(d,w,o.capture):h.detachEvent?h.detachEvent(mt(d),w):h.addListener&&h.removeListener&&h.removeListener(w),(d=or(h))?(wA(d,o),d.h==0&&(d.src=null,h[gA]=null)):_A(o)}}}function mt(o){return o in BA?BA[o]:BA[o]="on"+o}function ir(o,h){if(o.da)o=!0;else{h=new oA(h,this);var d=o.listener,w=o.ha||o.src;o.fa&&fe(o),o=d.call(w,h)}return o}function or(o){return o=o[gA],o instanceof CA?o:null}var rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rr(o){return typeof o=="function"?o:(o[rt]||(o[rt]=function(h){return o.handleEvent(h)}),o[rt])}function MA(){Y.call(this),this.i=new CA(this),this.M=this,this.F=null}C(MA,Y),MA.prototype[j]=!0,MA.prototype.removeEventListener=function(o,h,d,w){Ue(this,o,h,d,w)};function ce(o,h){var d,w=o.F;if(w)for(d=[];w;w=w.F)d.push(w);if(o=o.M,w=h.type||h,typeof h=="string")h=new z(h,o);else if(h instanceof z)h.target=h.target||o;else{var k=h;h=new z(w,o),I(h,k)}if(k=!0,d)for(var M=d.length-1;0<=M;M--){var J=h.g=d[M];k=ot(J,w,!0,h)&&k}if(J=h.g=o,k=ot(J,w,!0,h)&&k,k=ot(J,w,!1,h)&&k,d)for(M=0;M<d.length;M++)J=h.g=d[M],k=ot(J,w,!1,h)&&k}MA.prototype.N=function(){if(MA.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var d=o.g[h],w=0;w<d.length;w++)_A(d[w]);delete o.g[h],o.h--}}this.F=null},MA.prototype.K=function(o,h,d,w){return this.i.add(String(o),h,!1,d,w)},MA.prototype.L=function(o,h,d,w){return this.i.add(String(o),h,!0,d,w)};function ot(o,h,d,w){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var k=!0,M=0;M<h.length;++M){var J=h[M];if(J&&!J.da&&J.capture==d){var VA=J.listener,de=J.ha||J.src;J.fa&&wA(o.i,J),k=VA.call(de,w)!==!1&&k}}return k&&!w.defaultPrevented}function pn(o,h,d){if(typeof o=="function")d&&(o=g(o,d));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(o,h||0)}function wn(o){o.g=pn(()=>{o.g=null,o.i&&(o.i=!1,wn(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class mn extends Y{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:wn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(o){Y.call(this),this.h=o,this.g={}}C(ar,Y);var Is=[];function Ic(o){L(o.g,function(h,d){this.g.hasOwnProperty(d)&&fe(h)},o),o.g={}}ar.prototype.N=function(){ar.aa.N.call(this),Ic(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lo=a.JSON.stringify,lw=a.JSON.parse,cw=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function ko(){}ko.prototype.h=null;function bc(o){return o.h||(o.h=o.i())}function Tc(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vo(){z.call(this,"d")}C(Vo,z);function xo(){z.call(this,"c")}C(xo,z);var lr={},Hc=null;function bs(){return Hc=Hc||new MA}lr.La="serverreachability";function Sc(o){z.call(this,lr.La,o)}C(Sc,z);function yn(o){const h=bs();ce(h,new Sc(h))}lr.STAT_EVENT="statevent";function Rc(o,h){z.call(this,lr.STAT_EVENT,o),this.stat=h}C(Rc,z);function Fe(o){const h=bs();ce(h,new Rc(h,o))}lr.Ma="timingevent";function Dc(o,h){z.call(this,lr.Ma,o),this.size=h}C(Dc,z);function Qn(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function uw(o,h,d,w,k,M){o.info(function(){if(o.g)if(M)for(var J="",VA=M.split("&"),de=0;de<VA.length;de++){var HA=VA[de].split("=");if(1<HA.length){var me=HA[0];HA=HA[1];var Ce=me.split("_");J=2<=Ce.length&&Ce[1]=="type"?J+(me+"="+HA+"&"):J+(me+"=redacted&")}}else J=null;else J=M;return"XMLHTTP REQ ("+w+") [attempt "+k+"]: "+h+`
`+d+`
`+J})}function hw(o,h,d,w,k,M,J){o.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+k+"]: "+h+`
`+d+`
`+M+" "+J})}function Dr(o,h,d,w){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+dw(o,d)+(w?" "+w:"")})}function fw(o,h){o.info(function(){return"TIMEOUT: "+h})}_n.prototype.info=function(){};function dw(o,h){if(!o.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var w=d[o];if(!(2>w.length)){var k=w[1];if(Array.isArray(k)&&!(1>k.length)){var M=k[0];if(M!="noop"&&M!="stop"&&M!="close")for(var J=1;J<k.length;J++)k[J]=""}}}}return Lo(d)}catch{return h}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mo;function Hs(){}C(Hs,ko),Hs.prototype.g=function(){return new XMLHttpRequest},Hs.prototype.i=function(){return{}},Mo=new Hs;function St(o,h,d,w){this.j=o,this.i=h,this.l=d,this.R=w||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kc}function kc(){this.i=null,this.g="",this.h=!1}var Vc={},Po={};function Ko(o,h,d){o.L=1,o.v=Ls(Ct(h)),o.m=d,o.P=!0,xc(o,null)}function xc(o,h){o.F=Date.now(),Ss(o),o.A=Ct(o.v);var d=o.A,w=o.R;Array.isArray(w)||(w=[String(w)]),Zc(d.i,"t",w),o.C=0,d=o.j.J,o.h=new kc,o.g=Bu(o.j,d?h:null,!o.m),0<o.O&&(o.M=new mn(g(o.Y,o,o.g),o.O)),h=o.U,d=o.g,w=o.ca;var k="readystatechange";Array.isArray(k)||(k&&(Is[0]=k.toString()),k=Is);for(var M=0;M<k.length;M++){var J=EA(d,k[M],w||h.handleEvent,!1,h.h||h);if(!J)break;h.g[J.key]=J}h=o.H?m(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),yn(),uw(o.i,o.u,o.A,o.l,o.R,o.m)}St.prototype.ca=function(o){o=o.target;const h=this.M;h&&yt(o)==3?h.j():this.Y(o)},St.prototype.Y=function(o){try{if(o==this.g)A:{const Ce=yt(this.g);var h=this.g.Ba();const Vr=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||Ce!=4||h==7||(h==8||0>=Vr?yn(3):yn(2)),Oo(this);var d=this.g.Z();this.X=d;e:if(Mc(this)){var w=su(this.g);o="";var k=w.length,M=yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),En(this);var J="";break e}this.h.i=new a.TextDecoder}for(h=0;h<k;h++)this.h.h=!0,o+=this.h.i.decode(w[h],{stream:!(M&&h==k-1)});w.length=0,this.h.g+=o,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=d==200,hw(this.i,this.u,this.A,this.l,this.R,Ce,d),this.o){if(this.T&&!this.K){e:{if(this.g){var VA,de=this.g;if((VA=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(VA)){var HA=VA;break e}}HA=null}if(d=HA)Dr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,d);else{this.o=!1,this.s=3,Fe(12),cr(this),En(this);break A}}if(this.P){d=!0;let nt;for(;!this.J&&this.C<J.length;)if(nt=gw(this,J),nt==Po){Ce==4&&(this.s=4,Fe(14),d=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(nt==Vc){this.s=4,Fe(15),Dr(this.i,this.l,J,"[Invalid Chunk]"),d=!1;break}else Dr(this.i,this.l,nt,null),No(this,nt);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||J.length!=0||this.h.h||(this.s=1,Fe(16),d=!1),this.o=this.o&&d,!d)Dr(this.i,this.l,J,"[Invalid Chunked Response]"),cr(this),En(this);else if(0<J.length&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.ba&&!me.M&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),qo(me),me.M=!0,Fe(11))}}else Dr(this.i,this.l,J,null),No(this,J);Ce==4&&cr(this),this.o&&!this.J&&(Ce==4?hu(this.j,this):(this.o=!1,Ss(this)))}else Sw(this.g),d==400&&0<J.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),cr(this),En(this)}}}catch{}finally{}};function Mc(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function gw(o,h){var d=o.C,w=h.indexOf(`
`,d);return w==-1?Po:(d=Number(h.substring(d,w)),isNaN(d)?Vc:(w+=1,w+d>h.length?Po:(h=h.slice(w,w+d),o.C=w+d,h)))}St.prototype.cancel=function(){this.J=!0,cr(this)};function Ss(o){o.S=Date.now()+o.I,Pc(o,o.I)}function Pc(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Qn(g(o.ba,o),h)}function Oo(o){o.B&&(a.clearTimeout(o.B),o.B=null)}St.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(fw(this.i,this.A),this.L!=2&&(yn(),Fe(17)),cr(this),this.s=2,En(this)):Pc(this,this.S-o)};function En(o){o.j.G==0||o.J||hu(o.j,o)}function cr(o){Oo(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,Ic(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function No(o,h){try{var d=o.j;if(d.G!=0&&(d.g==o||Go(d.h,o))){if(!o.K&&Go(d.h,o)&&d.G==3){try{var w=d.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var k=w;if(k[0]==0){A:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)Ks(d),Ms(d);else break A;Jo(d),Fe(18)}}else d.za=k[1],0<d.za-d.T&&37500>k[2]&&d.F&&d.v==0&&!d.C&&(d.C=Qn(g(d.Za,d),6e3));if(1>=Nc(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else hr(d,11)}else if((o.K||d.g==o)&&Ks(d),!R(h))for(k=d.Da.g.parse(h),h=0;h<k.length;h++){let HA=k[h];if(d.T=HA[0],HA=HA[1],d.G==2)if(HA[0]=="c"){d.K=HA[1],d.ia=HA[2];const me=HA[3];me!=null&&(d.la=me,d.j.info("VER="+d.la));const Ce=HA[4];Ce!=null&&(d.Aa=Ce,d.j.info("SVER="+d.Aa));const Vr=HA[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(w=1.5*Vr,d.L=w,d.j.info("backChannelRequestTimeoutMs_="+w)),w=d;const nt=o.g;if(nt){const Ns=nt.g?nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var M=w.h;M.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Wo(M,M.h),M.h=null))}if(w.D){const zo=nt.g?nt.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(w.ya=zo,PA(w.I,w.D,zo))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),w=d;var J=o;if(w.qa=gu(w,w.J?w.ia:null,w.W),J.K){Gc(w.h,J);var VA=J,de=w.L;de&&(VA.I=de),VA.B&&(Oo(VA),Ss(VA)),w.g=J}else cu(w);0<d.i.length&&Ps(d)}else HA[0]!="stop"&&HA[0]!="close"||hr(d,7);else d.G==3&&(HA[0]=="stop"||HA[0]=="close"?HA[0]=="stop"?hr(d,7):Xo(d):HA[0]!="noop"&&d.l&&d.l.ta(HA),d.v=0)}}yn(4)}catch{}}var Bw=class{constructor(o,h){this.g=o,this.map=h}};function Kc(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Nc(o){return o.h?1:o.g?o.g.size:0}function Go(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Wo(o,h){o.g?o.g.add(h):o.h=h}function Gc(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Kc.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Wc(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.D);return h}return y(o.i)}function pw(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var h=[],d=o.length,w=0;w<d;w++)h.push(o[w]);return h}h=[],d=0;for(w in o)h[d++]=o[w];return h}function ww(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var h=[];o=o.length;for(var d=0;d<o;d++)h.push(d);return h}h=[],d=0;for(const w in o)h[d++]=w;return h}}}function jc(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var d=ww(o),w=pw(o),k=w.length,M=0;M<k;M++)h.call(void 0,w[M],d&&d[M],o)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mw(o,h){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var w=o[d].indexOf("="),k=null;if(0<=w){var M=o[d].substring(0,w);k=o[d].substring(w+1)}else M=o[d];h(M,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ur(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ur){this.h=o.h,Rs(this,o.j),this.o=o.o,this.g=o.g,Ds(this,o.s),this.l=o.l;var h=o.i,d=new Fn;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Jc(this,d),this.m=o.m}else o&&(h=String(o).match(Xc))?(this.h=!1,Rs(this,h[1]||"",!0),this.o=vn(h[2]||""),this.g=vn(h[3]||"",!0),Ds(this,h[4]),this.l=vn(h[5]||"",!0),Jc(this,h[6]||"",!0),this.m=vn(h[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}ur.prototype.toString=function(){var o=[],h=this.j;h&&o.push(Un(h,qc,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Un(h,qc,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Un(d,d.charAt(0)=="/"?Qw:yw,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Un(d,Ew)),o.join("")};function Ct(o){return new ur(o)}function Rs(o,h,d){o.j=d?vn(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Ds(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Jc(o,h,d){h instanceof Fn?(o.i=h,vw(o.i,o.h)):(d||(h=Un(h,_w)),o.i=new Fn(h,o.h))}function PA(o,h,d){o.i.set(h,d)}function Ls(o){return PA(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function vn(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Un(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,Cw),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Cw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qc=/[#\/\?@]/g,yw=/[#\?:]/g,Qw=/[#\?]/g,_w=/[#\?@]/g,Ew=/#/g;function Fn(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Rt(o){o.g||(o.g=new Map,o.h=0,o.i&&mw(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Fn.prototype,t.add=function(o,h){Rt(this),this.i=null,o=Lr(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function zc(o,h){Rt(o),h=Lr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Yc(o,h){return Rt(o),h=Lr(o,h),o.g.has(h)}t.forEach=function(o,h){Rt(this),this.g.forEach(function(d,w){d.forEach(function(k){o.call(h,k,w,this)},this)},this)},t.na=function(){Rt(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let w=0;w<h.length;w++){const k=o[w];for(let M=0;M<k.length;M++)d.push(h[w])}return d},t.V=function(o){Rt(this);let h=[];if(typeof o=="string")Yc(this,o)&&(h=h.concat(this.g.get(Lr(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)h=h.concat(o[d])}return h},t.set=function(o,h){return Rt(this),this.i=null,o=Lr(this,o),Yc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function Zc(o,h,d){zc(o,h),0<d.length&&(o.i=null,o.g.set(Lr(o,h),y(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var w=h[d];const M=encodeURIComponent(String(w)),J=this.V(w);for(w=0;w<J.length;w++){var k=M;J[w]!==""&&(k+="="+encodeURIComponent(String(J[w]))),o.push(k)}}return this.i=o.join("&")};function Lr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function vw(o,h){h&&!o.j&&(Rt(o),o.i=null,o.g.forEach(function(d,w){var k=w.toLowerCase();w!=k&&(zc(this,w),Zc(this,k,d))},o)),o.j=h}function Uw(o,h){const d=new _n;if(a.Image){const w=new Image;w.onload=B(Dt,d,"TestLoadImage: loaded",!0,h,w),w.onerror=B(Dt,d,"TestLoadImage: error",!1,h,w),w.onabort=B(Dt,d,"TestLoadImage: abort",!1,h,w),w.ontimeout=B(Dt,d,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=o}else h(!1)}function Fw(o,h){const d=new _n,w=new AbortController,k=setTimeout(()=>{w.abort(),Dt(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:w.signal}).then(M=>{clearTimeout(k),M.ok?Dt(d,"TestPingServer: ok",!0,h):Dt(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(k),Dt(d,"TestPingServer: error",!1,h)})}function Dt(o,h,d,w,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),w(d)}catch{}}function Iw(){this.g=new cw}function bw(o,h,d){const w=d||"";try{jc(o,function(k,M){let J=k;c(k)&&(J=Lo(k)),h.push(w+M+"="+encodeURIComponent(J))})}catch(k){throw h.push(w+"type="+encodeURIComponent("_badmap")),k}}function ks(o){this.l=o.Ub||null,this.j=o.eb||!1}C(ks,ko),ks.prototype.g=function(){return new Vs(this.l,this.j)},ks.prototype.i=function(o){return function(){return o}}({});function Vs(o,h){MA.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Vs,MA),t=Vs.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,bn(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$c(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function $c(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?In(this):bn(this),this.readyState==3&&$c(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,In(this))},t.Qa=function(o){this.g&&(this.response=o,In(this))},t.ga=function(){this.g&&In(this)};function In(o){o.readyState=4,o.l=null,o.j=null,o.v=null,bn(o)}t.setRequestHeader=function(o,h){this.u.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function bn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Au(o){let h="";return L(o,function(d,w){h+=w,h+=":",h+=d,h+=`\r
`}),h}function jo(o,h,d){A:{for(w in d){var w=!1;break A}w=!0}w||(d=Au(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):PA(o,h,d))}function jA(o){MA.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(jA,MA);var Tw=/^https?$/i,Hw=["POST","PUT"];t=jA.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,h,d,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mo.g(),this.v=this.o?bc(this.o):bc(Mo),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(M){eu(this,M);return}if(o=d||"",d=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var k in w)d.set(k,w[k]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const M of w.keys())d.set(M,w.get(M));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(d.keys()).find(M=>M.toLowerCase()=="content-type"),k=a.FormData&&o instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Hw,h,void 0))||w||k||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,J]of d)this.g.setRequestHeader(M,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nu(this),this.u=!0,this.g.send(o),this.u=!1}catch(M){eu(this,M)}};function eu(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,tu(o),xs(o)}function tu(o){o.A||(o.A=!0,ce(o,"complete"),ce(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ce(this,"complete"),ce(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),jA.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ru(this):this.bb())},t.bb=function(){ru(this)};function ru(o){if(o.h&&typeof i<"u"&&(!o.v[1]||yt(o)!=4||o.Z()!=2)){if(o.u&&yt(o)==4)pn(o.Ea,0,o);else if(ce(o,"readystatechange"),yt(o)==4){o.h=!1;try{const J=o.Z();A:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break A;default:h=!1}var d;if(!(d=h)){var w;if(w=J===0){var k=String(o.D).match(Xc)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),w=!Tw.test(k?k.toLowerCase():"")}d=w}if(d)ce(o,"complete"),ce(o,"success");else{o.m=6;try{var M=2<yt(o)?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.Z()+"]",tu(o)}}finally{xs(o)}}}}function xs(o,h){if(o.g){nu(o);const d=o.g,w=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||ce(o,"ready");try{d.onreadystatechange=w}catch{}}}function nu(o){o.I&&(a.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function yt(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<yt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),lw(h)}};function su(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Sw(o){const h={};o=(o.g&&2<=yt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<o.length;w++){if(R(o[w]))continue;var d=v(o[w]);const k=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const M=h[k]||[];h[k]=M,M.push(d)}E(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tn(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function iu(o){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tn("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tn("baseRetryDelayMs",5e3,o),this.cb=Tn("retryDelaySeedMs",1e4,o),this.Wa=Tn("forwardChannelMaxRetries",2,o),this.wa=Tn("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Kc(o&&o.concurrentRequestLimit),this.Da=new Iw,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iu.prototype,t.la=8,t.G=1,t.connect=function(o,h,d,w){Fe(0),this.W=o,this.H=h||{},d&&w!==void 0&&(this.H.OSID=d,this.H.OAID=w),this.F=this.X,this.I=gu(this,null,this.W),Ps(this)};function Xo(o){if(ou(o),o.G==3){var h=o.U++,d=Ct(o.I);if(PA(d,"SID",o.K),PA(d,"RID",h),PA(d,"TYPE","terminate"),Hn(o,d),h=new St(o,o.j,h),h.L=2,h.v=Ls(Ct(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.v,d=!0),d||(h.g=Bu(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ss(h)}du(o)}function Ms(o){o.g&&(qo(o),o.g.cancel(),o.g=null)}function ou(o){Ms(o),o.u&&(a.clearTimeout(o.u),o.u=null),Ks(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&a.clearTimeout(o.s),o.s=null)}function Ps(o){if(!Oc(o.h)&&!o.s){o.s=!0;var h=o.Ga;nA||V(),LA||(nA(),LA=!0),KA.add(h,o),o.B=0}}function Rw(o,h){return Nc(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Qn(g(o.Ga,o,h),fu(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const k=new St(this,this.j,o);let M=this.o;if(this.S&&(M?(M=m(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(k.H=M,M=null),this.P)A:{for(var h=0,d=0;d<this.i.length;d++){e:{var w=this.i[d];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=d;break A}if(h===4096||d===this.i.length-1){h=d+1;break A}}h=1e3}else h=1e3;h=lu(this,k,h),d=Ct(this.I),PA(d,"RID",o),PA(d,"CVER",22),this.D&&PA(d,"X-HTTP-Session-Id",this.D),Hn(this,d),M&&(this.O?h="headers="+encodeURIComponent(String(Au(M)))+"&"+h:this.m&&jo(d,this.m,M)),Wo(this.h,k),this.Ua&&PA(d,"TYPE","init"),this.P?(PA(d,"$req",h),PA(d,"SID","null"),k.T=!0,Ko(k,d,null)):Ko(k,d,h),this.G=2}}else this.G==3&&(o?au(this,o):this.i.length==0||Oc(this.h)||au(this))};function au(o,h){var d;h?d=h.l:d=o.U++;const w=Ct(o.I);PA(w,"SID",o.K),PA(w,"RID",d),PA(w,"AID",o.T),Hn(o,w),o.m&&o.o&&jo(w,o.m,o.o),d=new St(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),h&&(o.i=h.D.concat(o.i)),h=lu(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Wo(o.h,d),Ko(d,w,h)}function Hn(o,h){o.H&&L(o.H,function(d,w){PA(h,w,d)}),o.l&&jc({},function(d,w){PA(h,w,d)})}function lu(o,h,d){d=Math.min(o.i.length,d);var w=o.l?g(o.l.Na,o.l,o):null;A:{var k=o.i;let M=-1;for(;;){const J=["count="+d];M==-1?0<d?(M=k[0].g,J.push("ofs="+M)):M=0:J.push("ofs="+M);let VA=!0;for(let de=0;de<d;de++){let HA=k[de].g;const me=k[de].map;if(HA-=M,0>HA)M=Math.max(0,k[de].g-100),VA=!1;else try{bw(me,J,"req"+HA+"_")}catch{w&&w(me)}}if(VA){w=J.join("&");break A}}}return o=o.i.splice(0,d),h.D=o,w}function cu(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;nA||V(),LA||(nA(),LA=!0),KA.add(h,o),o.v=0}}function Jo(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Qn(g(o.Fa,o),fu(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Qn(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),Ms(this),uu(this))};function qo(o){o.A!=null&&(a.clearTimeout(o.A),o.A=null)}function uu(o){o.g=new St(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=Ct(o.qa);PA(h,"RID","rpc"),PA(h,"SID",o.K),PA(h,"AID",o.T),PA(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&PA(h,"TO",o.ja),PA(h,"TYPE","xmlhttp"),Hn(o,h),o.m&&o.o&&jo(h,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Ls(Ct(h)),d.m=null,d.P=!0,xc(d,o)}t.Za=function(){this.C!=null&&(this.C=null,Ms(this),Jo(this),Fe(19))};function Ks(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function hu(o,h){var d=null;if(o.g==h){Ks(o),qo(o),o.g=null;var w=2}else if(Go(o.h,h))d=h.D,Gc(o.h,h),w=1;else return;if(o.G!=0){if(h.o)if(w==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var k=o.B;w=bs(),ce(w,new Dc(w,d)),Ps(o)}else cu(o);else if(k=h.s,k==3||k==0&&0<h.X||!(w==1&&Rw(o,h)||w==2&&Jo(o)))switch(d&&0<d.length&&(h=o.h,h.i=h.i.concat(d)),k){case 1:hr(o,5);break;case 4:hr(o,10);break;case 3:hr(o,6);break;default:hr(o,2)}}}function fu(o,h){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*h}function hr(o,h){if(o.j.info("Error code "+h),h==2){var d=g(o.fb,o),w=o.Xa;const k=!w;w=new ur(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rs(w,"https"),Ls(w),k?Uw(w.toString(),d):Fw(w.toString(),d)}else Fe(2);o.G=0,o.l&&o.l.sa(h),du(o),ou(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function du(o){if(o.G=0,o.ka=[],o.l){const h=Wc(o.h);(h.length!=0||o.i.length!=0)&&(F(o.ka,h),F(o.ka,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.ra()}}function gu(o,h,d){var w=d instanceof ur?Ct(d):new ur(d);if(w.g!="")h&&(w.g=h+"."+w.g),Ds(w,w.s);else{var k=a.location;w=k.protocol,h=h?h+"."+k.hostname:k.hostname,k=+k.port;var M=new ur(null);w&&Rs(M,w),h&&(M.g=h),k&&Ds(M,k),d&&(M.l=d),w=M}return d=o.D,h=o.ya,d&&h&&PA(w,d,h),PA(w,"VER",o.la),Hn(o,w),w}function Bu(o,h,d){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new jA(new ks({eb:d})):new jA(o.pa),h.Ha(o.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}t=pu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Os(){}Os.prototype.g=function(o,h){return new xe(o,h)};function xe(o,h){MA.call(this),this.g=new iu(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!R(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new kr(this)}C(xe,MA),xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xe.prototype.close=function(){Xo(this.g)},xe.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Lo(o),o=d);h.i.push(new Bw(h.Ya++,o)),h.G==3&&Ps(h)},xe.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,xe.aa.N.call(this)};function wu(o){Vo.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){A:{for(const d in h){o=d;break A}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}C(wu,Vo);function mu(){xo.call(this),this.status=1}C(mu,xo);function kr(o){this.g=o}C(kr,pu),kr.prototype.ua=function(){ce(this.g,"a")},kr.prototype.ta=function(o){ce(this.g,new wu(o))},kr.prototype.sa=function(o){ce(this.g,new mu)},kr.prototype.ra=function(){ce(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,xe.prototype.send=xe.prototype.o,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,Ig=function(){return new Os},Fg=function(){return bs()},Ug=lr,Ma={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,yi=Ts,Lc.COMPLETE="complete",vg=Lc,Tc.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",MA.prototype.listen=MA.prototype.K,kn=Tc,jA.prototype.listenOnce=jA.prototype.L,jA.prototype.getLastError=jA.prototype.Ka,jA.prototype.getLastErrorCode=jA.prototype.Ba,jA.prototype.getStatus=jA.prototype.Z,jA.prototype.getResponseJson=jA.prototype.Oa,jA.prototype.getResponseText=jA.prototype.oa,jA.prototype.send=jA.prototype.ea,jA.prototype.setWithCredentials=jA.prototype.Ha,Eg=jA}).apply(typeof Ws<"u"?Ws:typeof self<"u"?self:typeof window<"u"?window:{});const Wu="@firebase/firestore",ju="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(A){this.uid=A}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(A){return A.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new _l("@firebase/firestore");function Xr(){return vr.logLevel}function $(t,...A){if(vr.logLevel<=TA.DEBUG){const e=A.map(Hl);vr.debug(`Firestore (${hn}): ${t}`,...e)}}function It(t,...A){if(vr.logLevel<=TA.ERROR){const e=A.map(Hl);vr.error(`Firestore (${hn}): ${t}`,...e)}}function rn(t,...A){if(vr.logLevel<=TA.WARN){const e=A.map(Hl);vr.warn(`Firestore (${hn}): ${t}`,...e)}}function Hl(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t="Unexpected state"){const A=`FIRESTORE (${hn}) INTERNAL ASSERTION FAILED: `+t;throw It(A),new Error(A)}function RA(t,A){t||hA()}function mA(t,A){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rA extends rr{constructor(A,e){super(A,e),this.code=A,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(){this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(A,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${A}`)}}class X0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(A,e){A.enqueueRetryable(()=>e(Qe.UNAUTHENTICATED))}shutdown(){}}class J0{constructor(A){this.token=A,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(A,e){this.changeListener=e,A.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class q0{constructor(A){this.t=A,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(A,e){RA(this.o===void 0);let r=this.i;const n=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vt,A.enqueueRetryable(()=>n(this.currentUser))};const i=()=>{const l=s;A.enqueueRetryable(async()=>{await l.promise,await n(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vt)}},0),i()}getToken(){const A=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==A?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(RA(typeof r.accessToken=="string"),new bg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const A=this.auth&&this.auth.getUid();return RA(A===null||typeof A=="string"),new Qe(A)}}class z0{constructor(A,e,r){this.l=A,this.h=e,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const A=this.I();return A&&this.T.set("Authorization",A),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y0{constructor(A,e,r){this.l=A,this.h=e,this.P=r}getToken(){return Promise.resolve(new z0(this.l,this.h,this.P))}start(A,e){A.enqueueRetryable(()=>e(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xu{constructor(A){this.value=A,this.type="AppCheck",this.headers=new Map,A&&A.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z0{constructor(A,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fC(A)&&A.settings.appCheckToken&&(this.V=A.settings.appCheckToken)}start(A,e){RA(this.o===void 0);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(s.token):Promise.resolve()};this.o=s=>{A.enqueueRetryable(()=>r(s))};const n=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>n(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?n(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Xu(this.V));const A=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(A).then(e=>e?(RA(typeof e.token=="string"),this.R=e.token,new Xu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){const A=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(A&&typeof A.getRandomValues=="function")A.getRandomValues(e);else for(let r=0;r<t;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{static newId(){const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const n=$0(40);for(let s=0;s<n.length;++s)r.length<20&&n[s]<e&&(r+=A.charAt(n[s]%62))}return r}}function yA(t,A){return t<A?-1:t>A?1:0}function Pa(t,A){let e=0;for(;e<t.length&&e<A.length;){const r=t.codePointAt(e),n=A.codePointAt(e);if(r!==n){if(r<128&&n<128)return yA(r,n);{const s=Tg(),i=Ay(s.encode(Ju(t,e)),s.encode(Ju(A,e)));return i!==0?i:yA(r,n)}}e+=r>65535?2:1}return yA(t.length,A.length)}function Ju(t,A){return t.codePointAt(A)>65535?t.substring(A,A+2):t.substring(A,A+1)}function Ay(t,A){for(let e=0;e<t.length&&e<A.length;++e)if(t[e]!==A[e])return yA(t[e],A[e]);return yA(t.length,A.length)}function nn(t,A,e){return t.length===A.length&&t.every((r,n)=>e(r,A[n]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-62135596800,zu=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(A){return se.fromMillis(A.getTime())}static fromMillis(A){const e=Math.floor(A/1e3),r=Math.floor((A-1e3*e)*zu);return new se(e,r)}constructor(A,e){if(this.seconds=A,this.nanoseconds=e,e<0)throw new rA(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new rA(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(A<qu)throw new rA(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A);if(A>=253402300800)throw new rA(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zu}_compareTo(A){return this.seconds===A.seconds?yA(this.nanoseconds,A.nanoseconds):yA(this.seconds,A.seconds)}isEqual(A){return A.seconds===this.seconds&&A.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const A=this.seconds-qu;return String(A).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{static fromTimestamp(A){return new pA(A)}static min(){return new pA(new se(0,0))}static max(){return new pA(new se(253402300799,999999999))}constructor(A){this.timestamp=A}compareTo(A){return this.timestamp._compareTo(A.timestamp)}isEqual(A){return this.timestamp.isEqual(A.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="__name__";class lt{constructor(A,e,r){e===void 0?e=0:e>A.length&&hA(),r===void 0?r=A.length-e:r>A.length-e&&hA(),this.segments=A,this.offset=e,this.len=r}get length(){return this.len}isEqual(A){return lt.comparator(this,A)===0}child(A){const e=this.segments.slice(this.offset,this.limit());return A instanceof lt?A.forEach(r=>{e.push(r)}):e.push(A),this.construct(e)}limit(){return this.offset+this.length}popFirst(A){return A=A===void 0?1:A,this.construct(this.segments,this.offset+A,this.length-A)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(A){return this.segments[this.offset+A]}isEmpty(){return this.length===0}isPrefixOf(A){if(A.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}isImmediateParentOf(A){if(this.length+1!==A.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}forEach(A){for(let e=this.offset,r=this.limit();e<r;e++)A(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(A,e){const r=Math.min(A.length,e.length);for(let n=0;n<r;n++){const s=lt.compareSegments(A.get(n),e.get(n));if(s!==0)return s}return yA(A.length,e.length)}static compareSegments(A,e){const r=lt.isNumericId(A),n=lt.isNumericId(e);return r&&!n?-1:!r&&n?1:r&&n?lt.extractNumericId(A).compare(lt.extractNumericId(e)):Pa(A,e)}static isNumericId(A){return A.startsWith("__id")&&A.endsWith("__")}static extractNumericId(A){return Wt.fromString(A.substring(4,A.length-2))}}class GA extends lt{construct(A,e,r){return new GA(A,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...A){const e=[];for(const r of A){if(r.indexOf("//")>=0)throw new rA(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(n=>n.length>0))}return new GA(e)}static emptyPath(){return new GA([])}}const ey=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends lt{construct(A,e,r){return new Be(A,e,r)}static isValidIdentifier(A){return ey.test(A)}canonicalString(){return this.toArray().map(A=>(A=A.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(A)||(A="`"+A+"`"),A)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yu}static keyField(){return new Be([Yu])}static fromServerFormat(A){const e=[];let r="",n=0;const s=()=>{if(r.length===0)throw new rA(N.INVALID_ARGUMENT,`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let i=!1;for(;n<A.length;){const a=A[n];if(a==="\\"){if(n+1===A.length)throw new rA(N.INVALID_ARGUMENT,"Path has trailing escape character: "+A);const l=A[n+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new rA(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+A);r+=l,n+=2}else a==="`"?(i=!i,n++):a!=="."||i?(r+=a,n++):(s(),n++)}if(s(),i)throw new rA(N.INVALID_ARGUMENT,"Unterminated ` in path: "+A);return new Be(e)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(A){this.path=A}static fromPath(A){return new aA(GA.fromString(A))}static fromName(A){return new aA(GA.fromString(A).popFirst(5))}static empty(){return new aA(GA.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(A){return this.path.length>=2&&this.path.get(this.path.length-2)===A}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(A){return A!==null&&GA.comparator(this.path,A.path)===0}toString(){return this.path.toString()}static comparator(A,e){return GA.comparator(A.path,e.path)}static isDocumentKey(A){return A.length%2==0}static fromSegments(A){return new aA(new GA(A.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=-1;function ty(t,A){const e=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,n=pA.fromTimestamp(r===1e9?new se(e+1,0):new se(e,r));return new qt(n,aA.empty(),A)}function ry(t){return new qt(t.readTime,t.key,is)}class qt{constructor(A,e,r){this.readTime=A,this.documentKey=e,this.largestBatchId=r}static min(){return new qt(pA.min(),aA.empty(),is)}static max(){return new qt(pA.max(),aA.empty(),is)}}function ny(t,A){let e=t.readTime.compareTo(A.readTime);return e!==0?e:(e=aA.comparator(t.documentKey,A.documentKey),e!==0?e:yA(t.largestBatchId,A.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(A){this.onCommittedListeners.push(A)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(A=>A())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fn(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==sy)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(A){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,A(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(A){return this.next(void 0,A)}next(A,e){return this.callbackAttached&&hA(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(A,this.result):new K((r,n)=>{this.nextCallback=s=>{this.wrapSuccess(A,s).next(r,n)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,n)}})}toPromise(){return new Promise((A,e)=>{this.next(A,e)})}wrapUserFunction(A){try{const e=A();return e instanceof K?e:K.resolve(e)}catch(e){return K.reject(e)}}wrapSuccess(A,e){return A?this.wrapUserFunction(()=>A(e)):K.resolve(e)}wrapFailure(A,e){return A?this.wrapUserFunction(()=>A(e)):K.reject(e)}static resolve(A){return new K((e,r)=>{e(A)})}static reject(A){return new K((e,r)=>{r(A)})}static waitFor(A){return new K((e,r)=>{let n=0,s=0,i=!1;A.forEach(a=>{++n,a.next(()=>{++s,i&&s===n&&e()},l=>r(l))}),i=!0,s===n&&e()})}static or(A){let e=K.resolve(!1);for(const r of A)e=e.next(n=>n?K.resolve(n):r());return e}static forEach(A,e){const r=[];return A.forEach((n,s)=>{r.push(e.call(this,n,s))}),this.waitFor(r)}static mapArray(A,e){return new K((r,n)=>{const s=A.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(A[c]).next(u=>{i[c]=u,++a,a===s&&r(i)},u=>n(u))}})}static doWhile(A,e){return new K((r,n)=>{const s=()=>{A()===!0?e().next(()=>{s()},n):r()};s()})}}function oy(t){const A=t.match(/Android ([\d.]+)/i),e=A?A[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function dn(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(A,e){this.previousValue=A,e&&(e.sequenceNumberHandler=r=>this.oe(r),this._e=r=>e.writeSequenceNumber(r))}oe(A){return this.previousValue=Math.max(A,this.previousValue),this.previousValue}next(){const A=++this.previousValue;return this._e&&this._e(A),A}}so.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function io(t){return t==null}function Di(t){return t===0&&1/t==-1/0}function ay(t){return typeof t=="number"&&Number.isInteger(t)&&!Di(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="";function ly(t){let A="";for(let e=0;e<t.length;e++)A.length>0&&(A=Zu(A)),A=cy(t.get(e),A);return Zu(A)}function cy(t,A){let e=A;const r=t.length;for(let n=0;n<r;n++){const s=t.charAt(n);switch(s){case"\0":e+="";break;case Sg:e+="";break;default:e+=s}}return e}function Zu(t){return t+Sg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){let A=0;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A++;return A}function nr(t,A){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A(e,t[e])}function Rg(t){for(const A in t)if(Object.prototype.hasOwnProperty.call(t,A))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(A,e){this.comparator=A,this.root=e||ge.EMPTY}insert(A,e){return new WA(this.comparator,this.root.insert(A,e,this.comparator).copy(null,null,ge.BLACK,null,null))}remove(A){return new WA(this.comparator,this.root.remove(A,this.comparator).copy(null,null,ge.BLACK,null,null))}get(A){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(A,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(A){let e=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(A,r.key);if(n===0)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(A){return this.root.inorderTraversal(A)}forEach(A){this.inorderTraversal((e,r)=>(A(e,r),!1))}toString(){const A=[];return this.inorderTraversal((e,r)=>(A.push(`${e}:${r}`),!1)),`{${A.join(", ")}}`}reverseTraversal(A){return this.root.reverseTraversal(A)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(A){return new js(this.root,A,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(A){return new js(this.root,A,this.comparator,!0)}}class js{constructor(A,e,r,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!A.isEmpty();)if(s=e?r(A.key,e):1,e&&n&&(s*=-1),s<0)A=this.isReverse?A.left:A.right;else{if(s===0){this.nodeStack.push(A);break}this.nodeStack.push(A),A=this.isReverse?A.right:A.left}}getNext(){let A=this.nodeStack.pop();const e={key:A.key,value:A.value};if(this.isReverse)for(A=A.left;!A.isEmpty();)this.nodeStack.push(A),A=A.right;else for(A=A.right;!A.isEmpty();)this.nodeStack.push(A),A=A.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const A=this.nodeStack[this.nodeStack.length-1];return{key:A.key,value:A.value}}}class ge{constructor(A,e,r,n,s){this.key=A,this.value=e,this.color=r??ge.RED,this.left=n??ge.EMPTY,this.right=s??ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(A,e,r,n,s){return new ge(A??this.key,e??this.value,r??this.color,n??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(A){return this.left.inorderTraversal(A)||A(this.key,this.value)||this.right.inorderTraversal(A)}reverseTraversal(A){return this.right.reverseTraversal(A)||A(this.key,this.value)||this.left.reverseTraversal(A)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(A,e,r){let n=this;const s=r(A,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(A,e,r),null):s===0?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(A,e,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return ge.EMPTY;let A=this;return A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.removeMin(),null),A.fixUp()}remove(A,e){let r,n=this;if(e(A,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(A,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),e(A,n.key)===0){if(n.right.isEmpty())return ge.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(A,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let A=this;return A.right.isRed()&&!A.left.isRed()&&(A=A.rotateLeft()),A.left.isRed()&&A.left.left.isRed()&&(A=A.rotateRight()),A.left.isRed()&&A.right.isRed()&&(A=A.colorFlip()),A}moveRedLeft(){let A=this.colorFlip();return A.right.left.isRed()&&(A=A.copy(null,null,null,null,A.right.rotateRight()),A=A.rotateLeft(),A=A.colorFlip()),A}moveRedRight(){let A=this.colorFlip();return A.left.left.isRed()&&(A=A.rotateRight(),A=A.colorFlip()),A}rotateLeft(){const A=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,A,null)}rotateRight(){const A=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,A)}colorFlip(){const A=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,A,e)}checkMaxDepth(){const A=this.check();return Math.pow(2,A)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hA();const A=this.left.check();if(A!==this.right.check())throw hA();return A+(this.isRed()?0:1)}}ge.EMPTY=null,ge.RED=!0,ge.BLACK=!1;ge.EMPTY=new class{constructor(){this.size=0}get key(){throw hA()}get value(){throw hA()}get color(){throw hA()}get left(){throw hA()}get right(){throw hA()}copy(A,e,r,n,s){return this}insert(A,e,r){return new ge(A,e)}remove(A,e){return this}isEmpty(){return!0}inorderTraversal(A){return!1}reverseTraversal(A){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(A){this.comparator=A,this.data=new WA(this.comparator)}has(A){return this.data.get(A)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(A){return this.data.indexOf(A)}forEach(A){this.data.inorderTraversal((e,r)=>(A(e),!1))}forEachInRange(A,e){const r=this.data.getIteratorFrom(A[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,A[1])>=0)return;e(n.key)}}forEachWhile(A,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!A(r.getNext().key))return}firstAfterOrEqual(A){const e=this.data.getIteratorFrom(A);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ah(this.data.getIterator())}getIteratorFrom(A){return new Ah(this.data.getIteratorFrom(A))}add(A){return this.copy(this.data.remove(A).insert(A,!0))}delete(A){return this.has(A)?this.copy(this.data.remove(A)):this}isEmpty(){return this.data.isEmpty()}unionWith(A){let e=this;return e.size<A.size&&(e=A,A=this),A.forEach(r=>{e=e.add(r)}),e}isEqual(A){if(!(A instanceof ie)||this.size!==A.size)return!1;const e=this.data.getIterator(),r=A.data.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(this.comparator(n,s)!==0)return!1}return!0}toArray(){const A=[];return this.forEach(e=>{A.push(e)}),A}toString(){const A=[];return this.forEach(e=>A.push(e)),"SortedSet("+A.toString()+")"}copy(A){const e=new ie(this.comparator);return e.data=A,e}}class Ah{constructor(A){this.iter=A}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(A){this.fields=A,A.sort(Be.comparator)}static empty(){return new Ne([])}unionWith(A){let e=new ie(Be.comparator);for(const r of this.fields)e=e.add(r);for(const r of A)e=e.add(r);return new Ne(e.toArray())}covers(A){for(const e of this.fields)if(e.isPrefixOf(A))return!0;return!1}isEqual(A){return nn(this.fields,A.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(A){this.binaryString=A}static fromBase64String(A){const e=function(n){try{return atob(n)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Dg("Invalid base64 string: "+s):s}}(A);return new we(e)}static fromUint8Array(A){const e=function(n){let s="";for(let i=0;i<n.length;++i)s+=String.fromCharCode(n[i]);return s}(A);return new we(e)}[Symbol.iterator](){let A=0;return{next:()=>A<this.binaryString.length?{value:this.binaryString.charCodeAt(A++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(A){return yA(this.binaryString,A.binaryString)}isEqual(A){return this.binaryString===A.binaryString}}we.EMPTY_BYTE_STRING=new we("");const uy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zt(t){if(RA(!!t),typeof t=="string"){let A=0;const e=uy.exec(t);if(RA(!!e),e[1]){let n=e[1];n=(n+"000000000").substr(0,9),A=Number(n)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:A}}return{seconds:zA(t.seconds),nanos:zA(t.nanos)}}function zA(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yt(t){return typeof t=="string"?we.fromBase64String(t):we.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="server_timestamp",kg="__type__",Vg="__previous_value__",xg="__local_write_time__";function Rl(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[kg])===null||e===void 0?void 0:e.stringValue)===Lg}function oo(t){const A=t.mapValue.fields[Vg];return Rl(A)?oo(A):A}function os(t){const A=zt(t.mapValue.fields[xg].timestampValue);return new se(A.seconds,A.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(A,e,r,n,s,i,a,l,c){this.databaseId=A,this.appId=e,this.persistenceKey=r,this.host=n,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Li="(default)";class as{constructor(A,e){this.projectId=A,this.database=e||Li}static empty(){return new as("","")}get isDefaultDatabase(){return this.database===Li}isEqual(A){return A instanceof as&&A.projectId===this.projectId&&A.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="__type__",Pg="__max__",Xs={mapValue:{fields:{__type__:{stringValue:Pg}}}},Kg="__vector__",ki="value";function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rl(t)?4:dy(t)?9007199254740991:fy(t)?10:11:hA()}function dt(t,A){if(t===A)return!0;const e=Zt(t);if(e!==Zt(A))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===A.booleanValue;case 4:return os(t).isEqual(os(A));case 3:return function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const i=zt(n.timestampValue),a=zt(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,A);case 5:return t.stringValue===A.stringValue;case 6:return function(n,s){return Yt(n.bytesValue).isEqual(Yt(s.bytesValue))}(t,A);case 7:return t.referenceValue===A.referenceValue;case 8:return function(n,s){return zA(n.geoPointValue.latitude)===zA(s.geoPointValue.latitude)&&zA(n.geoPointValue.longitude)===zA(s.geoPointValue.longitude)}(t,A);case 2:return function(n,s){if("integerValue"in n&&"integerValue"in s)return zA(n.integerValue)===zA(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const i=zA(n.doubleValue),a=zA(s.doubleValue);return i===a?Di(i)===Di(a):isNaN(i)&&isNaN(a)}return!1}(t,A);case 9:return nn(t.arrayValue.values||[],A.arrayValue.values||[],dt);case 10:case 11:return function(n,s){const i=n.mapValue.fields||{},a=s.mapValue.fields||{};if($u(i)!==$u(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!dt(i[l],a[l])))return!1;return!0}(t,A);default:return hA()}}function ls(t,A){return(t.values||[]).find(e=>dt(e,A))!==void 0}function sn(t,A){if(t===A)return 0;const e=Zt(t),r=Zt(A);if(e!==r)return yA(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return yA(t.booleanValue,A.booleanValue);case 2:return function(s,i){const a=zA(s.integerValue||s.doubleValue),l=zA(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,A);case 3:return eh(t.timestampValue,A.timestampValue);case 4:return eh(os(t),os(A));case 5:return Pa(t.stringValue,A.stringValue);case 6:return function(s,i){const a=Yt(s),l=Yt(i);return a.compareTo(l)}(t.bytesValue,A.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=yA(a[c],l[c]);if(u!==0)return u}return yA(a.length,l.length)}(t.referenceValue,A.referenceValue);case 8:return function(s,i){const a=yA(zA(s.latitude),zA(i.latitude));return a!==0?a:yA(zA(s.longitude),zA(i.longitude))}(t.geoPointValue,A.geoPointValue);case 9:return th(t.arrayValue,A.arrayValue);case 10:return function(s,i){var a,l,c,u;const f=s.fields||{},g=i.fields||{},B=(a=f[ki])===null||a===void 0?void 0:a.arrayValue,C=(l=g[ki])===null||l===void 0?void 0:l.arrayValue,y=yA(((c=B==null?void 0:B.values)===null||c===void 0?void 0:c.length)||0,((u=C==null?void 0:C.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:th(B,C)}(t.mapValue,A.mapValue);case 11:return function(s,i){if(s===Xs.mapValue&&i===Xs.mapValue)return 0;if(s===Xs.mapValue)return 1;if(i===Xs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const g=Pa(l[f],u[f]);if(g!==0)return g;const B=sn(a[l[f]],c[u[f]]);if(B!==0)return B}return yA(l.length,u.length)}(t.mapValue,A.mapValue);default:throw hA()}}function eh(t,A){if(typeof t=="string"&&typeof A=="string"&&t.length===A.length)return yA(t,A);const e=zt(t),r=zt(A),n=yA(e.seconds,r.seconds);return n!==0?n:yA(e.nanos,r.nanos)}function th(t,A){const e=t.values||[],r=A.values||[];for(let n=0;n<e.length&&n<r.length;++n){const s=sn(e[n],r[n]);if(s)return s}return yA(e.length,r.length)}function on(t){return Ka(t)}function Ka(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const r=zt(e);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return Yt(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return aA.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let r="[",n=!0;for(const s of e.values||[])n?n=!1:r+=",",r+=Ka(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(e){const r=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const i of r)s?s=!1:n+=",",n+=`${i}:${Ka(e.fields[i])}`;return n+"}"}(t.mapValue):hA()}function Qi(t){switch(Zt(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const A=oo(t);return A?16+Qi(A):16;case 5:return 2*t.stringValue.length;case 6:return Yt(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((n,s)=>n+Qi(s),0)}(t.arrayValue);case 10:case 11:return function(r){let n=0;return nr(r.fields,(s,i)=>{n+=s.length+Qi(i)}),n}(t.mapValue);default:throw hA()}}function Oa(t){return!!t&&"integerValue"in t}function Dl(t){return!!t&&"arrayValue"in t}function rh(t){return!!t&&"nullValue"in t}function nh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _i(t){return!!t&&"mapValue"in t}function fy(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[Mg])===null||e===void 0?void 0:e.stringValue)===Kg}function zn(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const A={mapValue:{fields:{}}};return nr(t.mapValue.fields,(e,r)=>A.mapValue.fields[e]=zn(r)),A}if(t.arrayValue){const A={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)A.arrayValue.values[e]=zn(t.arrayValue.values[e]);return A}return Object.assign({},t)}function dy(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Pg}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(A){this.value=A}static empty(){return new He({mapValue:{}})}field(A){if(A.isEmpty())return this.value;{let e=this.value;for(let r=0;r<A.length-1;++r)if(e=(e.mapValue.fields||{})[A.get(r)],!_i(e))return null;return e=(e.mapValue.fields||{})[A.lastSegment()],e||null}}set(A,e){this.getFieldsMap(A.popLast())[A.lastSegment()]=zn(e)}setAll(A){let e=Be.emptyPath(),r={},n=[];A.forEach((i,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,r,n),r={},n=[],e=a.popLast()}i?r[a.lastSegment()]=zn(i):n.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,n)}delete(A){const e=this.field(A.popLast());_i(e)&&e.mapValue.fields&&delete e.mapValue.fields[A.lastSegment()]}isEqual(A){return dt(this.value,A.value)}getFieldsMap(A){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<A.length;++r){let n=e.mapValue.fields[A.get(r)];_i(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[A.get(r)]=n),e=n}return e.mapValue.fields}applyChanges(A,e,r){nr(e,(n,s)=>A[n]=s);for(const n of r)delete A[n]}clone(){return new He(zn(this.value))}}function Og(t){const A=[];return nr(t.fields,(e,r)=>{const n=new Be([e]);if(_i(r)){const s=Og(r.mapValue).fields;if(s.length===0)A.push(n);else for(const i of s)A.push(n.child(i))}else A.push(n)}),new Ne(A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(A,e,r,n,s,i,a){this.key=A,this.documentType=e,this.version=r,this.readTime=n,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(A){return new Ee(A,0,pA.min(),pA.min(),pA.min(),He.empty(),0)}static newFoundDocument(A,e,r,n){return new Ee(A,1,e,pA.min(),r,n,0)}static newNoDocument(A,e){return new Ee(A,2,e,pA.min(),pA.min(),He.empty(),0)}static newUnknownDocument(A,e){return new Ee(A,3,e,pA.min(),pA.min(),He.empty(),2)}convertToFoundDocument(A,e){return!this.createTime.isEqual(pA.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=A),this.version=A,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(A){return this.version=A,this.documentType=2,this.data=He.empty(),this.documentState=0,this}convertToUnknownDocument(A){return this.version=A,this.documentType=3,this.data=He.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pA.min(),this}setReadTime(A){return this.readTime=A,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(A){return A instanceof Ee&&this.key.isEqual(A.key)&&this.version.isEqual(A.version)&&this.documentType===A.documentType&&this.documentState===A.documentState&&this.data.isEqual(A.data)}mutableCopy(){return new Ee(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(A,e){this.position=A,this.inclusive=e}}function sh(t,A,e){let r=0;for(let n=0;n<t.position.length;n++){const s=A[n],i=t.position[n];if(s.field.isKeyField()?r=aA.comparator(aA.fromName(i.referenceValue),e.key):r=sn(i,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ih(t,A){if(t===null)return A===null;if(A===null||t.inclusive!==A.inclusive||t.position.length!==A.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!dt(t.position[e],A.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(A,e="asc"){this.field=A,this.dir=e}}function gy(t,A){return t.dir===A.dir&&t.field.isEqual(A.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{}class ne extends Ng{constructor(A,e,r){super(),this.field=A,this.op=e,this.value=r}static create(A,e,r){return A.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(A,e,r):new py(A,e,r):e==="array-contains"?new Cy(A,r):e==="in"?new yy(A,r):e==="not-in"?new Qy(A,r):e==="array-contains-any"?new _y(A,r):new ne(A,e,r)}static createKeyFieldInFilter(A,e,r){return e==="in"?new wy(A,r):new my(A,r)}matches(A){const e=A.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(sn(e,this.value)):e!==null&&Zt(this.value)===Zt(e)&&this.matchesComparison(sn(e,this.value))}matchesComparison(A){switch(this.op){case"<":return A<0;case"<=":return A<=0;case"==":return A===0;case"!=":return A!==0;case">":return A>0;case">=":return A>=0;default:return hA()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gt extends Ng{constructor(A,e){super(),this.filters=A,this.op=e,this.ce=null}static create(A,e){return new gt(A,e)}matches(A){return Gg(this)?this.filters.find(e=>!e.matches(A))===void 0:this.filters.find(e=>e.matches(A))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((A,e)=>A.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gg(t){return t.op==="and"}function Wg(t){return By(t)&&Gg(t)}function By(t){for(const A of t.filters)if(A instanceof gt)return!1;return!0}function Na(t){if(t instanceof ne)return t.field.canonicalString()+t.op.toString()+on(t.value);if(Wg(t))return t.filters.map(A=>Na(A)).join(",");{const A=t.filters.map(e=>Na(e)).join(",");return`${t.op}(${A})`}}function jg(t,A){return t instanceof ne?function(r,n){return n instanceof ne&&r.op===n.op&&r.field.isEqual(n.field)&&dt(r.value,n.value)}(t,A):t instanceof gt?function(r,n){return n instanceof gt&&r.op===n.op&&r.filters.length===n.filters.length?r.filters.reduce((s,i,a)=>s&&jg(i,n.filters[a]),!0):!1}(t,A):void hA()}function Xg(t){return t instanceof ne?function(e){return`${e.field.canonicalString()} ${e.op} ${on(e.value)}`}(t):t instanceof gt?function(e){return e.op.toString()+" {"+e.getFilters().map(Xg).join(" ,")+"}"}(t):"Filter"}class py extends ne{constructor(A,e,r){super(A,e,r),this.key=aA.fromName(r.referenceValue)}matches(A){const e=aA.comparator(A.key,this.key);return this.matchesComparison(e)}}class wy extends ne{constructor(A,e){super(A,"in",e),this.keys=Jg("in",e)}matches(A){return this.keys.some(e=>e.isEqual(A.key))}}class my extends ne{constructor(A,e){super(A,"not-in",e),this.keys=Jg("not-in",e)}matches(A){return!this.keys.some(e=>e.isEqual(A.key))}}function Jg(t,A){var e;return(((e=A.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>aA.fromName(r.referenceValue))}class Cy extends ne{constructor(A,e){super(A,"array-contains",e)}matches(A){const e=A.data.field(this.field);return Dl(e)&&ls(e.arrayValue,this.value)}}class yy extends ne{constructor(A,e){super(A,"in",e)}matches(A){const e=A.data.field(this.field);return e!==null&&ls(this.value.arrayValue,e)}}class Qy extends ne{constructor(A,e){super(A,"not-in",e)}matches(A){if(ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=A.data.field(this.field);return e!==null&&!ls(this.value.arrayValue,e)}}class _y extends ne{constructor(A,e){super(A,"array-contains-any",e)}matches(A){const e=A.data.field(this.field);return!(!Dl(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>ls(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(A,e=null,r=[],n=[],s=null,i=null,a=null){this.path=A,this.collectionGroup=e,this.orderBy=r,this.filters=n,this.limit=s,this.startAt=i,this.endAt=a,this.le=null}}function oh(t,A=null,e=[],r=[],n=null,s=null,i=null){return new Ey(t,A,e,r,n,s,i)}function Ll(t){const A=mA(t);if(A.le===null){let e=A.path.canonicalString();A.collectionGroup!==null&&(e+="|cg:"+A.collectionGroup),e+="|f:",e+=A.filters.map(r=>Na(r)).join(","),e+="|ob:",e+=A.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),io(A.limit)||(e+="|l:",e+=A.limit),A.startAt&&(e+="|lb:",e+=A.startAt.inclusive?"b:":"a:",e+=A.startAt.position.map(r=>on(r)).join(",")),A.endAt&&(e+="|ub:",e+=A.endAt.inclusive?"a:":"b:",e+=A.endAt.position.map(r=>on(r)).join(",")),A.le=e}return A.le}function kl(t,A){if(t.limit!==A.limit||t.orderBy.length!==A.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(!gy(t.orderBy[e],A.orderBy[e]))return!1;if(t.filters.length!==A.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(!jg(t.filters[e],A.filters[e]))return!1;return t.collectionGroup===A.collectionGroup&&!!t.path.isEqual(A.path)&&!!ih(t.startAt,A.startAt)&&ih(t.endAt,A.endAt)}function Ga(t){return aA.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(A,e=null,r=[],n=[],s=null,i="F",a=null,l=null){this.path=A,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=n,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vy(t,A,e,r,n,s,i,a){return new ao(t,A,e,r,n,s,i,a)}function lo(t){return new ao(t)}function ah(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Uy(t){return t.collectionGroup!==null}function Yn(t){const A=mA(t);if(A.he===null){A.he=[];const e=new Set;for(const s of A.explicitOrderBy)A.he.push(s),e.add(s.field.canonicalString());const r=A.explicitOrderBy.length>0?A.explicitOrderBy[A.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new ie(Be.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(A).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||A.he.push(new xi(s,r))}),e.has(Be.keyField().canonicalString())||A.he.push(new xi(Be.keyField(),r))}return A.he}function ut(t){const A=mA(t);return A.Pe||(A.Pe=Fy(A,Yn(t))),A.Pe}function Fy(t,A){if(t.limitType==="F")return oh(t.path,t.collectionGroup,A,t.filters,t.limit,t.startAt,t.endAt);{A=A.map(n=>{const s=n.dir==="desc"?"asc":"desc";return new xi(n.field,s)});const e=t.endAt?new Vi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vi(t.startAt.position,t.startAt.inclusive):null;return oh(t.path,t.collectionGroup,A,t.filters,t.limit,e,r)}}function Wa(t,A,e){return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),A,e,t.startAt,t.endAt)}function co(t,A){return kl(ut(t),ut(A))&&t.limitType===A.limitType}function qg(t){return`${Ll(ut(t))}|lt:${t.limitType}`}function Jr(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>Xg(n)).join(", ")}]`),io(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>on(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>on(n)).join(",")),`Target(${r})`}(ut(t))}; limitType=${t.limitType})`}function uo(t,A){return A.isFoundDocument()&&function(r,n){const s=n.key.path;return r.collectionGroup!==null?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):aA.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,A)&&function(r,n){for(const s of Yn(r))if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0}(t,A)&&function(r,n){for(const s of r.filters)if(!s.matches(n))return!1;return!0}(t,A)&&function(r,n){return!(r.startAt&&!function(i,a,l){const c=sh(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,Yn(r),n)||r.endAt&&!function(i,a,l){const c=sh(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,Yn(r),n))}(t,A)}function Iy(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zg(t){return(A,e)=>{let r=!1;for(const n of Yn(t)){const s=by(n,A,e);if(s!==0)return s;r=r||n.field.isKeyField()}return 0}}function by(t,A,e){const r=t.field.isKeyField()?aA.comparator(A.key,e.key):function(s,i,a){const l=i.data.field(s),c=a.data.field(s);return l!==null&&c!==null?sn(l,c):hA()}(t.field,A,e);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return hA()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(A,e){this.mapKeyFn=A,this.equalsFn=e,this.inner={},this.innerSize=0}get(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r!==void 0){for(const[n,s]of r)if(this.equalsFn(n,A))return s}}has(A){return this.get(A)!==void 0}set(A,e){const r=this.mapKeyFn(A),n=this.inner[r];if(n===void 0)return this.inner[r]=[[A,e]],void this.innerSize++;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],A))return void(n[s]=[A,e]);n.push([A,e]),this.innerSize++}delete(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r===void 0)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],A))return r.length===1?delete this.inner[e]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(A){nr(this.inner,(e,r)=>{for(const[n,s]of r)A(n,s)})}isEmpty(){return Rg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new WA(aA.comparator);function bt(){return Ty}const Yg=new WA(aA.comparator);function Vn(...t){let A=Yg;for(const e of t)A=A.insert(e.key,e);return A}function Zg(t){let A=Yg;return t.forEach((e,r)=>A=A.insert(e,r.overlayedDocument)),A}function wr(){return Zn()}function $g(){return Zn()}function Zn(){return new br(t=>t.toString(),(t,A)=>t.isEqual(A))}const Hy=new WA(aA.comparator),Sy=new ie(aA.comparator);function UA(...t){let A=Sy;for(const e of t)A=A.add(e);return A}const Ry=new ie(yA);function Dy(){return Ry}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t,A){if(t.useProto3Json){if(isNaN(A))return{doubleValue:"NaN"};if(A===1/0)return{doubleValue:"Infinity"};if(A===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Di(A)?"-0":A}}function AB(t){return{integerValue:""+t}}function Ly(t,A){return ay(A)?AB(A):Vl(t,A)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this._=void 0}}function ky(t,A,e){return t instanceof Mi?function(n,s){const i={fields:{[kg]:{stringValue:Lg},[xg]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&Rl(s)&&(s=oo(s)),s&&(i.fields[Vg]=s),{mapValue:i}}(e,A):t instanceof cs?tB(t,A):t instanceof us?rB(t,A):function(n,s){const i=eB(n,s),a=lh(i)+lh(n.Ie);return Oa(i)&&Oa(n.Ie)?AB(a):Vl(n.serializer,a)}(t,A)}function Vy(t,A,e){return t instanceof cs?tB(t,A):t instanceof us?rB(t,A):e}function eB(t,A){return t instanceof Pi?function(r){return Oa(r)||function(s){return!!s&&"doubleValue"in s}(r)}(A)?A:{integerValue:0}:null}class Mi extends ho{}class cs extends ho{constructor(A){super(),this.elements=A}}function tB(t,A){const e=nB(A);for(const r of t.elements)e.some(n=>dt(n,r))||e.push(r);return{arrayValue:{values:e}}}class us extends ho{constructor(A){super(),this.elements=A}}function rB(t,A){let e=nB(A);for(const r of t.elements)e=e.filter(n=>!dt(n,r));return{arrayValue:{values:e}}}class Pi extends ho{constructor(A,e){super(),this.serializer=A,this.Ie=e}}function lh(t){return zA(t.integerValue||t.doubleValue)}function nB(t){return Dl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xy(t,A){return t.field.isEqual(A.field)&&function(r,n){return r instanceof cs&&n instanceof cs||r instanceof us&&n instanceof us?nn(r.elements,n.elements,dt):r instanceof Pi&&n instanceof Pi?dt(r.Ie,n.Ie):r instanceof Mi&&n instanceof Mi}(t.transform,A.transform)}class My{constructor(A,e){this.version=A,this.transformResults=e}}class Ge{constructor(A,e){this.updateTime=A,this.exists=e}static none(){return new Ge}static exists(A){return new Ge(void 0,A)}static updateTime(A){return new Ge(A)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(A){return this.exists===A.exists&&(this.updateTime?!!A.updateTime&&this.updateTime.isEqual(A.updateTime):!A.updateTime)}}function Ei(t,A){return t.updateTime!==void 0?A.isFoundDocument()&&A.version.isEqual(t.updateTime):t.exists===void 0||t.exists===A.isFoundDocument()}class fo{}function sB(t,A){if(!t.hasLocalMutations||A&&A.fields.length===0)return null;if(A===null)return t.isNoDocument()?new xl(t.key,Ge.none()):new ps(t.key,t.data,Ge.none());{const e=t.data,r=He.empty();let n=new ie(Be.comparator);for(let s of A.fields)if(!n.has(s)){let i=e.field(s);i===null&&s.length>1&&(s=s.popLast(),i=e.field(s)),i===null?r.delete(s):r.set(s,i),n=n.add(s)}return new sr(t.key,r,new Ne(n.toArray()),Ge.none())}}function Py(t,A,e){t instanceof ps?function(n,s,i){const a=n.value.clone(),l=uh(n.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,A,e):t instanceof sr?function(n,s,i){if(!Ei(n.precondition,s))return void s.convertToUnknownDocument(i.version);const a=uh(n.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(iB(n)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,A,e):function(n,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,A,e)}function $n(t,A,e,r){return t instanceof ps?function(s,i,a,l){if(!Ei(s.precondition,i))return a;const c=s.value.clone(),u=hh(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,A,e,r):t instanceof sr?function(s,i,a,l){if(!Ei(s.precondition,i))return a;const c=hh(s.fieldTransforms,l,i),u=i.data;return u.setAll(iB(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,A,e,r):function(s,i,a){return Ei(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,A,e)}function Ky(t,A){let e=null;for(const r of t.fieldTransforms){const n=A.data.field(r.field),s=eB(r.transform,n||null);s!=null&&(e===null&&(e=He.empty()),e.set(r.field,s))}return e||null}function ch(t,A){return t.type===A.type&&!!t.key.isEqual(A.key)&&!!t.precondition.isEqual(A.precondition)&&!!function(r,n){return r===void 0&&n===void 0||!(!r||!n)&&nn(r,n,(s,i)=>xy(s,i))}(t.fieldTransforms,A.fieldTransforms)&&(t.type===0?t.value.isEqual(A.value):t.type!==1||t.data.isEqual(A.data)&&t.fieldMask.isEqual(A.fieldMask))}class ps extends fo{constructor(A,e,r,n=[]){super(),this.key=A,this.value=e,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class sr extends fo{constructor(A,e,r,n,s=[]){super(),this.key=A,this.data=e,this.fieldMask=r,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iB(t){const A=new Map;return t.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=t.data.field(e);A.set(e,r)}}),A}function uh(t,A,e){const r=new Map;RA(t.length===e.length);for(let n=0;n<e.length;n++){const s=t[n],i=s.transform,a=A.data.field(s.field);r.set(s.field,Vy(i,a,e[n]))}return r}function hh(t,A,e){const r=new Map;for(const n of t){const s=n.transform,i=e.data.field(n.field);r.set(n.field,ky(s,i,A))}return r}class xl extends fo{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oy extends fo{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(A,e,r,n){this.batchId=A,this.localWriteTime=e,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(A,e){const r=e.mutationResults;for(let n=0;n<this.mutations.length;n++){const s=this.mutations[n];s.key.isEqual(A.key)&&Py(s,A,r[n])}}applyToLocalView(A,e){for(const r of this.baseMutations)r.key.isEqual(A.key)&&(e=$n(r,A,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(A.key)&&(e=$n(r,A,e,this.localWriteTime));return e}applyToLocalDocumentSet(A,e){const r=$g();return this.mutations.forEach(n=>{const s=A.get(n.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=e.has(n.key)?null:a;const l=sB(i,a);l!==null&&r.set(n.key,l),i.isValidDocument()||i.convertToNoDocument(pA.min())}),r}keys(){return this.mutations.reduce((A,e)=>A.add(e.key),UA())}isEqual(A){return this.batchId===A.batchId&&nn(this.mutations,A.mutations,(e,r)=>ch(e,r))&&nn(this.baseMutations,A.baseMutations,(e,r)=>ch(e,r))}}class Ml{constructor(A,e,r,n){this.batch=A,this.commitVersion=e,this.mutationResults=r,this.docVersions=n}static from(A,e,r){RA(A.mutations.length===r.length);let n=function(){return Hy}();const s=A.mutations;for(let i=0;i<s.length;i++)n=n.insert(s[i].key,r[i].version);return new Ml(A,e,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(A,e){this.largestBatchId=A,this.mutation=e}getKey(){return this.mutation.key}isEqual(A){return A!==null&&this.mutation===A.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(A,e){this.count=A,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZA,bA;function jy(t){switch(t){case N.OK:return hA();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return hA()}}function oB(t){if(t===void 0)return It("GRPC error has no .code"),N.UNKNOWN;switch(t){case ZA.OK:return N.OK;case ZA.CANCELLED:return N.CANCELLED;case ZA.UNKNOWN:return N.UNKNOWN;case ZA.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ZA.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ZA.INTERNAL:return N.INTERNAL;case ZA.UNAVAILABLE:return N.UNAVAILABLE;case ZA.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ZA.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ZA.NOT_FOUND:return N.NOT_FOUND;case ZA.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ZA.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ZA.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ZA.ABORTED:return N.ABORTED;case ZA.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ZA.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ZA.DATA_LOSS:return N.DATA_LOSS;default:return hA()}}(bA=ZA||(ZA={}))[bA.OK=0]="OK",bA[bA.CANCELLED=1]="CANCELLED",bA[bA.UNKNOWN=2]="UNKNOWN",bA[bA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bA[bA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bA[bA.NOT_FOUND=5]="NOT_FOUND",bA[bA.ALREADY_EXISTS=6]="ALREADY_EXISTS",bA[bA.PERMISSION_DENIED=7]="PERMISSION_DENIED",bA[bA.UNAUTHENTICATED=16]="UNAUTHENTICATED",bA[bA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bA[bA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bA[bA.ABORTED=10]="ABORTED",bA[bA.OUT_OF_RANGE=11]="OUT_OF_RANGE",bA[bA.UNIMPLEMENTED=12]="UNIMPLEMENTED",bA[bA.INTERNAL=13]="INTERNAL",bA[bA.UNAVAILABLE=14]="UNAVAILABLE",bA[bA.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Wt([4294967295,4294967295],0);function fh(t){const A=Tg().encode(t),e=new _g;return e.update(A),new Uint8Array(e.digest())}function dh(t){const A=new DataView(t.buffer),e=A.getUint32(0,!0),r=A.getUint32(4,!0),n=A.getUint32(8,!0),s=A.getUint32(12,!0);return[new Wt([e,r],0),new Wt([n,s],0)]}class Pl{constructor(A,e,r){if(this.bitmap=A,this.padding=e,this.hashCount=r,e<0||e>=8)throw new xn(`Invalid padding: ${e}`);if(r<0)throw new xn(`Invalid hash count: ${r}`);if(A.length>0&&this.hashCount===0)throw new xn(`Invalid hash count: ${r}`);if(A.length===0&&e!==0)throw new xn(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*A.length-e,this.de=Wt.fromNumber(this.Ee)}Ae(A,e,r){let n=A.add(e.multiply(Wt.fromNumber(r)));return n.compare(Xy)===1&&(n=new Wt([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(A){return!!(this.bitmap[Math.floor(A/8)]&1<<A%8)}mightContain(A){if(this.Ee===0)return!1;const e=fh(A),[r,n]=dh(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);if(!this.Re(i))return!1}return!0}static create(A,e,r){const n=A%8==0?0:8-A%8,s=new Uint8Array(Math.ceil(A/8)),i=new Pl(s,n,e);return r.forEach(a=>i.insert(a)),i}insert(A){if(this.Ee===0)return;const e=fh(A),[r,n]=dh(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);this.Ve(i)}}Ve(A){const e=Math.floor(A/8),r=A%8;this.bitmap[e]|=1<<r}}class xn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(A,e,r,n,s){this.snapshotVersion=A,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(A,e,r){const n=new Map;return n.set(A,ws.createSynthesizedTargetChangeForCurrentChange(A,e,r)),new go(pA.min(),n,new WA(yA),bt(),UA())}}class ws{constructor(A,e,r,n,s){this.resumeToken=A,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(A,e,r){return new ws(r,e,UA(),UA(),UA())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(A,e,r,n){this.me=A,this.removedTargetIds=e,this.key=r,this.fe=n}}class aB{constructor(A,e){this.targetId=A,this.ge=e}}class lB{constructor(A,e,r=we.EMPTY_BYTE_STRING,n=null){this.state=A,this.targetIds=e,this.resumeToken=r,this.cause=n}}class gh{constructor(){this.pe=0,this.ye=Bh(),this.we=we.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(A){A.approximateByteSize()>0&&(this.be=!0,this.we=A)}Fe(){let A=UA(),e=UA(),r=UA();return this.ye.forEach((n,s)=>{switch(s){case 0:A=A.add(n);break;case 2:e=e.add(n);break;case 1:r=r.add(n);break;default:hA()}}),new ws(this.we,this.Se,A,e,r)}Me(){this.be=!1,this.ye=Bh()}xe(A,e){this.be=!0,this.ye=this.ye.insert(A,e)}Oe(A){this.be=!0,this.ye=this.ye.remove(A)}Ne(){this.pe+=1}Be(){this.pe-=1,RA(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Jy{constructor(A){this.ke=A,this.qe=new Map,this.Qe=bt(),this.$e=Js(),this.Ue=Js(),this.Ke=new WA(yA)}We(A){for(const e of A.me)A.fe&&A.fe.isFoundDocument()?this.Ge(e,A.fe):this.ze(e,A.key,A.fe);for(const e of A.removedTargetIds)this.ze(e,A.key,A.fe)}je(A){this.forEachTarget(A,e=>{const r=this.He(e);switch(A.state){case 0:this.Je(e)&&r.Ce(A.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(A.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(e);break;case 3:this.Je(e)&&(r.Le(),r.Ce(A.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),r.Ce(A.resumeToken));break;default:hA()}})}forEachTarget(A,e){A.targetIds.length>0?A.targetIds.forEach(e):this.qe.forEach((r,n)=>{this.Je(n)&&e(n)})}Ze(A){const e=A.targetId,r=A.ge.count,n=this.Xe(e);if(n){const s=n.target;if(Ga(s))if(r===0){const i=new aA(s.path);this.ze(e,i,Ee.newNoDocument(i,pA.min()))}else RA(r===1);else{const i=this.et(e);if(i!==r){const a=this.tt(A),l=a?this.nt(a,A,i):1;if(l!==0){this.Ye(e);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,c)}}}}}tt(A){const e=A.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:s=0}=e;let i,a;try{i=Yt(r).toUint8Array()}catch(l){if(l instanceof Dg)return rn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pl(i,n,s)}catch(l){return rn(l instanceof xn?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(A,e,r){return e.ge.count===r-this.st(A,e.targetId)?0:2}st(A,e){const r=this.ke.getRemoteKeysForTarget(e);let n=0;return r.forEach(s=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;A.mightContain(a)||(this.ze(e,s,null),n++)}),n}ot(A){const e=new Map;this.qe.forEach((s,i)=>{const a=this.Xe(i);if(a){if(s.current&&Ga(a.target)){const l=new aA(a.target.path);this._t(l).has(i)||this.ut(i,l)||this.ze(i,l,Ee.newNoDocument(l,A))}s.ve&&(e.set(i,s.Fe()),s.Me())}});let r=UA();this.Ue.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,i)=>i.setReadTime(A));const n=new go(A,e,this.Ke,this.Qe,r);return this.Qe=bt(),this.$e=Js(),this.Ue=Js(),this.Ke=new WA(yA),n}Ge(A,e){if(!this.Je(A))return;const r=this.ut(A,e.key)?2:0;this.He(A).xe(e.key,r),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(A)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(A))}ze(A,e,r){if(!this.Je(A))return;const n=this.He(A);this.ut(A,e)?n.xe(e,1):n.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(A)),this.Ue=this.Ue.insert(e,this.ct(e).add(A)),r&&(this.Qe=this.Qe.insert(e,r))}removeTarget(A){this.qe.delete(A)}et(A){const e=this.He(A).Fe();return this.ke.getRemoteKeysForTarget(A).size+e.addedDocuments.size-e.removedDocuments.size}Ne(A){this.He(A).Ne()}He(A){let e=this.qe.get(A);return e||(e=new gh,this.qe.set(A,e)),e}ct(A){let e=this.Ue.get(A);return e||(e=new ie(yA),this.Ue=this.Ue.insert(A,e)),e}_t(A){let e=this.$e.get(A);return e||(e=new ie(yA),this.$e=this.$e.insert(A,e)),e}Je(A){const e=this.Xe(A)!==null;return e||$("WatchChangeAggregator","Detected inactive target",A),e}Xe(A){const e=this.qe.get(A);return e&&e.De?null:this.ke.lt(A)}Ye(A){this.qe.set(A,new gh),this.ke.getRemoteKeysForTarget(A).forEach(e=>{this.ze(A,e,null)})}ut(A,e){return this.ke.getRemoteKeysForTarget(A).has(e)}}function Js(){return new WA(aA.comparator)}function Bh(){return new WA(aA.comparator)}const qy={asc:"ASCENDING",desc:"DESCENDING"},zy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yy={and:"AND",or:"OR"};class Zy{constructor(A,e){this.databaseId=A,this.useProto3Json=e}}function ja(t,A){return t.useProto3Json||io(A)?A:{value:A}}function Ki(t,A){return t.useProto3Json?`${new Date(1e3*A.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+A.nanoseconds).slice(-9)}Z`:{seconds:""+A.seconds,nanos:A.nanoseconds}}function cB(t,A){return t.useProto3Json?A.toBase64():A.toUint8Array()}function $y(t,A){return Ki(t,A.toTimestamp())}function ht(t){return RA(!!t),pA.fromTimestamp(function(e){const r=zt(e);return new se(r.seconds,r.nanos)}(t))}function Kl(t,A){return Xa(t,A).canonicalString()}function Xa(t,A){const e=function(n){return new GA(["projects",n.projectId,"databases",n.database])}(t).child("documents");return A===void 0?e:e.child(A)}function uB(t){const A=GA.fromString(t);return RA(BB(A)),A}function Ja(t,A){return Kl(t.databaseId,A.path)}function ia(t,A){const e=uB(A);if(e.get(1)!==t.databaseId.projectId)throw new rA(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new rA(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new aA(fB(e))}function hB(t,A){return Kl(t.databaseId,A)}function AQ(t){const A=uB(t);return A.length===4?GA.emptyPath():fB(A)}function qa(t){return new GA(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fB(t){return RA(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ph(t,A,e){return{name:Ja(t,A),fields:e.value.mapValue.fields}}function eQ(t,A){let e;if("targetChange"in A){A.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:hA()}(A.targetChange.targetChangeType||"NO_CHANGE"),n=A.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(RA(u===void 0||typeof u=="string"),we.fromBase64String(u||"")):(RA(u===void 0||u instanceof Buffer||u instanceof Uint8Array),we.fromUint8Array(u||new Uint8Array))}(t,A.targetChange.resumeToken),i=A.targetChange.cause,a=i&&function(c){const u=c.code===void 0?N.UNKNOWN:oB(c.code);return new rA(u,c.message||"")}(i);e=new lB(r,n,s,a||null)}else if("documentChange"in A){A.documentChange;const r=A.documentChange;r.document,r.document.name,r.document.updateTime;const n=ia(t,r.document.name),s=ht(r.document.updateTime),i=r.document.createTime?ht(r.document.createTime):pA.min(),a=new He({mapValue:{fields:r.document.fields}}),l=Ee.newFoundDocument(n,s,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];e=new vi(c,u,l.key,l)}else if("documentDelete"in A){A.documentDelete;const r=A.documentDelete;r.document;const n=ia(t,r.document),s=r.readTime?ht(r.readTime):pA.min(),i=Ee.newNoDocument(n,s),a=r.removedTargetIds||[];e=new vi([],a,i.key,i)}else if("documentRemove"in A){A.documentRemove;const r=A.documentRemove;r.document;const n=ia(t,r.document),s=r.removedTargetIds||[];e=new vi([],s,n,null)}else{if(!("filter"in A))return hA();{A.filter;const r=A.filter;r.targetId;const{count:n=0,unchangedNames:s}=r,i=new Wy(n,s),a=r.targetId;e=new aB(a,i)}}return e}function tQ(t,A){let e;if(A instanceof ps)e={update:ph(t,A.key,A.value)};else if(A instanceof xl)e={delete:Ja(t,A.key)};else if(A instanceof sr)e={update:ph(t,A.key,A.data),updateMask:uQ(A.fieldMask)};else{if(!(A instanceof Oy))return hA();e={verify:Ja(t,A.key)}}return A.fieldTransforms.length>0&&(e.updateTransforms=A.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof Mi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cs)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof us)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pi)return{fieldPath:i.field.canonicalString(),increment:a.Ie};throw hA()}(0,r))),A.precondition.isNone||(e.currentDocument=function(n,s){return s.updateTime!==void 0?{updateTime:$y(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:hA()}(t,A.precondition)),e}function rQ(t,A){return t&&t.length>0?(RA(A!==void 0),t.map(e=>function(n,s){let i=n.updateTime?ht(n.updateTime):ht(s);return i.isEqual(pA.min())&&(i=ht(s)),new My(i,n.transformResults||[])}(e,A))):[]}function nQ(t,A){return{documents:[hB(t,A.path)]}}function sQ(t,A){const e={structuredQuery:{}},r=A.path;let n;A.collectionGroup!==null?(n=r,e.structuredQuery.from=[{collectionId:A.collectionGroup,allDescendants:!0}]):(n=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=hB(t,n);const s=function(c){if(c.length!==0)return gB(gt.create(c,"and"))}(A.filters);s&&(e.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(g){return{field:qr(g.field),direction:aQ(g.dir)}}(u))}(A.orderBy);i&&(e.structuredQuery.orderBy=i);const a=ja(t,A.limit);return a!==null&&(e.structuredQuery.limit=a),A.startAt&&(e.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(A.startAt)),A.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(A.endAt)),{ht:e,parent:n}}function iQ(t){let A=AQ(t.parent);const e=t.structuredQuery,r=e.from?e.from.length:0;let n=null;if(r>0){RA(r===1);const u=e.from[0];u.allDescendants?n=u.collectionId:A=A.child(u.collectionId)}let s=[];e.where&&(s=function(f){const g=dB(f);return g instanceof gt&&Wg(g)?g.getFilters():[g]}(e.where));let i=[];e.orderBy&&(i=function(f){return f.map(g=>function(C){return new xi(zr(C.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(e.orderBy));let a=null;e.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,io(g)?null:g}(e.limit));let l=null;e.startAt&&(l=function(f){const g=!!f.before,B=f.values||[];return new Vi(B,g)}(e.startAt));let c=null;return e.endAt&&(c=function(f){const g=!f.before,B=f.values||[];return new Vi(B,g)}(e.endAt)),vy(A,n,i,s,a,"F",l,c)}function oQ(t,A){const e=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hA()}}(A.purpose);return e==null?null:{"goog-listen-tags":e}}function dB(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=zr(e.unaryFilter.field);return ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=zr(e.unaryFilter.field);return ne.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zr(e.unaryFilter.field);return ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zr(e.unaryFilter.field);return ne.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hA()}}(t):t.fieldFilter!==void 0?function(e){return ne.create(zr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hA()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return gt.create(e.compositeFilter.filters.map(r=>dB(r)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return hA()}}(e.compositeFilter.op))}(t):hA()}function aQ(t){return qy[t]}function lQ(t){return zy[t]}function cQ(t){return Yy[t]}function qr(t){return{fieldPath:t.canonicalString()}}function zr(t){return Be.fromServerFormat(t.fieldPath)}function gB(t){return t instanceof ne?function(e){if(e.op==="=="){if(nh(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NAN"}};if(rh(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(nh(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NAN"}};if(rh(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(e.field),op:lQ(e.op),value:e.value}}}(t):t instanceof gt?function(e){const r=e.getFilters().map(n=>gB(n));return r.length===1?r[0]:{compositeFilter:{op:cQ(e.op),filters:r}}}(t):hA()}function uQ(t){const A=[];return t.fields.forEach(e=>A.push(e.canonicalString())),{fieldPaths:A}}function BB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(A,e,r,n,s=pA.min(),i=pA.min(),a=we.EMPTY_BYTE_STRING,l=null){this.target=A,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(A){return new Mt(this.target,this.targetId,this.purpose,A,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(A,e){return new Mt(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,A,null)}withExpectedCount(A){return new Mt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,A)}withLastLimboFreeSnapshotVersion(A){return new Mt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,A,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(A){this.Tt=A}}function fQ(t){const A=iQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wa(A,A.limit,"L"):A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(){this.Tn=new gQ}addToCollectionParentIndex(A,e){return this.Tn.add(e),K.resolve()}getCollectionParents(A,e){return K.resolve(this.Tn.getEntries(e))}addFieldIndex(A,e){return K.resolve()}deleteFieldIndex(A,e){return K.resolve()}deleteAllFieldIndexes(A){return K.resolve()}createTargetIndexes(A,e){return K.resolve()}getDocumentsMatchingTarget(A,e){return K.resolve(null)}getIndexType(A,e){return K.resolve(0)}getFieldIndexes(A,e){return K.resolve([])}getNextCollectionGroupToUpdate(A){return K.resolve(null)}getMinOffset(A,e){return K.resolve(qt.min())}getMinOffsetFromCollectionGroup(A,e){return K.resolve(qt.min())}updateCollectionGroup(A,e,r){return K.resolve()}updateIndexEntries(A,e){return K.resolve()}}class gQ{constructor(){this.index={}}add(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e]||new ie(GA.comparator),s=!n.has(r);return this.index[e]=n.add(r),s}has(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e];return n&&n.has(r)}getEntries(A){return(this.index[A]||new ie(GA.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pB=41943040;class be{static withCacheSize(A){return new be(A,be.DEFAULT_COLLECTION_PERCENTILE,be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(A,e,r){this.cacheSizeCollectionThreshold=A,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */be.DEFAULT_COLLECTION_PERCENTILE=10,be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,be.DEFAULT=new be(pB,be.DEFAULT_COLLECTION_PERCENTILE,be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),be.DISABLED=new be(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(A){this.$n=A}next(){return this.$n+=2,this.$n}static Un(){return new an(0)}static Kn(){return new an(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="LruGarbageCollector",BQ=1048576;function Ch([t,A],[e,r]){const n=yA(t,e);return n===0?yA(A,r):n}class pQ{constructor(A){this.Hn=A,this.buffer=new ie(Ch),this.Jn=0}Yn(){return++this.Jn}Zn(A){const e=[A,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Ch(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class wQ{constructor(A,e,r){this.garbageCollector=A,this.asyncQueue=e,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(A){$(mh,`Garbage collection scheduled in ${A}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",A,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){dn(e)?$(mh,"Ignoring IndexedDB error during garbage collection: ",e):await fn(e)}await this.er(3e5)})}}class mQ{constructor(A,e){this.tr=A,this.params=e}calculateTargetCount(A,e){return this.tr.nr(A).next(r=>Math.floor(e/100*r))}nthSequenceNumber(A,e){if(e===0)return K.resolve(so.ae);const r=new pQ(e);return this.tr.forEachTarget(A,n=>r.Zn(n.sequenceNumber)).next(()=>this.tr.rr(A,n=>r.Zn(n))).next(()=>r.maxValue)}removeTargets(A,e,r){return this.tr.removeTargets(A,e,r)}removeOrphanedDocuments(A,e){return this.tr.removeOrphanedDocuments(A,e)}collect(A,e){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(wh)):this.getCacheSize(A).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wh):this.ir(A,e))}getCacheSize(A){return this.tr.getCacheSize(A)}ir(A,e){let r,n,s,i,a,l,c;const u=Date.now();return this.calculateTargetCount(A,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),n=this.params.maximumSequenceNumbersToCollect):n=f,i=Date.now(),this.nthSequenceNumber(A,n))).next(f=>(r=f,a=Date.now(),this.removeTargets(A,r,e))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(A,r))).next(f=>(c=Date.now(),Xr()<=TA.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-u}ms
	Determined least recently used ${n} in `+(a-i)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:s,documentsRemoved:f})))}}function CQ(t,A){return new mQ(t,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(){this.changes=new br(A=>A.toString(),(A,e)=>A.isEqual(e)),this.changesApplied=!1}addEntry(A){this.assertNotApplied(),this.changes.set(A.key,A)}removeEntry(A,e){this.assertNotApplied(),this.changes.set(A,Ee.newInvalidDocument(A).setReadTime(e))}getEntry(A,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?K.resolve(r):this.getFromCache(A,e)}getEntries(A,e){return this.getAllFromCache(A,e)}apply(A){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(A)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(A,e){this.overlayedDocument=A,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(A,e,r,n){this.remoteDocumentCache=A,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=n}getDocument(A,e){let r=null;return this.documentOverlayCache.getOverlay(A,e).next(n=>(r=n,this.remoteDocumentCache.getEntry(A,e))).next(n=>(r!==null&&$n(r.mutation,n,Ne.empty(),se.now()),n))}getDocuments(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.getLocalViewOfDocuments(A,r,UA()).next(()=>r))}getLocalViewOfDocuments(A,e,r=UA()){const n=wr();return this.populateOverlays(A,n,e).next(()=>this.computeViews(A,e,n,r).next(s=>{let i=Vn();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(A,e){const r=wr();return this.populateOverlays(A,r,e).next(()=>this.computeViews(A,e,r,UA()))}populateOverlays(A,e,r){const n=[];return r.forEach(s=>{e.has(s)||n.push(s)}),this.documentOverlayCache.getOverlays(A,n).next(s=>{s.forEach((i,a)=>{e.set(i,a)})})}computeViews(A,e,r,n){let s=bt();const i=Zn(),a=function(){return Zn()}();return e.forEach((l,c)=>{const u=r.get(c.key);n.has(c.key)&&(u===void 0||u.mutation instanceof sr)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),$n(u.mutation,c,u.mutation.getFieldMask(),se.now())):i.set(c.key,Ne.empty())}),this.recalculateAndSaveOverlays(A,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),e.forEach((c,u)=>{var f;return a.set(c,new QQ(u,(f=i.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(A,e){const r=Zn();let n=new WA((i,a)=>i-a),s=UA();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(A,e).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=e.get(l);if(c===null)return;let u=r.get(l)||Ne.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(n.get(a.batchId)||UA()).add(l);n=n.insert(a.batchId,f)})}).next(()=>{const i=[],a=n.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=$g();u.forEach(g=>{if(!s.has(g)){const B=sB(e.get(g),r.get(g));B!==null&&f.set(g,B),s=s.add(g)}}),i.push(this.documentOverlayCache.saveOverlays(A,c,f))}return K.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.recalculateAndSaveOverlays(A,r))}getDocumentsMatchingQuery(A,e,r,n){return function(i){return aA.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(A,e.path):Uy(e)?this.getDocumentsMatchingCollectionGroupQuery(A,e,r,n):this.getDocumentsMatchingCollectionQuery(A,e,r,n)}getNextDocuments(A,e,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(A,e,r,n).next(s=>{const i=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(A,e,r.largestBatchId,n-s.size):K.resolve(wr());let a=is,l=s;return i.next(c=>K.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?K.resolve():this.remoteDocumentCache.getEntry(A,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(A,c,s)).next(()=>this.computeViews(A,l,c,UA())).next(u=>({batchId:a,changes:Zg(u)})))})}getDocumentsMatchingDocumentQuery(A,e){return this.getDocument(A,new aA(e)).next(r=>{let n=Vn();return r.isFoundDocument()&&(n=n.insert(r.key,r)),n})}getDocumentsMatchingCollectionGroupQuery(A,e,r,n){const s=e.collectionGroup;let i=Vn();return this.indexManager.getCollectionParents(A,s).next(a=>K.forEach(a,l=>{const c=function(f,g){return new ao(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(A,c,r,n).next(u=>{u.forEach((f,g)=>{i=i.insert(f,g)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(A,e,r,n){let s;return this.documentOverlayCache.getOverlaysForCollection(A,e.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(A,e,r,s,n))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,Ee.newInvalidDocument(u)))});let a=Vn();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&$n(u.mutation,c,Ne.empty(),se.now()),uo(e,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(A){this.serializer=A,this.dr=new Map,this.Ar=new Map}getBundleMetadata(A,e){return K.resolve(this.dr.get(e))}saveBundleMetadata(A,e){return this.dr.set(e.id,function(n){return{id:n.id,version:n.version,createTime:ht(n.createTime)}}(e)),K.resolve()}getNamedQuery(A,e){return K.resolve(this.Ar.get(e))}saveNamedQuery(A,e){return this.Ar.set(e.name,function(n){return{name:n.name,query:fQ(n.bundledQuery),readTime:ht(n.readTime)}}(e)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this.overlays=new WA(aA.comparator),this.Rr=new Map}getOverlay(A,e){return K.resolve(this.overlays.get(e))}getOverlays(A,e){const r=wr();return K.forEach(e,n=>this.getOverlay(A,n).next(s=>{s!==null&&r.set(n,s)})).next(()=>r)}saveOverlays(A,e,r){return r.forEach((n,s)=>{this.Et(A,e,s)}),K.resolve()}removeOverlaysForBatchId(A,e,r){const n=this.Rr.get(r);return n!==void 0&&(n.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),K.resolve()}getOverlaysForCollection(A,e,r){const n=wr(),s=e.length+1,i=new aA(e.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&n.set(l.getKey(),l)}return K.resolve(n)}getOverlaysForCollectionGroup(A,e,r,n){let s=new WA((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=wr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=wr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=n)););return K.resolve(a)}Et(A,e,r){const n=this.overlays.get(r.key);if(n!==null){const i=this.Rr.get(n.largestBatchId).delete(r.key);this.Rr.set(n.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new Gy(e,r));let s=this.Rr.get(e);s===void 0&&(s=UA(),this.Rr.set(e,s)),this.Rr.set(e,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(){this.sessionToken=we.EMPTY_BYTE_STRING}getSessionToken(A){return K.resolve(this.sessionToken)}setSessionToken(A,e){return this.sessionToken=e,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.Vr=new ie(he.mr),this.gr=new ie(he.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(A,e){const r=new he(A,e);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(A,e){A.forEach(r=>this.addReference(r,e))}removeReference(A,e){this.wr(new he(A,e))}Sr(A,e){A.forEach(r=>this.removeReference(r,e))}br(A){const e=new aA(new GA([])),r=new he(e,A),n=new he(e,A+1),s=[];return this.gr.forEachInRange([r,n],i=>{this.wr(i),s.push(i.key)}),s}Dr(){this.Vr.forEach(A=>this.wr(A))}wr(A){this.Vr=this.Vr.delete(A),this.gr=this.gr.delete(A)}vr(A){const e=new aA(new GA([])),r=new he(e,A),n=new he(e,A+1);let s=UA();return this.gr.forEachInRange([r,n],i=>{s=s.add(i.key)}),s}containsKey(A){const e=new he(A,0),r=this.Vr.firstAfterOrEqual(e);return r!==null&&A.isEqual(r.key)}}class he{constructor(A,e){this.key=A,this.Cr=e}static mr(A,e){return aA.comparator(A.key,e.key)||yA(A.Cr,e.Cr)}static pr(A,e){return yA(A.Cr,e.Cr)||aA.comparator(A.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(A,e){this.indexManager=A,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new ie(he.mr)}checkEmpty(A){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(A,e,r,n){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ny(s,e,r,n);this.mutationQueue.push(i);for(const a of n)this.Mr=this.Mr.add(new he(a.key,s)),this.indexManager.addToCollectionParentIndex(A,a.key.path.popLast());return K.resolve(i)}lookupMutationBatch(A,e){return K.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(A,e){const r=e+1,n=this.Nr(r),s=n<0?0:n;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Sl:this.Fr-1)}getAllMutationBatches(A){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(A,e){const r=new he(e,0),n=new he(e,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,n],i=>{const a=this.Or(i.Cr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(A,e){let r=new ie(yA);return e.forEach(n=>{const s=new he(n,0),i=new he(n,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,i],a=>{r=r.add(a.Cr)})}),K.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(A,e){const r=e.path,n=r.length+1;let s=r;aA.isDocumentKey(s)||(s=s.child(""));const i=new he(new aA(s),0);let a=new ie(yA);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===n&&(a=a.add(l.Cr)),!0)},i),K.resolve(this.Br(a))}Br(A){const e=[];return A.forEach(r=>{const n=this.Or(r);n!==null&&e.push(n)}),e}removeMutationBatch(A,e){RA(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return K.forEach(e.mutations,n=>{const s=new he(n.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(A,n.key)}).next(()=>{this.Mr=r})}qn(A){}containsKey(A,e){const r=new he(e,0),n=this.Mr.firstAfterOrEqual(r);return K.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(A){return this.mutationQueue.length,K.resolve()}Lr(A,e){return this.Nr(A)}Nr(A){return this.mutationQueue.length===0?0:A-this.mutationQueue[0].batchId}Or(A){const e=this.Nr(A);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(A){this.kr=A,this.docs=function(){return new WA(aA.comparator)}(),this.size=0}setIndexManager(A){this.indexManager=A}addEntry(A,e){const r=e.key,n=this.docs.get(r),s=n?n.size:0,i=this.kr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(A,r.path.popLast())}removeEntry(A){const e=this.docs.get(A);e&&(this.docs=this.docs.remove(A),this.size-=e.size)}getEntry(A,e){const r=this.docs.get(e);return K.resolve(r?r.document.mutableCopy():Ee.newInvalidDocument(e))}getEntries(A,e){let r=bt();return e.forEach(n=>{const s=this.docs.get(n);r=r.insert(n,s?s.document.mutableCopy():Ee.newInvalidDocument(n))}),K.resolve(r)}getDocumentsMatchingQuery(A,e,r,n){let s=bt();const i=e.path,a=new aA(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||ny(ry(u),r)<=0||(n.has(u.key)||uo(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(A,e,r,n){hA()}qr(A,e){return K.forEach(this.docs,r=>e(r))}newChangeBuffer(A){return new bQ(this)}getSize(A){return K.resolve(this.size)}}class bQ extends yQ{constructor(A){super(),this.Ir=A}applyChanges(A){const e=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?e.push(this.Ir.addEntry(A,n)):this.Ir.removeEntry(r)}),K.waitFor(e)}getFromCache(A,e){return this.Ir.getEntry(A,e)}getAllFromCache(A,e){return this.Ir.getEntries(A,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(A){this.persistence=A,this.Qr=new br(e=>Ll(e),kl),this.lastRemoteSnapshotVersion=pA.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ol,this.targetCount=0,this.Kr=an.Un()}forEachTarget(A,e){return this.Qr.forEach((r,n)=>e(n)),K.resolve()}getLastRemoteSnapshotVersion(A){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(A){return K.resolve(this.$r)}allocateTargetId(A){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(A,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$r&&(this.$r=e),K.resolve()}zn(A){this.Qr.set(A.target,A);const e=A.targetId;e>this.highestTargetId&&(this.Kr=new an(e),this.highestTargetId=e),A.sequenceNumber>this.$r&&(this.$r=A.sequenceNumber)}addTargetData(A,e){return this.zn(e),this.targetCount+=1,K.resolve()}updateTargetData(A,e){return this.zn(e),K.resolve()}removeTargetData(A,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,K.resolve()}removeTargets(A,e,r){let n=0;const s=[];return this.Qr.forEach((i,a)=>{a.sequenceNumber<=e&&r.get(a.targetId)===null&&(this.Qr.delete(i),s.push(this.removeMatchingKeysForTargetId(A,a.targetId)),n++)}),K.waitFor(s).next(()=>n)}getTargetCount(A){return K.resolve(this.targetCount)}getTargetData(A,e){const r=this.Qr.get(e)||null;return K.resolve(r)}addMatchingKeys(A,e,r){return this.Ur.yr(e,r),K.resolve()}removeMatchingKeys(A,e,r){this.Ur.Sr(e,r);const n=this.persistence.referenceDelegate,s=[];return n&&e.forEach(i=>{s.push(n.markPotentiallyOrphaned(A,i))}),K.waitFor(s)}removeMatchingKeysForTargetId(A,e){return this.Ur.br(e),K.resolve()}getMatchingKeysForTargetId(A,e){const r=this.Ur.vr(e);return K.resolve(r)}containsKey(A,e){return K.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(A,e){this.Wr={},this.overlays={},this.Gr=new so(0),this.zr=!1,this.zr=!0,this.jr=new UQ,this.referenceDelegate=A(this),this.Hr=new TQ(this),this.indexManager=new dQ,this.remoteDocumentCache=function(n){return new IQ(n)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new hQ(e),this.Yr=new EQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(A){return this.indexManager}getDocumentOverlayCache(A){let e=this.overlays[A.toKey()];return e||(e=new vQ,this.overlays[A.toKey()]=e),e}getMutationQueue(A,e){let r=this.Wr[A.toKey()];return r||(r=new FQ(e,this.referenceDelegate),this.Wr[A.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(A,e,r){$("MemoryPersistence","Starting transaction:",A);const n=new HQ(this.Gr.next());return this.referenceDelegate.Zr(),r(n).next(s=>this.referenceDelegate.Xr(n).next(()=>s)).toPromise().then(s=>(n.raiseOnCommittedEvent(),s))}ei(A,e){return K.or(Object.values(this.Wr).map(r=>()=>r.containsKey(A,e)))}}class HQ extends iy{constructor(A){super(),this.currentSequenceNumber=A}}class Nl{constructor(A){this.persistence=A,this.ti=new Ol,this.ni=null}static ri(A){return new Nl(A)}get ii(){if(this.ni)return this.ni;throw hA()}addReference(A,e,r){return this.ti.addReference(r,e),this.ii.delete(r.toString()),K.resolve()}removeReference(A,e,r){return this.ti.removeReference(r,e),this.ii.add(r.toString()),K.resolve()}markPotentiallyOrphaned(A,e){return this.ii.add(e.toString()),K.resolve()}removeTarget(A,e){this.ti.br(e.targetId).forEach(n=>this.ii.add(n.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(A,e.targetId).next(n=>{n.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(A,e))}Zr(){this.ni=new Set}Xr(A){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,r=>{const n=aA.fromPath(r);return this.si(A,n).next(s=>{s||e.removeEntry(n,pA.min())})}).next(()=>(this.ni=null,e.apply(A)))}updateLimboDocument(A,e){return this.si(A,e).next(r=>{r?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(A){return 0}si(A,e){return K.or([()=>K.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(A,e),()=>this.persistence.ei(A,e)])}}class Oi{constructor(A,e){this.persistence=A,this.oi=new br(r=>ly(r.path),(r,n)=>r.isEqual(n)),this.garbageCollector=CQ(this,e)}static ri(A,e){return new Oi(A,e)}Zr(){}Xr(A){return K.resolve()}forEachTarget(A,e){return this.persistence.getTargetCache().forEachTarget(A,e)}nr(A){const e=this.sr(A);return this.persistence.getTargetCache().getTargetCount(A).next(r=>e.next(n=>r+n))}sr(A){let e=0;return this.rr(A,r=>{e++}).next(()=>e)}rr(A,e){return K.forEach(this.oi,(r,n)=>this.ar(A,r,n).next(s=>s?K.resolve():e(n)))}removeTargets(A,e,r){return this.persistence.getTargetCache().removeTargets(A,e,r)}removeOrphanedDocuments(A,e){let r=0;const n=this.persistence.getRemoteDocumentCache(),s=n.newChangeBuffer();return n.qr(A,i=>this.ar(A,i,e).next(a=>{a||(r++,s.removeEntry(i,pA.min()))})).next(()=>s.apply(A)).next(()=>r)}markPotentiallyOrphaned(A,e){return this.oi.set(e,A.currentSequenceNumber),K.resolve()}removeTarget(A,e){const r=e.withSequenceNumber(A.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(A,r)}addReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),K.resolve()}removeReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),K.resolve()}updateLimboDocument(A,e){return this.oi.set(e,A.currentSequenceNumber),K.resolve()}Jr(A){let e=A.key.toString().length;return A.isFoundDocument()&&(e+=Qi(A.data.value)),e}ar(A,e,r){return K.or([()=>this.persistence.ei(A,e),()=>this.persistence.getTargetCache().containsKey(A,e),()=>{const n=this.oi.get(e);return K.resolve(n!==void 0&&n>r)}])}getCacheSize(A){return this.persistence.getRemoteDocumentCache().getSize(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(A,e,r,n){this.targetId=A,this.fromCache=e,this.Hi=r,this.Ji=n}static Yi(A,e){let r=UA(),n=UA();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:n=n.add(s.doc.key)}return new Gl(A,e.fromCache,r,n)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(A){this._documentReadCount+=A}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lm()?8:oy(im())>0?6:4}()}initialize(A,e){this.ns=A,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(A,e,r,n){const s={result:null};return this.rs(A,e).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ss(A,e,n,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new SQ;return this._s(A,e,i).next(a=>{if(s.result=a,this.Xi)return this.us(A,e,i,a.size)})}).next(()=>s.result)}us(A,e,r,n){return r.documentReadCount<this.es?(Xr()<=TA.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Jr(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(Xr()<=TA.DEBUG&&$("QueryEngine","Query:",Jr(e),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ts*n?(Xr()<=TA.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Jr(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(A,ut(e))):K.resolve())}rs(A,e){if(ah(e))return K.resolve(null);let r=ut(e);return this.indexManager.getIndexType(A,r).next(n=>n===0?null:(e.limit!==null&&n===1&&(e=Wa(e,null,"F"),r=ut(e)),this.indexManager.getDocumentsMatchingTarget(A,r).next(s=>{const i=UA(...s);return this.ns.getDocuments(A,i).next(a=>this.indexManager.getMinOffset(A,r).next(l=>{const c=this.cs(e,a);return this.ls(e,c,i,l.readTime)?this.rs(A,Wa(e,null,"F")):this.hs(A,c,e,l)}))})))}ss(A,e,r,n){return ah(e)||n.isEqual(pA.min())?K.resolve(null):this.ns.getDocuments(A,r).next(s=>{const i=this.cs(e,s);return this.ls(e,i,r,n)?K.resolve(null):(Xr()<=TA.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jr(e)),this.hs(A,i,e,ty(n,is)).next(a=>a))})}cs(A,e){let r=new ie(zg(A));return e.forEach((n,s)=>{uo(A,s)&&(r=r.add(s))}),r}ls(A,e,r,n){if(A.limit===null)return!1;if(r.size!==e.size)return!0;const s=A.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}_s(A,e,r){return Xr()<=TA.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Jr(e)),this.ns.getDocumentsMatchingQuery(A,e,qt.min(),r)}hs(A,e,r,n){return this.ns.getDocumentsMatchingQuery(A,r,n).next(s=>(e.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="LocalStore",DQ=3e8;class LQ{constructor(A,e,r,n){this.persistence=A,this.Ps=e,this.serializer=n,this.Ts=new WA(yA),this.Is=new br(s=>Ll(s),kl),this.Es=new Map,this.ds=A.getRemoteDocumentCache(),this.Hr=A.getTargetCache(),this.Yr=A.getBundleCache(),this.As(r)}As(A){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(A),this.indexManager=this.persistence.getIndexManager(A),this.mutationQueue=this.persistence.getMutationQueue(A,this.indexManager),this.localDocuments=new _Q(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(A){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>A.collect(e,this.Ts))}}function kQ(t,A,e,r){return new LQ(t,A,e,r)}async function mB(t,A){const e=mA(t);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(s=>(n=s,e.As(A),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=UA();for(const c of n){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:i,addedBatchIds:a}))})})}function VQ(t,A){const e=mA(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const n=A.batch.keys(),s=e.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,g=f.keys();let B=K.resolve();return g.forEach(C=>{B=B.next(()=>u.getEntry(l,C)).next(y=>{const F=c.docVersions.get(C);RA(F!==null),y.version.compareTo(F)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),B.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,r,A,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,n,A.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=UA();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(A))).next(()=>e.localDocuments.getDocuments(r,n))})}function CB(t){const A=mA(t);return A.persistence.runTransaction("Get last remote snapshot version","readonly",e=>A.Hr.getLastRemoteSnapshotVersion(e))}function xQ(t,A){const e=mA(t),r=A.snapshotVersion;let n=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=e.ds.newChangeBuffer({trackRemovals:!0});n=e.Ts;const a=[];A.targetChanges.forEach((u,f)=>{const g=n.get(f);if(!g)return;a.push(e.Hr.removeMatchingKeys(s,u.removedDocuments,f).next(()=>e.Hr.addMatchingKeys(s,u.addedDocuments,f)));let B=g.withSequenceNumber(s.currentSequenceNumber);A.targetMismatches.get(f)!==null?B=B.withResumeToken(we.EMPTY_BYTE_STRING,pA.min()).withLastLimboFreeSnapshotVersion(pA.min()):u.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(u.resumeToken,r)),n=n.insert(f,B),function(y,F,S){return y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=DQ?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,B,u)&&a.push(e.Hr.updateTargetData(s,B))});let l=bt(),c=UA();if(A.documentUpdates.forEach(u=>{A.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(MQ(s,i,A.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(pA.min())){const u=e.Hr.getLastRemoteSnapshotVersion(s).next(f=>e.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return K.waitFor(a).next(()=>i.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.Ts=n,s))}function MQ(t,A,e){let r=UA(),n=UA();return e.forEach(s=>r=r.add(s)),A.getEntries(t,r).next(s=>{let i=bt();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(n=n.add(a)),l.isNoDocument()&&l.version.isEqual(pA.min())?(A.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(A.addEntry(l),i=i.insert(a,l)):$(Wl,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:i,fs:n}})}function PQ(t,A){const e=mA(t);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(A===void 0&&(A=Sl),e.mutationQueue.getNextMutationBatchAfterBatchId(r,A)))}function KQ(t,A){const e=mA(t);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.Hr.getTargetData(r,A).next(s=>s?(n=s,K.resolve(n)):e.Hr.allocateTargetId(r).next(i=>(n=new Mt(A,i,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,n).next(()=>n))))}).then(r=>{const n=e.Ts.get(r.targetId);return(n===null||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(A,r.targetId)),r})}async function za(t,A,e){const r=mA(t),n=r.Ts.get(A),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,n))}catch(i){if(!dn(i))throw i;$(Wl,`Failed to update sequence numbers for target ${A}: ${i}`)}r.Ts=r.Ts.remove(A),r.Is.delete(n.target)}function yh(t,A,e){const r=mA(t);let n=pA.min(),s=UA();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const f=mA(l),g=f.Is.get(u);return g!==void 0?K.resolve(f.Ts.get(g)):f.Hr.getTargetData(c,u)}(r,i,ut(A)).next(a=>{if(a)return n=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(i,A,e?n:pA.min(),e?s:UA())).next(a=>(OQ(r,Iy(A),a),{documents:a,gs:s})))}function OQ(t,A,e){let r=t.Es.get(A)||pA.min();e.forEach((n,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(A,r)}class Qh{constructor(){this.activeTargetIds=Dy()}Ds(A){this.activeTargetIds=this.activeTargetIds.add(A)}vs(A){this.activeTargetIds=this.activeTargetIds.delete(A)}bs(){const A={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(A)}}class NQ{constructor(){this.ho=new Qh,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(A){}updateMutationState(A,e,r){}addLocalQueryTarget(A,e=!0){return e&&this.ho.Ds(A),this.Po[A]||"not-current"}updateQueryState(A,e,r){this.Po[A]=e}removeLocalQueryTarget(A){this.ho.vs(A)}isLocalQueryTarget(A){return this.ho.activeTargetIds.has(A)}clearQueryState(A){delete this.Po[A]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(A){return this.ho.activeTargetIds.has(A)}start(){return this.ho=new Qh,Promise.resolve()}handleUserChange(A,e,r){}setOnlineState(A){}shutdown(){}writeSequenceNumber(A){}notifyBundleLoaded(A){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{To(A){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="ConnectivityMonitor";class Eh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(A){this.Vo.push(A)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$(_h,"Network connectivity changed: AVAILABLE");for(const A of this.Vo)A(0)}Ro(){$(_h,"Network connectivity changed: UNAVAILABLE");for(const A of this.Vo)A(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs=null;function Ya(){return qs===null?qs=function(){return 268435456+Math.round(2147483648*Math.random())}():qs++,"0x"+qs.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RestConnection",WQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jQ{get fo(){return!1}constructor(A){this.databaseInfo=A,this.databaseId=A.databaseId;const e=A.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=e+"://"+A.host,this.yo=`projects/${r}/databases/${n}`,this.wo=this.databaseId.database===Li?`project_id=${r}`:`project_id=${r}&database_id=${n}`}So(A,e,r,n,s){const i=Ya(),a=this.bo(A,e.toUriEncodedString());$(oa,`Sending RPC '${A}' ${i}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,n,s),this.vo(A,a,l,r).then(c=>($(oa,`Received RPC '${A}' ${i}: `,c),c),c=>{throw rn(oa,`RPC '${A}' ${i} failed with error: `,c,"url: ",a,"request:",r),c})}Co(A,e,r,n,s,i){return this.So(A,e,r,n,s)}Do(A,e,r){A["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hn}(),A["Content-Type"]="text/plain",this.databaseInfo.appId&&(A["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((n,s)=>A[s]=n),r&&r.headers.forEach((n,s)=>A[s]=n)}bo(A,e){const r=WQ[A];return`${this.po}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(A){this.Fo=A.Fo,this.Mo=A.Mo}xo(A){this.Oo=A}No(A){this.Bo=A}Lo(A){this.ko=A}onMessage(A){this.qo=A}close(){this.Mo()}send(A){this.Fo(A)}Qo(){this.Oo()}$o(){this.Bo()}Uo(A){this.ko(A)}Ko(A){this.qo(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye="WebChannelConnection";class JQ extends jQ{constructor(A){super(A),this.forceLongPolling=A.forceLongPolling,this.autoDetectLongPolling=A.autoDetectLongPolling,this.useFetchStreams=A.useFetchStreams,this.longPollingOptions=A.longPollingOptions}vo(A,e,r,n){const s=Ya();return new Promise((i,a)=>{const l=new Eg;l.setWithCredentials(!0),l.listenOnce(vg.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yi.NO_ERROR:const u=l.getResponseJson();$(ye,`XHR for RPC '${A}' ${s} received:`,JSON.stringify(u)),i(u);break;case yi.TIMEOUT:$(ye,`RPC '${A}' ${s} timed out`),a(new rA(N.DEADLINE_EXCEEDED,"Request time out"));break;case yi.HTTP_ERROR:const f=l.getStatus();if($(ye,`RPC '${A}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const B=g==null?void 0:g.error;if(B&&B.status&&B.message){const C=function(F){const S=F.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(S)>=0?S:N.UNKNOWN}(B.status);a(new rA(C,B.message))}else a(new rA(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new rA(N.UNAVAILABLE,"Connection failed."));break;default:hA()}}finally{$(ye,`RPC '${A}' ${s} completed.`)}});const c=JSON.stringify(n);$(ye,`RPC '${A}' ${s} sending request:`,n),l.send(e,"POST",c,r,15)})}Wo(A,e,r){const n=Ya(),s=[this.po,"/","google.firestore.v1.Firestore","/",A,"/channel"],i=Ig(),a=Fg(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,e,r),l.encodeInitMessageHeaders=!0;const u=s.join("");$(ye,`Creating RPC '${A}' stream ${n}: ${u}`,l);const f=i.createWebChannel(u,l);let g=!1,B=!1;const C=new XQ({Fo:F=>{B?$(ye,`Not sending because RPC '${A}' stream ${n} is closed:`,F):(g||($(ye,`Opening RPC '${A}' stream ${n} transport.`),f.open(),g=!0),$(ye,`RPC '${A}' stream ${n} sending:`,F),f.send(F))},Mo:()=>f.close()}),y=(F,S,R)=>{F.listen(S,H=>{try{R(H)}catch(x){setTimeout(()=>{throw x},0)}})};return y(f,kn.EventType.OPEN,()=>{B||($(ye,`RPC '${A}' stream ${n} transport opened.`),C.Qo())}),y(f,kn.EventType.CLOSE,()=>{B||(B=!0,$(ye,`RPC '${A}' stream ${n} transport closed`),C.Uo())}),y(f,kn.EventType.ERROR,F=>{B||(B=!0,rn(ye,`RPC '${A}' stream ${n} transport errored:`,F),C.Uo(new rA(N.UNAVAILABLE,"The operation could not be completed")))}),y(f,kn.EventType.MESSAGE,F=>{var S;if(!B){const R=F.data[0];RA(!!R);const H=R,x=(H==null?void 0:H.error)||((S=H[0])===null||S===void 0?void 0:S.error);if(x){$(ye,`RPC '${A}' stream ${n} received error:`,x);const P=x.status;let L=function(Q){const I=ZA[Q];if(I!==void 0)return oB(I)}(P),E=x.message;L===void 0&&(L=N.INTERNAL,E="Unknown error status: "+P+" with message "+x.message),B=!0,C.Uo(new rA(L,E)),f.close()}else $(ye,`RPC '${A}' stream ${n} received:`,R),C.Ko(R)}}),y(a,Ug.STAT_EVENT,F=>{F.stat===Ma.PROXY?$(ye,`RPC '${A}' stream ${n} detected buffering proxy`):F.stat===Ma.NOPROXY&&$(ye,`RPC '${A}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function aa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){return new Zy(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(A,e,r=1e3,n=1.5,s=6e4){this.Ti=A,this.timerId=e,this.Go=r,this.zo=n,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(A){this.cancel();const e=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),n=Math.max(0,e-r);n>0&&$("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,()=>(this.Yo=Date.now(),A())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="PersistentStream";class QB{constructor(A,e,r,n,s,i,a,l){this.Ti=A,this.n_=r,this.r_=n,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yB(A,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(A){this.E_(),this.stream.send(A)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(A,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,A!==4?this.a_.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(It(e.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=A,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const A=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,n])=>{this.i_===e&&this.V_(r,n)},r=>{A(()=>{const n=new rA(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(n)})})}V_(A,e){const r=this.R_(this.i_);this.stream=this.f_(A,e),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(n=>{r(()=>this.m_(n))}),this.stream.onMessage(n=>{r(()=>++this.__==1?this.g_(n):this.onNext(n))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(A){return $(vh,`close with error: ${A}`),this.stream=null,this.close(4,A)}R_(A){return e=>{this.Ti.enqueueAndForget(()=>this.i_===A?e():($(vh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qQ extends QB{constructor(A,e,r,n,s,i){super(A,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}f_(A,e){return this.connection.Wo("Listen",A,e)}g_(A){return this.onNext(A)}onNext(A){this.a_.reset();const e=eQ(this.serializer,A),r=function(s){if(!("targetChange"in s))return pA.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?pA.min():i.readTime?ht(i.readTime):pA.min()}(A);return this.listener.p_(e,r)}y_(A){const e={};e.database=qa(this.serializer),e.addTarget=function(s,i){let a;const l=i.target;if(a=Ga(l)?{documents:nQ(s,l)}:{query:sQ(s,l).ht},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=cB(s,i.resumeToken);const c=ja(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(pA.min())>0){a.readTime=Ki(s,i.snapshotVersion.toTimestamp());const c=ja(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,A);const r=oQ(this.serializer,A);r&&(e.labels=r),this.I_(e)}w_(A){const e={};e.database=qa(this.serializer),e.removeTarget=A,this.I_(e)}}class zQ extends QB{constructor(A,e,r,n,s,i){super(A,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(A,e){return this.connection.Wo("Write",A,e)}g_(A){return RA(!!A.streamToken),this.lastStreamToken=A.streamToken,RA(!A.writeResults||A.writeResults.length===0),this.listener.D_()}onNext(A){RA(!!A.streamToken),this.lastStreamToken=A.streamToken,this.a_.reset();const e=rQ(A.writeResults,A.commitTime),r=ht(A.commitTime);return this.listener.v_(r,e)}C_(){const A={};A.database=qa(this.serializer),this.I_(A)}b_(A){const e={streamToken:this.lastStreamToken,writes:A.map(r=>tQ(this.serializer,r))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{}class ZQ extends YQ{constructor(A,e,r,n){super(),this.authCredentials=A,this.appCheckCredentials=e,this.connection=r,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new rA(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(A,e,r,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.So(A,Xa(e,r),n,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new rA(N.UNKNOWN,s.toString())})}Co(A,e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Co(A,Xa(e,r),n,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new rA(N.UNKNOWN,i.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $Q{constructor(A,e){this.asyncQueue=A,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(A){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${A.toString()}`),this.L_("Offline")))}set(A){this.Q_(),this.x_=0,A==="Online"&&(this.N_=!1),this.L_(A)}L_(A){A!==this.state&&(this.state=A,this.onlineStateHandler(A))}k_(A){const e=`Could not reach Cloud Firestore backend. ${A}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(It(e),this.N_=!1):$("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="RemoteStore";class A_{constructor(A,e,r,n,s){this.localStore=A,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(i=>{r.enqueueAndForget(async()=>{Tr(this)&&($(Ur,"Restarting streams for network reachability change."),await async function(l){const c=mA(l);c.W_.add(4),await ms(c),c.j_.set("Unknown"),c.W_.delete(4),await po(c)}(this))})}),this.j_=new $Q(r,n)}}async function po(t){if(Tr(t))for(const A of t.G_)await A(!0)}async function ms(t){for(const A of t.G_)await A(!1)}function _B(t,A){const e=mA(t);e.K_.has(A.targetId)||(e.K_.set(A.targetId,A),ql(e)?Jl(e):gn(e).c_()&&Xl(e,A))}function jl(t,A){const e=mA(t),r=gn(e);e.K_.delete(A),r.c_()&&EB(e,A),e.K_.size===0&&(r.c_()?r.P_():Tr(e)&&e.j_.set("Unknown"))}function Xl(t,A){if(t.H_.Ne(A.targetId),A.resumeToken.approximateByteSize()>0||A.snapshotVersion.compareTo(pA.min())>0){const e=t.remoteSyncer.getRemoteKeysForTarget(A.targetId).size;A=A.withExpectedCount(e)}gn(t).y_(A)}function EB(t,A){t.H_.Ne(A),gn(t).w_(A)}function Jl(t){t.H_=new Jy({getRemoteKeysForTarget:A=>t.remoteSyncer.getRemoteKeysForTarget(A),lt:A=>t.K_.get(A)||null,it:()=>t.datastore.serializer.databaseId}),gn(t).start(),t.j_.B_()}function ql(t){return Tr(t)&&!gn(t).u_()&&t.K_.size>0}function Tr(t){return mA(t).W_.size===0}function vB(t){t.H_=void 0}async function e_(t){t.j_.set("Online")}async function t_(t){t.K_.forEach((A,e)=>{Xl(t,A)})}async function r_(t,A){vB(t),ql(t)?(t.j_.q_(A),Jl(t)):t.j_.set("Unknown")}async function n_(t,A,e){if(t.j_.set("Online"),A instanceof lB&&A.state===2&&A.cause)try{await async function(n,s){const i=s.cause;for(const a of s.targetIds)n.K_.has(a)&&(await n.remoteSyncer.rejectListen(a,i),n.K_.delete(a),n.H_.removeTarget(a))}(t,A)}catch(r){$(Ur,"Failed to remove targets %s: %s ",A.targetIds.join(","),r),await Ni(t,r)}else if(A instanceof vi?t.H_.We(A):A instanceof aB?t.H_.Ze(A):t.H_.je(A),!e.isEqual(pA.min()))try{const r=await CB(t.localStore);e.compareTo(r)>=0&&await function(s,i){const a=s.H_.ot(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.K_.get(c);u&&s.K_.set(c,u.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const u=s.K_.get(l);if(!u)return;s.K_.set(l,u.withResumeToken(we.EMPTY_BYTE_STRING,u.snapshotVersion)),EB(s,l);const f=new Mt(u.target,l,c,u.sequenceNumber);Xl(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,e)}catch(r){$(Ur,"Failed to raise snapshot:",r),await Ni(t,r)}}async function Ni(t,A,e){if(!dn(A))throw A;t.W_.add(1),await ms(t),t.j_.set("Offline"),e||(e=()=>CB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(Ur,"Retrying IndexedDB access"),await e(),t.W_.delete(1),await po(t)})}function UB(t,A){return A().catch(e=>Ni(t,e,A))}async function wo(t){const A=mA(t),e=$t(A);let r=A.U_.length>0?A.U_[A.U_.length-1].batchId:Sl;for(;s_(A);)try{const n=await PQ(A.localStore,r);if(n===null){A.U_.length===0&&e.P_();break}r=n.batchId,i_(A,n)}catch(n){await Ni(A,n)}FB(A)&&IB(A)}function s_(t){return Tr(t)&&t.U_.length<10}function i_(t,A){t.U_.push(A);const e=$t(t);e.c_()&&e.S_&&e.b_(A.mutations)}function FB(t){return Tr(t)&&!$t(t).u_()&&t.U_.length>0}function IB(t){$t(t).start()}async function o_(t){$t(t).C_()}async function a_(t){const A=$t(t);for(const e of t.U_)A.b_(e.mutations)}async function l_(t,A,e){const r=t.U_.shift(),n=Ml.from(r,A,e);await UB(t,()=>t.remoteSyncer.applySuccessfulWrite(n)),await wo(t)}async function c_(t,A){A&&$t(t).S_&&await async function(r,n){if(function(i){return jy(i)&&i!==N.ABORTED}(n.code)){const s=r.U_.shift();$t(r).h_(),await UB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,n)),await wo(r)}}(t,A),FB(t)&&IB(t)}async function Uh(t,A){const e=mA(t);e.asyncQueue.verifyOperationInProgress(),$(Ur,"RemoteStore received new credentials");const r=Tr(e);e.W_.add(3),await ms(e),r&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(A),e.W_.delete(3),await po(e)}async function u_(t,A){const e=mA(t);A?(e.W_.delete(2),await po(e)):A||(e.W_.add(2),await ms(e),e.j_.set("Unknown"))}function gn(t){return t.J_||(t.J_=function(e,r,n){const s=mA(e);return s.M_(),new qQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:e_.bind(null,t),No:t_.bind(null,t),Lo:r_.bind(null,t),p_:n_.bind(null,t)}),t.G_.push(async A=>{A?(t.J_.h_(),ql(t)?Jl(t):t.j_.set("Unknown")):(await t.J_.stop(),vB(t))})),t.J_}function $t(t){return t.Y_||(t.Y_=function(e,r,n){const s=mA(e);return s.M_(),new zQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:o_.bind(null,t),Lo:c_.bind(null,t),D_:a_.bind(null,t),v_:l_.bind(null,t)}),t.G_.push(async A=>{A?(t.Y_.h_(),await wo(t)):(await t.Y_.stop(),t.U_.length>0&&($(Ur,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(A,e,r,n,s){this.asyncQueue=A,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=s,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(A,e,r,n,s){const i=Date.now()+r,a=new zl(A,e,i,n,s);return a.start(r),a}start(A){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),A)}skipDelay(){return this.handleDelayElapsed()}cancel(A){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rA(N.CANCELLED,"Operation cancelled"+(A?": "+A:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(A=>this.deferred.resolve(A))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yl(t,A){if(It("AsyncQueue",`${A}: ${t}`),dn(t))return new rA(N.UNAVAILABLE,`${A}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{static emptySet(A){return new An(A.comparator)}constructor(A){this.comparator=A?(e,r)=>A(e,r)||aA.comparator(e.key,r.key):(e,r)=>aA.comparator(e.key,r.key),this.keyedMap=Vn(),this.sortedSet=new WA(this.comparator)}has(A){return this.keyedMap.get(A)!=null}get(A){return this.keyedMap.get(A)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(A){const e=this.keyedMap.get(A);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(A){this.sortedSet.inorderTraversal((e,r)=>(A(e),!1))}add(A){const e=this.delete(A.key);return e.copy(e.keyedMap.insert(A.key,A),e.sortedSet.insert(A,null))}delete(A){const e=this.get(A);return e?this.copy(this.keyedMap.remove(A),this.sortedSet.remove(e)):this}isEqual(A){if(!(A instanceof An)||this.size!==A.size)return!1;const e=this.sortedSet.getIterator(),r=A.sortedSet.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(!n.isEqual(s))return!1}return!0}toString(){const A=[];return this.forEach(e=>{A.push(e.toString())}),A.length===0?"DocumentSet ()":`DocumentSet (
  `+A.join(`  
`)+`
)`}copy(A,e){const r=new An;return r.comparator=this.comparator,r.keyedMap=A,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.Z_=new WA(aA.comparator)}track(A){const e=A.doc.key,r=this.Z_.get(e);r?A.type!==0&&r.type===3?this.Z_=this.Z_.insert(e,A):A.type===3&&r.type!==1?this.Z_=this.Z_.insert(e,{type:r.type,doc:A.doc}):A.type===2&&r.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):A.type===2&&r.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:A.doc}):A.type===1&&r.type===0?this.Z_=this.Z_.remove(e):A.type===1&&r.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:r.doc}):A.type===0&&r.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):hA():this.Z_=this.Z_.insert(e,A)}X_(){const A=[];return this.Z_.inorderTraversal((e,r)=>{A.push(r)}),A}}class ln{constructor(A,e,r,n,s,i,a,l,c){this.query=A,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(A,e,r,n,s){const i=[];return e.forEach(a=>{i.push({type:0,doc:a})}),new ln(A,e,An.emptySet(e),i,r,n,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(A){if(!(this.fromCache===A.fromCache&&this.hasCachedResults===A.hasCachedResults&&this.syncStateChanged===A.syncStateChanged&&this.mutatedKeys.isEqual(A.mutatedKeys)&&co(this.query,A.query)&&this.docs.isEqual(A.docs)&&this.oldDocs.isEqual(A.oldDocs)))return!1;const e=this.docChanges,r=A.docChanges;if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==r[n].type||!e[n].doc.isEqual(r[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(A=>A.ra())}}class f_{constructor(){this.queries=Ih(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,r){const n=mA(e),s=n.queries;n.queries=Ih(),s.forEach((i,a)=>{for(const l of a.ta)l.onError(r)})})(this,new rA(N.ABORTED,"Firestore shutting down"))}}function Ih(){return new br(t=>qg(t),co)}async function Zl(t,A){const e=mA(t);let r=3;const n=A.query;let s=e.queries.get(n);s?!s.na()&&A.ra()&&(r=2):(s=new h_,r=A.ra()?0:1);try{switch(r){case 0:s.ea=await e.onListen(n,!0);break;case 1:s.ea=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(i){const a=Yl(i,`Initialization of query '${Jr(A.query)}' failed`);return void A.onError(a)}e.queries.set(n,s),s.ta.push(A),A.sa(e.onlineState),s.ea&&A.oa(s.ea)&&Ac(e)}async function $l(t,A){const e=mA(t),r=A.query;let n=3;const s=e.queries.get(r);if(s){const i=s.ta.indexOf(A);i>=0&&(s.ta.splice(i,1),s.ta.length===0?n=A.ra()?0:1:!s.na()&&A.ra()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function d_(t,A){const e=mA(t);let r=!1;for(const n of A){const s=n.query,i=e.queries.get(s);if(i){for(const a of i.ta)a.oa(n)&&(r=!0);i.ea=n}}r&&Ac(e)}function g_(t,A,e){const r=mA(t),n=r.queries.get(A);if(n)for(const s of n.ta)s.onError(e);r.queries.delete(A)}function Ac(t){t.ia.forEach(A=>{A.next()})}var Za,bh;(bh=Za||(Za={}))._a="default",bh.Cache="cache";class ec{constructor(A,e,r){this.query=A,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(A){if(!this.options.includeMetadataChanges){const r=[];for(const n of A.docChanges)n.type!==3&&r.push(n);A=new ln(A.query,A.docs,A.oldDocs,r,A.mutatedKeys,A.fromCache,A.syncStateChanged,!0,A.hasCachedResults)}let e=!1;return this.ua?this.la(A)&&(this.aa.next(A),e=!0):this.ha(A,this.onlineState)&&(this.Pa(A),e=!0),this.ca=A,e}onError(A){this.aa.error(A)}sa(A){this.onlineState=A;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,A)&&(this.Pa(this.ca),e=!0),e}ha(A,e){if(!A.fromCache||!this.ra())return!0;const r=e!=="Offline";return(!this.options.Ta||!r)&&(!A.docs.isEmpty()||A.hasCachedResults||e==="Offline")}la(A){if(A.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==A.hasPendingWrites;return!(!A.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(A){A=ln.fromInitialDocuments(A.query,A.docs,A.mutatedKeys,A.fromCache,A.hasCachedResults),this.ua=!0,this.aa.next(A)}ra(){return this.options.source!==Za.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(A){this.key=A}}class TB{constructor(A){this.key=A}}class B_{constructor(A,e){this.query=A,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=UA(),this.mutatedKeys=UA(),this.ya=zg(A),this.wa=new An(this.ya)}get Sa(){return this.fa}ba(A,e){const r=e?e.Da:new Fh,n=e?e.wa:this.wa;let s=e?e.mutatedKeys:this.mutatedKeys,i=n,a=!1;const l=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,c=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(A.inorderTraversal((u,f)=>{const g=n.get(u),B=uo(this.query,f)?f:null,C=!!g&&this.mutatedKeys.has(g.key),y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let F=!1;g&&B?g.data.isEqual(B.data)?C!==y&&(r.track({type:3,doc:B}),F=!0):this.va(g,B)||(r.track({type:2,doc:B}),F=!0,(l&&this.ya(B,l)>0||c&&this.ya(B,c)<0)&&(a=!0)):!g&&B?(r.track({type:0,doc:B}),F=!0):g&&!B&&(r.track({type:1,doc:g}),F=!0,(l||c)&&(a=!0)),F&&(B?(i=i.add(B),s=y?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:i,Da:r,ls:a,mutatedKeys:s}}va(A,e){return A.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(A,e,r,n){const s=this.wa;this.wa=A.wa,this.mutatedKeys=A.mutatedKeys;const i=A.Da.X_();i.sort((u,f)=>function(B,C){const y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hA()}};return y(B)-y(C)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),n=n!=null&&n;const a=e&&!n?this.Fa():[],l=this.pa.size===0&&this.current&&!n?1:0,c=l!==this.ga;return this.ga=l,i.length!==0||c?{snapshot:new ln(this.query,A.wa,s,i,A.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(A){return this.current&&A==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Fh,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(A){return!this.fa.has(A)&&!!this.wa.has(A)&&!this.wa.get(A).hasLocalMutations}Ca(A){A&&(A.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),A.modifiedDocuments.forEach(e=>{}),A.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=A.current)}Fa(){if(!this.current)return[];const A=this.pa;this.pa=UA(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const e=[];return A.forEach(r=>{this.pa.has(r)||e.push(new TB(r))}),this.pa.forEach(r=>{A.has(r)||e.push(new bB(r))}),e}Oa(A){this.fa=A.gs,this.pa=UA();const e=this.ba(A.documents);return this.applyChanges(e,!0)}Na(){return ln.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tc="SyncEngine";class p_{constructor(A,e,r){this.query=A,this.targetId=e,this.view=r}}class w_{constructor(A){this.key=A,this.Ba=!1}}class m_{constructor(A,e,r,n,s,i){this.localStore=A,this.remoteStore=e,this.eventManager=r,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.La={},this.ka=new br(a=>qg(a),co),this.qa=new Map,this.Qa=new Set,this.$a=new WA(aA.comparator),this.Ua=new Map,this.Ka=new Ol,this.Wa={},this.Ga=new Map,this.za=an.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function C_(t,A,e=!0){const r=kB(t);let n;const s=r.ka.get(A);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Na()):n=await HB(r,A,e,!0),n}async function y_(t,A){const e=kB(t);await HB(e,A,!0,!1)}async function HB(t,A,e,r){const n=await KQ(t.localStore,ut(A)),s=n.targetId,i=t.sharedClientState.addLocalQueryTarget(s,e);let a;return r&&(a=await Q_(t,A,s,i==="current",n.resumeToken)),t.isPrimaryClient&&e&&_B(t.remoteStore,n),a}async function Q_(t,A,e,r,n){t.Ha=(f,g,B)=>async function(y,F,S,R){let H=F.view.ba(S);H.ls&&(H=await yh(y.localStore,F.query,!1).then(({documents:E})=>F.view.ba(E,H)));const x=R&&R.targetChanges.get(F.targetId),P=R&&R.targetMismatches.get(F.targetId)!=null,L=F.view.applyChanges(H,y.isPrimaryClient,x,P);return Hh(y,F.targetId,L.Ma),L.snapshot}(t,f,g,B);const s=await yh(t.localStore,A,!0),i=new B_(A,s.gs),a=i.ba(s.documents),l=ws.createSynthesizedTargetChangeForCurrentChange(e,r&&t.onlineState!=="Offline",n),c=i.applyChanges(a,t.isPrimaryClient,l);Hh(t,e,c.Ma);const u=new p_(A,e,i);return t.ka.set(A,u),t.qa.has(e)?t.qa.get(e).push(A):t.qa.set(e,[A]),c.snapshot}async function __(t,A,e){const r=mA(t),n=r.ka.get(A),s=r.qa.get(n.targetId);if(s.length>1)return r.qa.set(n.targetId,s.filter(i=>!co(i,A))),void r.ka.delete(A);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await za(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),e&&jl(r.remoteStore,n.targetId),$a(r,n.targetId)}).catch(fn)):($a(r,n.targetId),await za(r.localStore,n.targetId,!0))}async function E_(t,A){const e=mA(t),r=e.ka.get(A),n=e.qa.get(r.targetId);e.isPrimaryClient&&n.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),jl(e.remoteStore,r.targetId))}async function v_(t,A,e){const r=S_(t);try{const n=await function(i,a){const l=mA(i),c=se.now(),u=a.reduce((B,C)=>B.add(C.key),UA());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",B=>{let C=bt(),y=UA();return l.ds.getEntries(B,u).next(F=>{C=F,C.forEach((S,R)=>{R.isValidDocument()||(y=y.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(B,C)).next(F=>{f=F;const S=[];for(const R of a){const H=Ky(R,f.get(R.key).overlayedDocument);H!=null&&S.push(new sr(R.key,H,Og(H.value.mapValue),Ge.exists(!0)))}return l.mutationQueue.addMutationBatch(B,c,S,a)}).next(F=>{g=F;const S=F.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(B,F.batchId,S)})}).then(()=>({batchId:g.batchId,changes:Zg(f)}))}(r.localStore,A);r.sharedClientState.addPendingMutation(n.batchId),function(i,a,l){let c=i.Wa[i.currentUser.toKey()];c||(c=new WA(yA)),c=c.insert(a,l),i.Wa[i.currentUser.toKey()]=c}(r,n.batchId,e),await Cs(r,n.changes),await wo(r.remoteStore)}catch(n){const s=Yl(n,"Failed to persist write");e.reject(s)}}async function SB(t,A){const e=mA(t);try{const r=await xQ(e.localStore,A);A.targetChanges.forEach((n,s)=>{const i=e.Ua.get(s);i&&(RA(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?i.Ba=!0:n.modifiedDocuments.size>0?RA(i.Ba):n.removedDocuments.size>0&&(RA(i.Ba),i.Ba=!1))}),await Cs(e,r,A)}catch(r){await fn(r)}}function Th(t,A,e){const r=mA(t);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const n=[];r.ka.forEach((s,i)=>{const a=i.view.sa(A);a.snapshot&&n.push(a.snapshot)}),function(i,a){const l=mA(i);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const g of f.ta)g.sa(a)&&(c=!0)}),c&&Ac(l)}(r.eventManager,A),n.length&&r.La.p_(n),r.onlineState=A,r.isPrimaryClient&&r.sharedClientState.setOnlineState(A)}}async function U_(t,A,e){const r=mA(t);r.sharedClientState.updateQueryState(A,"rejected",e);const n=r.Ua.get(A),s=n&&n.key;if(s){let i=new WA(aA.comparator);i=i.insert(s,Ee.newNoDocument(s,pA.min()));const a=UA().add(s),l=new go(pA.min(),new Map,new WA(yA),i,a);await SB(r,l),r.$a=r.$a.remove(s),r.Ua.delete(A),rc(r)}else await za(r.localStore,A,!1).then(()=>$a(r,A,e)).catch(fn)}async function F_(t,A){const e=mA(t),r=A.batch.batchId;try{const n=await VQ(e.localStore,A);DB(e,r,null),RB(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Cs(e,n)}catch(n){await fn(n)}}async function I_(t,A,e){const r=mA(t);try{const n=await function(i,a){const l=mA(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(RA(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,A);DB(r,A,e),RB(r,A),r.sharedClientState.updateMutationState(A,"rejected",e),await Cs(r,n)}catch(n){await fn(n)}}function RB(t,A){(t.Ga.get(A)||[]).forEach(e=>{e.resolve()}),t.Ga.delete(A)}function DB(t,A,e){const r=mA(t);let n=r.Wa[r.currentUser.toKey()];if(n){const s=n.get(A);s&&(e?s.reject(e):s.resolve(),n=n.remove(A)),r.Wa[r.currentUser.toKey()]=n}}function $a(t,A,e=null){t.sharedClientState.removeLocalQueryTarget(A);for(const r of t.qa.get(A))t.ka.delete(r),e&&t.La.Ja(r,e);t.qa.delete(A),t.isPrimaryClient&&t.Ka.br(A).forEach(r=>{t.Ka.containsKey(r)||LB(t,r)})}function LB(t,A){t.Qa.delete(A.path.canonicalString());const e=t.$a.get(A);e!==null&&(jl(t.remoteStore,e),t.$a=t.$a.remove(A),t.Ua.delete(e),rc(t))}function Hh(t,A,e){for(const r of e)r instanceof bB?(t.Ka.addReference(r.key,A),b_(t,r)):r instanceof TB?($(tc,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,A),t.Ka.containsKey(r.key)||LB(t,r.key)):hA()}function b_(t,A){const e=A.key,r=e.path.canonicalString();t.$a.get(e)||t.Qa.has(r)||($(tc,"New document in limbo: "+e),t.Qa.add(r),rc(t))}function rc(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const A=t.Qa.values().next().value;t.Qa.delete(A);const e=new aA(GA.fromString(A)),r=t.za.next();t.Ua.set(r,new w_(e)),t.$a=t.$a.insert(e,r),_B(t.remoteStore,new Mt(ut(lo(e.path)),r,"TargetPurposeLimboResolution",so.ae))}}async function Cs(t,A,e){const r=mA(t),n=[],s=[],i=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{i.push(r.Ha(l,A,e).then(c=>{var u;if((c||e)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=e==null?void 0:e.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){n.push(c);const f=Gl.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(i),r.La.p_(n),await async function(l,c){const u=mA(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(c,g=>K.forEach(g.Hi,B=>u.persistence.referenceDelegate.addReference(f,g.targetId,B)).next(()=>K.forEach(g.Ji,B=>u.persistence.referenceDelegate.removeReference(f,g.targetId,B)))))}catch(f){if(!dn(f))throw f;$(Wl,"Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const B=u.Ts.get(g),C=B.snapshotVersion,y=B.withLastLimboFreeSnapshotVersion(C);u.Ts=u.Ts.insert(g,y)}}}(r.localStore,s))}async function T_(t,A){const e=mA(t);if(!e.currentUser.isEqual(A)){$(tc,"User change. New user:",A.toKey());const r=await mB(e.localStore,A);e.currentUser=A,function(s,i){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new rA(N.CANCELLED,i))})}),s.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(A,r.removedBatchIds,r.addedBatchIds),await Cs(e,r.Rs)}}function H_(t,A){const e=mA(t),r=e.Ua.get(A);if(r&&r.Ba)return UA().add(r.key);{let n=UA();const s=e.qa.get(A);if(!s)return n;for(const i of s){const a=e.ka.get(i);n=n.unionWith(a.view.Sa)}return n}}function kB(t){const A=mA(t);return A.remoteStore.remoteSyncer.applyRemoteEvent=SB.bind(null,A),A.remoteStore.remoteSyncer.getRemoteKeysForTarget=H_.bind(null,A),A.remoteStore.remoteSyncer.rejectListen=U_.bind(null,A),A.La.p_=d_.bind(null,A.eventManager),A.La.Ja=g_.bind(null,A.eventManager),A}function S_(t){const A=mA(t);return A.remoteStore.remoteSyncer.applySuccessfulWrite=F_.bind(null,A),A.remoteStore.remoteSyncer.rejectFailedWrite=I_.bind(null,A),A}class Gi{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(A){this.serializer=Bo(A.databaseInfo.databaseId),this.sharedClientState=this.Za(A),this.persistence=this.Xa(A),await this.persistence.start(),this.localStore=this.eu(A),this.gcScheduler=this.tu(A,this.localStore),this.indexBackfillerScheduler=this.nu(A,this.localStore)}tu(A,e){return null}nu(A,e){return null}eu(A){return kQ(this.persistence,new RQ,A.initialUser,this.serializer)}Xa(A){return new wB(Nl.ri,this.serializer)}Za(A){return new NQ}async terminate(){var A,e;(A=this.gcScheduler)===null||A===void 0||A.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gi.provider={build:()=>new Gi};class R_ extends Gi{constructor(A){super(),this.cacheSizeBytes=A}tu(A,e){RA(this.persistence.referenceDelegate instanceof Oi);const r=this.persistence.referenceDelegate.garbageCollector;return new wQ(r,A.asyncQueue,e)}Xa(A){const e=this.cacheSizeBytes!==void 0?be.withCacheSize(this.cacheSizeBytes):be.DEFAULT;return new wB(r=>Oi.ri(r,e),this.serializer)}}class Al{async initialize(A,e){this.localStore||(this.localStore=A.localStore,this.sharedClientState=A.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!A.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Th(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T_.bind(null,this.syncEngine),await u_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(A){return function(){return new f_}()}createDatastore(A){const e=Bo(A.databaseInfo.databaseId),r=function(s){return new JQ(s)}(A.databaseInfo);return function(s,i,a,l){return new ZQ(s,i,a,l)}(A.authCredentials,A.appCheckCredentials,r,e)}createRemoteStore(A){return function(r,n,s,i,a){return new A_(r,n,s,i,a)}(this.localStore,this.datastore,A.asyncQueue,e=>Th(this.syncEngine,e,0),function(){return Eh.D()?new Eh:new GQ}())}createSyncEngine(A,e){return function(n,s,i,a,l,c,u){const f=new m_(n,s,i,a,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,A.initialUser,A.maxConcurrentLimboResolutions,e)}async terminate(){var A,e;await async function(n){const s=mA(n);$(Ur,"RemoteStore shutting down."),s.W_.add(5),await ms(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(A=this.datastore)===null||A===void 0||A.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Al.provider={build:()=>new Al};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(A){this.observer=A,this.muted=!1}next(A){this.muted||this.observer.next&&this.iu(this.observer.next,A)}error(A){this.muted||(this.observer.error?this.iu(this.observer.error,A):It("Uncaught Error in snapshot listener:",A.toString()))}su(){this.muted=!0}iu(A,e){setTimeout(()=>{this.muted||A(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class D_{constructor(A,e,r,n,s){this.authCredentials=A,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=n,this.user=Qe.UNAUTHENTICATED,this.clientId=Hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async i=>{$(Ar,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>($(Ar,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(A){this.authCredentialListener=A}setAppCheckTokenChangeListener(A){this.appCheckCredentialListener=A}terminate(){this.asyncQueue.enterRestrictedMode();const A=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),A.resolve()}catch(e){const r=Yl(e,"Failed to shutdown persistence");A.reject(r)}}),A.promise}}async function la(t,A){t.asyncQueue.verifyOperationInProgress(),$(Ar,"Initializing OfflineComponentProvider");const e=t.configuration;await A.initialize(e);let r=e.initialUser;t.setCredentialChangeListener(async n=>{r.isEqual(n)||(await mB(A.localStore,n),r=n)}),A.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=A}async function Sh(t,A){t.asyncQueue.verifyOperationInProgress();const e=await L_(t);$(Ar,"Initializing OnlineComponentProvider"),await A.initialize(e,t.configuration),t.setCredentialChangeListener(r=>Uh(A.remoteStore,r)),t.setAppCheckTokenChangeListener((r,n)=>Uh(A.remoteStore,n)),t._onlineComponents=A}async function L_(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Ar,"Using user provided OfflineComponentProvider");try{await la(t,t._uninitializedComponentsProvider._offline)}catch(A){const e=A;if(!function(n){return n.name==="FirebaseError"?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(e))throw e;rn("Error using user provided cache. Falling back to memory cache: "+e),await la(t,new Gi)}}else $(Ar,"Using default OfflineComponentProvider"),await la(t,new R_(void 0));return t._offlineComponents}async function VB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Ar,"Using user provided OnlineComponentProvider"),await Sh(t,t._uninitializedComponentsProvider._online)):($(Ar,"Using default OnlineComponentProvider"),await Sh(t,new Al))),t._onlineComponents}function k_(t){return VB(t).then(A=>A.syncEngine)}async function Wi(t){const A=await VB(t),e=A.eventManager;return e.onListen=C_.bind(null,A.syncEngine),e.onUnlisten=__.bind(null,A.syncEngine),e.onFirstRemoteStoreListen=y_.bind(null,A.syncEngine),e.onLastRemoteStoreUnlisten=E_.bind(null,A.syncEngine),e}function V_(t,A,e={}){const r=new vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new nc({next:g=>{u.su(),i.enqueueAndForget(()=>$l(s,f));const B=g.docs.has(a);!B&&g.fromCache?c.reject(new rA(N.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&g.fromCache&&l&&l.source==="server"?c.reject(new rA(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new ec(lo(a.path),u,{includeMetadataChanges:!0,Ta:!0});return Zl(s,f)}(await Wi(t),t.asyncQueue,A,e,r)),r.promise}function x_(t,A,e={}){const r=new vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new nc({next:g=>{u.su(),i.enqueueAndForget(()=>$l(s,f)),g.fromCache&&l.source==="server"?c.reject(new rA(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new ec(a,u,{includeMetadataChanges:!0,Ta:!0});return Zl(s,f)}(await Wi(t),t.asyncQueue,A,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){const A={};return t.timeoutSeconds!==void 0&&(A.timeoutSeconds=t.timeoutSeconds),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t,A,e){if(!e)throw new rA(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${A}.`)}function M_(t,A,e,r){if(A===!0&&r===!0)throw new rA(N.INVALID_ARGUMENT,`${t} and ${e} cannot be used together.`)}function Dh(t){if(!aA.isDocumentKey(t))throw new rA(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lh(t){if(aA.isDocumentKey(t))throw new rA(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const A=function(r){return r.constructor?r.constructor.name:null}(t);return A?`a custom ${A} object`:"an object"}}return typeof t=="function"?"a function":hA()}function We(t,A){if("_delegate"in t&&(t=t._delegate),!(t instanceof A)){if(A.name===t.constructor.name)throw new rA(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=sc(t);throw new rA(N.INVALID_ARGUMENT,`Expected type '${A.name}', but it was: ${e}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="firestore.googleapis.com",kh=!0;class Vh{constructor(A){var e,r;if(A.host===void 0){if(A.ssl!==void 0)throw new rA(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PB,this.ssl=kh}else this.host=A.host,this.ssl=(e=A.ssl)!==null&&e!==void 0?e:kh;if(this.credentials=A.credentials,this.ignoreUndefinedProperties=!!A.ignoreUndefinedProperties,this.localCache=A.localCache,A.cacheSizeBytes===void 0)this.cacheSizeBytes=pB;else{if(A.cacheSizeBytes!==-1&&A.cacheSizeBytes<BQ)throw new rA(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=A.cacheSizeBytes}M_("experimentalForceLongPolling",A.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",A.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!A.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:A.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!A.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xB((r=A.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!A.useFetchStreams}isEqual(A){return this.host===A.host&&this.ssl===A.ssl&&this.credentials===A.credentials&&this.cacheSizeBytes===A.cacheSizeBytes&&this.experimentalForceLongPolling===A.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===A.experimentalAutoDetectLongPolling&&function(r,n){return r.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,A.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===A.ignoreUndefinedProperties&&this.useFetchStreams===A.useFetchStreams}}class mo{constructor(A,e,r,n){this._authCredentials=A,this._appCheckCredentials=e,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rA(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(A){if(this._settingsFrozen)throw new rA(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vh(A),this._emulatorOptions=A.emulatorOptions||{},A.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X0;switch(r.type){case"firstParty":return new Y0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rA(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(A.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Rh.get(e);r&&($("ComponentProvider","Removing Datastore"),Rh.delete(e),r.terminate())}(this),Promise.resolve()}}function P_(t,A,e,r={}){var n;const s=(t=We(t,mo))._getSettings(),i=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${A}:${e}`;s.host!==PB&&s.host!==a&&rn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Hi(l,i)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Qe.MOCK_USER;else{c=sm(r.mockUserToken,(n=t._app)===null||n===void 0?void 0:n.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new rA(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(f)}t._authCredentials=new J0(new bg(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(A,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=A}withConverter(A){return new ys(this.firestore,A,this._query)}}class Ie{constructor(A,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=A}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jt(this.firestore,this.converter,this._key.path.popLast())}withConverter(A){return new Ie(this.firestore,A,this._key)}}class jt extends ys{constructor(A,e,r){super(A,e,lo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const A=this._path.popLast();return A.isEmpty()?null:new Ie(this.firestore,null,new aA(A))}withConverter(A){return new jt(this.firestore,A,this._path)}}function Qs(t,A,...e){if(t=et(t),MB("collection","path",A),t instanceof mo){const r=GA.fromString(A,...e);return Lh(r),new jt(t,null,r)}{if(!(t instanceof Ie||t instanceof jt))throw new rA(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(GA.fromString(A,...e));return Lh(r),new jt(t.firestore,null,r)}}function Ht(t,A,...e){if(t=et(t),arguments.length===1&&(A=Hg.newId()),MB("doc","path",A),t instanceof mo){const r=GA.fromString(A,...e);return Dh(r),new Ie(t,null,new aA(r))}{if(!(t instanceof Ie||t instanceof jt))throw new rA(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(GA.fromString(A,...e));return Dh(r),new Ie(t.firestore,t instanceof jt?t.converter:null,new aA(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="AsyncQueue";class Mh{constructor(A=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yB(this,"async_queue_retry"),this.Su=()=>{const r=aa();r&&$(xh,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=A;const e=aa();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(A){this.enqueue(A)}enqueueAndForgetEvenWhileRestricted(A){this.Du(),this.vu(A)}enterRestrictedMode(A){if(!this.mu){this.mu=!0,this.yu=A||!1;const e=aa();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(A){if(this.Du(),this.mu)return new Promise(()=>{});const e=new vt;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(A().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(A){this.enqueueAndForget(()=>(this.Vu.push(A),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(A){if(!dn(A))throw A;$(xh,"Operation failed with retryable error: "+A)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(A){const e=this.bu.then(()=>(this.pu=!0,A().catch(r=>{this.gu=r,this.pu=!1;const n=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw It("INTERNAL UNHANDLED ERROR: ",n),r}).then(r=>(this.pu=!1,r))));return this.bu=e,e}enqueueAfterDelay(A,e,r){this.Du(),this.wu.indexOf(A)>-1&&(e=0);const n=zl.createAndSchedule(this,A,e,r,s=>this.Fu(s));return this.fu.push(n),n}Du(){this.gu&&hA()}verifyOperationInProgress(){}async Mu(){let A;do A=this.bu,await A;while(A!==this.bu)}xu(A){for(const e of this.fu)if(e.timerId===A)return!0;return!1}Ou(A){return this.Mu().then(()=>{this.fu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),A!=="all"&&e.timerId===A)break;return this.Mu()})}Nu(A){this.wu.push(A)}Fu(A){const e=this.fu.indexOf(A);this.fu.splice(e,1)}}function Ph(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const n=e;for(const s of r)if(s in n&&typeof n[s]=="function")return!0;return!1}(t,["next","error","complete"])}class er extends mo{constructor(A,e,r,n){super(A,e,r,n),this.type="firestore",this._queue=new Mh,this._persistenceKey=(n==null?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const A=this._firestoreClient.terminate();this._queue=new Mh(A),this._firestoreClient=void 0,await A}}}function KB(t,A){const e=typeof t=="object"?t:pC(),r=typeof t=="string"?t:Li,n=vl(e,"firestore").getImmediate({identifier:r});if(!n._initialized){const s=rm("firestore");s&&P_(n,...s)}return n}function _s(t){if(t._terminated)throw new rA(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K_(t),t._firestoreClient}function K_(t){var A,e,r;const n=t._freezeSettings(),s=function(a,l,c,u){return new hy(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,xB(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((A=t._app)===null||A===void 0?void 0:A.options.appId)||"",t._persistenceKey,n);t._componentsProvider||!((e=n.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=n.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),t._firestoreClient=new D_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(A){this._byteString=A}static fromBase64String(A){try{return new cn(we.fromBase64String(A))}catch(e){throw new rA(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(A){return new cn(we.fromUint8Array(A))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(A){return this._byteString.isEqual(A._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(...A){for(let e=0;e<A.length;++e)if(A[e].length===0)throw new rA(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(A)}isEqual(A){return this._internalPath.isEqual(A._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(A){this._methodName=A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(A,e){if(!isFinite(A)||A<-90||A>90)throw new rA(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+A);if(!isFinite(e)||e<-180||e>180)throw new rA(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=A,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(A){return this._lat===A._lat&&this._long===A._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(A){return yA(this._lat,A._lat)||yA(this._long,A._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(A){this._values=(A||[]).map(e=>e)}toArray(){return this._values.map(A=>A)}isEqual(A){return function(r,n){if(r.length!==n.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==n[s])return!1;return!0}(this._values,A._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=/^__.*__$/;class N_{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return this.fieldMask!==null?new sr(A,this.data,this.fieldMask,e,this.fieldTransforms):new ps(A,this.data,e,this.fieldTransforms)}}class OB{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return new sr(A,this.data,this.fieldMask,e,this.fieldTransforms)}}function NB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hA()}}class lc{constructor(A,e,r,n,s,i){this.settings=A,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=n,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(A){return new lc(Object.assign(Object.assign({},this.settings),A),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.$u(A),n}Uu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.Bu(),n}Ku(A){return this.ku({path:void 0,Qu:!0})}Wu(A){return ji(A,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(A){return this.fieldMask.find(e=>A.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>A.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let A=0;A<this.path.length;A++)this.$u(this.path.get(A))}$u(A){if(A.length===0)throw this.Wu("Document fields must not be empty");if(NB(this.Lu)&&O_.test(A))throw this.Wu('Document fields cannot begin and end with "__"')}}class G_{constructor(A,e,r){this.databaseId=A,this.ignoreUndefinedProperties=e,this.serializer=r||Bo(A)}ju(A,e,r,n=!1){return new lc({Lu:A,methodName:e,zu:r,path:Be.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cc(t){const A=t._freezeSettings(),e=Bo(t._databaseId);return new G_(t._databaseId,!!A.ignoreUndefinedProperties,e)}function GB(t,A,e,r,n,s={}){const i=t.ju(s.merge||s.mergeFields?2:0,A,e,n);uc("Data must be an object, but it was:",i,r);const a=XB(r,i);let l,c;if(s.merge)l=new Ne(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const g=el(A,f,e);if(!i.contains(g))throw new rA(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);qB(u,g)||u.push(g)}l=new Ne(u),c=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=i.fieldTransforms;return new N_(new He(a),l,c)}class Co extends ic{_toFieldTransform(A){if(A.Lu!==2)throw A.Lu===1?A.Wu(`${this._methodName}() can only appear at the top level of your update data`):A.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return A.fieldMask.push(A.path),null}isEqual(A){return A instanceof Co}}function WB(t,A,e,r){const n=t.ju(1,A,e);uc("Data must be an object, but it was:",n,r);const s=[],i=He.empty();nr(r,(l,c)=>{const u=hc(A,l,e);c=et(c);const f=n.Uu(u);if(c instanceof Co)s.push(u);else{const g=yo(c,f);g!=null&&(s.push(u),i.set(u,g))}});const a=new Ne(s);return new OB(i,a,n.fieldTransforms)}function jB(t,A,e,r,n,s){const i=t.ju(1,A,e),a=[el(A,r,e)],l=[n];if(s.length%2!=0)throw new rA(N.INVALID_ARGUMENT,`Function ${A}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(el(A,s[g])),l.push(s[g+1]);const c=[],u=He.empty();for(let g=a.length-1;g>=0;--g)if(!qB(c,a[g])){const B=a[g];let C=l[g];C=et(C);const y=i.Uu(B);if(C instanceof Co)c.push(B);else{const F=yo(C,y);F!=null&&(c.push(B),u.set(B,F))}}const f=new Ne(c);return new OB(u,f,i.fieldTransforms)}function yo(t,A){if(JB(t=et(t)))return uc("Unsupported field value:",A,t),XB(t,A);if(t instanceof ic)return function(r,n){if(!NB(n.Lu))throw n.Wu(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(n);s&&n.fieldTransforms.push(s)}(t,A),null;if(t===void 0&&A.ignoreUndefinedProperties)return null;if(A.path&&A.fieldMask.push(A.path),t instanceof Array){if(A.settings.Qu&&A.Lu!==4)throw A.Wu("Nested arrays are not supported");return function(r,n){const s=[];let i=0;for(const a of r){let l=yo(a,n.Ku(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,A)}return function(r,n){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ly(n.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=se.fromDate(r);return{timestampValue:Ki(n.serializer,s)}}if(r instanceof se){const s=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ki(n.serializer,s)}}if(r instanceof oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cn)return{bytesValue:cB(n.serializer,r._byteString)};if(r instanceof Ie){const s=n.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw n.Wu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kl(r.firestore._databaseId||n.databaseId,r._key.path)}}if(r instanceof ac)return function(i,a){return{mapValue:{fields:{[Mg]:{stringValue:Kg},[ki]:{arrayValue:{values:i.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Vl(a.serializer,c)})}}}}}}(r,n);throw n.Wu(`Unsupported field value: ${sc(r)}`)}(t,A)}function XB(t,A){const e={};return Rg(t)?A.path&&A.path.length>0&&A.fieldMask.push(A.path):nr(t,(r,n)=>{const s=yo(n,A.qu(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function JB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof se||t instanceof oc||t instanceof cn||t instanceof Ie||t instanceof ic||t instanceof ac)}function uc(t,A,e){if(!JB(e)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(e)){const r=sc(e);throw r==="an object"?A.Wu(t+" a custom object"):A.Wu(t+" "+r)}}function el(t,A,e){if((A=et(A))instanceof Es)return A._internalPath;if(typeof A=="string")return hc(t,A);throw ji("Field path arguments must be of type string or ",t,!1,void 0,e)}const W_=new RegExp("[~\\*/\\[\\]]");function hc(t,A,e){if(A.search(W_)>=0)throw ji(`Invalid field path (${A}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,e);try{return new Es(...A.split("."))._internalPath}catch{throw ji(`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,e)}}function ji(t,A,e,r,n){const s=r&&!r.isEmpty(),i=n!==void 0;let a=`Function ${A}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${n}`),l+=")"),new rA(N.INVALID_ARGUMENT,a+t+l)}function qB(t,A){return t.some(e=>e.isEqual(A))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(A,e,r,n,s){this._firestore=A,this._userDataWriter=e,this._key=r,this._document=n,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const A=new j_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(A)}return this._userDataWriter.convertValue(this._document.data.value)}}get(A){if(this._document){const e=this._document.data.field(YB("DocumentSnapshot.get",A));if(e!==null)return this._userDataWriter.convertValue(e)}}}class j_ extends zB{data(){return super.data()}}function YB(t,A){return typeof A=="string"?hc(t,A):A instanceof Es?A._internalPath:A._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new rA(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X_{convertValue(A,e="none"){switch(Zt(A)){case 0:return null;case 1:return A.booleanValue;case 2:return zA(A.integerValue||A.doubleValue);case 3:return this.convertTimestamp(A.timestampValue);case 4:return this.convertServerTimestamp(A,e);case 5:return A.stringValue;case 6:return this.convertBytes(Yt(A.bytesValue));case 7:return this.convertReference(A.referenceValue);case 8:return this.convertGeoPoint(A.geoPointValue);case 9:return this.convertArray(A.arrayValue,e);case 11:return this.convertObject(A.mapValue,e);case 10:return this.convertVectorValue(A.mapValue);default:throw hA()}}convertObject(A,e){return this.convertObjectMap(A.fields,e)}convertObjectMap(A,e="none"){const r={};return nr(A,(n,s)=>{r[n]=this.convertValue(s,e)}),r}convertVectorValue(A){var e,r,n;const s=(n=(r=(e=A.fields)===null||e===void 0?void 0:e[ki].arrayValue)===null||r===void 0?void 0:r.values)===null||n===void 0?void 0:n.map(i=>zA(i.doubleValue));return new ac(s)}convertGeoPoint(A){return new oc(zA(A.latitude),zA(A.longitude))}convertArray(A,e){return(A.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(A,e){switch(e){case"previous":const r=oo(A);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(os(A));default:return null}}convertTimestamp(A){const e=zt(A);return new se(e.seconds,e.nanos)}convertDocumentKey(A,e){const r=GA.fromString(A);RA(BB(r));const n=new as(r.get(1),r.get(3)),s=new aA(r.popFirst(5));return n.isEqual(e)||It(`Document ${s} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t,A,e){let r;return r=t?e&&(e.merge||e.mergeFields)?t.toFirestore(A,e):t.toFirestore(A):A,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(A,e){this.hasPendingWrites=A,this.fromCache=e}isEqual(A){return this.hasPendingWrites===A.hasPendingWrites&&this.fromCache===A.fromCache}}class Ap extends zB{constructor(A,e,r,n,s,i){super(A,e,r,n,i),this._firestore=A,this._firestoreImpl=A,this.metadata=s}exists(){return super.exists()}data(A={}){if(this._document){if(this._converter){const e=new Ui(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,A)}return this._userDataWriter.convertValue(this._document.data.value,A.serverTimestamps)}}get(A,e={}){if(this._document){const r=this._document.data.field(YB("DocumentSnapshot.get",A));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Ui extends Ap{data(A={}){return super.data(A)}}class ep{constructor(A,e,r,n){this._firestore=A,this._userDataWriter=e,this._snapshot=n,this.metadata=new Mn(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const A=[];return this.forEach(e=>A.push(e)),A}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(A,e){this._snapshot.docs.forEach(r=>{A.call(e,new Ui(this._firestore,this._userDataWriter,r.key,r,new Mn(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(A={}){const e=!!A.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rA(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,s){if(n._snapshot.oldDocs.isEmpty()){let i=0;return n._snapshot.docChanges.map(a=>{const l=new Ui(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Mn(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ui(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Mn(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,u=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:J_(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function J_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){t=We(t,Ie);const A=We(t.firestore,er);return V_(_s(A),t._key).then(e=>tp(A,t,e))}class dc extends X_{constructor(A){super(),this.firestore=A}convertBytes(A){return new cn(A)}convertReference(A){const e=this.convertDocumentKey(A,this.firestore._databaseId);return new Ie(this.firestore,null,e)}}function Bt(t){t=We(t,ys);const A=We(t.firestore,er),e=_s(A),r=new dc(A);return ZB(t._query),x_(e,t._query).then(n=>new ep(A,r,t,n))}function q_(t,A,e){t=We(t,Ie);const r=We(t.firestore,er),n=$B(t.converter,A,e);return gc(r,[GB(cc(r),"setDoc",t._key,n,t.converter!==null,e).toMutation(t._key,Ge.none())])}function Qo(t,A,e,...r){t=We(t,Ie);const n=We(t.firestore,er),s=cc(n);let i;return i=typeof(A=et(A))=="string"||A instanceof Es?jB(s,"updateDoc",t._key,A,e,r):WB(s,"updateDoc",t._key,A),gc(n,[i.toMutation(t._key,Ge.exists(!0))])}function z_(t,...A){var e,r,n;t=et(t);let s={includeMetadataChanges:!1,source:"default"},i=0;typeof A[i]!="object"||Ph(A[i])||(s=A[i],i++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ph(A[i])){const f=A[i];A[i]=(e=f.next)===null||e===void 0?void 0:e.bind(f),A[i+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),A[i+2]=(n=f.complete)===null||n===void 0?void 0:n.bind(f)}let l,c,u;if(t instanceof Ie)c=We(t.firestore,er),u=lo(t._key.path),l={next:f=>{A[i]&&A[i](tp(c,t,f))},error:A[i+1],complete:A[i+2]};else{const f=We(t,ys);c=We(f.firestore,er),u=f._query;const g=new dc(c);l={next:B=>{A[i]&&A[i](new ep(c,g,f,B))},error:A[i+1],complete:A[i+2]},ZB(t._query)}return function(g,B,C,y){const F=new nc(y),S=new ec(B,F,C);return g.asyncQueue.enqueueAndForget(async()=>Zl(await Wi(g),S)),()=>{F.su(),g.asyncQueue.enqueueAndForget(async()=>$l(await Wi(g),S))}}(_s(c),u,a,l)}function gc(t,A){return function(r,n){const s=new vt;return r.asyncQueue.enqueueAndForget(async()=>v_(await k_(r),n,s)),s.promise}(_s(t),A)}function tp(t,A,e){const r=e.docs.get(A._key),n=new dc(t);return new Ap(t,n,A._key,r,new Mn(e.hasPendingWrites,e.fromCache),A.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(A,e){this._firestore=A,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=cc(A)}set(A,e,r){this._verifyNotCommitted();const n=ca(A,this._firestore),s=$B(n.converter,e,r),i=GB(this._dataReader,"WriteBatch.set",n._key,s,n.converter!==null,r);return this._mutations.push(i.toMutation(n._key,Ge.none())),this}update(A,e,r,...n){this._verifyNotCommitted();const s=ca(A,this._firestore);let i;return i=typeof(e=et(e))=="string"||e instanceof Es?jB(this._dataReader,"WriteBatch.update",s._key,e,r,n):WB(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(i.toMutation(s._key,Ge.exists(!0))),this}delete(A){this._verifyNotCommitted();const e=ca(A,this._firestore);return this._mutations=this._mutations.concat(new xl(e._key,Ge.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rA(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ca(t,A){if((t=et(t)).firestore!==A)throw new rA(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){return _s(t=We(t,er)),new Y_(t,A=>gc(t,A))}(function(A,e=!0){(function(n){hn=n})(BC),Jt(new Ut("firestore",(r,{instanceIdentifier:n,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new er(new q0(r.getProvider("auth-internal")),new Z0(i,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new rA(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new as(c.options.projectId,u)}(i,n),i);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ct(Wu,ju,A),ct(Wu,ju,"esm2017")})();const $_={apiKey:"AIzaSyCTe1si_Cg2Pkl2X77JpscYfW6KajberCM",authDomain:"drawit-1f620.firebaseapp.com",projectId:"drawit-1f620",storageBucket:"drawit-1f620.firebasestorage.app",messagingSenderId:"513679195329",appId:"1:513679195329:web:d650c7307b461788dc6840",measurementId:"G-P8GR3KFS0H"},AE=Zd($_),vs=KB(AE),Hr=Qs(vs,"games"),Tt=Qs(vs,"users");Qs(vs,"drawings");const rp=Qs(vs,"words");async function eE(t){try{const A=gs(Re),e=t.filter(s=>!A[s]);if(e.length===0)return;const r=await Bt(Tt),n={};r.docs.forEach(s=>{const i=s.data();e.includes(i.name)&&(n[i.name]={...i,id:s.id})}),Re.update(s=>({...s,...n}))}catch(A){console.error("Error loading users:",A)}}async function tE(t,A,e,r){const n=Ht(Hr,t),i=(await fc(n)).data();return i.drawings[A].comments.push({content:e,createdBy:r}),await Qo(n,{drawings:i.drawings}),i.drawings[A]}async function rE(){try{return(await Bt(rp)).docs.map(e=>e.data())}catch(t){console.error("Error loading words:",t)}return[]}async function nE(t,A){try{const e=Ht(rp);await Bc(e,{word:t,createdBy:A,createdAt:new Date})}catch(e){console.error("Error creating custom word:",e)}}async function sE(t){try{const e=(await Bt(Tt)).docs.find(s=>s.data().name===t);if(e){const i={...e.data(),id:e.id};return Ae.set(i),Re.update(a=>({...a,[i.name]:i})),await sp(i.name),i}const r=Ht(Tt),n={name:t,coins:0,createdAt:new Date,id:r.id};return await Bc(r,n),Ae.set(n),Re.update(s=>({...s,[n.name]:n})),n}catch(A){throw console.error("Error creating/retrieving user:",A),A}}async function np(t){try{const A=gs(Re);if(A[t])return A[t];const r=(await Bt(Tt)).docs.find(n=>n.data().name===t);if(r){const s={...r.data(),id:r.id};return Re.update(i=>({...i,[s.name]:s})),s}return null}catch(A){return console.error("Error getting user:",A),null}}async function Kh(t){try{if(!t){const i=(await Bt(Tt)).docs.map(a=>({...a.data(),id:a.id}));return Re.update(a=>{const l={...a};return i.forEach(c=>{l[c.name]=c}),l}),i}const A=gs(Re),e=Object.values(A).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));if(e.length>0)return e;const n=(await Bt(Tt)).docs.map(s=>({...s.data(),id:s.id})).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));return Re.update(s=>{const i={...s};return n.forEach(a=>{i[a.name]=a}),i}),n}catch(A){return console.error("Error searching users:",A),[]}}async function sp(t){try{const e=(await Bt(Hr)).docs.filter(n=>{const s=n.data();return s.users&&s.users.includes(t)}).map(n=>({...n.data(),id:n.id})),r={};return e.forEach(n=>{r[n.id]=n}),yl.update(n=>({...n,...r})),un.set(e.map(n=>n.id)),e}catch(A){return console.error("Error in loadGames:",A),[]}}async function iE(t){const A=Ht(Hr),e={id:A.id,users:t,createdAt:new Date,drawings:[],wordOptions:[]};return await Bc(A,e),Jn.set(!1),e}async function Bn(t){if(!t.id)return console.error("Cannot update game without ID"),t;try{const A=Ht(Hr,t.id);return await Qo(A,{drawings:t.drawings,wordOptions:t.wordOptions}),t}catch(A){return console.error("Error updating game:",A),t}}async function Cr(t,A){const e=await np(t);if(!e)return console.error("Cannot add coins to user without ID"),e;try{const r=Ht(Tt,e.id),n=e.coins+A;await Qo(r,{coins:n});const s={...e,coins:n},i=gs(Ae);return i&&i.name===t&&Ae.set(s),Re.update(a=>({...a,[t]:s})),s}catch(r){return console.error("Error adding coins:",r),e}}async function oE(t,A,e){try{if(console.log(`likeDrawing called with gameId: ${t}, drawingIndex: ${A}, userName: ${e}`),!t||A===void 0)return console.error("Invalid gameId or drawingIndex",{gameId:t,drawingIndex:A}),!1;const r=Ht(Hr,t);console.log(`Getting game ref for ${t}`);const n=await fc(r);if(!n.exists())return console.error("Game not found"),!1;const s=n.data();if(console.log("Game data retrieved:",s),!s.drawings||!Array.isArray(s.drawings))return console.error("Game has no drawings array",s),!1;if(A>=s.drawings.length)return console.error(`Drawing index out of bounds: ${A}, max: ${s.drawings.length-1}`),!1;const i=s.drawings[A];if(!i)return console.error("Drawing not found"),!1;i.likes||(i.likes=[]),console.log("Current likes:",i.likes);const a=i.likes.indexOf(e);return a>=0?(console.log(`Removing like from ${e}`),i.likes.splice(a,1)):(console.log(`Adding like from ${e}`),i.likes.push(e)),console.log("Updated likes:",i.likes),console.log("Updating game document"),await Qo(r,{drawings:s.drawings}),console.log("Like operation successful"),!0}catch(r){return console.error("Error liking drawing:",r),!1}}async function aE(){try{const t=gs(Ae);if(!t)return!1;const e=(await Bt(Tt)).docs.find(s=>s.data().name===t.name);if(!e)return Ae.set(null),localStorage.removeItem("drawIt-user-v2"),localStorage.removeItem("drawIt-games-v2"),localStorage.removeItem("drawIt-users-v2"),!1;const n={...e.data(),id:e.id};return Ae.set(n),!0}catch(t){return console.error("Error validating user session:",t),!1}}async function Oh(t){try{const A=await fc(Ht(Hr,t));return A.exists()?{...A.data(),id:A.id}:null}catch(A){return console.error("Error loading game:",A),null}}async function lE(){try{const t=await Bt(Hr),A=[];t.docs.forEach(r=>{const n=r.data();if(n.drawings&&n.drawings.length>0){const s=n.drawings.map((i,a)=>({...i,gameId:r.id,index:a}));for(const i of s)i.guessedBy=n.users.find(a=>a!==i.artist)??"";A.push(...s)}});const e=A.sort((r,n)=>{function s(l){return l?l instanceof Date?l:typeof l.toDate=="function"?l.toDate():typeof l=="string"?new Date(l):new Date(l):new Date(0)}const i=s(r.createdAt);return s(n.createdAt).getTime()-i.getTime()});return console.log(e),e.slice(0,100)}catch(t){return console.error("Error fetching recent drawings:",t),[]}}async function Bc(t,A,e){const{_middleware:r,...n}=A;return q_(t,n,e)}var pc={};(function t(A,e,r,n){var s=!!(A.Worker&&A.Blob&&A.Promise&&A.OffscreenCanvas&&A.OffscreenCanvasRenderingContext2D&&A.HTMLCanvasElement&&A.HTMLCanvasElement.prototype.transferControlToOffscreen&&A.URL&&A.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!A.OffscreenCanvas)return!1;var V=new OffscreenCanvas(1,1),T=V.getContext("2d");T.fillRect(0,0,1,1);var Y=V.transferToImageBitmap();try{T.createPattern(Y,"no-repeat")}catch{return!1}return!0}();function l(){}function c(V){var T=e.exports.Promise,Y=T!==void 0?T:A.Promise;return typeof Y=="function"?new Y(V):(V(l,l),null)}var u=function(V,T){return{transform:function(Y){if(V)return Y;if(T.has(Y))return T.get(Y);var z=new OffscreenCanvas(Y.width,Y.height),cA=z.getContext("2d");return cA.drawImage(Y,0,0),T.set(Y,z),z},clear:function(){T.clear()}}}(a,new Map),f=function(){var V=Math.floor(16.666666666666668),T,Y,z={},cA=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(oA){var lA=Math.random();return z[lA]=requestAnimationFrame(function j(X){cA===X||cA+V-1<X?(cA=X,delete z[lA],oA()):z[lA]=requestAnimationFrame(j)}),lA},Y=function(oA){z[oA]&&cancelAnimationFrame(z[oA])}):(T=function(oA){return setTimeout(oA,V)},Y=function(oA){return clearTimeout(oA)}),{frame:T,cancel:Y}}(),g=function(){var V,T,Y={};function z(cA){function oA(lA,j){cA.postMessage({options:lA||{},callback:j})}cA.init=function(j){var X=j.transferControlToOffscreen();cA.postMessage({canvas:X},[X])},cA.fire=function(j,X,FA){if(T)return oA(j,null),T;var _A=Math.random().toString(36).slice(2);return T=c(function(CA){function wA(QA){QA.data.callback===_A&&(delete Y[_A],cA.removeEventListener("message",wA),T=null,u.clear(),FA(),CA())}cA.addEventListener("message",wA),oA(j,_A),Y[_A]=wA.bind(null,{data:{callback:_A}})}),T},cA.reset=function(){cA.postMessage({reset:!0});for(var j in Y)Y[j](),delete Y[j]}}return function(){if(V)return V;if(!r&&s){var cA=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{V=new Worker(URL.createObjectURL(new Blob([cA])))}catch(oA){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",oA),null}z(V)}return V}}(),B={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(V,T){return T?T(V):V}function y(V){return V!=null}function F(V,T,Y){return C(V&&y(V[T])?V[T]:B[T],Y)}function S(V){return V<0?0:Math.floor(V)}function R(V,T){return Math.floor(Math.random()*(T-V))+V}function H(V){return parseInt(V,16)}function x(V){return V.map(P)}function P(V){var T=String(V).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:H(T.substring(0,2)),g:H(T.substring(2,4)),b:H(T.substring(4,6))}}function L(V){var T=F(V,"origin",Object);return T.x=F(T,"x",Number),T.y=F(T,"y",Number),T}function E(V){V.width=document.documentElement.clientWidth,V.height=document.documentElement.clientHeight}function m(V){var T=V.getBoundingClientRect();V.width=T.width,V.height=T.height}function Q(V){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=V,T}function I(V,T,Y,z,cA,oA,lA,j,X){V.save(),V.translate(T,Y),V.rotate(oA),V.scale(z,cA),V.arc(0,0,1,lA,j,X),V.restore()}function v(V){var T=V.angle*(Math.PI/180),Y=V.spread*(Math.PI/180);return{x:V.x,y:V.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:V.startVelocity*.5+Math.random()*V.startVelocity,angle2D:-T+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:V.color,shape:V.shape,tick:0,totalTicks:V.ticks,decay:V.decay,drift:V.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:V.gravity*3,ovalScalar:.6,scalar:V.scalar,flat:V.flat}}function b(V,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var Y=T.tick++/T.totalTicks,z=T.x+T.random*T.tiltCos,cA=T.y+T.random*T.tiltSin,oA=T.wobbleX+T.random*T.tiltCos,lA=T.wobbleY+T.random*T.tiltSin;if(V.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-Y)+")",V.beginPath(),i&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))V.fill(nA(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(oA-z)*.1,Math.abs(lA-cA)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var j=Math.PI/10*T.wobble,X=Math.abs(oA-z)*.1,FA=Math.abs(lA-cA)*.1,_A=T.shape.bitmap.width*T.scalar,CA=T.shape.bitmap.height*T.scalar,wA=new DOMMatrix([Math.cos(j)*X,Math.sin(j)*X,-Math.sin(j)*FA,Math.cos(j)*FA,T.x,T.y]);wA.multiplySelf(new DOMMatrix(T.shape.matrix));var QA=V.createPattern(u.transform(T.shape.bitmap),"no-repeat");QA.setTransform(wA),V.globalAlpha=1-Y,V.fillStyle=QA,V.fillRect(T.x-_A/2,T.y-CA/2,_A,CA),V.globalAlpha=1}else if(T.shape==="circle")V.ellipse?V.ellipse(T.x,T.y,Math.abs(oA-z)*T.ovalScalar,Math.abs(lA-cA)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):I(V,T.x,T.y,Math.abs(oA-z)*T.ovalScalar,Math.abs(lA-cA)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var gA=Math.PI/2*3,BA=4*T.scalar,EA=8*T.scalar,OA=T.x,kA=T.y,Ue=5,fe=Math.PI/Ue;Ue--;)OA=T.x+Math.cos(gA)*EA,kA=T.y+Math.sin(gA)*EA,V.lineTo(OA,kA),gA+=fe,OA=T.x+Math.cos(gA)*BA,kA=T.y+Math.sin(gA)*BA,V.lineTo(OA,kA),gA+=fe;else V.moveTo(Math.floor(T.x),Math.floor(T.y)),V.lineTo(Math.floor(T.wobbleX),Math.floor(cA)),V.lineTo(Math.floor(oA),Math.floor(lA)),V.lineTo(Math.floor(z),Math.floor(T.wobbleY));return V.closePath(),V.fill(),T.tick<T.totalTicks}function p(V,T,Y,z,cA){var oA=T.slice(),lA=V.getContext("2d"),j,X,FA=c(function(_A){function CA(){j=X=null,lA.clearRect(0,0,z.width,z.height),u.clear(),cA(),_A()}function wA(){r&&!(z.width===n.width&&z.height===n.height)&&(z.width=V.width=n.width,z.height=V.height=n.height),!z.width&&!z.height&&(Y(V),z.width=V.width,z.height=V.height),lA.clearRect(0,0,z.width,z.height),oA=oA.filter(function(QA){return b(lA,QA)}),oA.length?j=f.frame(wA):CA()}j=f.frame(wA),X=CA});return{addFettis:function(_A){return oA=oA.concat(_A),FA},canvas:V,promise:FA,reset:function(){j&&f.cancel(j),X&&X()}}}function O(V,T){var Y=!V,z=!!F(T||{},"resize"),cA=!1,oA=F(T,"disableForReducedMotion",Boolean),lA=s&&!!F(T||{},"useWorker"),j=lA?g():null,X=Y?E:m,FA=V&&j?!!V.__confetti_initialized:!1,_A=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,CA;function wA(gA,BA,EA){for(var OA=F(gA,"particleCount",S),kA=F(gA,"angle",Number),Ue=F(gA,"spread",Number),fe=F(gA,"startVelocity",Number),mt=F(gA,"decay",Number),ir=F(gA,"gravity",Number),or=F(gA,"drift",Number),rt=F(gA,"colors",x),Rr=F(gA,"ticks",Number),MA=F(gA,"shapes"),ce=F(gA,"scalar"),ot=!!F(gA,"flat"),pn=L(gA),wn=OA,mn=[],ar=V.width*pn.x,Is=V.height*pn.y;wn--;)mn.push(v({x:ar,y:Is,angle:kA,spread:Ue,startVelocity:fe,color:rt[wn%rt.length],shape:MA[R(0,MA.length)],ticks:Rr,decay:mt,gravity:ir,drift:or,scalar:ce,flat:ot}));return CA?CA.addFettis(mn):(CA=p(V,mn,X,BA,EA),CA.promise)}function QA(gA){var BA=oA||F(gA,"disableForReducedMotion",Boolean),EA=F(gA,"zIndex",Number);if(BA&&_A)return c(function(fe){fe()});Y&&CA?V=CA.canvas:Y&&!V&&(V=Q(EA),document.body.appendChild(V)),z&&!FA&&X(V);var OA={width:V.width,height:V.height};j&&!FA&&j.init(V),FA=!0,j&&(V.__confetti_initialized=!0);function kA(){if(j){var fe={getBoundingClientRect:function(){if(!Y)return V.getBoundingClientRect()}};X(fe),j.postMessage({resize:{width:fe.width,height:fe.height}});return}OA.width=OA.height=null}function Ue(){CA=null,z&&(cA=!1,A.removeEventListener("resize",kA)),Y&&V&&(document.body.contains(V)&&document.body.removeChild(V),V=null,FA=!1)}return z&&!cA&&(cA=!0,A.addEventListener("resize",kA,!1)),j?j.fire(gA,OA,Ue):wA(gA,OA,Ue)}return QA.reset=function(){j&&j.reset(),CA&&CA.reset()},QA}var uA;function dA(){return uA||(uA=O(null,{useWorker:!0,resize:!0})),uA}function nA(V,T,Y,z,cA,oA,lA){var j=new Path2D(V),X=new Path2D;X.addPath(j,new DOMMatrix(T));var FA=new Path2D;return FA.addPath(X,new DOMMatrix([Math.cos(lA)*cA,Math.sin(lA)*cA,-Math.sin(lA)*oA,Math.cos(lA)*oA,Y,z])),FA}function LA(V){if(!i)throw new Error("path confetti are not supported in this browser");var T,Y;typeof V=="string"?T=V:(T=V.path,Y=V.matrix);var z=new Path2D(T),cA=document.createElement("canvas"),oA=cA.getContext("2d");if(!Y){for(var lA=1e3,j=lA,X=lA,FA=0,_A=0,CA,wA,QA=0;QA<lA;QA+=2)for(var gA=0;gA<lA;gA+=2)oA.isPointInPath(z,QA,gA,"nonzero")&&(j=Math.min(j,QA),X=Math.min(X,gA),FA=Math.max(FA,QA),_A=Math.max(_A,gA));CA=FA-j,wA=_A-X;var BA=10,EA=Math.min(BA/CA,BA/wA);Y=[EA,0,0,EA,-Math.round(CA/2+j)*EA,-Math.round(wA/2+X)*EA]}return{type:"path",path:T,matrix:Y}}function KA(V){var T,Y=1,z="#000000",cA='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof V=="string"?T=V:(T=V.text,Y="scalar"in V?V.scalar:Y,cA="fontFamily"in V?V.fontFamily:cA,z="color"in V?V.color:z);var oA=10*Y,lA=""+oA+"px "+cA,j=new OffscreenCanvas(oA,oA),X=j.getContext("2d");X.font=lA;var FA=X.measureText(T),_A=Math.ceil(FA.actualBoundingBoxRight+FA.actualBoundingBoxLeft),CA=Math.ceil(FA.actualBoundingBoxAscent+FA.actualBoundingBoxDescent),wA=2,QA=FA.actualBoundingBoxLeft+wA,gA=FA.actualBoundingBoxAscent+wA;_A+=wA+wA,CA+=wA+wA,j=new OffscreenCanvas(_A,CA),X=j.getContext("2d"),X.font=lA,X.fillStyle=z,X.fillText(T,QA,gA);var BA=1/Y;return{type:"bitmap",bitmap:j.transferToImageBitmap(),matrix:[BA,0,0,BA,-_A*BA/2,-CA*BA/2]}}e.exports=function(){return dA().apply(this,arguments)},e.exports.reset=function(){dA().reset()},e.exports.create=O,e.exports.shapeFromPath=LA,e.exports.shapeFromText=KA})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),pc,!1);const cE=pc.exports;pc.exports.create;function ip(t){const A=document.createElement("div");A.className="toast toast-top toast-end",A.innerHTML=`
        <div class="alert bg-primary/80 text-black border-2 border-primary shadow-lg">
            <span>${t}</span>
        </div>
    `,document.body.appendChild(A),setTimeout(()=>{A.remove()},5e3),cE({particleCount:100,spread:70,origin:{y:.6}})}let uE=["accident","air","airbag","airconditioner","airplane","airport","alarm","alarmclock","almanac","anchor","angry","animal","answer","ant","antler","anvil","apple","apron","arch","arm","armchair","armrest","army","arrow","art","artichoke","ashtray","ask","atom","avalanche","awning","baby","back","backhoe","backpack","bad","badge","bag","bagpipe","ball","balloon","banana","band","bandana","banjo","bank","bar","barbecue","barbell","barge","barn","barrel","baseball","basement","basket","basketball","bat","bath","bathtub","battery","beach","beachball","beacon","beaker","bear","beard","beautiful","bed","bedspread","bee","beehive","beer","beerglass","bell","bellhop","belt","bench","beverage","bicycle","big","bike","bin","binder","binoculars","bird","birth","blender","blizzard","block","blood","blouse","blueprint","boardgame","boat","boathouse","body","bodyguard","boiler","bonnet","book","bookcase","bookend","bookmark","boots","bottle","bottlecap","bouquet","bowler","bowtie","box","boy","bracelet","brainstorm","brake","branch","brass","bread","breadbasket","break","breeze","bridge","briefcase","bright","broom","broomstick","brother","brush","bucket","buffalo","build","bulldozer","bullet","bullhorn","bumper","bunkbed","burger","bus","bush","bushel","busstop","busy","butter","butterfly","buy","cabinet","cactus","cafe","cage","cairn","cake","calculator","calendar","calf","call","calm","camera","candle","candleholder","candy","cannonball","captain","car","carabiner","card","cardboard","carpet","carrot","cartridge","cartwheel","castle","cat","catch","catwalk","cave","ceiling","cellphone","chair","change","cheese","chest","chicken","child","chocolate","choose","church","city","clean","climb","clock","close","closed","cloud","coach","coal","coat","coffee","cold","come","compass","computer","contact","continent","cook","cookie","cool","cost","country","couple","cow","crab","crop","cross","crown","cry","cup","cushion","cut","dad","dance","dangerous","dark","daughter","day","deal","death","deep","degree","desert","desk","difficult","dinner","dirty","dock","doctor","dog","dolphin","door","doorbell","doorknob","draw","dream","dress","drink","drive","driver","drug","drum","dry","duck","dull","eagle","early","earrings","earth","easy","eat","egg","election","elephant","empire","empty","engine","eye","eyeglasses","face","factory","fall","family","farm","fast","father","faucet","feel","field","fight","film","finish","fire","fireplace","fish","fix","flag","flashlight","flat","flight","floor","flower","fly","food","foot","football","forest","fountain","fox","fresh","fries","frog","fruit","fuel","full","fun","furniture","game","garden","gate","gift","giraffe","girl","glass","glasses","glove","go","goal","god","golf","good","grass","group","grow","guitar","hair","hairbrush","hall","hand","happy","harbor","hard","hat","hate","head","headphones","hear","heart","heavy","helmet","help","high","highway","hill","hit","home","horse","hospital","hot","hotel","hour","house","husband","ice","idle","island","jacket","job","john","juice","jump","jungle","key","keyboard","kick","king","know","ladder","lady","lake","lamp","late","laugh","leaf","learn","leg","life","light","lighthouse","lion","list","lobster","lock","long","look","loose","lose","loss","lot","loud","love","low","lunch","machine","mailbox","man","map","market","match","meat","meet","message","microscope","microwave","milk","mirror","money","monkey","month","moon","morning","mosque","mother","motorcycle","mountain","mouse","music","name","narrow","neck","new","news","night","nose","note","notebook","ocean","octopus","office","officer","oil","old","open","owl","package","paddle","paint","paintbrush","palace","pants","paper","park","party","passport","pay","pen","pencil","pencilcase","pepper","person","phone","photograph","picture","pie","pier","pig","pillow","pizza","plane","plant","play","player","playground","plow","pointy","police","poor","port","postcard","pound","prince","product","pub","pull","push","quiet","rabbit","racket","radio","rain","read","record","referee","refrigerator","rest","restaurant","retirement","rich","ring","rise","river","road","roadsign","rock","roof","room","root","rough","round","run","sad","safe","salad","sale","salt","sand","sandwich","satellite","saxophone","say","school","score","screen","sea","see","seed","sell","shallow","shark","sharp","sheep","shelf","ship","shirt","shoe","shop","shoppingcart","short","show","shrink","side","sing","size","skateboard","skill","skirt","sleep","sleepingbag","slow","small","smell","smile","smooth","snake","snow","sock","soda","sofa","soft","song","sound","soup","space","speaker","spider","square","stale","star","starfish","start","station","stay","stone","stop","store","storm","street","strong","style","sugar","suitcase","summer","sun","sunflower","swim","table","talk","task","taste","tea","teach","teacher","team","teapot","television","temple","tent","thick","thin","think","throw","tie","tiger","tight","toothbrush","toothpaste","touch","tower","town","tractor","trafficlight","train","travel","tree","trombone","truck","trunk","turn","turtle","typewriter","ugly","umbrella","university","valley","vase","vegetable","vehicle","video","village","visit","volcano","wait","wake","walk","wall","wallet","war","warm","wash","watch","water","weak","week","wet","whale","wheel","wheelchair","wide","wife","win","wind","windmill","window","wine","wolf","woman","work","worker","wristwatch","write","yogurt","young","zebra","zipper","time","way","year","government","world","part","course","case","system","place","end","company","information","fact","point","example","state","business","area","thing","order","development","power","council","use","service","problem","court","a","interest","law","form","education","policy","research","sort","health","question","period","level","control","society","minister","view","line","community","south","centre","effect","staff","position","kind","action","management","act","process","north","age","evidence","idea","west","support","moment","sense","report","mind","industry","land","care","century","range","trade","history","study","committee","rate","word","language","experience","result","other","sir","section","programme","authority","role","reason","price","class","nature","subject","department","union","member","value","need","east","practice","type","date","decision","figure","right","president","friend","club","quality","voice","lord","stage","us","situation","tax","production","march","secretary","board","may","award","issue","project","chapter","amount","basis","knowledge","approach","series","top","front","future","manager","account","security","labour","structure","bill","force","attention","movement","success","letter","agreement","capital","analysis","population","environment","performance","model","material","theory","growth","chance","relationship","son","property","term","director","plan","behaviour","treatment","energy","st","peter","income","scheme","design","response","association","choice","pressure","technology","defence","chairman","activity","contract","county","paul","difference","set","colour","season","unit","investment","test","employment","science","charge","economy","page","risk","advice","event","commission","college","opportunity","conference","operation","application","press","extent","addition","access","region","doubt","majority","statement","parliament","site","mark","importance","title","species","increase","return","concern","public","competition","software","purpose","responsibility","leader","ability","appeal","opposition","campaign","respect","instance","whole","method","division","source","piece","pattern","lack","disease","equipment","surface","oxford","demand","post","mouth","provision","attempt","sector","firm","status","peace","variety","base","miss","safety","trouble","culture","direction","context","character","discussion","past","weight","organisation","league","condition","argument","sex","budget","english","transport","share","mum","cash","principle","exchange","aid","library","version","rule","balance","afternoon","reference","protection","truth","district","smith","review","minute","duty","survey","presence","influence","benefit","collection","executive","speech","function","queen","marriage","stock","failure","kitchen","student","effort","holiday","career","attack","length","progress","relation","memory","opinion","quarter","impact","scale","race","image","trust","justice","edge","gas","railway","expression","advantage","gold","wood","network","text","sister","cause","half","winter","corner","insurance","step","damage","credit","pain","possibility","legislation","strength","speed","crime","debate","will","supply","present","confidence","mary","patient","solution","museum","henry","assessment","no","skin","scene","article","stuff","introduction","administration","fear","proportion","japan","claim","kingdom","tv","existence","telephone","move","traffic","distance","relief","unemployment","reality","target","trial","concept","spirit","organization","construction","distribution","sight","difficulty","factor","exercise","weekend","battle","prison","grant","aircraft","strategy","contrast","juggling","communication","background","shape","hope","selection","detail","user","path","client","search","master","offer","freedom","attitude","while","agency","seat","manner","favour","fig","pair","crisis","danger","capacity","output","procedure","theatre","tour","recognition","middle","absence","sentence","track","sign","commitment","threat","weather","element","conflict","notice","victory","bottom","finance","fund","violence","file","profit","standard","jack","route","china","expenditure","second","discipline","cell","pp","reaction","congress","individual","lead","consideration","debt","option","payment","exhibition","reform","emphasis","spring","audience","feature","estate","assembly","volume","youth","contribution","curriculum","appearance","martin","tom","institute","membership","waste","heat","object","challenge","conversation","occasion","code","silence","literature","faith","hell","entry","transfer","gentleman","investigation","belief","total","major","document","description","murder","aim","manchester","conclusion","tradition","pleasure","connection","owner","treaty","tony","alan","desire","professor","copy","ministry","acid","address","institution","generation","partner","newspaper","reduction","welfare","definition","release","vote","examination","judge","atmosphere","leadership","sky","breath","creation","row","guide","cover","intention","criticism","jones","silver","customer","journey","explanation","green","measure","brain","significance","phase","injury","coast","technique","magazine","potential","revolution","bishop","settlement","christ","metal","motion","index","adult","inflation","sport","surprise","pension","tape","flow","iron","trip","lane","pool","independence","hole","un","content","noise","combination","session","appointment","fashion","consumer","accommodation","temperature","mike","religion","author","nation","northern","sample","assistance","interpretation","aspect","display","shoulder","agent","gallery","republic","cancer","proposal","sequence","interview","democracy","improvement","involvement","general","enterprise","van","meal","breakfast","motor","channel","impression","tone","sheet","pollution","bob","beauty","vision","spot","distinction","brown","crowd","sum","decline","revenue","diet","bedroom","soil","reader","shock","behalf","deputy","steel","co","artist","graham","plate","maintenance","formation","spokesman","program","link","expert","establishment","plastic","candidate","rail","passage","joe","parish","ref","emergency","liability","identity","location","framework","strike","countryside","household","approval","border","constitution","autumn","agriculture","concentration","guy","victim","editor","theme","error","loan","stress","recovery","electricity","recession","wealth","request","comparison","lewis","white","focus","chief","parent","mass","jane","foundation","item","lifespan","lee","publication","decade","height","charity","writer","panel","struggle","outcome","efficiency","offence","resolution","reputation","specialist","taylor","co-operation","incident","representation","chain","initiative","clause","resistance","mistake","advance","notion","delivery","licence","frank","average","awareness","expansion","alternative","chancellor","self","drama","corporation","currency","extension","convention","partnership","regime","inquiry","rugby","philosophy","scope","minority","intelligence","consequence","mill","priority","gun","gap","core","uncle","thatcher","arrival","command","abuse","limit","championship","quest","unity","zone","glory","joy","yard","amber","crystal","echo","flame","magic","rose","shadow","thunder","yellow","zeal","diamond","giant","jewel","legend","oracle","sword","treasure","voyage","wizard","yacht","zephyr","alien","angel","beast","bomb","button","champion","circle","cliff","dragon","feather","ghost","gravity","hammer","hero","honey","hunter","iceberg","joker","lab","laser","lightning","medal","monster","needle","oasis","orbit","painter","piano","planet","robot","rocket","shield","shoot","signal","skull","soldier","vapor","virus","warrior","weapon","witch"];function wc(t,A){return t.drawings.filter(r=>!r.guessed)[0]||null}async function hE(t,A,e){const r=wc(t,A.name);if(!r)return;const n=e.toLowerCase().trim(),s=r.secretWord.toLowerCase().trim();let i=!1;return n===s?(i=!0,r.guessed=!0,r.guessedBy=A.name,{...A},await Cr(A.name,r.coins),await Cr(r.artist,r.coins),ip(`It was ${r.secretWord}! You both get ${r.coins} coins!`),await Pn(4,t)):r.guesses.includes(e)||r.guesses.push(e),await Bn(t),i}async function Pn(t,A){if(A!=null&&A.wordOptions&&A.wordOptions.length>0)return A.wordOptions;const e=[];for(const s of uE)e.push({secretWord:s,coins:0});let r=await rE();e.push(...r.map(s=>({secretWord:s.word,coins:0,createdBy:s.createdBy,createdAt:s.createdAt})));const n=e.sort(()=>Math.random()-.5).slice(0,t);for(let s=0;s<n.length;s++)n[s].coins=s+1;return A&&(A.wordOptions=n,await Bn(A)),n}async function fE(t,A,e){return t.wordOptions=[],await Bn(t),e}function zs(t,A){const e=wc(t);if(!e){if(t.drawings.length===0)return t.users[0]===A?"draw":"waiting";const r=[...t.drawings].reverse().find(a=>a.guessed);if(!r)return t.users[0]===A?"draw":"waiting";const s=(t.users.indexOf(r.artist)+1)%t.users.length;return t.users[s]===A?"draw":"waiting"}return e.artist===A?"waiting":"guess"}function dE(t){return{...t,hintPurchased:t.hintPurchased??!1,superHintPurchased:t.superHintPurchased??!1}}function Nh(t){return`The word is ${t.secretWord.length} letters long`}function Gh(t){const A=t.secretWord.split("");for(let e=A.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[A[e],A[r]]=[A[r],A[e]]}return`Letters: ${A.join("  ").toUpperCase()}`}function Xi(t){return t?t instanceof Date?t.getTime():typeof t.toDate=="function"?t.toDate().getTime():typeof t=="string"?new Date(t).getTime():new Date(t).getTime():0}async function gE(t,A,e){if(e.coins<5||A.hintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&Xi(n.createdAt)===Xi(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,hintPurchased:!0},await Bn(t),!0)}async function BE(t,A,e){if(e.coins<10||!A.hintPurchased||A.superHintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&Xi(n.createdAt)===Xi(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,superHintPurchased:!0},await Bn(t),!0)}const Sr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAASUExURQAAAAYGCP/4Vf/QLPGZEf///5e4X0EAAAABdFJOUwBA5thmAAAAAWJLR0QF+G/pxwAAAAd0SU1FB+kFEQMBEaw38IoAAABMSURBVEjHY2CAA0EsgAEbGFVIP4VgQSUsAF31qEL6KUSoMcYCXEAAonpU4ajCUYWjCkcVjiokQyGisnHBArDWXKMK6adwKLQfR5pCAFjAgTiNHXoCAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI1LTA1LTE3VDAzOjAwOjU0KzAwOjAwAqVpBwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNS0wNS0xN1QwMzowMDo1NCswMDowMHP40bsAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjUtMDUtMTdUMDM6MDE6MTcrMDA6MDB+jY89AAAAAElFTkSuQmCC";function Wh(t){let A,e=t[0][0].toUpperCase()+"",r;return{c(){A=D("div"),r=sA(e),_(A,"class","w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold")},m(n,s){W(n,A,s),U(A,r)},p(n,s){s&1&&e!==(e=n[0][0].toUpperCase()+"")&&IA(r,e)},d(n){n&&G(A)}}}function jh(t){let A,e,r,n,s;return{c(){A=D("span"),e=sA(t[1]),r=q(),n=D("img"),Le(n.src,s=Sr)||_(n,"src",s),_(n,"class","w-4 h-4"),_(n,"alt","coins")},m(i,a){W(i,A,a),U(A,e),W(i,r,a),W(i,n,a)},p(i,a){a&2&&IA(e,i[1])},d(i){i&&(G(A),G(r),G(n))}}}function Xh(t){let A,e,r;return{c(){A=sA(" "),e=D("span"),r=sA(t[3]),_(e,"class","text-xs text-black/60")},m(n,s){W(n,A,s),W(n,e,s),U(e,r)},p(n,s){s&8&&IA(r,n[3])},d(n){n&&(G(A),G(e))}}}function Jh(t){let A,e;return{c(){A=ze("svg"),e=ze("path"),_(e,"fill-rule","evenodd"),_(e,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),_(e,"clip-rule","evenodd"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"class","h-5 w-5 text-gray-400"),_(A,"viewBox","0 0 20 20"),_(A,"fill","currentColor")},m(r,n){W(r,A,n),U(A,e)},d(r){r&&G(A)}}}function pE(t){let A,e,r,n,s,i=t[0].toLowerCase()+"",a,l,c,u,f,g,B,C,y=t[2]&&Wh(t),F=t[1]!==null&&jh(t),S=t[3]&&Xh(t),R=t[4]&&Jh();return{c(){A=D("button"),e=D("div"),y&&y.c(),r=q(),n=D("div"),s=D("span"),a=sA(i),l=q(),c=D("div"),F&&F.c(),u=q(),S&&S.c(),f=q(),R&&R.c(),_(s,"class","font-medium text-black"),_(c,"class","flex items-center gap-1 text-sm text-black/60"),_(n,"class","flex flex-col items-start"),_(e,"class","flex items-center gap-3"),_(A,"class","flex items-center justify-between w-full p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:border-primary/20 transition-colors active:bg-gray-50"),A.disabled=g=t[4]===null,xt(A,"cursor-pointer",t[4]!==null),xt(A,"cursor-default",t[4]===null)},m(H,x){W(H,A,x),U(A,e),y&&y.m(e,null),U(e,r),U(e,n),U(n,s),U(s,a),U(n,l),U(n,c),F&&F.m(c,null),U(c,u),S&&S.m(c,null),U(A,f),R&&R.m(A,null),B||(C=fA(A,"click",t[5]),B=!0)},p(H,[x]){H[2]?y?y.p(H,x):(y=Wh(H),y.c(),y.m(e,r)):y&&(y.d(1),y=null),x&1&&i!==(i=H[0].toLowerCase()+"")&&IA(a,i),H[1]!==null?F?F.p(H,x):(F=jh(H),F.c(),F.m(c,u)):F&&(F.d(1),F=null),H[3]?S?S.p(H,x):(S=Xh(H),S.c(),S.m(c,null)):S&&(S.d(1),S=null),H[4]?R||(R=Jh(),R.c(),R.m(A,null)):R&&(R.d(1),R=null),x&16&&g!==(g=H[4]===null)&&(A.disabled=g),x&16&&xt(A,"cursor-pointer",H[4]!==null),x&16&&xt(A,"cursor-default",H[4]===null)},i:tA,o:tA,d(H){H&&G(A),y&&y.d(),F&&F.d(),S&&S.d(),R&&R.d(),B=!1,C()}}}function wE(t,A,e){let{name:r}=A,{coins:n=null}=A,{showAvatar:s=!1}=A,{subtitle:i=null}=A,{onClick:a=null}=A;const l=()=>a==null?void 0:a();return t.$$set=c=>{"name"in c&&e(0,r=c.name),"coins"in c&&e(1,n=c.coins),"showAvatar"in c&&e(2,s=c.showAvatar),"subtitle"in c&&e(3,i=c.subtitle),"onClick"in c&&e(4,a=c.onClick)},[r,n,s,i,a,l]}class mc extends Xe{constructor(A){super(),je(this,A,wE,pE,Ve,{name:0,coins:1,showAvatar:2,subtitle:3,onClick:4})}}function qh(t,A,e){const r=t.slice();return r[11]=A[e],r}function mE(t){let A,e,r=DA(t[0].users.filter(t[9])),n=[];for(let i=0;i<r.length;i+=1)n[i]=zh(qh(t,r,i));const s=i=>iA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=tt()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);W(i,A,a),e=!0},p(i,a){if(a&99){r=DA(i[0].users.filter(i[9]));let l;for(l=0;l<r.length;l+=1){const c=qh(i,r,l);n[l]?(n[l].p(c,a),AA(n[l],1)):(n[l]=zh(c),n[l].c(),AA(n[l],1),n[l].m(A.parentNode,A))}for(oe(),l=r.length;l<n.length;l+=1)s(l);ae()}},i(i){if(!e){for(let a=0;a<r.length;a+=1)AA(n[a]);e=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)iA(n[a]);e=!1},d(i){i&&G(A),ke(n,i)}}}function CE(t){let A,e,r;return e=new mc({props:{name:t[2],coins:t[3],onClick:t[6]}}),{c(){A=D("div"),le(e.$$.fragment),_(A,"class","flex flex-row text-start w-full")},m(n,s){W(n,A,s),ee(e,A,null),r=!0},p(n,s){const i={};s&4&&(i.name=n[2]),s&8&&(i.coins=n[3]),e.$set(i)},i(n){r||(AA(e.$$.fragment,n),r=!0)},o(n){iA(e.$$.fragment,n),r=!1},d(n){n&&G(A),te(e)}}}function yE(t){let A,e=t[11]+"",r;return{c(){A=D("span"),r=sA(e),_(A,"class","font-bold text-black")},m(n,s){W(n,A,s),U(A,r)},p(n,s){s&3&&e!==(e=n[11]+"")&&IA(r,e)},i:tA,o:tA,d(n){n&&G(A)}}}function QE(t){let A,e;return A=new mc({props:{name:t[11],coins:t[5][t[11]].coins,subtitle:`${t[0].drawings.length} drawing${t[0].drawings.length===1?"":"s"}`,onClick:t[6]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p(r,n){const s={};n&3&&(s.name=r[11]),n&35&&(s.coins=r[5][r[11]].coins),n&1&&(s.subtitle=`${r[0].drawings.length} drawing${r[0].drawings.length===1?"":"s"}`),A.$set(s)},i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function zh(t){let A,e,r,n,s;const i=[QE,yE],a=[];function l(c,u){return c[5][c[11]]?0:1}return e=l(t),r=a[e]=i[e](t),{c(){A=D("div"),r.c(),n=q(),_(A,"class","w-full flex flex-col items-center justify-center gap-0.5")},m(c,u){W(c,A,u),a[e].m(A,null),U(A,n),s=!0},p(c,u){let f=e;e=l(c),e===f?a[e].p(c,u):(oe(),iA(a[f],1,1,()=>{a[f]=null}),ae(),r=a[e],r?r.p(c,u):(r=a[e]=i[e](c),r.c()),AA(r,1),r.m(A,n))},i(c){s||(AA(r),s=!0)},o(c){iA(r),s=!1},d(c){c&&G(A),a[e].d()}}}function _E(t){let A,e,r,n;const s=[CE,mE],i=[];function a(l,c){return l[4]?0:l[0]?1:-1}return~(e=a(t))&&(r=i[e]=s[e](t)),{c(){A=D("div"),r&&r.c(),_(A,"class","cursor-pointer py-1 rounded-lg transition-colors w-full mb-2 flex flex-col gap-2 items-center justify-between"),xt(A,"bg-primary-10",!t[4]),xt(A,"bg-secondary-10",t[4])},m(l,c){W(l,A,c),~e&&i[e].m(A,null),n=!0},p(l,[c]){let u=e;e=a(l),e===u?~e&&i[e].p(l,c):(r&&(oe(),iA(i[u],1,1,()=>{i[u]=null}),ae()),~e?(r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),AA(r,1),r.m(A,null)):r=null),(!n||c&16)&&xt(A,"bg-primary-10",!l[4]),(!n||c&16)&&xt(A,"bg-secondary-10",l[4])},i(l){n||(AA(r),n=!0)},o(l){iA(r),n=!1},d(l){l&&G(A),~e&&i[e].d()}}}function EE(t,A,e){let r,n;YA(t,Se,C=>e(10,r=C)),YA(t,Re,C=>e(5,n=C));let{game:s=null}=A,{currentUserName:i=""}=A,{user:a=""}=A,{coins:l=null}=A,{isNewGame:c=!1}=A,{onClick:u=null}=A,{navigate:f=null}=A;function g(){c&&u?u():s&&f&&(Oe(Se,r=s,r),f("home"))}const B=C=>C!==i;return t.$$set=C=>{"game"in C&&e(0,s=C.game),"currentUserName"in C&&e(1,i=C.currentUserName),"user"in C&&e(2,a=C.user),"coins"in C&&e(3,l=C.coins),"isNewGame"in C&&e(4,c=C.isNewGame),"onClick"in C&&e(7,u=C.onClick),"navigate"in C&&e(8,f=C.navigate)},[s,i,a,l,c,n,g,u,f,B]}class vE extends Xe{constructor(A){super(),je(this,A,EE,_E,Ve,{game:0,currentUserName:1,user:2,coins:3,isNewGame:4,onClick:7,navigate:8})}}function Yh(t,A,e){const r=t.slice();return r[5]=A[e],r}function Zh(t){let A,e;return A=new vE({props:{game:t[5],currentUserName:t[2],navigate:t[4]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p(r,n){const s={};n&2&&(s.game=r[5]),n&4&&(s.currentUserName=r[2]),n&16&&(s.navigate=r[4]),A.$set(s)},i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function UE(t){let A,e,r,n,s,i=DA(t[1]),a=[];for(let c=0;c<i.length;c+=1)a[c]=Zh(Yh(t,i,c));const l=c=>iA(a[c],1,1,()=>{a[c]=null});return{c(){A=D("div"),e=D("h3"),r=sA(t[0]),n=q();for(let c=0;c<a.length;c+=1)a[c].c();_(e,"class",t[3]),_(A,"class","flex flex-col gap-0")},m(c,u){W(c,A,u),U(A,e),U(e,r),U(A,n);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(A,null);s=!0},p(c,[u]){if((!s||u&1)&&IA(r,c[0]),(!s||u&8)&&_(e,"class",c[3]),u&22){i=DA(c[1]);let f;for(f=0;f<i.length;f+=1){const g=Yh(c,i,f);a[f]?(a[f].p(g,u),AA(a[f],1)):(a[f]=Zh(g),a[f].c(),AA(a[f],1),a[f].m(A,null))}for(oe(),f=i.length;f<a.length;f+=1)l(f);ae()}},i(c){if(!s){for(let u=0;u<i.length;u+=1)AA(a[u]);s=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)iA(a[u]);s=!1},d(c){c&&G(A),ke(a,c)}}}function FE(t,A,e){let{title:r}=A,{games:n}=A,{currentUserName:s}=A,{titleClass:i="text-sm font-semibold text-primary"}=A,{navigate:a=null}=A;return t.$$set=l=>{"title"in l&&e(0,r=l.title),"games"in l&&e(1,n=l.games),"currentUserName"in l&&e(2,s=l.currentUserName),"titleClass"in l&&e(3,i=l.titleClass),"navigate"in l&&e(4,a=l.navigate)},[r,n,s,i,a]}class op extends Xe{constructor(A){super(),je(this,A,FE,UE,Ve,{title:0,games:1,currentUserName:2,titleClass:3,navigate:4})}}const ap=""+new URL("logo-BEMpbk-Y.svg",import.meta.url).href;function IE(t){let A,e,r,n;return{c(){A=D("img"),Le(A.src,e=ap)||_(A,"src",e),_(A,"alt","drawIt"),_(A,"class","w-48 mx-auto mb-6 drop-shadow-md cursor-pointer")},m(s,i){W(s,A,i),r||(n=fA(A,"click",t[0]),r=!0)},p:tA,i:tA,o:tA,d(s){s&&G(A),r=!1,n()}}}function bE(t,A,e){let{navigate:r}=A;function n(){r?r("home"):window.location.href="/"}return t.$$set=s=>{"navigate"in s&&e(1,r=s.navigate)},[n,r]}class _o extends Xe{constructor(A){super(),je(this,A,bE,IE,Ve,{navigate:1})}}const{Boolean:lp}=Nd;function $h(t,A,e){const r=t.slice();return r[18]=A[e],r}function Af(t,A,e){const r=t.slice();return r[18]=A[e],r}function TE(t){let A,e,r,n,s,i,a,l,c,u;return{c(){var f;A=D("div"),e=D("span"),e.textContent="Who are you?",r=q(),n=D("input"),s=q(),i=D("button"),a=sA("get drawin'"),_(e,"class","text-2xl font-bold text-primary"),_(n,"type","text"),_(n,"placeholder","Your name"),_(n,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-lg px-4 py-2 shadow"),_(n,"autocapitalize","off"),_(n,"autocorrect","off"),_(n,"maxlength","14"),_(i,"class","btn btn-primary text-white w-full rounded-xl text-lg py-2 shadow"),i.disabled=l=!((f=t[4])!=null&&f.trim()),_(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto mt-8")},m(f,g){W(f,A,g),U(A,e),U(A,r),U(A,n),ft(n,t[4]),U(A,s),U(A,i),U(i,a),c||(u=[fA(n,"input",t[14]),fA(i,"click",t[15])],c=!0)},p(f,g){var B;g&16&&n.value!==f[4]&&ft(n,f[4]),g&16&&l!==(l=!((B=f[4])!=null&&B.trim()))&&(i.disabled=l)},i:tA,o:tA,d(f){f&&G(A),c=!1,ve(u)}}}function HE(t){let A,e,r,n;const s=[DE,RE],i=[];function a(l,c){return l[5].length!==0?0:1}return A=a(t),e=i[A]=s[A](t),{c(){e.c(),r=tt()},m(l,c){i[A].m(l,c),W(l,r,c),n=!0},p(l,c){let u=A;A=a(l),A===u?i[A].p(l,c):(oe(),iA(i[u],1,1,()=>{i[u]=null}),ae(),e=i[A],e?e.p(l,c):(e=i[A]=s[A](l),e.c()),AA(e,1),e.m(r.parentNode,r))},i(l){n||(AA(e),n=!0)},o(l){iA(e),n=!1},d(l){l&&G(r),i[A].d(l)}}}function SE(t){let A;return{c(){A=D("div"),A.innerHTML='<div class="text-primary text-lg font-semibold">Loading...</div>',_(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function RE(t){let A;return{c(){A=D("div"),A.textContent="No games yet. Start a new one!",_(A,"class","text-center text-gray-500 mt-8")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function DE(t){let A,e,r=t[3]&&ef(t);return{c(){A=D("div"),r&&r.c(),_(A,"class","flex flex-col gap-6 w-full max-w-xs mx-auto")},m(n,s){W(n,A,s),r&&r.m(A,null),e=!0},p(n,s){n[3]?r?(r.p(n,s),s&8&&AA(r,1)):(r=ef(n),r.c(),AA(r,1),r.m(A,null)):r&&(oe(),iA(r,1,1,()=>{r=null}),ae())},i(n){e||(AA(r),e=!0)},o(n){iA(r),e=!1},d(n){n&&G(A),r&&r.d()}}}function ef(t){let A=t[5].filter(t[11]).length>0,e,r=t[5].filter(t[10]).length>0,n,s,i=A&&tf(t),a=r&&nf(t);return{c(){i&&i.c(),e=q(),a&&a.c(),n=tt()},m(l,c){i&&i.m(l,c),W(l,e,c),a&&a.m(l,c),W(l,n,c),s=!0},p(l,c){c&40&&(A=l[5].filter(l[11]).length>0),A?i?(i.p(l,c),c&40&&AA(i,1)):(i=tf(l),i.c(),AA(i,1),i.m(e.parentNode,e)):i&&(oe(),iA(i,1,1,()=>{i=null}),ae()),c&40&&(r=l[5].filter(l[10]).length>0),r?a?(a.p(l,c),c&40&&AA(a,1)):(a=nf(l),a.c(),AA(a,1),a.m(n.parentNode,n)):a&&(oe(),iA(a,1,1,()=>{a=null}),ae())},i(l){s||(AA(i),AA(a),s=!0)},o(l){iA(i),iA(a),s=!1},d(l){l&&(G(e),G(n)),i&&i.d(l),a&&a.d(l)}}}function tf(t){let A,e,r,n,s=DA(t[5].filter(t[12])),i=[];for(let l=0;l<s.length;l+=1)i[l]=rf(Af(t,s,l));const a=l=>iA(i[l],1,1,()=>{i[l]=null});return{c(){A=D("div"),e=D("div"),e.textContent="Your Turn!",r=q();for(let l=0;l<i.length;l+=1)i[l].c();_(e,"class","text-center text-2xl font-bold mb-2 animate-gradient-text svelte-1by7pf7"),_(A,"class","rounded-2xl bg-white/90 shadow-md p-4")},m(l,c){W(l,A,c),U(A,e),U(A,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(A,null);n=!0},p(l,c){if(c&41){s=DA(l[5].filter(l[12]));let u;for(u=0;u<s.length;u+=1){const f=Af(l,s,u);i[u]?(i[u].p(f,c),AA(i[u],1)):(i[u]=rf(f),i[u].c(),AA(i[u],1),i[u].m(A,null))}for(oe(),u=s.length;u<i.length;u+=1)a(u);ae()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)AA(i[c]);n=!0}},o(l){i=i.filter(lp);for(let c=0;c<i.length;c+=1)iA(i[c]);n=!1},d(l){l&&G(A),ke(i,l)}}}function rf(t){let A,e;return A=new op({props:{title:"",games:[t[18]],currentUserName:t[3],navigate:t[0]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p(r,n){const s={};n&40&&(s.games=[r[18]]),n&8&&(s.currentUserName=r[3]),n&1&&(s.navigate=r[0]),A.$set(s)},i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function nf(t){let A,e,r,n,s=DA(t[5].filter(t[13])),i=[];for(let l=0;l<s.length;l+=1)i[l]=sf($h(t,s,l));const a=l=>iA(i[l],1,1,()=>{i[l]=null});return{c(){A=D("div"),e=D("div"),e.textContent="Waiting",r=q();for(let l=0;l<i.length;l+=1)i[l].c();_(e,"class","text-center text-secondary/60 font-semibold text-xs mb-2"),_(A,"class","rounded-2xl bg-white/60 shadow-sm p-4 opacity-60")},m(l,c){W(l,A,c),U(A,e),U(A,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(A,null);n=!0},p(l,c){if(c&41){s=DA(l[5].filter(l[13]));let u;for(u=0;u<s.length;u+=1){const f=$h(l,s,u);i[u]?(i[u].p(f,c),AA(i[u],1)):(i[u]=sf(f),i[u].c(),AA(i[u],1),i[u].m(A,null))}for(oe(),u=s.length;u<i.length;u+=1)a(u);ae()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)AA(i[c]);n=!0}},o(l){i=i.filter(lp);for(let c=0;c<i.length;c+=1)iA(i[c]);n=!1},d(l){l&&G(A),ke(i,l)}}}function sf(t){let A,e;return A=new op({props:{title:"",games:[t[18]],currentUserName:t[3],navigate:t[0]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p(r,n){const s={};n&40&&(s.games=[r[18]]),n&8&&(s.currentUserName=r[3]),n&1&&(s.navigate=r[0]),A.$set(s)},i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function LE(t){let A,e,r,n,s,i;e=new _o({props:{navigate:t[0]}});const a=[SE,HE,TE],l=[];function c(u,f){return u[2]||u[1]&&!u[6]?0:u[1]?1:2}return n=c(t),s=l[n]=a[n](t),{c(){A=D("div"),le(e.$$.fragment),r=q(),s.c(),_(A,"class","w-full min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-background-gradient-start to-background-gradient-end text-black")},m(u,f){W(u,A,f),ee(e,A,null),U(A,r),l[n].m(A,null),i=!0},p(u,[f]){const g={};f&1&&(g.navigate=u[0]),e.$set(g);let B=n;n=c(u),n===B?l[n].p(u,f):(oe(),iA(l[B],1,1,()=>{l[B]=null}),ae(),s=l[n],s?s.p(u,f):(s=l[n]=a[n](u),s.c()),AA(s,1),s.m(A,null))},i(u){i||(AA(e.$$.fragment,u),AA(s),i=!0)},o(u){iA(e.$$.fragment,u),iA(s),i=!1},d(u){u&&G(A),te(e),l[n].d()}}}function kE(t,A,e){let r,n,s,i,a;YA(t,Jn,H=>e(6,n=H)),YA(t,Ae,H=>e(1,s=H)),YA(t,yl,H=>e(8,i=H)),YA(t,un,H=>e(9,a=H));let l=!0,c=null,u="",{navigate:f}=A;async function g(H){H.trim()&&/^[a-zA-Z0-9]+$/.test(H)?(e(2,l=!0),await sE(H.trim()),e(2,l=!1),window.location.reload()):H.trim()}Bs(async()=>{if(e(2,l=!0),Oe(Jn,n=!1,n),s&&s.name)if(!await np(s.name))Oe(Ae,s=null,s);else{const P=(await sp(s.name)).flatMap(L=>L.users.filter(E=>E!==s.name));await eE(P),Oe(Jn,n=!0,n)}e(2,l=!1)});const B=H=>zs(H,c)==="waiting",C=H=>["draw","guess"].includes(zs(H,c)),y=H=>["draw","guess"].includes(zs(H,c)),F=H=>zs(H,c)==="waiting";function S(){u=this.value,e(4,u)}const R=()=>g(u);return t.$$set=H=>{"navigate"in H&&e(0,f=H.navigate)},t.$$.update=()=>{t.$$.dirty&2&&e(3,c=s?s.name:null),t.$$.dirty&768&&e(5,r=a.map(H=>i[H]).filter(Boolean))},[f,s,l,c,u,r,n,g,i,a,B,C,y,F,S,R]}class cp extends Xe{constructor(A){super(),je(this,A,kE,LE,Ve,{navigate:0})}}function of(t,A,e){const r=t.slice();return r[28]=A[e],r}function af(t,A,e){const r=t.slice();return r[31]=A[e],r}function lf(t){let A,e,r,n;function s(){return t[13](t[31])}return{c(){A=D("button"),_(A,"class",e="w-8 h-8 rounded-full border-2 "+(t[1]===t[31]?"border-primary":"")),Ta(A,"background-color",t[31])},m(i,a){W(i,A,a),r||(n=fA(A,"click",s),r=!0)},p(i,a){t=i,a[0]&2&&e!==(e="w-8 h-8 rounded-full border-2 "+(t[1]===t[31]?"border-primary":""))&&_(A,"class",e)},d(i){i&&G(A),r=!1,n()}}}function cf(t){let A,e,r,n,s;function i(){return t[14](t[28])}return{c(){A=D("button"),e=D("div"),_(e,"class","w-4 h-4 rounded-full bg-black mx-auto"),Ta(e,"width",t[28]+"px"),Ta(e,"height",t[28]+"px"),_(A,"class",r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[28]?"border-primary":"border-transparent"))},m(a,l){W(a,A,l),U(A,e),n||(s=fA(A,"click",i),n=!0)},p(a,l){t=a,l[0]&1&&r!==(r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[28]?"border-primary":"border-transparent"))&&_(A,"class",r)},d(a){a&&G(A),n=!1,s()}}}function VE(t){let A,e,r,n,s,i,a,l,c,u,f=DA(t[6]),g=[];for(let y=0;y<f.length;y+=1)g[y]=lf(af(t,f,y));let B=DA(t[7]),C=[];for(let y=0;y<B.length;y+=1)C[y]=cf(of(t,B,y));return{c(){A=D("div"),e=D("div");for(let y=0;y<g.length;y+=1)g[y].c();r=q(),n=D("div");for(let y=0;y<C.length;y+=1)C[y].c();s=q(),i=D("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path></svg>',a=q(),l=D("canvas"),_(e,"class","flex gap-2 justify-start items-center flex-wrap"),_(i,"class","w-8 h-8 rounded-full border-2 bg-white border-transparent"),_(n,"class","flex gap-2 justify-start items-center"),_(l,"class","border-2 border-gray-300 rounded-lg touch-none w-full aspect-square"),_(A,"class","flex flex-col gap-2 w-full")},m(y,F){W(y,A,F),U(A,e);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(e,null);U(A,r),U(A,n);for(let S=0;S<C.length;S+=1)C[S]&&C[S].m(n,null);U(n,s),U(n,i),U(A,a),U(A,l),t[15](l),t[16](A),c||(u=[fA(i,"click",t[2]),fA(l,"mousedown",t[8]),fA(l,"mousemove",t[9]),fA(l,"mouseup",t[10]),fA(l,"mouseleave",t[10]),fA(l,"touchstart",t[8]),fA(l,"touchmove",t[9]),fA(l,"touchend",t[10],{passive:!0})],c=!0)},p(y,F){if(F[0]&82){f=DA(y[6]);let S;for(S=0;S<f.length;S+=1){const R=af(y,f,S);g[S]?g[S].p(R,F):(g[S]=lf(R),g[S].c(),g[S].m(e,null))}for(;S<g.length;S+=1)g[S].d(1);g.length=f.length}if(F[0]&145){B=DA(y[7]);let S;for(S=0;S<B.length;S+=1){const R=of(y,B,S);C[S]?C[S].p(R,F):(C[S]=cf(R),C[S].c(),C[S].m(n,s))}for(;S<C.length;S+=1)C[S].d(1);C.length=B.length}},i:tA,o:tA,d(y){y&&G(A),ke(g,y),ke(C,y),t[15](null),t[16](null),c=!1,ve(u)}}}function xE(t,A,e){let r=400,n=400,{lineWidth:s=5}=A,{strokeColor:i="#000000"}=A,a,l,c=!1,u,f=[],g=null;const B=["#E74C3C","#E67E22","#F1C40F","#2ECC71","#1ABC9C","#3498DB","#4834D4","#9B59B6","#D291BC","#F5E6DE","#D2A679","#8D5524","#000000","#7F8C8D","#FFFFFF"],C=[2,5,15,25];function y(){if(!a)return;const O=window.devicePixelRatio||1;e(3,a.width=r*O,a),e(3,a.height=n*O,a),e(3,a.style.width=r+"px",a),e(3,a.style.height=n+"px",a),e(4,l=a.getContext("2d")),l.setTransform(1,0,0,1,0,0),l.scale(O,O),e(4,l.lineCap="round",l),e(4,l.lineJoin="round",l),e(4,l.strokeStyle=i,l),e(4,l.lineWidth=s,l),e(4,l.fillStyle="#FFFFFF",l),l.fillRect(0,0,r,n)}function F(O){c=!0;const uA=L(O);g={color:i,width:s,points:[uA]}}function S(O){if(!c||!g)return;const uA=L(O);g.points.push(uA),H()}function R(){c&&g&&(f.push(g),g=null),c=!1}function H(){l.clearRect(0,0,r,n),e(4,l.fillStyle="#FFFFFF",l),l.fillRect(0,0,r,n);for(const O of f)x(O);g&&x(g)}function x(O){if(!(O.points.length<2)){l.save(),e(4,l.strokeStyle=O.color,l),e(4,l.lineWidth=O.width,l),l.beginPath(),l.moveTo(O.points[0].x,O.points[0].y);for(let uA=1;uA<O.points.length;uA++)l.lineTo(O.points[uA].x,O.points[uA].y);l.stroke(),l.restore()}}function P(){f.length>0&&(f.pop(),H())}function L(O){const uA=a.getBoundingClientRect();if("touches"in O&&O.touches.length>0){const dA=O.touches[0];return{x:dA.clientX-uA.left,y:dA.clientY-uA.top}}return{x:O.clientX-uA.left,y:O.clientY-uA.top}}function E(){f=[],g=null,e(4,l.fillStyle="#FFFFFF",l),l.fillRect(0,0,r,n)}function m(){return a.toDataURL("image/png")}function Q(){!u||!a||(r=u.clientWidth,n=r,y(),H())}Bs(()=>{y(),H();const O=new ResizeObserver(()=>{Q()});return u&&O.observe(u),()=>{O.disconnect()}});const I=O=>{e(1,i=O),e(4,l.strokeStyle=O,l)},v=O=>{e(0,s=O),e(4,l.lineWidth=O,l)};function b(O){ns[O?"unshift":"push"](()=>{a=O,e(3,a)})}function p(O){ns[O?"unshift":"push"](()=>{u=O,e(5,u)})}return t.$$set=O=>{"lineWidth"in O&&e(0,s=O.lineWidth),"strokeColor"in O&&e(1,i=O.strokeColor)},[s,i,P,a,l,u,B,C,F,S,R,E,m,I,v,b,p]}class ME extends Xe{constructor(A){super(),je(this,A,xE,VE,Ve,{lineWidth:0,strokeColor:1,undo:2,clearCanvas:11,getImageData:12},null,[-1,-1])}get undo(){return this.$$.ctx[2]}get clearCanvas(){return this.$$.ctx[11]}get getImageData(){return this.$$.ctx[12]}}const tl="data:image/gif;base64,R0lGODdhUABQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAUABQAIIAAAAGBgjxmRH/0Cz/+FUAAAAAAAAAAAAD/wi63B0wykmrlS7rza//HieOGWieAamSaHut8ObOU2w/dH7vQK7zNh8NGBS6iDHjEYmzEJ7QqHRKrUZDN491y91ii86uePxNXsZobhmmTbun61X7TSfEVfO6+8466998I3l/ZC9ZfoRogT2IVAOPkJGSk5SVkQKYmZo5W5aen56aogKcVqCnqAOjmzSdqa+Vq5mlVbC2krKYtI63vbmkraa9t7+7U8PEucZSyLbFwbXNr88zrtKo1C7W16DZLdvcocrQvOGf3ijg5pToJ+rruOPVwvCx8tr09ZPtJu/6qve+5fsHiR8If/oMfkBYT+EgZgTjyVoWJaLEVRShWLwUMKzdwIgOGx3b+ChkmGgkTVZgCE8lBZbrXE6AaU6mBJrhbEbAyU0nBJ7XfAYAKk0o0WZGPxJMinIj03JOO7pT+k9hhwu/smrFaAhMha1gty66aiGsWakRdng4y1bUWBlY28p9q2Gt3LZ0S8S9ezavA7t8zfpt8jWw4K5myhoOOxiPEhRM5Dw+EdnxZBCV+1z+kFnQZs6dyX62EFr0aAql4Z6ukLruatat/75GfSMBACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTCHUAONjo+QkAKTlJWJO4JZkZublZ4Clx2ZU5yljp+WfySLT6amqJShGKwErqWwk7IQtLacuKCqI7y9kb+6V6NSxMW4x0AfYcuSzcE2yVHSj8bVIcPZA9s4TdBg343hPSne2egWK+vS7ULq14zm8kvjHtH31OL05LSYA+cv3ap6rfrBcuYFYS2FqBgygLcM3xF9Fvh9s4gC0mMFjewKuvNIAWQ8kfMOBtQE8ZPEPStJtfT0ssi+cjNT/VN5U2DOWNw4UCTGMcA7hwOLHo2p7GeuoBuG9lJKcoLJiijzAezJcmPWi1sz4vS6ECompticAtspDKnamoHQ2iMb0awouQnpurQ7y61emnx3+Q1Zlm2OE7+oAkKcuLBBNYwb7zVcx4TkupQNWb4MODOTyJyfekYCOjTcpR5C63wMZ7Pqtawrf3gtOjaghkqM3kZtZDfvIL6ryggeFjjxtrmPI1ei3Fry5kJz64Z+lvmQBAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRVECv2wf4vH6/j4o3c3aCfISEfkUcgYJ1hY15h0CJTIt3jo2QPZJFlIyWhZg8mkCcdJ6fV38aipSmhqiIgJOkrXygNKI9pAK0fa+RsZuzvI++mcCjwsMDtkbHucnDzE3OPLrKeNJTqrKc18vFodQ01tfZuNXQvObiM+TK69vB3eXgt+wy7tH1zfHI8+/7pvV79k8fl1QZVi3yBi8hN1b0DsIaiK6guoDaHMqDCFCl4i+K49LRaohB4aCIYSZq9MfRYMqPKwm2vOjRGMh2IluRvGCyUseXNmNWnDkS47mQFovWDHcTX05TOy307PTTDMKSDxeitKoS60atVXdc5Zn1ZNg1Y6WW9emSK0yvLMG2Fds1xFRddOKsuItXrwq+uvymAExKMArCnAyfQExJsQnGixyXgCxIMgnKdiyPwFxHM4zPoEOLHk26tOnTqFOrXs26NekEACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrcHTDKSauVLuvNr/8eJ44ZaJ4BqZJoe63w5s5TbD90fu9ArvM2Hw0YFLqIMeMRibMQntCodEqtRkM3j3XL3WKLzq54/E1exmhuGaZNu6frVftNJ8RV87r7zjrr33wjeX9kL1l+hGiBPRcCjo+QA5KTlJWWl5iUXjSQnQKZoKGgmzOekaKoqaQupo+pr6GrLa2OsLaXsii0n7e9krknu76+wCbCw7fFIMfIsMofzM2qVjnR0qLPHtbXo9SctNzTVdXg4djepeXm3ePfreux6Kzq8Ljys/T1ldmN+fqT/Cxs+zcgYIWB/wxSQKhP4QSG9RxKgAhPYgSK6yxCwGhOqmMAjuE8guQm0h/Bku8I7runy2RClsFcNoRpTGZEmstsVsQJTWdGntp8dgTaL6VKgEQFCg2Z9OBSkk0XPr32rEPRXVizQlpkVanWr1i5yrgKtmwnsRqCml37CG0JsmzLunWgNq7ZuU2c2r1rCIzevWDxMqgLWKvgBYQLh+3LRIGSFo3xPD4Ruc9kEJUFXcacuetmxp3pfj4MZDRpHqZBhx6cusLqtK0p7EgAACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTAnAoyNjgOQkZKTk2GJOyaOmgKUnZ2WfySLm42eppGgOE0fpKWnpqk9KaOtr7Bglx2ZrZy2n7ihI7Skvr9owTa7tcWVwKqzysTMkrEWK8Ob09TOsqLR2dqQ1ULQrLzh4tzWqx68veHjS+wW7ugD8UfzFfXo+Cj6FPjBU0fOm7llA489M9juXD+C8so1RKjNX4Br3zTZs4jx2KC0hFuQhcCm8aHCbsIyPjIZcmFKj+BAuhHJgeRKmX5cJoNZEuccmhtsuvJJCCgmnjcrQswnkZ5Donh0jlQ5VOnJdU33PbXaEuXOiR+5zpRakyqjjUv/ZQ24dRpHgBMEis3pdSrSqm7TXoQrQW7eqwVfgo059yfZoGbfFS56+Ojgnouj1qUh1B2jXEMqW8b8Q7M7zj488wKtQ3Qr0jlMk0JdQ/Um1pQTfzaaRPZo2pltn8YNSAlTQHxbAH/hW+1whkaOB4etvPhe5YKTQ48eZDp1Hta/Sv+RAAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRWzio2+94vGDP78cvczp5g4N9hgJ/FoE5hI12h35iG4s4jo6QfIkVlDeWjZh7mhScNp6EoIiSGqQEpoWgohOsrnmosRKztHe2qhm5unW8RRy/wMJAxF9JwI+wvRjFusc9yUjLzAPTPNVP18zaNNxa3sbOw5PKQ9jZ5sjo1urY4Ebv3fHf7dT14/flmLcRotGa12QfGXLS8m0zWAPhQIXhGAZx6IrglFXp6MiDSA+oIzyN+P49A5RR0EaR5zzaA+kPEkAIAityLKiSH8uEKN3VPNgPp8uRikoyOvkzpS+hlYgeevkgpimL4njefJhT386GPakW1Xn0o8mQW612Xfm15VKgm5B2UmqIqQOnnqCWkIJKLhomdWdebIM3b9iFd4v4/RsxMJDBZ42yoIs4kuIVjBuHQosismS3ISw3xgxCM2LOMEKLHk26tOnTqFOrXs26tevXoxMAADs=";function uf(t,A,e){const r=t.slice();return r[29]=A[e],r}function hf(t,A,e){const r=t.slice();return r[32]=A[e],r}function ff(t,A,e){const r=t.slice();return r[12]=A[e],r}function PE(t){let A,e,r,n;const s=[NE,OE],i=[];function a(l,c){return!l[1]&&l[2]?0:1}return e=a(t),r=i[e]=s[e](t),{c(){A=D("div"),r.c(),_(A,"class","flex flex-col items-center gap-6")},m(l,c){W(l,A,c),i[e].m(A,null),n=!0},p(l,c){let u=e;e=a(l),e===u?i[e].p(l,c):(oe(),iA(i[u],1,1,()=>{i[u]=null}),ae(),r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),AA(r,1),r.m(A,null))},i(l){n||(AA(r),n=!0)},o(l){iA(r),n=!1},d(l){l&&G(A),i[e].d()}}}function KE(t){let A,e,r,n,s,i,a,l,c,u;function f(x,P){return x[0].data&&x[0].data.length>10?JE:XE}let g=f(t),B=g(t);function C(x,P){return x[9]?zE:qE}let y=C(t),F=y(t),S=DA(t[0].guesses),R=[];for(let x=0;x<S.length;x+=1)R[x]=yf(ff(t,S,x));let H=!t[0].guessed&&t[2].name!==t[0].artist&&Qf(t);return{c(){A=D("div"),e=D("div"),B.c(),r=q(),n=D("div"),s=D("h2"),s.textContent="What's this?",i=q(),a=D("p"),F.c(),l=q(),c=D("div");for(let x=0;x<R.length;x+=1)R[x].c();u=q(),H&&H.c(),_(e,"class","bg-white/90 p-2 rounded-lg w-full max-w-[min(90vw,300px)] aspect-square flex items-center justify-center mx-auto border-2 border-primary"),_(s,"class","text-xl font-bold mb-2 text-primary"),_(a,"class","mb-4"),_(c,"class","flex flex-wrap gap-2 w-full overflow-y-auto"),_(n,"class","w-full max-w-[min(90vw,400px)]"),_(A,"class","flex flex-col items-center gap-6")},m(x,P){W(x,A,P),U(A,e),B.m(e,null),U(A,r),U(A,n),U(n,s),U(n,i),U(n,a),F.m(a,null),U(n,l),U(n,c);for(let L=0;L<R.length;L+=1)R[L]&&R[L].m(c,null);U(A,u),H&&H.m(A,null)},p(x,P){if(g===(g=f(x))&&B?B.p(x,P):(B.d(1),B=g(x),B&&(B.c(),B.m(e,null))),y===(y=C(x))&&F?F.p(x,P):(F.d(1),F=y(x),F&&(F.c(),F.m(a,null))),P[0]&1){S=DA(x[0].guesses);let L;for(L=0;L<S.length;L+=1){const E=ff(x,S,L);R[L]?R[L].p(E,P):(R[L]=yf(E),R[L].c(),R[L].m(c,null))}for(;L<R.length;L+=1)R[L].d(1);R.length=S.length}!x[0].guessed&&x[2].name!==x[0].artist?H?H.p(x,P):(H=Qf(x),H.c(),H.m(A,null)):H&&(H.d(1),H=null)},i:tA,o:tA,d(x){x&&G(A),B.d(),F.d(),ke(R,x),H&&H.d()}}}function OE(t){var E;let A,e,r,n,s=(((E=t[1])==null?void 0:E.secretWord.toUpperCase())??"")+"",i,a,l,c,u,f,g,B,C,y,F=t[4]?"Posting, great work...":"Submit Drawing",S,R,H,x,P,L={};return c=new ME({props:L}),t[22](c),{c(){A=D("div"),e=D("h2"),r=sA("Ok, let's draw "),n=D("span"),i=sA(s),a=q(),l=D("div"),le(c.$$.fragment),u=q(),f=D("div"),g=D("button"),g.textContent="Clear",B=q(),C=D("button"),y=D("span"),S=sA(F),_(n,"class","font-bold text-black"),_(e,"class","text-xl mb-4 text-black/60"),_(g,"class","btn btn-outline flex-1"),_(C,"class",R=t[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"),_(f,"class","flex flex-row gap-2 mt-4 w-full"),_(l,"class","w-full aspect-square max-w-[min(90vw,400px)] mx-auto"),_(A,"class","w-full h-screen")},m(m,Q){W(m,A,Q),U(A,e),U(e,r),U(e,n),U(n,i),U(A,a),U(A,l),ee(c,l,null),U(l,u),U(l,f),U(f,g),U(f,B),U(f,C),U(C,y),U(y,S),H=!0,x||(P=[fA(g,"click",t[23]),fA(C,"click",t[24])],x=!0)},p(m,Q){var v;(!H||Q[0]&2)&&s!==(s=(((v=m[1])==null?void 0:v.secretWord.toUpperCase())??"")+"")&&IA(i,s);const I={};c.$set(I),(!H||Q[0]&16)&&F!==(F=m[4]?"Posting, great work...":"Submit Drawing")&&IA(S,F),(!H||Q[0]&16&&R!==(R=m[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"))&&_(C,"class",R)},i(m){H||(AA(c.$$.fragment,m),H=!0)},o(m){iA(c.$$.fragment,m),H=!1},d(m){m&&G(A),t[22](null),te(c),x=!1,ve(P)}}}function NE(t){let A,e,r,n,s,i,a,l=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"",c,u,f,g,B,C={ctx:t,current:null,token:null,hasCatch:!1,pending:jE,then:WE,catch:GE,value:28};return _u(B=t[7],C),{c(){A=D("div"),e=D("h2"),e.textContent="Pick a word to draw",r=q(),n=D("p"),s=D("span"),i=sA("You get coins as the artist, and "),a=D("span"),c=sA(l),u=sA(" gets coins for guessing correctly!"),f=q(),g=D("div"),C.block.c(),_(e,"class","text-xl font-bold mb-2 text-black"),_(a,"class","font-bold"),_(n,"class","mb-6 text-black/60 italic tooltip flex flex-row gap-2 text-xs"),_(g,"class","flex flex-col gap-4 w-full"),_(A,"class","w-full flex flex-col items-center")},m(y,F){W(y,A,F),U(A,e),U(A,r),U(A,n),U(n,s),U(s,i),U(s,a),U(a,c),U(s,u),U(A,f),U(A,g),C.block.m(g,C.anchor=null),C.mount=()=>g,C.anchor=null},p(y,F){t=y,F[0]&12&&l!==(l=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"")&&IA(c,l),C.ctx=t,F[0]&128&&B!==(B=t[7])&&_u(B,C)||Gw(C,t,F)},i:tA,o:tA,d(y){y&&G(A),C.block.d(),C.token=null,C=null}}}function GE(t){return{c:tA,m:tA,p:tA,d:tA}}function WE(t){let A,e,r,n=t[8]?"Refreshing...":"Refresh Words",s,i,a,l,c,u=DA(t[28]),f=[];for(let B=0;B<u.length;B+=1)f[B]=gf(uf(t,u,B));let g=!t[8]&&Bf();return{c(){for(let B=0;B<f.length;B+=1)f[B].c();A=q(),e=D("button"),r=D("span"),s=sA(n),i=q(),g&&g.c(),_(e,"class",a="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!t[2]||t[2].coins<5||t[8]?"opacity-20 cursor-not-allowed":""))},m(B,C){for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(B,C);W(B,A,C),W(B,e,C),U(e,r),U(r,s),U(e,i),g&&g.m(e,null),l||(c=fA(e,"click",t[21]),l=!0)},p(B,C){if(C[0]&142){u=DA(B[28]);let y;for(y=0;y<u.length;y+=1){const F=uf(B,u,y);f[y]?f[y].p(F,C):(f[y]=gf(F),f[y].c(),f[y].m(A.parentNode,A))}for(;y<f.length;y+=1)f[y].d(1);f.length=u.length}C[0]&256&&n!==(n=B[8]?"Refreshing...":"Refresh Words")&&IA(s,n),B[8]?g&&(g.d(1),g=null):g||(g=Bf(),g.c(),g.m(e,null)),C[0]&260&&a!==(a="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!B[2]||B[2].coins<5||B[8]?"opacity-20 cursor-not-allowed":""))&&_(e,"class",a)},d(B){B&&(G(A),G(e)),ke(f,B),g&&g.d(),l=!1,c()}}}function df(t){let A,e;return{c(){A=D("img"),Le(A.src,e=Sr)||_(A,"src",e),_(A,"class","w-4 h-4")},m(r,n){W(r,A,n)},p:tA,d(r){r&&G(A)}}}function gf(t){let A,e,r,n=t[29].secretWord.toUpperCase()+"",s,i,a,l=t[29].createdBy?"by "+t[29].createdBy:"",c,u,f,g,B,C,y=DA(Array(t[29].coins)),F=[];for(let R=0;R<y.length;R+=1)F[R]=df(hf(t,y,R));function S(){return t[20](t[29])}return{c(){A=D("button"),e=D("div"),r=D("span"),s=sA(n),i=q(),a=D("span"),c=sA(l),u=q(),f=D("span");for(let R=0;R<F.length;R+=1)F[R].c();_(r,"class","text-sm font-semibold"),_(a,"class","text-[0.8rem] text-white opacity-80"),_(e,"class","flex flex-col items-start gap-1"),_(f,"class","flex items-center gap-1"),_(A,"class",g="btn flex flex-row items-center justify-between w-full border "+(t[29].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))},m(R,H){W(R,A,H),U(A,e),U(e,r),U(r,s),U(e,i),U(e,a),U(a,c),U(A,u),U(A,f);for(let x=0;x<F.length;x+=1)F[x]&&F[x].m(f,null);B||(C=fA(A,"click",S),B=!0)},p(R,H){if(t=R,H[0]&128&&n!==(n=t[29].secretWord.toUpperCase()+"")&&IA(s,n),H[0]&128&&l!==(l=t[29].createdBy?"by "+t[29].createdBy:"")&&IA(c,l),H[0]&128){y=DA(Array(t[29].coins));let x;for(x=0;x<y.length;x+=1){const P=hf(t,y,x);F[x]?F[x].p(P,H):(F[x]=df(),F[x].c(),F[x].m(f,null))}for(;x<F.length;x+=1)F[x].d(1);F.length=y.length}H[0]&128&&g!==(g="btn flex flex-row items-center justify-between w-full border "+(t[29].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))&&_(A,"class",g)},d(R){R&&G(A),ke(F,R),B=!1,C()}}}function Bf(t){let A;return{c(){A=D("span"),A.innerHTML=`(5 <img src="${Sr}" class="w-4 h-4 inline"/>)`,_(A,"class","text-xs text-black/60")},m(e,r){W(e,A,r)},d(e){e&&G(A)}}}function jE(t){return{c:tA,m:tA,p:tA,d:tA}}function XE(t){let A;return{c(){A=D("span"),A.textContent="No drawing yet",_(A,"class","text-accent")},m(e,r){W(e,A,r)},p:tA,d(e){e&&G(A)}}}function JE(t){let A,e;return{c(){A=D("img"),Le(A.src,e=`${t[0].data}`)||_(A,"src",e),_(A,"class","w-full h-full object-contain"),_(A,"alt","Current drawing")},m(r,n){W(r,A,n)},p(r,n){n[0]&1&&!Le(A.src,e=`${r[0].data}`)&&_(A,"src",e)},d(r){r&&G(A)}}}function qE(t){let A,e,r=t[0].artist+"",n,s,i,a=(t[0].hintPurchased||t[0].superHintPurchased)&&pf(t);return{c(){A=sA("Drawn by "),e=D("span"),n=sA(r),s=q(),a&&a.c(),i=tt(),_(e,"class","font-bold text-secondary")},m(l,c){W(l,A,c),W(l,e,c),U(e,n),W(l,s,c),a&&a.m(l,c),W(l,i,c)},p(l,c){c[0]&1&&r!==(r=l[0].artist+"")&&IA(n,r),l[0].hintPurchased||l[0].superHintPurchased?a?a.p(l,c):(a=pf(l),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(l){l&&(G(A),G(e),G(s),G(i)),a&&a.d(l)}}}function zE(t){let A,e,r=t[0].secretWord+"",n;return{c(){A=sA("You drew this. The secret word is "),e=D("span"),n=sA(r),_(e,"class","font-bold text-secondary")},m(s,i){W(s,A,i),W(s,e,i),U(e,n)},p(s,i){i[0]&1&&r!==(r=s[0].secretWord+"")&&IA(n,r)},d(s){s&&(G(A),G(e))}}}function pf(t){let A,e,r=t[0].hintPurchased&&wf(t),n=t[0].superHintPurchased&&mf(t);return{c(){A=D("ul"),r&&r.c(),e=q(),n&&n.c(),_(A,"class","pl-4 mt-1 space-y-1")},m(s,i){W(s,A,i),r&&r.m(A,null),U(A,e),n&&n.m(A,null)},p(s,i){s[0].hintPurchased?r?r.p(s,i):(r=wf(s),r.c(),r.m(A,e)):r&&(r.d(1),r=null),s[0].superHintPurchased?n?n.p(s,i):(n=mf(s),n.c(),n.m(A,null)):n&&(n.d(1),n=null)},d(s){s&&G(A),r&&r.d(),n&&n.d()}}}function wf(t){let A,e=Nh(t[0])+"",r;return{c(){A=D("li"),r=sA(e),_(A,"class","text-xs list-disc text-accent/70")},m(n,s){W(n,A,s),U(A,r)},p(n,s){s[0]&1&&e!==(e=Nh(n[0])+"")&&IA(r,e)},d(n){n&&G(A)}}}function mf(t){let A,e=Gh(t[0])+"",r;return{c(){A=D("li"),r=sA(e),_(A,"class","text-xs list-disc text-accent/70")},m(n,s){W(n,A,s),U(A,r)},p(n,s){s[0]&1&&e!==(e=Gh(n[0])+"")&&IA(r,e)},d(n){n&&G(A)}}}function Cf(t){let A,e=t[12]+"",r,n;return{c(){A=D("div"),r=sA(e),n=q(),_(A,"class","bg-accent-light px-3 py-1 rounded-full text-black/60 border border-accent")},m(s,i){W(s,A,i),U(A,r),U(A,n)},p(s,i){i[0]&1&&e!==(e=s[12]+"")&&IA(r,e)},d(s){s&&G(A)}}}function yf(t){let A,e=t[12]&&Cf(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,n){r[12]?e?e.p(r,n):(e=Cf(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&G(A),e&&e.d(r)}}}function Qf(t){let A,e,r,n,s,i,a,l,c;function u(B,C){if(!B[0].hintPurchased)return ZE;if(!B[0].superHintPurchased)return YE}let f=u(t),g=f&&f(t);return{c(){A=D("div"),e=D("div"),g&&g.c(),r=q(),n=D("div"),s=D("input"),i=q(),a=D("button"),a.textContent="Guess",_(e,"class","flex gap-2"),_(s,"type","text"),_(s,"placeholder","Type your guess..."),_(s,"class","input input-bordered flex-1 bg-white text-black border-primary"),_(a,"class","btn btn-primary"),_(n,"class","flex gap-2"),_(A,"class","flex flex-col gap-2 w-full max-w-[min(90vw,400px)]")},m(B,C){W(B,A,C),U(A,e),g&&g.m(e,null),U(A,r),U(A,n),U(n,s),ft(s,t[12]),U(n,i),U(n,a),l||(c=[fA(s,"input",t[16]),fA(s,"keydown",t[17]),fA(a,"click",t[18])],l=!0)},p(B,C){f===(f=u(B))&&g?g.p(B,C):(g&&g.d(1),g=f&&f(B),g&&(g.c(),g.m(e,null))),C[0]&4096&&s.value!==B[12]&&ft(s,B[12])},d(B){B&&G(A),g&&g.d(),l=!1,ve(c)}}}function YE(t){let A,e=t[11]?"Purchasing...":"Super Hint (10 ",r,n,s,i=t[11]?"":")",a,l,c,u,f;return{c(){A=D("button"),r=sA(e),n=D("img"),a=sA(i),Le(n.src,s=Sr)||_(n,"src",s),_(n,"class","w-4 h-4 inline"),_(A,"class",l="btn btn-outline flex-1 "+(t[2].coins<10||t[11]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<10||t[11]},m(g,B){W(g,A,B),U(A,r),U(A,n),U(A,a),u||(f=fA(A,"click",t[15]),u=!0)},p(g,B){B[0]&2048&&e!==(e=g[11]?"Purchasing...":"Super Hint (10 ")&&IA(r,e),B[0]&2048&&i!==(i=g[11]?"":")")&&IA(a,i),B[0]&2052&&l!==(l="btn btn-outline flex-1 "+(g[2].coins<10||g[11]?"opacity-40 btn-error cursor-not-allowed":""))&&_(A,"class",l),B[0]&2052&&c!==(c=g[2].coins<10||g[11])&&(A.disabled=c)},d(g){g&&G(A),u=!1,f()}}}function ZE(t){let A,e=t[10]?"Purchasing...":"Hint (5 ",r,n,s,i=t[10]?"":")",a,l,c,u,f;return{c(){A=D("button"),r=sA(e),n=D("img"),a=sA(i),Le(n.src,s=Sr)||_(n,"src",s),_(n,"class","w-4 h-4 inline"),_(A,"class",l="btn btn-outline flex-1 "+(t[2].coins<5||t[10]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<5||t[10]},m(g,B){W(g,A,B),U(A,r),U(A,n),U(A,a),u||(f=fA(A,"click",t[14]),u=!0)},p(g,B){B[0]&1024&&e!==(e=g[10]?"Purchasing...":"Hint (5 ")&&IA(r,e),B[0]&1024&&i!==(i=g[10]?"":")")&&IA(a,i),B[0]&1028&&l!==(l="btn btn-outline flex-1 "+(g[2].coins<5||g[10]?"opacity-40 btn-error cursor-not-allowed":""))&&_(A,"class",l),B[0]&1028&&c!==(c=g[2].coins<5||g[10])&&(A.disabled=c)},d(g){g&&G(A),u=!1,f()}}}function $E(t){let A,e,r,n;const s=[KE,PE],i=[];function a(l,c){return l[3]&&l[2]&&l[0]?0:l[2]&&l[3]?1:-1}return~(e=a(t))&&(r=i[e]=s[e](t)),{c(){A=D("div"),r&&r.c(),_(A,"class","rounded-lg p-9 bg-background flex flex-col justify-center")},m(l,c){W(l,A,c),~e&&i[e].m(A,null),n=!0},p(l,c){let u=e;e=a(l),e===u?~e&&i[e].p(l,c):(r&&(oe(),iA(i[u],1,1,()=>{i[u]=null}),ae()),~e?(r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),AA(r,1),r.m(A,null)):r=null)},i(l){n||(AA(r),n=!0)},o(l){iA(r),n=!1},d(l){l&&G(A),~e&&i[e].d()}}}function Av(t,A,e){let r,n,s;YA(t,Ae,p=>e(2,r=p)),YA(t,Se,p=>e(3,n=p)),YA(t,Ci,p=>e(25,s=p));let i=null,a="",l=null,c=!1,u,f=0,g,B=!1,C=!1,y=!1,F=!1;async function S(p){if(!n||!r||!i||!p.trim()||(e(12,a=""),i.guesses.includes(p)))return;const O={...i};O.guesses.push(p);const uA={...n},dA=uA.drawings.findIndex(nA=>!nA.guessed&&nA.artist===O.artist);dA>=0&&(uA.drawings[dA]=O,Oe(Se,n=uA,n));try{await hE(n,r,p)}catch(nA){console.error("Error submitting guess:",nA)}}async function R(){if(!r||!i||!n||i.hintPurchased||r.coins<5||y)return;e(10,y=!0),await gE(n,i,r)&&await Cr(r.name,-5),e(10,y=!1)}async function H(){if(!r||!i||!n||!i.hintPurchased||r.coins<10||F)return;e(11,F=!0),await BE(n,i,r)&&await Cr(r.name,-10),e(11,F=!1)}function x(){a=this.value,e(12,a)}const P=p=>{p.key==="Enter"&&a.length>0&&S(a)},L=()=>S(a),E=p=>p!==((r==null?void 0:r.name)||""),m=async p=>{n&&r&&(await fE(n,r.name,p),e(1,l={secretWord:p.secretWord,coins:p.coins,data:"",artist:r.name,guessed:!1,guesses:[],createdAt:new Date,guessedBy:"",hintPurchased:!1,superHintPurchased:!1,comments:[],likes:[]}))},Q=async()=>{if(r&&r.coins>=5&&!B){e(8,B=!0);try{await Cr(r.name,-5),e(6,f++,f),e(7,g=n?Pn(4,n):Pn(4))}finally{setTimeout(()=>{e(8,B=!1)},1e3)}}};function I(p){ns[p?"unshift":"push"](()=>{u=p,e(5,u)})}const v=()=>u.clearCanvas(),b=async()=>{if(l&&n&&r&&!c){e(4,c=!0);try{const p=u.getImageData();if(!p)throw new Error("No drawing data");const O={...l,data:p};n.drawings.push(O),await Bn(n),e(1,l=null),Oe(Se,n=null,n)}catch(p){console.error("Error submitting drawing:",p)}finally{e(4,c=!1)}}};return t.$$.update=()=>{if(t.$$.dirty[0]&13&&n&&r){const p=wc(n,r.name);e(0,i=p?dE(p):null),e(9,C=r.name===(i==null?void 0:i.artist))}t.$$.dirty[0]&8&&e(7,g=n?Pn(4,n):Pn(4)),t.$$.dirty[0]&2&&(l?Oe(Ci,s=!0,s):Oe(Ci,s=!1,s))},[i,l,r,n,c,u,f,g,B,C,y,F,a,S,R,H,x,P,L,E,m,Q,I,v,b]}class ev extends Xe{constructor(A){super(),je(this,A,Av,$E,Ve,{},null,[-1,-1])}}const{Boolean:tv}=Nd;function _f(t,A,e){const r=t.slice();return r[19]=A[e],r}function Ef(t){let A,e,r;return{c(){A=D("button"),A.textContent="",_(A,"class","absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-black p-2")},m(n,s){W(n,A,s),e||(r=fA(A,"click",t[11]),e=!0)},p:tA,d(n){n&&G(A),e=!1,r()}}}function rv(t){let A,e,r=DA(t[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Uf(_f(t,r,i));const s=i=>iA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=tt()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);W(i,A,a),e=!0},p(i,a){if(a&180){r=DA(i[2]);let l;for(l=0;l<r.length;l+=1){const c=_f(i,r,l);n[l]?(n[l].p(c,a),AA(n[l],1)):(n[l]=Uf(c),n[l].c(),AA(n[l],1),n[l].m(A.parentNode,A))}for(oe(),l=r.length;l<n.length;l+=1)s(l);ae()}},i(i){if(!e){for(let a=0;a<r.length;a+=1)AA(n[a]);e=!0}},o(i){n=n.filter(tv);for(let a=0;a<n.length;a+=1)iA(n[a]);e=!1},d(i){i&&G(A),ke(n,i)}}}function nv(t){let A;return{c(){A=D("div"),A.textContent="No users found",_(A,"class","text-center py-8 text-black/60")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function sv(t){let A;return{c(){A=D("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',_(A,"class","flex items-center justify-center py-8")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function vf(t){let A,e;function r(...a){return t[12](t[19],...a)}function n(...a){return t[13](t[19],...a)}function s(...a){return t[14](t[19],...a)}function i(){return t[15](t[19])}return A=new mc({props:{name:t[19].name,coins:t[19].coins,showAvatar:!0,subtitle:t[4].filter(r).length>0?`${t[4].filter(n).length} game${t[4].filter(s).length>1?"s":""}`:null,onClick:i}}),{c(){le(A.$$.fragment)},m(a,l){ee(A,a,l),e=!0},p(a,l){t=a;const c={};l&4&&(c.name=t[19].name),l&4&&(c.coins=t[19].coins),l&20&&(c.subtitle=t[4].filter(r).length>0?`${t[4].filter(n).length} game${t[4].filter(s).length>1?"s":""}`:null),l&4&&(c.onClick=i),A.$set(c)},i(a){e||(AA(A.$$.fragment,a),e=!0)},o(a){iA(A.$$.fragment,a),e=!1},d(a){te(A,a)}}}function Uf(t){let A,e,r=t[5]&&t[5].name!==t[19].name&&vf(t);return{c(){r&&r.c(),A=tt()},m(n,s){r&&r.m(n,s),W(n,A,s),e=!0},p(n,s){n[5]&&n[5].name!==n[19].name?r?(r.p(n,s),s&36&&AA(r,1)):(r=vf(n),r.c(),AA(r,1),r.m(A.parentNode,A)):r&&(oe(),iA(r,1,1,()=>{r=null}),ae())},i(n){e||(AA(r),e=!0)},o(n){iA(r),e=!1},d(n){n&&G(A),r&&r.d(n)}}}function iv(t){let A,e,r,n,s,i,a,l,c,u,f,g,B,C,y,F,S,R;r=new _o({props:{navigate:t[0]}});let H=t[1]&&Ef(t);const x=[sv,nv,rv],P=[];function L(E,m){return E[3]?0:E[2].length===0?1:2}return C=L(t),y=P[C]=x[C](t),{c(){A=D("div"),e=D("div"),le(r.$$.fragment),n=q(),s=D("h2"),s.textContent="Challenge a friend",i=q(),a=D("p"),a.textContent="Tap on a user to start a new game",l=q(),c=D("div"),u=D("input"),f=q(),H&&H.c(),g=q(),B=D("div"),y.c(),_(s,"class","text-xl font-bold text-primary"),_(a,"class","text-sm text-black/60"),_(e,"class","flex flex-col gap-2"),_(u,"type","text"),_(u,"placeholder","Search users..."),_(u,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-base px-4 py-3 shadow-sm"),_(u,"autocorrect","off"),_(c,"class","relative"),_(B,"class","flex flex-col w-full gap-2 pt-2 overflow-y-auto"),_(A,"class","flex flex-col gap-4 p-4 pt-24")},m(E,m){W(E,A,m),U(A,e),ee(r,e,null),U(e,n),U(e,s),U(e,i),U(e,a),U(A,l),U(A,c),U(c,u),ft(u,t[1]),U(c,f),H&&H.m(c,null),U(A,g),U(A,B),P[C].m(B,null),F=!0,S||(R=[fA(u,"input",t[6]),fA(u,"input",t[10])],S=!0)},p(E,[m]){const Q={};m&1&&(Q.navigate=E[0]),r.$set(Q),m&2&&u.value!==E[1]&&ft(u,E[1]),E[1]?H?H.p(E,m):(H=Ef(E),H.c(),H.m(c,null)):H&&(H.d(1),H=null);let I=C;C=L(E),C===I?P[C].p(E,m):(oe(),iA(P[I],1,1,()=>{P[I]=null}),ae(),y=P[C],y?y.p(E,m):(y=P[C]=x[C](E),y.c()),AA(y,1),y.m(B,null))},i(E){F||(AA(r.$$.fragment,E),AA(y),F=!0)},o(E){iA(r.$$.fragment,E),iA(y),F=!1},d(E){E&&G(A),te(r),H&&H.d(),P[C].d(),S=!1,ve(R)}}}function ov(t,A,e){let r,n,s,i,a;YA(t,Ae,L=>e(5,n=L)),YA(t,Se,L=>e(18,s=L)),YA(t,yl,L=>e(8,i=L)),YA(t,un,L=>e(9,a=L));let l="",c=[],u,f=!0,g=!1,{navigate:B}=A;function C(){clearTimeout(u),u=setTimeout(async()=>{e(3,f=!0),e(2,c=await Kh(l)),e(3,f=!1)},300)}(async()=>(e(3,f=!0),e(2,c=await Kh("")),e(3,f=!1)))();async function y(L){if(!(!n||g)){g=!0;try{Oe(Se,s=await iE([n.name,L.name]),s)}catch(E){console.error("Error creating game:",E)}finally{g=!1}}}function F(){l=this.value,e(1,l)}const S=()=>{e(1,l=""),C()},R=(L,E)=>E.users.includes(L.name),H=(L,E)=>E.users.includes(L.name),x=(L,E)=>E.users.includes(L.name),P=L=>y(L);return t.$$set=L=>{"navigate"in L&&e(0,B=L.navigate)},t.$$.update=()=>{t.$$.dirty&768&&e(4,r=a.map(L=>i[L]).filter(Boolean))},[B,l,c,f,r,n,C,y,i,a,F,S,R,H,x,P]}class av extends Xe{constructor(A){super(),je(this,A,ov,iv,Ve,{navigate:0})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rl=function(t,A){return rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},rl(t,A)};function it(t,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");rl(t,A);function e(){this.constructor=t}t.prototype=A===null?Object.create(A):(e.prototype=A.prototype,new e)}function Je(t,A,e,r){function n(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Me(t,A){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,n,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(u){c=[6,u],n=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Fr=function(){function t(A,e,r,n){this.left=A,this.top=e,this.width=r,this.height=n}return t.prototype.add=function(A,e,r,n){return new t(this.left+A,this.top+e,this.width+r,this.height+n)},t.fromClientRect=function(A,e){return new t(e.left+A.windowBounds.left,e.top+A.windowBounds.top,e.width,e.height)},t.fromDOMRectList=function(A,e){var r=Array.from(e).find(function(n){return n.width!==0});return r?new t(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Cc=function(t,A){return Fr.fromClientRect(t,A.getBoundingClientRect())},Eo=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},qA=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ys=0;Ys<Ff.length;Ys++)lv[Ff.charCodeAt(Ys)]=Ys;var If="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zs=0;Zs<If.length;Zs++)Kn[If.charCodeAt(Zs)]=Zs;var cv=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,a,l;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=Kn[t.charCodeAt(r)],i=Kn[t.charCodeAt(r+1)],a=Kn[t.charCodeAt(r+2)],l=Kn[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|a>>2,u[n++]=(a&3)<<6|l&63;return c},uv=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},hv=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},yr=5,yc=11,ua=2,fv=yc-yr,up=65536>>yr,dv=1<<yr,ha=dv-1,gv=1024>>yr,Bv=up+gv,pv=Bv,wv=32,mv=pv+wv,Cv=65536>>yc,yv=1<<fv,Qv=yv-1,bf=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},_v=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},Ev=function(t,A){var e=cv(t),r=Array.isArray(e)?hv(e):new Uint32Array(e),n=Array.isArray(e)?uv(e):new Uint16Array(e),s=24,i=bf(n,s/2,r[4]/2),a=r[5]===2?bf(n,(s+r[4])/2):_v(r,Math.ceil((s+r[4])/4));return new vv(r[0],r[1],r[2],r[3],i,a)},vv=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>yr],e=(e<<ua)+(A&ha),this.data[e];if(A<=65535)return e=this.index[up+(A-55296>>yr)],e=(e<<ua)+(A&ha),this.data[e];if(A<this.highStart)return e=mv-Cv+(A>>yc),e=this.index[e],e+=A>>yr&Qv,e=this.index[e],e=(e<<ua)+(A&ha),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $s=0;$s<Tf.length;$s++)Uv[Tf.charCodeAt($s)]=$s;var Fv="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Hf=50,Iv=1,hp=2,fp=3,bv=4,Tv=5,Sf=7,dp=8,Rf=9,Pt=10,nl=11,Df=12,sl=13,Hv=14,On=15,il=16,Ai=17,Sn=18,Sv=19,Lf=20,ol=21,Rn=22,fa=23,Pr=24,Pe=25,Nn=26,Gn=27,Kr=28,Rv=29,gr=30,Dv=31,ei=32,ti=33,al=34,ll=35,cl=36,hs=37,ul=38,Fi=39,Ii=40,da=41,gp=42,Lv=43,kv=[9001,65288],Bp="!",vA="",ri="",hl=Ev(Fv),Qt=[gr,cl],fl=[Iv,hp,fp,Tv],pp=[Pt,dp],kf=[Gn,Nn],Vv=fl.concat(pp),Vf=[ul,Fi,Ii,al,ll],xv=[On,sl],Mv=function(t,A){A===void 0&&(A="strict");var e=[],r=[],n=[];return t.forEach(function(s,i){var a=hl.get(s);if(a>Hf?(n.push(!0),a-=Hf):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(i),e.push(il);if(a===bv||a===nl){if(i===0)return r.push(i),e.push(gr);var l=e[i-1];return Vv.indexOf(l)===-1?(r.push(r[i-1]),e.push(l)):(r.push(i),e.push(gr))}if(r.push(i),a===Dv)return e.push(A==="strict"?ol:hs);if(a===gp||a===Rv)return e.push(gr);if(a===Lv)return s>=131072&&s<=196605||s>=196608&&s<=262141?e.push(hs):e.push(gr);e.push(a)}),[r,e,n]},ga=function(t,A,e,r){var n=r[e];if(Array.isArray(t)?t.indexOf(n)!==-1:t===n)for(var s=e;s<=r.length;){s++;var i=r[s];if(i===A)return!0;if(i!==Pt)break}if(n===Pt)for(var s=e;s>0;){s--;var a=r[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=e;l<=r.length;){l++;var i=r[l];if(i===A)return!0;if(i!==Pt)break}if(a!==Pt)break}return!1},xf=function(t,A){for(var e=t;e>=0;){var r=A[e];if(r===Pt)e--;else return r}return 0},Pv=function(t,A,e,r,n){if(e[r]===0)return vA;var s=r-1;if(Array.isArray(n)&&n[s]===!0)return vA;var i=s-1,a=s+1,l=A[s],c=i>=0?A[i]:0,u=A[a];if(l===hp&&u===fp)return vA;if(fl.indexOf(l)!==-1)return Bp;if(fl.indexOf(u)!==-1||pp.indexOf(u)!==-1)return vA;if(xf(s,A)===dp)return ri;if(hl.get(t[s])===nl||(l===ei||l===ti)&&hl.get(t[a])===nl||l===Sf||u===Sf||l===Rf||[Pt,sl,On].indexOf(l)===-1&&u===Rf||[Ai,Sn,Sv,Pr,Kr].indexOf(u)!==-1||xf(s,A)===Rn||ga(fa,Rn,s,A)||ga([Ai,Sn],ol,s,A)||ga(Df,Df,s,A))return vA;if(l===Pt)return ri;if(l===fa||u===fa)return vA;if(u===il||l===il)return ri;if([sl,On,ol].indexOf(u)!==-1||l===Hv||c===cl&&xv.indexOf(l)!==-1||l===Kr&&u===cl||u===Lf||Qt.indexOf(u)!==-1&&l===Pe||Qt.indexOf(l)!==-1&&u===Pe||l===Gn&&[hs,ei,ti].indexOf(u)!==-1||[hs,ei,ti].indexOf(l)!==-1&&u===Nn||Qt.indexOf(l)!==-1&&kf.indexOf(u)!==-1||kf.indexOf(l)!==-1&&Qt.indexOf(u)!==-1||[Gn,Nn].indexOf(l)!==-1&&(u===Pe||[Rn,On].indexOf(u)!==-1&&A[a+1]===Pe)||[Rn,On].indexOf(l)!==-1&&u===Pe||l===Pe&&[Pe,Kr,Pr].indexOf(u)!==-1)return vA;if([Pe,Kr,Pr,Ai,Sn].indexOf(u)!==-1)for(var f=s;f>=0;){var g=A[f];if(g===Pe)return vA;if([Kr,Pr].indexOf(g)!==-1)f--;else break}if([Gn,Nn].indexOf(u)!==-1)for(var f=[Ai,Sn].indexOf(l)!==-1?i:s;f>=0;){var g=A[f];if(g===Pe)return vA;if([Kr,Pr].indexOf(g)!==-1)f--;else break}if(ul===l&&[ul,Fi,al,ll].indexOf(u)!==-1||[Fi,al].indexOf(l)!==-1&&[Fi,Ii].indexOf(u)!==-1||[Ii,ll].indexOf(l)!==-1&&u===Ii||Vf.indexOf(l)!==-1&&[Lf,Nn].indexOf(u)!==-1||Vf.indexOf(u)!==-1&&l===Gn||Qt.indexOf(l)!==-1&&Qt.indexOf(u)!==-1||l===Pr&&Qt.indexOf(u)!==-1||Qt.concat(Pe).indexOf(l)!==-1&&u===Rn&&kv.indexOf(t[a])===-1||Qt.concat(Pe).indexOf(u)!==-1&&l===Sn)return vA;if(l===da&&u===da){for(var B=e[s],C=1;B>0&&(B--,A[B]===da);)C++;if(C%2!==0)return vA}return l===ei&&u===ti?vA:ri},Kv=function(t,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var e=Mv(t,A.lineBreak),r=e[0],n=e[1],s=e[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(a){return[Pe,gr,gp].indexOf(a)!==-1?hs:a}));var i=A.wordBreak==="keep-all"?s.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,n,i]},Ov=function(){function t(A,e,r,n){this.codePoints=A,this.required=e===Bp,this.start=r,this.end=n}return t.prototype.slice=function(){return qA.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Nv=function(t,A){var e=Eo(t),r=Kv(e,A),n=r[0],s=r[1],i=r[2],a=e.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=vA;c<a&&(u=Pv(e,s,n,++c,i))===vA;);if(u!==vA||c===a){var f=new Ov(e,u,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},Gv=1,Wv=2,Us=4,Mf=8,Ji=10,Pf=47,As=92,jv=9,Xv=32,ni=34,Dn=61,Jv=35,qv=36,zv=37,si=39,ii=40,Ln=41,Yv=95,Te=45,Zv=33,$v=60,AU=62,eU=64,tU=91,rU=93,nU=61,sU=123,oi=63,iU=125,Kf=124,oU=126,aU=128,Of=65533,Ba=42,mr=43,lU=44,cU=58,uU=59,fs=46,hU=0,fU=8,dU=11,gU=14,BU=31,pU=127,at=-1,wp=48,mp=97,Cp=101,wU=102,mU=117,CU=122,yp=65,Qp=69,_p=70,yU=85,QU=90,_e=function(t){return t>=wp&&t<=57},_U=function(t){return t>=55296&&t<=57343},Or=function(t){return _e(t)||t>=yp&&t<=_p||t>=mp&&t<=wU},EU=function(t){return t>=mp&&t<=CU},vU=function(t){return t>=yp&&t<=QU},UU=function(t){return EU(t)||vU(t)},FU=function(t){return t>=aU},ai=function(t){return t===Ji||t===jv||t===Xv},qi=function(t){return UU(t)||FU(t)||t===Yv},Nf=function(t){return qi(t)||_e(t)||t===Te},IU=function(t){return t>=hU&&t<=fU||t===dU||t>=gU&&t<=BU||t===pU},Vt=function(t,A){return t!==As?!1:A!==Ji},li=function(t,A,e){return t===Te?qi(A)||Vt(A,e):qi(t)?!0:!!(t===As&&Vt(t,A))},pa=function(t,A,e){return t===mr||t===Te?_e(A)?!0:A===fs&&_e(e):_e(t===fs?A:t)},bU=function(t){var A=0,e=1;(t[A]===mr||t[A]===Te)&&(t[A]===Te&&(e=-1),A++);for(var r=[];_e(t[A]);)r.push(t[A++]);var n=r.length?parseInt(qA.apply(void 0,r),10):0;t[A]===fs&&A++;for(var s=[];_e(t[A]);)s.push(t[A++]);var i=s.length,a=i?parseInt(qA.apply(void 0,s),10):0;(t[A]===Qp||t[A]===Cp)&&A++;var l=1;(t[A]===mr||t[A]===Te)&&(t[A]===Te&&(l=-1),A++);for(var c=[];_e(t[A]);)c.push(t[A++]);var u=c.length?parseInt(qA.apply(void 0,c),10):0;return e*(n+a*Math.pow(10,-i))*Math.pow(10,l*u)},TU={type:2},HU={type:3},SU={type:4},RU={type:13},DU={type:8},LU={type:21},kU={type:9},VU={type:10},xU={type:11},MU={type:12},PU={type:14},ci={type:23},KU={type:1},OU={type:25},NU={type:24},GU={type:26},WU={type:27},jU={type:28},XU={type:29},JU={type:31},dl={type:32},Ep=function(){function t(){this._value=[]}return t.prototype.write=function(A){this._value=this._value.concat(Eo(A))},t.prototype.read=function(){for(var A=[],e=this.consumeToken();e!==dl;)A.push(e),e=this.consumeToken();return A},t.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case ni:return this.consumeStringToken(ni);case Jv:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Nf(e)||Vt(r,n)){var s=li(e,r,n)?Wv:Gv,i=this.consumeName();return{type:5,value:i,flags:s}}break;case qv:if(this.peekCodePoint(0)===Dn)return this.consumeCodePoint(),RU;break;case si:return this.consumeStringToken(si);case ii:return TU;case Ln:return HU;case Ba:if(this.peekCodePoint(0)===Dn)return this.consumeCodePoint(),PU;break;case mr:if(pa(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case lU:return SU;case Te:var a=A,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(pa(a,l,c))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(li(a,l,c))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(l===Te&&c===AU)return this.consumeCodePoint(),this.consumeCodePoint(),NU;break;case fs:if(pa(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case Pf:if(this.peekCodePoint(0)===Ba)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Ba&&(u=this.consumeCodePoint(),u===Pf))return this.consumeToken();if(u===at)return this.consumeToken()}break;case cU:return GU;case uU:return WU;case $v:if(this.peekCodePoint(0)===Zv&&this.peekCodePoint(1)===Te&&this.peekCodePoint(2)===Te)return this.consumeCodePoint(),this.consumeCodePoint(),OU;break;case eU:var f=this.peekCodePoint(0),g=this.peekCodePoint(1),B=this.peekCodePoint(2);if(li(f,g,B)){var i=this.consumeName();return{type:7,value:i}}break;case tU:return jU;case As:if(Vt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case rU:return XU;case nU:if(this.peekCodePoint(0)===Dn)return this.consumeCodePoint(),DU;break;case sU:return xU;case iU:return MU;case mU:case yU:var C=this.peekCodePoint(0),y=this.peekCodePoint(1);return C===mr&&(Or(y)||y===oi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case Kf:if(this.peekCodePoint(0)===Dn)return this.consumeCodePoint(),kU;if(this.peekCodePoint(0)===Kf)return this.consumeCodePoint(),LU;break;case oU:if(this.peekCodePoint(0)===Dn)return this.consumeCodePoint(),VU;break;case at:return dl}return ai(A)?(this.consumeWhiteSpace(),JU):_e(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):qi(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:qA(A)}},t.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},t.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},t.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},t.prototype.consumeUnicodeRangeToken=function(){for(var A=[],e=this.consumeCodePoint();Or(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();for(var r=!1;e===oi&&A.length<6;)A.push(e),e=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(qA.apply(void 0,A.map(function(l){return l===oi?wp:l})),16),s=parseInt(qA.apply(void 0,A.map(function(l){return l===oi?_p:l})),16);return{type:30,start:n,end:s}}var i=parseInt(qA.apply(void 0,A),16);if(this.peekCodePoint(0)===Te&&Or(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var a=[];Or(e)&&a.length<6;)a.push(e),e=this.consumeCodePoint();var s=parseInt(qA.apply(void 0,a),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===ii?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ii?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},t.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===at)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===si||e===ni){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===at||this.peekCodePoint(0)===Ln)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),ci)}for(;;){var n=this.consumeCodePoint();if(n===at||n===Ln)return{type:22,value:qA.apply(void 0,A)};if(ai(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===at||this.peekCodePoint(0)===Ln?(this.consumeCodePoint(),{type:22,value:qA.apply(void 0,A)}):(this.consumeBadUrlRemnants(),ci);if(n===ni||n===si||n===ii||IU(n))return this.consumeBadUrlRemnants(),ci;if(n===As)if(Vt(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ci;else A.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;ai(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===Ln||A===at)return;Vt(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(A){for(var e=5e4,r="";A>0;){var n=Math.min(e,A);r+=qA.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},t.prototype.consumeStringToken=function(A){var e="",r=0;do{var n=this._value[r];if(n===at||n===void 0||n===A)return e+=this.consumeStringSlice(r),{type:0,value:e};if(n===Ji)return this._value.splice(0,r),KU;if(n===As){var s=this._value[r+1];s!==at&&s!==void 0&&(s===Ji?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):Vt(n,s)&&(e+=this.consumeStringSlice(r),e+=qA(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var A=[],e=Us,r=this.peekCodePoint(0);for((r===mr||r===Te)&&A.push(this.consumeCodePoint());_e(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===fs&&_e(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Mf;_e(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===Qp||r===Cp)&&((n===mr||n===Te)&&_e(s)||_e(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Mf;_e(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[bU(A),e]},t.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),e=A[0],r=A[1],n=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(li(n,s,i)){var a=this.consumeName();return{type:15,number:e,flags:r,unit:a}}return n===zv?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Or(A)){for(var e=qA(A);Or(this.peekCodePoint(0))&&e.length<6;)e+=qA(this.consumeCodePoint());ai(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return r===0||_U(r)||r>1114111?Of:r}return A===at?Of:A},t.prototype.consumeName=function(){for(var A="";;){var e=this.consumeCodePoint();if(Nf(e))A+=qA(e);else if(Vt(e,this.peekCodePoint(0)))A+=qA(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),A}},t}(),vp=function(){function t(A){this._tokens=A}return t.create=function(A){var e=new Ep;return e.write(A),new t(e.read())},t.parseValue=function(A){return t.create(A).parseComponentValue()},t.parseValues=function(A){return t.create(A).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var e=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var A=[];;){var e=this.consumeComponentValue();if(e.type===32)return A;A.push(e),A.push()}},t.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},t.prototype.consumeSimpleBlock=function(A){for(var e={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||qU(r,A))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(A){for(var e={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?dl:A},t.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},t}(),Fs=function(t){return t.type===15},vo=function(t){return t.type===17},XA=function(t){return t.type===20},gl=function(t,A){return XA(t)&&t.value===A},Uo=function(t){return t.type!==31&&t.type!==4},pt=function(t){var A=[],e=[];return t.forEach(function(r){if(r.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(e),e=[];return}r.type!==31&&e.push(r)}),e.length&&A.push(e),A},qU=function(t,A){return A===11&&t.type===12||A===28&&t.type===29?!0:A===2&&t.type===3},tr=function(t){return t.type===17||t.type===15},$A=function(t){return t.type===16||tr(t)},Up=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},pe={type:17,number:0,flags:Us},Qc={type:16,number:50,flags:Us},Kt={type:16,number:100,flags:Us},Wn=function(t,A,e){var r=t[0],n=t[1];return[xA(r,A),xA(typeof n<"u"?n:r,e)]},xA=function(t,A){if(t.type===16)return t.number/100*A;if(Fs(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Fp="deg",Ip="grad",bp="rad",Tp="turn",Fo={name:"angle",parse:function(t,A){if(A.type===15)switch(A.unit){case Fp:return Math.PI*A.number/180;case Ip:return Math.PI/200*A.number;case bp:return A.number;case Tp:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},Hp=function(t){return t.type===15&&(t.unit===Fp||t.unit===Ip||t.unit===bp||t.unit===Tp)},Sp=function(t){var A=t.filter(XA).map(function(e){return e.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[pe,pe];case"to top":case"bottom":return Ze(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[pe,Kt];case"to right":case"left":return Ze(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Kt,Kt];case"to bottom":case"top":return Ze(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Kt,pe];case"to left":case"right":return Ze(270)}return 0},Ze=function(t){return Math.PI*t/180},Xt={name:"color",parse:function(t,A){if(A.type===18){var e=zU[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return e(t,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3);return Ot(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3),i=A.value.substring(3,4);return Ot(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6);return Ot(parseInt(r,16),parseInt(n,16),parseInt(s,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6),i=A.value.substring(6,8);return Ot(parseInt(r,16),parseInt(n,16),parseInt(s,16),parseInt(i,16)/255)}}if(A.type===20){var a=ds[A.value.toUpperCase()];if(typeof a<"u")return a}return ds.TRANSPARENT}},en=function(t){return(255&t)===0},ue=function(t){var A=255&t,e=255&t>>8,r=255&t>>16,n=255&t>>24;return A<255?"rgba("+n+","+r+","+e+","+A/255+")":"rgb("+n+","+r+","+e+")"},Ot=function(t,A,e,r){return(t<<24|A<<16|e<<8|Math.round(r*255)<<0)>>>0},Gf=function(t,A){if(t.type===17)return t.number;if(t.type===16){var e=A===3?1:255;return A===3?t.number/100*e:Math.round(t.number/100*e)}return 0},Wf=function(t,A){var e=A.filter(Uo);if(e.length===3){var r=e.map(Gf),n=r[0],s=r[1],i=r[2];return Ot(n,s,i,1)}if(e.length===4){var a=e.map(Gf),n=a[0],s=a[1],i=a[2],l=a[3];return Ot(n,s,i,l)}return 0};function wa(t,A,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(A-t)*e*6+t:e<1/2?A:e<2/3?(A-t)*6*(2/3-e)+t:t}var jf=function(t,A){var e=A.filter(Uo),r=e[0],n=e[1],s=e[2],i=e[3],a=(r.type===17?Ze(r.number):Fo.parse(t,r))/(Math.PI*2),l=$A(n)?n.number/100:0,c=$A(s)?s.number/100:0,u=typeof i<"u"&&$A(i)?xA(i,1):1;if(l===0)return Ot(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,g=c*2-f,B=wa(g,f,a+1/3),C=wa(g,f,a),y=wa(g,f,a-1/3);return Ot(B*255,C*255,y*255,u)},zU={hsl:jf,hsla:jf,rgb:Wf,rgba:Wf},Xf=function(t,A){return Xt.parse(t,vp.create(A).parseComponentValue())},ds={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},YU={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(XA(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ZU={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Io=function(t,A){var e=Xt.parse(t,A[0]),r=A[1];return r&&$A(r)?{color:e,stop:r}:{color:e,stop:null}},Jf=function(t,A){var e=t[0],r=t[t.length-1];e.stop===null&&(e.stop=pe),r.stop===null&&(r.stop=Kt);for(var n=[],s=0,i=0;i<t.length;i++){var a=t[i].stop;if(a!==null){var l=xA(a,A);l>s?n.push(l):n.push(s),s=l}else n.push(null)}for(var c=null,i=0;i<n.length;i++){var u=n[i];if(u===null)c===null&&(c=i);else if(c!==null){for(var f=i-c,g=n[c-1],B=(u-g)/(f+1),C=1;C<=f;C++)n[c+C-1]=B*C;c=null}}return t.map(function(y,F){var S=y.color;return{color:S,stop:Math.max(Math.min(1,n[F]/A),0)}})},$U=function(t,A,e){var r=A/2,n=e/2,s=xA(t[0],A)-r,i=n-xA(t[1],e);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},AF=function(t,A,e){var r=typeof t=="number"?t:$U(t,A,e),n=Math.abs(A*Math.sin(r))+Math.abs(e*Math.cos(r)),s=A/2,i=e/2,a=n/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[n,s-c,s+c,i-l,i+l]},st=function(t,A){return Math.sqrt(t*t+A*A)},qf=function(t,A,e,r,n){var s=[[0,0],[0,A],[t,0],[t,A]];return s.reduce(function(i,a){var l=a[0],c=a[1],u=st(e-l,r-c);return(n?u<i.optimumDistance:u>i.optimumDistance)?{optimumCorner:a,optimumDistance:u}:i},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},eF=function(t,A,e,r,n){var s=0,i=0;switch(t.size){case 0:t.shape===0?s=i=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.min(Math.abs(A),Math.abs(A-r)),i=Math.min(Math.abs(e),Math.abs(e-n)));break;case 2:if(t.shape===0)s=i=Math.min(st(A,e),st(A,e-n),st(A-r,e),st(A-r,e-n));else if(t.shape===1){var a=Math.min(Math.abs(e),Math.abs(e-n))/Math.min(Math.abs(A),Math.abs(A-r)),l=qf(r,n,A,e,!0),c=l[0],u=l[1];s=st(c-A,(u-e)/a),i=a*s}break;case 1:t.shape===0?s=i=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.max(Math.abs(A),Math.abs(A-r)),i=Math.max(Math.abs(e),Math.abs(e-n)));break;case 3:if(t.shape===0)s=i=Math.max(st(A,e),st(A,e-n),st(A-r,e),st(A-r,e-n));else if(t.shape===1){var a=Math.max(Math.abs(e),Math.abs(e-n))/Math.max(Math.abs(A),Math.abs(A-r)),f=qf(r,n,A,e,!1),c=f[0],u=f[1];s=st(c-A,(u-e)/a),i=a*s}break}return Array.isArray(t.size)&&(s=xA(t.size[0],r),i=t.size.length===2?xA(t.size[1],n):s),[s,i]},tF=function(t,A){var e=Ze(180),r=[];return pt(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&i.value==="to"){e=Sp(n);return}else if(Hp(i)){e=Fo.parse(t,i);return}}var a=Io(t,n);r.push(a)}),{angle:e,stops:r,type:1}},ui=function(t,A){var e=Ze(180),r=[];return pt(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){e=Sp(n);return}else if(Hp(i)){e=(Fo.parse(t,i)+Ze(270))%Ze(360);return}}var a=Io(t,n);r.push(a)}),{angle:e,stops:r,type:1}},rF=function(t,A){var e=Ze(180),r=[],n=1,s=0,i=3,a=[];return pt(A).forEach(function(l,c){var u=l[0];if(c===0){if(XA(u)&&u.value==="linear"){n=1;return}else if(XA(u)&&u.value==="radial"){n=2;return}}if(u.type===18){if(u.name==="from"){var f=Xt.parse(t,u.values[0]);r.push({stop:pe,color:f})}else if(u.name==="to"){var f=Xt.parse(t,u.values[0]);r.push({stop:Kt,color:f})}else if(u.name==="color-stop"){var g=u.values.filter(Uo);if(g.length===2){var f=Xt.parse(t,g[1]),B=g[0];vo(B)&&r.push({stop:{type:16,number:B.number*100,flags:B.flags},color:f})}}}}),n===1?{angle:(e+Ze(180))%Ze(360),stops:r,type:n}:{size:i,shape:s,stops:r,position:a,type:n}},Rp="closest-side",Dp="farthest-side",Lp="closest-corner",kp="farthest-corner",Vp="circle",xp="ellipse",Mp="cover",Pp="contain",nF=function(t,A){var e=0,r=3,n=[],s=[];return pt(A).forEach(function(i,a){var l=!0;if(a===0){var c=!1;l=i.reduce(function(f,g){if(c)if(XA(g))switch(g.value){case"center":return s.push(Qc),f;case"top":case"left":return s.push(pe),f;case"right":case"bottom":return s.push(Kt),f}else($A(g)||tr(g))&&s.push(g);else if(XA(g))switch(g.value){case Vp:return e=0,!1;case xp:return e=1,!1;case"at":return c=!0,!1;case Rp:return r=0,!1;case Mp:case Dp:return r=1,!1;case Pp:case Lp:return r=2,!1;case kp:return r=3,!1}else if(tr(g)||$A(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return f},l)}if(l){var u=Io(t,i);n.push(u)}}),{size:r,shape:e,stops:n,position:s,type:2}},hi=function(t,A){var e=0,r=3,n=[],s=[];return pt(A).forEach(function(i,a){var l=!0;if(a===0?l=i.reduce(function(u,f){if(XA(f))switch(f.value){case"center":return s.push(Qc),!1;case"top":case"left":return s.push(pe),!1;case"right":case"bottom":return s.push(Kt),!1}else if($A(f)||tr(f))return s.push(f),!1;return u},l):a===1&&(l=i.reduce(function(u,f){if(XA(f))switch(f.value){case Vp:return e=0,!1;case xp:return e=1,!1;case Pp:case Rp:return r=0,!1;case Dp:return r=1,!1;case Lp:return r=2,!1;case Mp:case kp:return r=3,!1}else if(tr(f)||$A(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},l)),l){var c=Io(t,i);n.push(c)}}),{size:r,shape:e,stops:n,position:s,type:2}},sF=function(t){return t.type===1},iF=function(t){return t.type===2},_c={name:"image",parse:function(t,A){if(A.type===22){var e={url:A.value,type:0};return t.cache.addImage(A.value),e}if(A.type===18){var r=Kp[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(t,A.values)}throw new Error("Unsupported image type "+A.type)}};function oF(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Kp[t.name])}var Kp={"linear-gradient":tF,"-moz-linear-gradient":ui,"-ms-linear-gradient":ui,"-o-linear-gradient":ui,"-webkit-linear-gradient":ui,"radial-gradient":nF,"-moz-radial-gradient":hi,"-ms-radial-gradient":hi,"-o-radial-gradient":hi,"-webkit-radial-gradient":hi,"-webkit-gradient":rF},aF={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var e=A[0];return e.type===20&&e.value==="none"?[]:A.filter(function(r){return Uo(r)&&oF(r)}).map(function(r){return _c.parse(t,r)})}},lF={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(XA(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},cF={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,A){return pt(A).map(function(e){return e.filter($A)}).map(Up)}},uF={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,A){return pt(A).map(function(e){return e.filter(XA).map(function(r){return r.value}).join(" ")}).map(hF)}},hF=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},tn;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(tn||(tn={}));var fF={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,A){return pt(A).map(function(e){return e.filter(dF)})}},dF=function(t){return XA(t)||$A(t)},bo=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},gF=bo("top"),BF=bo("right"),pF=bo("bottom"),wF=bo("left"),To=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(A,e){return Up(e.filter($A))}}},mF=To("top-left"),CF=To("top-right"),yF=To("bottom-right"),QF=To("bottom-left"),Ho=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_F=Ho("top"),EF=Ho("right"),vF=Ho("bottom"),UF=Ho("left"),So=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return Fs(e)?e.number:0}}},FF=So("top"),IF=So("right"),bF=So("bottom"),TF=So("left"),HF={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SF={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},RF={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,A){return A.filter(XA).reduce(function(e,r){return e|DF(r.value)},0)}},DF=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},LF={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},kF={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},zi;(function(t){t.NORMAL="normal",t.STRICT="strict"})(zi||(zi={}));var VF={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"strict":return zi.STRICT;case"normal":default:return zi.NORMAL}}},xF={name:"line-height",initialValue:"normal",prefix:!1,type:4},zf=function(t,A){return XA(t)&&t.value==="normal"?1.2*A:t.type===17?A*t.number:$A(t)?xA(t,A):A},MF={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,A){return A.type===20&&A.value==="none"?null:_c.parse(t,A)}},PF={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},KF={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ro=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},OF=Ro("top"),NF=Ro("right"),GF=Ro("bottom"),WF=Ro("left"),jF={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,A){return A.filter(XA).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},XF={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Do=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},JF=Do("top"),qF=Do("right"),zF=Do("bottom"),YF=Do("left"),ZF={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$F={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},AI={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&gl(A[0],"none")?[]:pt(A).map(function(e){for(var r={color:ds.TRANSPARENT,offsetX:pe,offsetY:pe,blur:pe},n=0,s=0;s<e.length;s++){var i=e[s];tr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:r.blur=i,n++):r.color=Xt.parse(t,i)}return r})}},eI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},tI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var e=sI[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return e(A.values)}return null}},rI=function(t){var A=t.filter(function(e){return e.type===17}).map(function(e){return e.number});return A.length===6?A:null},nI=function(t){var A=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),e=A[0],r=A[1];A[2],A[3];var n=A[4],s=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var i=A[12],a=A[13];return A[14],A[15],A.length===16?[e,r,n,s,i,a]:null},sI={matrix:rI,matrix3d:nI},Yf={type:16,number:50,flags:Us},iI=[Yf,Yf],oI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,A){var e=A.filter($A);return e.length!==2?iI:[e[0],e[1]]}},aI={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},es;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(es||(es={}));var lI={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-all":return es.BREAK_ALL;case"keep-all":return es.KEEP_ALL;case"normal":default:return es.NORMAL}}},cI={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,A){if(A.type===20)return{auto:!0,order:0};if(vo(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},Op={name:"time",parse:function(t,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},uI={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,A){return vo(A)?A.number:1}},hI={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fI={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,A){return A.filter(XA).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},dI={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,A){var e=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:e.push(n.value);break;case 17:e.push(n.number.toString());break;case 4:r.push(e.join(" ")),e.length=0;break}}),e.length&&r.push(e.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},gI={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},BI={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,A){if(vo(A))return A.number;if(XA(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},pI={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.filter(XA).map(function(e){return e.value})}},wI={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},re=function(t,A){return(t&A)!==0},mI={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,A){return A.filter(Fs).map(function(e){return Op.parse(t,e)})}},CI={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&gl(A[0],"none")?[]:pt(A).map(function(e){for(var r={color:255,offsetX:pe,offsetY:pe,blur:pe,spread:pe,inset:!1},n=0,s=0;s<e.length;s++){var i=e[s];gl(i,"inset")?r.inset=!0:tr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:n===2?r.blur=i:r.spread=i,n++):r.color=Xt.parse(t,i)}return r})}},yI={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,A){var e=[0,1,2],r=[];return A.filter(XA).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),e.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},QI={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_I={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,A){return Fs(A)?A.number:0}},EI=function(){function t(A,e){var r,n;this.animationDuration=eA(A,mI,e.animationDuration),this.backgroundClip=eA(A,YU,e.backgroundClip),this.backgroundColor=eA(A,ZU,e.backgroundColor),this.backgroundImage=eA(A,aF,e.backgroundImage),this.backgroundOrigin=eA(A,lF,e.backgroundOrigin),this.backgroundPosition=eA(A,cF,e.backgroundPosition),this.backgroundRepeat=eA(A,uF,e.backgroundRepeat),this.backgroundSize=eA(A,fF,e.backgroundSize),this.borderTopColor=eA(A,gF,e.borderTopColor),this.borderRightColor=eA(A,BF,e.borderRightColor),this.borderBottomColor=eA(A,pF,e.borderBottomColor),this.borderLeftColor=eA(A,wF,e.borderLeftColor),this.borderTopLeftRadius=eA(A,mF,e.borderTopLeftRadius),this.borderTopRightRadius=eA(A,CF,e.borderTopRightRadius),this.borderBottomRightRadius=eA(A,yF,e.borderBottomRightRadius),this.borderBottomLeftRadius=eA(A,QF,e.borderBottomLeftRadius),this.borderTopStyle=eA(A,_F,e.borderTopStyle),this.borderRightStyle=eA(A,EF,e.borderRightStyle),this.borderBottomStyle=eA(A,vF,e.borderBottomStyle),this.borderLeftStyle=eA(A,UF,e.borderLeftStyle),this.borderTopWidth=eA(A,FF,e.borderTopWidth),this.borderRightWidth=eA(A,IF,e.borderRightWidth),this.borderBottomWidth=eA(A,bF,e.borderBottomWidth),this.borderLeftWidth=eA(A,TF,e.borderLeftWidth),this.boxShadow=eA(A,CI,e.boxShadow),this.color=eA(A,HF,e.color),this.direction=eA(A,SF,e.direction),this.display=eA(A,RF,e.display),this.float=eA(A,LF,e.cssFloat),this.fontFamily=eA(A,dI,e.fontFamily),this.fontSize=eA(A,gI,e.fontSize),this.fontStyle=eA(A,wI,e.fontStyle),this.fontVariant=eA(A,pI,e.fontVariant),this.fontWeight=eA(A,BI,e.fontWeight),this.letterSpacing=eA(A,kF,e.letterSpacing),this.lineBreak=eA(A,VF,e.lineBreak),this.lineHeight=eA(A,xF,e.lineHeight),this.listStyleImage=eA(A,MF,e.listStyleImage),this.listStylePosition=eA(A,PF,e.listStylePosition),this.listStyleType=eA(A,KF,e.listStyleType),this.marginTop=eA(A,OF,e.marginTop),this.marginRight=eA(A,NF,e.marginRight),this.marginBottom=eA(A,GF,e.marginBottom),this.marginLeft=eA(A,WF,e.marginLeft),this.opacity=eA(A,uI,e.opacity);var s=eA(A,jF,e.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=eA(A,XF,e.overflowWrap),this.paddingTop=eA(A,JF,e.paddingTop),this.paddingRight=eA(A,qF,e.paddingRight),this.paddingBottom=eA(A,zF,e.paddingBottom),this.paddingLeft=eA(A,YF,e.paddingLeft),this.paintOrder=eA(A,yI,e.paintOrder),this.position=eA(A,$F,e.position),this.textAlign=eA(A,ZF,e.textAlign),this.textDecorationColor=eA(A,hI,(r=e.textDecorationColor)!==null&&r!==void 0?r:e.color),this.textDecorationLine=eA(A,fI,(n=e.textDecorationLine)!==null&&n!==void 0?n:e.textDecoration),this.textShadow=eA(A,AI,e.textShadow),this.textTransform=eA(A,eI,e.textTransform),this.transform=eA(A,tI,e.transform),this.transformOrigin=eA(A,oI,e.transformOrigin),this.visibility=eA(A,aI,e.visibility),this.webkitTextStrokeColor=eA(A,QI,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=eA(A,_I,e.webkitTextStrokeWidth),this.wordBreak=eA(A,lI,e.wordBreak),this.zIndex=eA(A,cI,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return en(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return re(this.display,4)||re(this.display,33554432)||re(this.display,268435456)||re(this.display,536870912)||re(this.display,67108864)||re(this.display,134217728)},t}(),eA=function(t,A,e){var r=new Ep,n=e!==null&&typeof e<"u"?e.toString():A.initialValue;r.write(n);var s=new vp(r.read());switch(A.type){case 2:var i=s.parseComponentValue();return A.parse(t,XA(i)?i.value:A.initialValue);case 0:return A.parse(t,s.parseComponentValue());case 1:return A.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(A.format){case"angle":return Fo.parse(t,s.parseComponentValue());case"color":return Xt.parse(t,s.parseComponentValue());case"image":return _c.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return tr(a)?a:pe;case"length-percentage":var l=s.parseComponentValue();return $A(l)?l:pe;case"time":return Op.parse(t,s.parseComponentValue())}break}},vI="data-html2canvas-debug",UI=function(t){var A=t.getAttribute(vI);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Zf=function(t,A){var e=UI(t);return e===1||A===e},wt=function(){function t(A,e){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,Zf(e,3))debugger;this.styles=new EI(A,window.getComputedStyle(e,null)),Ub(e)&&(this.styles.animationDuration.some(function(r){return r>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=Cc(this.context,e),Zf(e,4)&&(this.flags|=16)}return t}(),FI="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",$f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fi=0;fi<$f.length;fi++)jn[$f.charCodeAt(fi)]=fi;var II=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,a,l;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=jn[t.charCodeAt(r)],i=jn[t.charCodeAt(r+1)],a=jn[t.charCodeAt(r+2)],l=jn[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|a>>2,u[n++]=(a&3)<<6|l&63;return c},bI=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},TI=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},Qr=5,Ec=11,ma=2,HI=Ec-Qr,Np=65536>>Qr,SI=1<<Qr,Ca=SI-1,RI=1024>>Qr,DI=Np+RI,LI=DI,kI=32,VI=LI+kI,xI=65536>>Ec,MI=1<<HI,PI=MI-1,Ad=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},KI=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},OI=function(t,A){var e=II(t),r=Array.isArray(e)?TI(e):new Uint32Array(e),n=Array.isArray(e)?bI(e):new Uint16Array(e),s=24,i=Ad(n,s/2,r[4]/2),a=r[5]===2?Ad(n,(s+r[4])/2):KI(r,Math.ceil((s+r[4])/4));return new NI(r[0],r[1],r[2],r[3],i,a)},NI=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>Qr],e=(e<<ma)+(A&Ca),this.data[e];if(A<=65535)return e=this.index[Np+(A-55296>>Qr)],e=(e<<ma)+(A&Ca),this.data[e];if(A<this.highStart)return e=VI-xI+(A>>Ec),e=this.index[e],e+=A>>Qr&PI,e=this.index[e],e=(e<<ma)+(A&Ca),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var di=0;di<ed.length;di++)GI[ed.charCodeAt(di)]=di;var WI=1,ya=2,Qa=3,td=4,rd=5,jI=7,nd=8,_a=9,Ea=10,sd=11,id=12,od=13,ad=14,va=15,XI=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},JI=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},qI=OI(FI),qe="",Ua="",zI=function(t){return qI.get(t)},YI=function(t,A,e){var r=e-2,n=A[r],s=A[e-1],i=A[e];if(s===ya&&i===Qa)return qe;if(s===ya||s===Qa||s===td||i===ya||i===Qa||i===td)return Ua;if(s===nd&&[nd,_a,sd,id].indexOf(i)!==-1||(s===sd||s===_a)&&(i===_a||i===Ea)||(s===id||s===Ea)&&i===Ea||i===od||i===rd||i===jI||s===WI)return qe;if(s===od&&i===ad){for(;n===rd;)n=A[--r];if(n===ad)return qe}if(s===va&&i===va){for(var a=0;n===va;)a++,n=A[--r];if(a%2===0)return qe}return Ua},ZI=function(t){var A=XI(t),e=A.length,r=0,n=0,s=A.map(zI);return{next:function(){if(r>=e)return{done:!0,value:null};for(var i=qe;r<e&&(i=YI(A,s,++r))===qe;);if(i!==qe||r===e){var a=JI.apply(null,A.slice(n,r));return n=r,{value:a,done:!1}}return{done:!0,value:null}}}},$I=function(t){for(var A=ZI(t),e=[],r;!(r=A.next()).done;)r.value&&e.push(r.value.slice());return e},Ab=function(t){var A=123;if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=A+"px",r.style.display="block",t.body.appendChild(r),e.selectNode(r);var n=e.getBoundingClientRect(),s=Math.round(n.height);if(t.body.removeChild(r),s===A)return!0}}return!1},eb=function(t){var A=t.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",t.body.appendChild(A);var e=t.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=Eo(r.data).map(function(l){return qA(l)}),s=0,i={},a=n.every(function(l,c){e.setStart(r,s),e.setEnd(r,s+l.length);var u=e.getBoundingClientRect();s+=l.length;var f=u.x>i.x||u.y>i.y;return i=u,c===0?!0:f});return t.body.removeChild(A),a},tb=function(){return typeof new Image().crossOrigin<"u"},rb=function(){return typeof new XMLHttpRequest().responseType=="string"},nb=function(t){var A=new Image,e=t.createElement("canvas"),r=e.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),e.toDataURL()}catch{return!1}return!0},ld=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},sb=function(t){var A=t.createElement("canvas"),e=100;A.width=e,A.height=e;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,e,e);var n=new Image,s=A.toDataURL();n.src=s;var i=Bl(e,e,0,0,n);return r.fillStyle="red",r.fillRect(0,0,e,e),cd(i).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,e,e).data;r.fillStyle="red",r.fillRect(0,0,e,e);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=e+"px",ld(l)?cd(Bl(e,e,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),ld(r.getImageData(0,0,e,e).data)}).catch(function(){return!1})},Bl=function(t,A,e,r,n){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",A.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(a),a.appendChild(n),i},cd=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){return A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ke={get SUPPORT_RANGE_BOUNDS(){var t=Ab(document);return Object.defineProperty(Ke,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ke.SUPPORT_RANGE_BOUNDS&&eb(document);return Object.defineProperty(Ke,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=nb(document);return Object.defineProperty(Ke,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?sb(document):Promise.resolve(!1);return Object.defineProperty(Ke,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=tb();return Object.defineProperty(Ke,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=rb();return Object.defineProperty(Ke,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ke,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ke,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ts=function(){function t(A,e){this.text=A,this.bounds=e}return t}(),ib=function(t,A,e,r){var n=lb(A,e),s=[],i=0;return n.forEach(function(a){if(e.textDecorationLine.length||a.trim().length>0)if(Ke.SUPPORT_RANGE_BOUNDS){var l=ud(r,i,a.length).getClientRects();if(l.length>1){var c=vc(a),u=0;c.forEach(function(g){s.push(new ts(g,Fr.fromDOMRectList(t,ud(r,u+i,g.length).getClientRects()))),u+=g.length})}else s.push(new ts(a,Fr.fromDOMRectList(t,l)))}else{var f=r.splitText(a.length);s.push(new ts(a,ob(t,r))),r=f}else Ke.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));i+=a.length}),s},ob=function(t,A){var e=A.ownerDocument;if(e){var r=e.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var s=Cc(t,r);return r.firstChild&&n.replaceChild(r.firstChild,r),s}}return Fr.EMPTY},ud=function(t,A,e){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(t,A),n.setEnd(t,A+e),n},vc=function(t){if(Ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(t)).map(function(e){return e.segment})}return $I(t)},ab=function(t,A){if(Ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return ub(t,A)},lb=function(t,A){return A.letterSpacing!==0?vc(t):ab(t,A)},cb=[32,160,4961,65792,65793,4153,4241],ub=function(t,A){for(var e=Nv(t,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,s=function(){if(n.value){var i=n.value.slice(),a=Eo(i),l="";a.forEach(function(c){cb.indexOf(c)===-1?l+=qA(c):(l.length&&r.push(l),r.push(qA(c)),l="")}),l.length&&r.push(l)}};!(n=e.next()).done;)s();return r},hb=function(){function t(A,e,r){this.text=fb(e.data,r.textTransform),this.textBounds=ib(A,this.text,r,e)}return t}(),fb=function(t,A){switch(A){case 1:return t.toLowerCase();case 3:return t.replace(db,gb);case 2:return t.toUpperCase();default:return t}},db=/(^|\s|:|-|\(|\))([a-z])/g,gb=function(t,A,e){return t.length>0?A+e.toUpperCase():t},Gp=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(wt),Wp=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(wt),jp=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=new XMLSerializer,i=Cc(e,r);return r.setAttribute("width",i.width+"px"),r.setAttribute("height",i.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(wt),Xp=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(wt),pl=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(wt),Bb=[{type:15,flags:0,unit:"px",number:3}],pb=[{type:16,flags:0,number:50}],wb=function(t){return t.width>t.height?new Fr(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Fr(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},mb=function(t){var A=t.type===Cb?new Array(t.value.length+1).join(""):t.value;return A.length===0?t.placeholder||"":A},Yi="checkbox",Zi="radio",Cb="password",hd=707406591,Uc=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=mb(r),(n.type===Yi||n.type===Zi)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=wb(n.bounds)),n.type){case Yi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Bb;break;case Zi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=pb;break}return n}return A}(wt),Jp=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=r.options[r.selectedIndex||0];return n.value=s&&s.text||"",n}return A}(wt),qp=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(wt),zp=function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=Qb(e,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Xf(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ds.TRANSPARENT,i=r.contentWindow.document.body?Xf(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):ds.TRANSPARENT;n.backgroundColor=en(s)?en(i)?n.styles.backgroundColor:i:s}}catch{}return n}return A}(wt),yb=["OL","UL","MENU"],bi=function(t,A,e,r){for(var n=A.firstChild,s=void 0;n;n=s)if(s=n.nextSibling,vb(n)&&n.data.trim().length>0)e.textNodes.push(new hb(t,n,e.styles));else if(Zp(n))if(Lb(n)&&n.assignedNodes)n.assignedNodes().forEach(function(a){return bi(t,a,e,r)});else{var i=Yp(t,n);i.styles.isVisible()&&(_b(n,i,r)?i.flags|=4:Eb(i.styles)&&(i.flags|=2),yb.indexOf(n.tagName)!==-1&&(i.flags|=8),e.elements.push(i),n.slot,n.shadowRoot?bi(t,n.shadowRoot,i,r):!Aw(n)&&!$p(n)&&!ew(n)&&bi(t,n,i,r))}},Yp=function(t,A){return Rb(A)?new Gp(t,A):Sb(A)?new Wp(t,A):$p(A)?new jp(t,A):Ib(A)?new Xp(t,A):bb(A)?new pl(t,A):Tb(A)?new Uc(t,A):ew(A)?new Jp(t,A):Aw(A)?new qp(t,A):Db(A)?new zp(t,A):new wt(t,A)},Qb=function(t,A){var e=Yp(t,A);return e.flags|=4,bi(t,A,e,e),e},_b=function(t,A,e){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Hb(t)&&e.styles.isTransparent()},Eb=function(t){return t.isPositioned()||t.isFloating()},vb=function(t){return t.nodeType===Node.TEXT_NODE},Zp=function(t){return t.nodeType===Node.ELEMENT_NODE},Ub=function(t){return Zp(t)&&typeof t.style<"u"&&!Fb(t)},Fb=function(t){return typeof t.className=="object"},Ib=function(t){return t.tagName==="LI"},bb=function(t){return t.tagName==="OL"},Tb=function(t){return t.tagName==="INPUT"},$p=function(t){return t.tagName==="svg"},Hb=function(t){return t.tagName==="BODY"},Sb=function(t){return t.tagName==="CANVAS"},Rb=function(t){return t.tagName==="IMG"},Db=function(t){return t.tagName==="IFRAME"},Aw=function(t){return t.tagName==="TEXTAREA"},ew=function(t){return t.tagName==="SELECT"},Lb=function(t){return t.tagName==="SLOT"},fd={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},dd={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},kb={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Vb={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Nr=function(t,A,e,r,n,s){return t<A||t>e?Fc(t,n,s.length>0):r.integers.reduce(function(i,a,l){for(;t>=a;)t-=a,i+=r.values[l];return i},"")+s},tw=function(t,A,e,r){var n="";do e||t--,n=r(t)+n,t/=A;while(t*A>=A);return n},JA=function(t,A,e,r,n){var s=e-A+1;return(t<0?"-":"")+(tw(Math.abs(t),s,r,function(i){return qA(Math.floor(i%s)+A)})+n)},fr=function(t,A,e){e===void 0&&(e=". ");var r=A.length;return tw(Math.abs(t),r,!1,function(n){return A[Math.floor(n%r)]})+e},Yr=1,Lt=2,kt=4,Xn=8,_t=function(t,A,e,r,n,s){if(t<-9999||t>9999)return Fc(t,4,n.length>0);var i=Math.abs(t),a=n;if(i===0)return A[0]+a;for(var l=0;i>0&&l<=4;l++){var c=i%10;c===0&&re(s,Yr)&&a!==""?a=A[c]+a:c>1||c===1&&l===0||c===1&&l===1&&re(s,Lt)||c===1&&l===1&&re(s,kt)&&t>100||c===1&&l>1&&re(s,Xn)?a=A[c]+(l>0?e[l-1]:"")+a:c===1&&l>0&&(a=e[l-1]+a),i=Math.floor(i/10)}return(t<0?r:"")+a},gd="",Bd="",pd="",Fa="",Fc=function(t,A,e){var r=e?". ":"",n=e?"":"",s=e?", ":"",i=e?" ":"";switch(A){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var a=JA(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return fr(t,"",n);case 6:return Nr(t,1,3999,fd,3,r).toLowerCase();case 7:return Nr(t,1,3999,fd,3,r);case 8:return JA(t,945,969,!1,r);case 9:return JA(t,97,122,!1,r);case 10:return JA(t,65,90,!1,r);case 11:return JA(t,1632,1641,!0,r);case 12:case 49:return Nr(t,1,9999,dd,3,r);case 35:return Nr(t,1,9999,dd,3,r).toLowerCase();case 13:return JA(t,2534,2543,!0,r);case 14:case 30:return JA(t,6112,6121,!0,r);case 15:return fr(t,"",n);case 16:return fr(t,"",n);case 17:case 48:return _t(t,"",gd,"",n,Lt|kt|Xn);case 47:return _t(t,"",Bd,"",n,Yr|Lt|kt|Xn);case 42:return _t(t,"",gd,"",n,Lt|kt|Xn);case 41:return _t(t,"",Bd,"",n,Yr|Lt|kt|Xn);case 26:return _t(t,"","",pd,n,0);case 25:return _t(t,"","",pd,n,Yr|Lt|kt);case 31:return _t(t,"","",Fa,s,Yr|Lt|kt);case 33:return _t(t,"","",Fa,s,0);case 32:return _t(t,"","",Fa,s,Yr|Lt|kt);case 18:return JA(t,2406,2415,!0,r);case 20:return Nr(t,1,19999,Vb,3,r);case 21:return JA(t,2790,2799,!0,r);case 22:return JA(t,2662,2671,!0,r);case 22:return Nr(t,1,10999,kb,3,r);case 23:return fr(t,"");case 24:return fr(t,"");case 27:return JA(t,3302,3311,!0,r);case 28:return fr(t,"",n);case 29:return fr(t,"",n);case 34:return JA(t,3792,3801,!0,r);case 37:return JA(t,6160,6169,!0,r);case 38:return JA(t,4160,4169,!0,r);case 39:return JA(t,2918,2927,!0,r);case 40:return JA(t,1776,1785,!0,r);case 43:return JA(t,3046,3055,!0,r);case 44:return JA(t,3174,3183,!0,r);case 45:return JA(t,3664,3673,!0,r);case 46:return JA(t,3872,3881,!0,r);case 3:default:return JA(t,48,57,!0,r)}},wd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(wd||(wd={}));var xb=function(){function t(){}return t.getOrigin=function(A){var e=t._link;return e?(e.href=A,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},t.isSameOrigin=function(A){return t.getOrigin(A)===t._origin},t.setContext=function(A){t._link=A.document.createElement("a"),t._origin=t.getOrigin(A.location.href)},t._origin="about:blank",t}(),Z=function(){function t(A,e){this.type=0,this.x=A,this.y=e}return t.prototype.add=function(A,e){return new t(this.x+A,this.y+e)},t}(),Gr=function(t,A,e){return new Z(t.x+(A.x-t.x)*e,t.y+(A.y-t.y)*e)},gi=function(){function t(A,e,r,n){this.type=1,this.start=A,this.startControl=e,this.endControl=r,this.end=n}return t.prototype.subdivide=function(A,e){var r=Gr(this.start,this.startControl,A),n=Gr(this.startControl,this.endControl,A),s=Gr(this.endControl,this.end,A),i=Gr(r,n,A),a=Gr(n,s,A),l=Gr(i,a,A);return e?new t(this.start,r,i,l):new t(l,a,s,this.end)},t.prototype.add=function(A,e){return new t(this.start.add(A,e),this.startControl.add(A,e),this.endControl.add(A,e),this.end.add(A,e))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ye=function(t){return t.type===1},Mb=function(){function t(A){var e=A.styles,r=A.bounds,n=Wn(e.borderTopLeftRadius,r.width,r.height),s=n[0],i=n[1],a=Wn(e.borderTopRightRadius,r.width,r.height),l=a[0],c=a[1],u=Wn(e.borderBottomRightRadius,r.width,r.height),f=u[0],g=u[1],B=Wn(e.borderBottomLeftRadius,r.width,r.height),C=B[0],y=B[1],F=[];F.push((s+l)/r.width),F.push((C+f)/r.width),F.push((i+y)/r.height),F.push((c+g)/r.height);var S=Math.max.apply(Math,F);S>1&&(s/=S,i/=S,l/=S,c/=S,f/=S,g/=S,C/=S,y/=S);var R=r.width-l,H=r.height-g,x=r.width-f,P=r.height-y,L=e.borderTopWidth,E=e.borderRightWidth,m=e.borderBottomWidth,Q=e.borderLeftWidth,I=xA(e.paddingTop,A.bounds.width),v=xA(e.paddingRight,A.bounds.width),b=xA(e.paddingBottom,A.bounds.width),p=xA(e.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?NA(r.left+Q/3,r.top+L/3,s-Q/3,i-L/3,SA.TOP_LEFT):new Z(r.left+Q/3,r.top+L/3),this.topRightBorderDoubleOuterBox=s>0||i>0?NA(r.left+R,r.top+L/3,l-E/3,c-L/3,SA.TOP_RIGHT):new Z(r.left+r.width-E/3,r.top+L/3),this.bottomRightBorderDoubleOuterBox=f>0||g>0?NA(r.left+x,r.top+H,f-E/3,g-m/3,SA.BOTTOM_RIGHT):new Z(r.left+r.width-E/3,r.top+r.height-m/3),this.bottomLeftBorderDoubleOuterBox=C>0||y>0?NA(r.left+Q/3,r.top+P,C-Q/3,y-m/3,SA.BOTTOM_LEFT):new Z(r.left+Q/3,r.top+r.height-m/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?NA(r.left+Q*2/3,r.top+L*2/3,s-Q*2/3,i-L*2/3,SA.TOP_LEFT):new Z(r.left+Q*2/3,r.top+L*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?NA(r.left+R,r.top+L*2/3,l-E*2/3,c-L*2/3,SA.TOP_RIGHT):new Z(r.left+r.width-E*2/3,r.top+L*2/3),this.bottomRightBorderDoubleInnerBox=f>0||g>0?NA(r.left+x,r.top+H,f-E*2/3,g-m*2/3,SA.BOTTOM_RIGHT):new Z(r.left+r.width-E*2/3,r.top+r.height-m*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||y>0?NA(r.left+Q*2/3,r.top+P,C-Q*2/3,y-m*2/3,SA.BOTTOM_LEFT):new Z(r.left+Q*2/3,r.top+r.height-m*2/3),this.topLeftBorderStroke=s>0||i>0?NA(r.left+Q/2,r.top+L/2,s-Q/2,i-L/2,SA.TOP_LEFT):new Z(r.left+Q/2,r.top+L/2),this.topRightBorderStroke=s>0||i>0?NA(r.left+R,r.top+L/2,l-E/2,c-L/2,SA.TOP_RIGHT):new Z(r.left+r.width-E/2,r.top+L/2),this.bottomRightBorderStroke=f>0||g>0?NA(r.left+x,r.top+H,f-E/2,g-m/2,SA.BOTTOM_RIGHT):new Z(r.left+r.width-E/2,r.top+r.height-m/2),this.bottomLeftBorderStroke=C>0||y>0?NA(r.left+Q/2,r.top+P,C-Q/2,y-m/2,SA.BOTTOM_LEFT):new Z(r.left+Q/2,r.top+r.height-m/2),this.topLeftBorderBox=s>0||i>0?NA(r.left,r.top,s,i,SA.TOP_LEFT):new Z(r.left,r.top),this.topRightBorderBox=l>0||c>0?NA(r.left+R,r.top,l,c,SA.TOP_RIGHT):new Z(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||g>0?NA(r.left+x,r.top+H,f,g,SA.BOTTOM_RIGHT):new Z(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=C>0||y>0?NA(r.left,r.top+P,C,y,SA.BOTTOM_LEFT):new Z(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||i>0?NA(r.left+Q,r.top+L,Math.max(0,s-Q),Math.max(0,i-L),SA.TOP_LEFT):new Z(r.left+Q,r.top+L),this.topRightPaddingBox=l>0||c>0?NA(r.left+Math.min(R,r.width-E),r.top+L,R>r.width+E?0:Math.max(0,l-E),Math.max(0,c-L),SA.TOP_RIGHT):new Z(r.left+r.width-E,r.top+L),this.bottomRightPaddingBox=f>0||g>0?NA(r.left+Math.min(x,r.width-Q),r.top+Math.min(H,r.height-m),Math.max(0,f-E),Math.max(0,g-m),SA.BOTTOM_RIGHT):new Z(r.left+r.width-E,r.top+r.height-m),this.bottomLeftPaddingBox=C>0||y>0?NA(r.left+Q,r.top+Math.min(P,r.height-m),Math.max(0,C-Q),Math.max(0,y-m),SA.BOTTOM_LEFT):new Z(r.left+Q,r.top+r.height-m),this.topLeftContentBox=s>0||i>0?NA(r.left+Q+p,r.top+L+I,Math.max(0,s-(Q+p)),Math.max(0,i-(L+I)),SA.TOP_LEFT):new Z(r.left+Q+p,r.top+L+I),this.topRightContentBox=l>0||c>0?NA(r.left+Math.min(R,r.width+Q+p),r.top+L+I,R>r.width+Q+p?0:l-Q+p,c-(L+I),SA.TOP_RIGHT):new Z(r.left+r.width-(E+v),r.top+L+I),this.bottomRightContentBox=f>0||g>0?NA(r.left+Math.min(x,r.width-(Q+p)),r.top+Math.min(H,r.height+L+I),Math.max(0,f-(E+v)),g-(m+b),SA.BOTTOM_RIGHT):new Z(r.left+r.width-(E+v),r.top+r.height-(m+b)),this.bottomLeftContentBox=C>0||y>0?NA(r.left+Q+p,r.top+P,Math.max(0,C-(Q+p)),y-(m+b),SA.BOTTOM_LEFT):new Z(r.left+Q+p,r.top+r.height-(m+b))}return t}(),SA;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(SA||(SA={}));var NA=function(t,A,e,r,n){var s=4*((Math.sqrt(2)-1)/3),i=e*s,a=r*s,l=t+e,c=A+r;switch(n){case SA.TOP_LEFT:return new gi(new Z(t,c),new Z(t,c-a),new Z(l-i,A),new Z(l,A));case SA.TOP_RIGHT:return new gi(new Z(t,A),new Z(t+i,A),new Z(l,c-a),new Z(l,c));case SA.BOTTOM_RIGHT:return new gi(new Z(l,A),new Z(l,A+a),new Z(t+i,c),new Z(t,c));case SA.BOTTOM_LEFT:default:return new gi(new Z(l,c),new Z(l-i,c),new Z(t,A+a),new Z(t,A))}},$i=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Pb=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Ao=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Kb=function(){function t(A,e,r){this.offsetX=A,this.offsetY=e,this.matrix=r,this.type=0,this.target=6}return t}(),Bi=function(){function t(A,e){this.path=A,this.target=e,this.type=1}return t}(),Ob=function(){function t(A){this.opacity=A,this.type=2,this.target=6}return t}(),Nb=function(t){return t.type===0},rw=function(t){return t.type===1},Gb=function(t){return t.type===2},md=function(t,A){return t.length===A.length?t.some(function(e,r){return e===A[r]}):!1},Wb=function(t,A,e,r,n){return t.map(function(s,i){switch(i){case 0:return s.add(A,e);case 1:return s.add(A+r,e);case 2:return s.add(A+r,e+n);case 3:return s.add(A,e+n)}return s})},nw=function(){function t(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),sw=function(){function t(A,e){if(this.container=A,this.parent=e,this.effects=[],this.curves=new Mb(this.container),this.container.styles.opacity<1&&this.effects.push(new Ob(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Kb(r,n,s))}if(this.container.styles.overflowX!==0){var i=$i(this.curves),a=Ao(this.curves);md(i,a)?this.effects.push(new Bi(i,6)):(this.effects.push(new Bi(i,2)),this.effects.push(new Bi(a,4)))}}return t.prototype.getEffects=function(A){for(var e=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!rw(l)});if(e||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,s),e=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var i=$i(r.curves),a=Ao(r.curves);md(i,a)||n.unshift(new Bi(a,6))}}else n.unshift.apply(n,s);r=r.parent}return n.filter(function(l){return re(l.target,A)})},t}(),wl=function(t,A,e,r){t.container.elements.forEach(function(n){var s=re(n.flags,4),i=re(n.flags,2),a=new sw(n,t);re(n.styles.display,2048)&&r.push(a);var l=re(n.flags,8)?[]:r;if(s||i){var c=s||n.styles.isPositioned()?e:A,u=new nw(a);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var g=0;c.negativeZIndex.some(function(C,y){return f>C.element.container.styles.zIndex.order?(g=y,!1):g>0}),c.negativeZIndex.splice(g,0,u)}else if(f>0){var B=0;c.positiveZIndex.some(function(C,y){return f>=C.element.container.styles.zIndex.order?(B=y+1,!1):B>0}),c.positiveZIndex.splice(B,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);wl(a,u,s?u:e,l)}else n.styles.isInlineLevel()?A.inlineLevel.push(a):A.nonInlineLevel.push(a),wl(a,A,e,l);re(n.flags,8)&&iw(n,l)})},iw=function(t,A){for(var e=t instanceof pl?t.start:1,r=t instanceof pl?t.reversed:!1,n=0;n<A.length;n++){var s=A[n];s.container instanceof Xp&&typeof s.container.value=="number"&&s.container.value!==0&&(e=s.container.value),s.listValue=Fc(e,s.container.styles.listStyleType,!0),e+=r?-1:1}},jb=function(t){var A=new sw(t,null),e=new nw(A),r=[];return wl(A,e,e,r),iw(A.container,r),e},Cd=function(t,A){switch(A){case 0:return $e(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return $e(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return $e(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return $e(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Xb=function(t,A){switch(A){case 0:return $e(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return $e(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return $e(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return $e(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Jb=function(t,A){switch(A){case 0:return $e(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return $e(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return $e(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return $e(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},qb=function(t,A){switch(A){case 0:return pi(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return pi(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return pi(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return pi(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},pi=function(t,A){var e=[];return Ye(t)?e.push(t.subdivide(.5,!1)):e.push(t),Ye(A)?e.push(A.subdivide(.5,!0)):e.push(A),e},$e=function(t,A,e,r){var n=[];return Ye(t)?n.push(t.subdivide(.5,!1)):n.push(t),Ye(e)?n.push(e.subdivide(.5,!0)):n.push(e),Ye(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),Ye(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},ow=function(t){var A=t.bounds,e=t.styles;return A.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},eo=function(t){var A=t.styles,e=t.bounds,r=xA(A.paddingLeft,e.width),n=xA(A.paddingRight,e.width),s=xA(A.paddingTop,e.width),i=xA(A.paddingBottom,e.width);return e.add(r+A.borderLeftWidth,s+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+s+i))},zb=function(t,A){return t===0?A.bounds:t===2?eo(A):ow(A)},Yb=function(t,A){return t===0?A.bounds:t===2?eo(A):ow(A)},Ia=function(t,A,e){var r=zb(Zr(t.styles.backgroundOrigin,A),t),n=Yb(Zr(t.styles.backgroundClip,A),t),s=Zb(Zr(t.styles.backgroundSize,A),e,r),i=s[0],a=s[1],l=Wn(Zr(t.styles.backgroundPosition,A),r.width-i,r.height-a),c=$b(Zr(t.styles.backgroundRepeat,A),l,s,r,n),u=Math.round(r.left+l[0]),f=Math.round(r.top+l[1]);return[c,u,f,i,a]},Wr=function(t){return XA(t)&&t.value===tn.AUTO},wi=function(t){return typeof t=="number"},Zb=function(t,A,e){var r=A[0],n=A[1],s=A[2],i=t[0],a=t[1];if(!i)return[0,0];if($A(i)&&a&&$A(a))return[xA(i,e.width),xA(a,e.height)];var l=wi(s);if(XA(i)&&(i.value===tn.CONTAIN||i.value===tn.COVER)){if(wi(s)){var c=e.width/e.height;return c<s!=(i.value===tn.COVER)?[e.width,e.width/s]:[e.height*s,e.height]}return[e.width,e.height]}var u=wi(r),f=wi(n),g=u||f;if(Wr(i)&&(!a||Wr(a))){if(u&&f)return[r,n];if(!l&&!g)return[e.width,e.height];if(g&&l){var B=u?r:n*s,C=f?n:r/s;return[B,C]}var y=u?r:e.width,F=f?n:e.height;return[y,F]}if(l){var S=0,R=0;return $A(i)?S=xA(i,e.width):$A(a)&&(R=xA(a,e.height)),Wr(i)?S=R*s:(!a||Wr(a))&&(R=S/s),[S,R]}var H=null,x=null;if($A(i)?H=xA(i,e.width):a&&$A(a)&&(x=xA(a,e.height)),H!==null&&(!a||Wr(a))&&(x=u&&f?H/r*n:e.height),x!==null&&Wr(i)&&(H=u&&f?x/n*r:e.width),H!==null&&x!==null)return[H,x];throw new Error("Unable to calculate background-size for element")},Zr=function(t,A){var e=t[A];return typeof e>"u"?t[0]:e},$b=function(t,A,e,r,n){var s=A[0],i=A[1],a=e[0],l=e[1];switch(t){case 2:return[new Z(Math.round(r.left),Math.round(r.top+i)),new Z(Math.round(r.left+r.width),Math.round(r.top+i)),new Z(Math.round(r.left+r.width),Math.round(l+r.top+i)),new Z(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new Z(Math.round(r.left+s),Math.round(r.top)),new Z(Math.round(r.left+s+a),Math.round(r.top)),new Z(Math.round(r.left+s+a),Math.round(r.height+r.top)),new Z(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Z(Math.round(r.left+s),Math.round(r.top+i)),new Z(Math.round(r.left+s+a),Math.round(r.top+i)),new Z(Math.round(r.left+s+a),Math.round(r.top+i+l)),new Z(Math.round(r.left+s),Math.round(r.top+i+l))];default:return[new Z(Math.round(n.left),Math.round(n.top)),new Z(Math.round(n.left+n.width),Math.round(n.top)),new Z(Math.round(n.left+n.width),Math.round(n.height+n.top)),new Z(Math.round(n.left),Math.round(n.height+n.top))]}},A1="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",yd="Hidden Text",e1=function(){function t(A){this._data={},this._document=A}return t.prototype.parseMetrics=function(A,e){var r=this._document.createElement("div"),n=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",i.appendChild(r),n.src=A1,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",s.style.fontFamily=A,s.style.fontSize=e,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(yd)),r.appendChild(s),r.appendChild(n);var a=n.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(yd)),r.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-r.offsetTop+2;return i.removeChild(r),{baseline:a,middle:l}},t.prototype.getMetrics=function(A,e){var r=A+" "+e;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,e)),this._data[r]},t}(),aw=function(){function t(A,e){this.context=A,this.options=e}return t}(),t1=1e4;(function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new e1(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(e){for(var r=this;this._activeEffects.length;)this.popEffect();e.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(e){this.ctx.save(),Gb(e)&&(this.ctx.globalAlpha=e.opacity),Nb(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),rw(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(e){return Je(this,void 0,void 0,function(){var r;return Me(this,function(n){switch(n.label){case 0:return r=e.element.container.styles,r.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(e){return Je(this,void 0,void 0,function(){return Me(this,function(r){switch(r.label){case 0:if(re(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(e,r,n){var s=this;if(r===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var i=vc(e.text);i.reduce(function(a,l){return s.ctx.fillText(l,a,e.bounds.top+n),a+s.ctx.measureText(l).width},e.bounds.left)}},A.prototype.createFontStyle=function(e){var r=e.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),n=o1(e.fontFamily).join(", "),s=Fs(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,r,e.fontWeight,s,n].join(" "),n,s]},A.prototype.renderTextNode=function(e,r){return Je(this,void 0,void 0,function(){var n,s,i,a,l,c,u,f,g=this;return Me(this,function(B){return n=this.createFontStyle(r),s=n[0],i=n[1],a=n[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,a),c=l.baseline,u=l.middle,f=r.paintOrder,e.textBounds.forEach(function(C){f.forEach(function(y){switch(y){case 0:g.ctx.fillStyle=ue(r.color),g.renderTextWithLetterSpacing(C,r.letterSpacing,c);var F=r.textShadow;F.length&&C.text.trim().length&&(F.slice(0).reverse().forEach(function(S){g.ctx.shadowColor=ue(S.color),g.ctx.shadowOffsetX=S.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=S.offsetY.number*g.options.scale,g.ctx.shadowBlur=S.blur.number,g.renderTextWithLetterSpacing(C,r.letterSpacing,c)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=ue(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(S){switch(S){case 1:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+c),C.bounds.width,1);break;case 2:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:g.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+u),C.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&C.text.trim().length&&(g.ctx.strokeStyle=ue(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+c)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(e,r,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var s=eo(e),i=Ao(r);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(e){return Je(this,void 0,void 0,function(){var r,n,s,i,a,l,R,R,c,u,f,g,x,B,C,P,y,F,S,R,H,x,P;return Me(this,function(L){switch(L.label){case 0:this.applyEffects(e.getEffects(4)),r=e.container,n=e.curves,s=r.styles,i=0,a=r.textNodes,L.label=1;case 1:return i<a.length?(l=a[i],[4,this.renderTextNode(l,s)]):[3,4];case 2:L.sent(),L.label=3;case 3:return i++,[3,1];case 4:if(!(r instanceof Gp))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return R=L.sent(),this.renderReplacedElement(r,n,R),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Wp&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof jp))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return R=L.sent(),this.renderReplacedElement(r,n,R),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof zp&&r.tree?(c=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=L.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),L.label=14;case 14:if(r instanceof Uc&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===Yi?r.checked&&(this.ctx.save(),this.path([new Z(r.bounds.left+f*.39363,r.bounds.top+f*.79),new Z(r.bounds.left+f*.16,r.bounds.top+f*.5549),new Z(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new Z(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new Z(r.bounds.left+f*.72983,r.bounds.top+f*.23),new Z(r.bounds.left+f*.84,r.bounds.top+f*.34085),new Z(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=ue(hd),this.ctx.fill(),this.ctx.restore()):r.type===Zi&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=ue(hd),this.ctx.fill(),this.ctx.restore())),r1(r)&&r.value.length){switch(g=this.createFontStyle(s),x=g[0],B=g[1],C=this.fontMetrics.getMetrics(x,B).baseline,this.ctx.font=x,this.ctx.fillStyle=ue(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=s1(r.styles.textAlign),P=eo(r),y=0,r.styles.textAlign){case 1:y+=P.width/2;break;case 2:y+=P.width;break}F=P.add(y,0,0,-P.height/2+1),this.ctx.save(),this.path([new Z(P.left,P.top),new Z(P.left+P.width,P.top),new Z(P.left+P.width,P.top+P.height),new Z(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ts(r.value,F),s.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!re(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(S=r.styles.listStyleImage,S.type!==0)return[3,18];R=void 0,H=S.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(H)];case 16:return R=L.sent(),this.ctx.drawImage(R,r.bounds.left-(R.width+10),r.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+H),[3,18];case 18:return[3,20];case 19:e.listValue&&r.styles.listStyleType!==-1&&(x=this.createFontStyle(s)[0],this.ctx.font=x,this.ctx.fillStyle=ue(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new Fr(r.bounds.left,r.bounds.top+xA(r.styles.paddingTop,r.bounds.width),r.bounds.width,zf(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ts(e.listValue,P),s.letterSpacing,zf(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(e){return Je(this,void 0,void 0,function(){var r,n,S,s,i,S,a,l,S,c,u,S,f,g,S,B,C,S,y,F,S;return Me(this,function(R){switch(R.label){case 0:if(re(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:R.sent(),r=0,n=e.negativeZIndex,R.label=2;case 2:return r<n.length?(S=n[r],[4,this.renderStack(S)]):[3,5];case 3:R.sent(),R.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:R.sent(),s=0,i=e.nonInlineLevel,R.label=7;case 7:return s<i.length?(S=i[s],[4,this.renderNode(S)]):[3,10];case 8:R.sent(),R.label=9;case 9:return s++,[3,7];case 10:a=0,l=e.nonPositionedFloats,R.label=11;case 11:return a<l.length?(S=l[a],[4,this.renderStack(S)]):[3,14];case 12:R.sent(),R.label=13;case 13:return a++,[3,11];case 14:c=0,u=e.nonPositionedInlineLevel,R.label=15;case 15:return c<u.length?(S=u[c],[4,this.renderStack(S)]):[3,18];case 16:R.sent(),R.label=17;case 17:return c++,[3,15];case 18:f=0,g=e.inlineLevel,R.label=19;case 19:return f<g.length?(S=g[f],[4,this.renderNode(S)]):[3,22];case 20:R.sent(),R.label=21;case 21:return f++,[3,19];case 22:B=0,C=e.zeroOrAutoZIndexOrTransformedOrOpacity,R.label=23;case 23:return B<C.length?(S=C[B],[4,this.renderStack(S)]):[3,26];case 24:R.sent(),R.label=25;case 25:return B++,[3,23];case 26:y=0,F=e.positiveZIndex,R.label=27;case 27:return y<F.length?(S=F[y],[4,this.renderStack(S)]):[3,30];case 28:R.sent(),R.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},A.prototype.formatPath=function(e){var r=this;e.forEach(function(n,s){var i=Ye(n)?n.start:n;s===0?r.ctx.moveTo(i.x,i.y):r.ctx.lineTo(i.x,i.y),Ye(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(e,r,n,s){this.path(e),this.ctx.fillStyle=r,this.ctx.translate(n,s),this.ctx.fill(),this.ctx.translate(-n,-s)},A.prototype.resizeImage=function(e,r,n){var s;if(e.width===r&&e.height===n)return e;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=i.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,n);var l=a.getContext("2d");return l.drawImage(e,0,0,e.width,e.height,0,0,r,n),a},A.prototype.renderBackgroundImage=function(e){return Je(this,void 0,void 0,function(){var r,n,s,i,a,l;return Me(this,function(c){switch(c.label){case 0:r=e.styles.backgroundImage.length-1,n=function(u){var f,g,B,I,dA,nA,p,O,m,C,I,dA,nA,p,O,y,F,S,R,H,x,P,L,E,m,Q,I,v,b,p,O,uA,dA,nA,LA,KA,V,T,Y,z,cA,oA;return Me(this,function(lA){switch(lA.label){case 0:if(u.type!==0)return[3,5];f=void 0,g=u.url,lA.label=1;case 1:return lA.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return f=lA.sent(),[3,4];case 3:return lA.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return f&&(B=Ia(e,r,[f.width,f.height,f.width/f.height]),I=B[0],dA=B[1],nA=B[2],p=B[3],O=B[4],m=s.ctx.createPattern(s.resizeImage(f,p,O),"repeat"),s.renderRepeat(I,m,dA,nA)),[3,6];case 5:sF(u)?(C=Ia(e,r,[null,null,null]),I=C[0],dA=C[1],nA=C[2],p=C[3],O=C[4],y=AF(u.angle,p,O),F=y[0],S=y[1],R=y[2],H=y[3],x=y[4],P=document.createElement("canvas"),P.width=p,P.height=O,L=P.getContext("2d"),E=L.createLinearGradient(S,H,R,x),Jf(u.stops,F).forEach(function(j){return E.addColorStop(j.stop,ue(j.color))}),L.fillStyle=E,L.fillRect(0,0,p,O),p>0&&O>0&&(m=s.ctx.createPattern(P,"repeat"),s.renderRepeat(I,m,dA,nA))):iF(u)&&(Q=Ia(e,r,[null,null,null]),I=Q[0],v=Q[1],b=Q[2],p=Q[3],O=Q[4],uA=u.position.length===0?[Qc]:u.position,dA=xA(uA[0],p),nA=xA(uA[uA.length-1],O),LA=eF(u,dA,nA,p,O),KA=LA[0],V=LA[1],KA>0&&V>0&&(T=s.ctx.createRadialGradient(v+dA,b+nA,0,v+dA,b+nA,KA),Jf(u.stops,KA*2).forEach(function(j){return T.addColorStop(j.stop,ue(j.color))}),s.path(I),s.ctx.fillStyle=T,KA!==V?(Y=e.bounds.left+.5*e.bounds.width,z=e.bounds.top+.5*e.bounds.height,cA=V/KA,oA=1/cA,s.ctx.save(),s.ctx.translate(Y,z),s.ctx.transform(1,0,0,cA,0,0),s.ctx.translate(-Y,-z),s.ctx.fillRect(v,oA*(b-z)+z,p,O*oA),s.ctx.restore()):s.ctx.fill())),lA.label=6;case 6:return r--,[2]}})},s=this,i=0,a=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<a.length?(l=a[i],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(e,r,n){return Je(this,void 0,void 0,function(){return Me(this,function(s){return this.path(Cd(n,r)),this.ctx.fillStyle=ue(e),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(e,r,n,s){return Je(this,void 0,void 0,function(){var i,a;return Me(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return l.sent(),[2];case 2:return i=Xb(s,n),this.path(i),this.ctx.fillStyle=ue(e),this.ctx.fill(),a=Jb(s,n),this.path(a),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(e){return Je(this,void 0,void 0,function(){var r,n,s,i,a,l,c,u,f=this;return Me(this,function(g){switch(g.label){case 0:return this.applyEffects(e.getEffects(2)),r=e.container.styles,n=!en(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],i=n1(Zr(r.backgroundClip,0),e.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),en(r.backgroundColor)||(this.ctx.fillStyle=ue(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(B){f.ctx.save();var C=$i(e.curves),y=B.inset?0:t1,F=Wb(C,-y+(B.inset?1:-1)*B.spread.number,(B.inset?1:-1)*B.spread.number,B.spread.number*(B.inset?-2:2),B.spread.number*(B.inset?-2:2));B.inset?(f.path(C),f.ctx.clip(),f.mask(F)):(f.mask(C),f.ctx.clip(),f.path(F)),f.ctx.shadowOffsetX=B.offsetX.number+y,f.ctx.shadowOffsetY=B.offsetY.number,f.ctx.shadowColor=ue(B.color),f.ctx.shadowBlur=B.blur.number,f.ctx.fillStyle=B.inset?ue(B.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),g.label=2;case 2:a=0,l=0,c=s,g.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!en(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,e.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,e.curves,3)];case 6:return g.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,e.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,e.curves)];case 10:g.sent(),g.label=11;case 11:a++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(e,r,n,s,i){return Je(this,void 0,void 0,function(){var a,l,c,u,f,g,B,C,y,F,S,R,H,x,P,L,P,L;return Me(this,function(E){return this.ctx.save(),a=qb(s,n),l=Cd(s,n),i===2&&(this.path(l),this.ctx.clip()),Ye(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Ye(l[1])?(f=l[1].end.x,g=l[1].end.y):(f=l[1].x,g=l[1].y),n===0||n===2?B=Math.abs(c-f):B=Math.abs(u-g),this.ctx.beginPath(),i===3?this.formatPath(a):this.formatPath(l.slice(0,2)),C=r<3?r*3:r*2,y=r<3?r*2:r,i===3&&(C=r,y=r),F=!0,B<=C*2?F=!1:B<=C*2+y?(S=B/(2*C+y),C*=S,y*=S):(R=Math.floor((B+y)/(C+y)),H=(B-R*C)/(R-1),x=(B-(R+1)*C)/R,y=x<=0||Math.abs(y-H)<Math.abs(y-x)?H:x),F&&(i===3?this.ctx.setLineDash([0,C+y]):this.ctx.setLineDash([C,y])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ue(e),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(Ye(l[0])&&(P=l[3],L=l[0],this.ctx.beginPath(),this.formatPath([new Z(P.end.x,P.end.y),new Z(L.start.x,L.start.y)]),this.ctx.stroke()),Ye(l[1])&&(P=l[1],L=l[2],this.ctx.beginPath(),this.formatPath([new Z(P.end.x,P.end.y),new Z(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(e){return Je(this,void 0,void 0,function(){var r;return Me(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ue(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=jb(e),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A})(aw);var r1=function(t){return t instanceof qp||t instanceof Jp?!0:t instanceof Uc&&t.type!==Zi&&t.type!==Yi},n1=function(t,A){switch(t){case 0:return $i(A);case 2:return Pb(A);case 1:default:return Ao(A)}},s1=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},i1=["-apple-system","system-ui"],o1=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(A){return i1.indexOf(A)===-1}):t};(function(t){it(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(e){return Je(this,void 0,void 0,function(){var r,n;return Me(this,function(s){switch(s.label){case 0:return r=Bl(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,a1(r)];case 1:return n=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ue(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A})(aw);var a1=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window<"u"&&xb.setContext(window);function Qd(t,A,e){const r=t.slice();return r[24]=A[e],r[26]=e,r}function _d(t,A,e){const r=t.slice();return r[27]=A[e],r}function Ed(t,A,e){const r=t.slice();return r[30]=A[e],r[26]=e,r}function vd(t,A,e){const r=t.slice();return r[32]=A[e],r}function l1(t){let A,e=DA(t[1]),r=[];for(let n=0;n<e.length;n+=1)r[n]=Dd(Qd(t,e,n));return{c(){A=D("div");for(let n=0;n<r.length;n+=1)r[n].c();_(A,"class","flex flex-col gap-4")},m(n,s){W(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&970){e=DA(n[1]);let i;for(i=0;i<e.length;i+=1){const a=Qd(n,e,i);r[i]?r[i].p(a,s):(r[i]=Dd(a),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&G(A),ke(r,n)}}}function c1(t){let A;return{c(){A=D("div"),A.innerHTML='<span class="text-accent">Loading drawings...</span>',_(A,"class","flex justify-center items-center h-40")},m(e,r){W(e,A,r)},p:tA,d(e){e&&G(A)}}}function Ud(t){var gA;let A,e,r,n,s,i,a,l=(((gA=t[24].likes)==null?void 0:gA.length)||0)+"",c,u,f,g,B,C,y,F,S,R,H,x,P=t[24].artist.toLowerCase()+"",L,E,m,Q,I=kd(t[24].createdAt)+"",v,b,p,O,uA,dA,nA,LA,KA=DA(Array(t[24].coins)),V=[];for(let BA=0;BA<KA.length;BA+=1)V[BA]=Fd(vd(t,KA,BA));function T(BA,EA){return EA[0]&2&&(s=null),s==null&&(s=!!BA[8](BA[24])),s?h1:u1}let Y=T(t,[-1,-1]),z=Y(t);function cA(){return t[13](t[24])}function oA(){return t[14](t[26])}function lA(BA,EA){return BA[24].guessed?d1:f1}let j=lA(t),X=j(t);function FA(BA,EA){return BA[24].guesses&&BA[24].guesses.length>0?B1:g1}let _A=FA(t),CA=_A(t),wA=t[24].hintPurchased&&Td(t),QA=t[24].guessed&&Hd(t);return{c(){A=D("div"),e=D("div");for(let BA=0;BA<V.length;BA+=1)V[BA].c();r=q(),n=D("div"),z.c(),i=q(),a=D("span"),c=sA(l),u=q(),f=D("div"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',g=q(),B=D("div"),B.textContent="Copied!",C=q(),y=D("img"),S=q(),R=D("p"),X.c(),H=sA(`
							by
							`),x=D("span"),L=sA(P),E=q(),m=D("span"),Q=sA("on "),v=sA(I),b=q(),p=D("p"),CA.c(),O=q(),wA&&wA.c(),uA=q(),QA&&QA.c(),dA=q(),_(e,"class","flex flex-row gap-1 absolute top-2 right-2"),_(a,"class","text-sm font-semibold"),_(n,"class","absolute top-2 left-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-20"),_(f,"class","absolute top-10 right-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-10"),_(f,"title","Copy screenshot to clipboard"),_(B,"id",`feedback-drawing-card-${t[26]}`),_(B,"class","absolute top-12 right-2 bg-green-500 text-white p-1 rounded text-xs hidden z-30"),Le(y.src,F=`${t[24].data}`)||_(y,"src",F),_(y,"class","w-full h-full object-contain"),_(y,"alt","Drawing"),_(x,"class","font-semibold"),_(m,"class","text-[10px] opacity-50"),_(R,"class","text-lg text-center py-2 align-middle items-center"),_(p,"class","text-[0.8rem] text-center align-middle items-center w-3/4"),_(A,"id",`drawing-card-${t[26]}`),_(A,"class","bg-white/90 p-1 relative rounded-lg w-full max-w-[min(90vw,400px)] flex flex-col items-center justify-center mx-auto border-2 border-primary")},m(BA,EA){W(BA,A,EA),U(A,e);for(let OA=0;OA<V.length;OA+=1)V[OA]&&V[OA].m(e,null);U(A,r),U(A,n),z.m(n,null),U(n,i),U(n,a),U(a,c),U(A,u),U(A,f),U(A,g),U(A,B),U(A,C),U(A,y),U(A,S),U(A,R),X.m(R,null),U(R,H),U(R,x),U(x,L),U(R,E),U(R,m),U(m,Q),U(m,v),U(A,b),U(A,p),CA.m(p,null),U(A,O),wA&&wA.m(A,null),U(A,uA),QA&&QA.m(A,null),U(A,dA),nA||(LA=[fA(n,"click",yu(cA)),fA(f,"click",yu(oA))],nA=!0)},p(BA,EA){var OA;if(t=BA,EA[0]&2){KA=DA(Array(t[24].coins));let kA;for(kA=0;kA<KA.length;kA+=1){const Ue=vd(t,KA,kA);V[kA]?V[kA].p(Ue,EA):(V[kA]=Fd(),V[kA].c(),V[kA].m(e,null))}for(;kA<V.length;kA+=1)V[kA].d(1);V.length=KA.length}Y!==(Y=T(t,EA))&&(z.d(1),z=Y(t),z&&(z.c(),z.m(n,i))),EA[0]&2&&l!==(l=(((OA=t[24].likes)==null?void 0:OA.length)||0)+"")&&IA(c,l),EA[0]&2&&!Le(y.src,F=`${t[24].data}`)&&_(y,"src",F),j===(j=lA(t))&&X?X.p(t,EA):(X.d(1),X=j(t),X&&(X.c(),X.m(R,H))),EA[0]&2&&P!==(P=t[24].artist.toLowerCase()+"")&&IA(L,P),EA[0]&2&&I!==(I=kd(t[24].createdAt)+"")&&IA(v,I),_A===(_A=FA(t))&&CA?CA.p(t,EA):(CA.d(1),CA=_A(t),CA&&(CA.c(),CA.m(p,null))),t[24].hintPurchased?wA?wA.p(t,EA):(wA=Td(t),wA.c(),wA.m(A,uA)):wA&&(wA.d(1),wA=null),t[24].guessed?QA?QA.p(t,EA):(QA=Hd(t),QA.c(),QA.m(A,dA)):QA&&(QA.d(1),QA=null)},d(BA){BA&&G(A),ke(V,BA),z.d(),X.d(),CA.d(),wA&&wA.d(),QA&&QA.d(),nA=!1,ve(LA)}}}function Fd(t){let A,e;return{c(){A=D("img"),Le(A.src,e=Sr)||_(A,"src",e),_(A,"class","w-4 h-4"),_(A,"alt","Coin")},m(r,n){W(r,A,n)},p:tA,d(r){r&&G(A)}}}function u1(t){let A,e;return{c(){A=ze("svg"),e=ze("path"),_(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"width","20"),_(A,"height","20"),_(A,"viewBox","0 0 24 24"),_(A,"fill","none"),_(A,"stroke","currentColor"),_(A,"stroke-width","2"),_(A,"stroke-linecap","round"),_(A,"stroke-linejoin","round")},m(r,n){W(r,A,n),U(A,e)},d(r){r&&G(A)}}}function h1(t){let A,e;return{c(){A=ze("svg"),e=ze("path"),_(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"width","20"),_(A,"height","20"),_(A,"viewBox","0 0 24 24"),_(A,"fill","#ff6b6b"),_(A,"stroke","#ff6b6b"),_(A,"stroke-width","2"),_(A,"stroke-linecap","round"),_(A,"stroke-linejoin","round")},m(r,n){W(r,A,n),U(A,e)},d(r){r&&G(A)}}}function f1(t){let A;return{c(){A=D("span"),A.textContent="?",_(A,"class","font-bold text-primary")},m(e,r){W(e,A,r)},p:tA,d(e){e&&G(A)}}}function d1(t){let A,e=t[24].secretWord+"",r;return{c(){A=D("span"),r=sA(e),_(A,"class","font-bold text-primary")},m(n,s){W(n,A,s),U(A,r)},p(n,s){s[0]&2&&e!==(e=n[24].secretWord+"")&&IA(r,e)},d(n){n&&G(A)}}}function g1(t){let A,e,r=t[24].guessedBy+"",n,s;return{c(){A=D("span"),e=D("span"),n=sA(r),s=sA(`
									is thinking...`),_(e,"class","font-semibold"),_(A,"class","italic")},m(i,a){W(i,A,a),U(A,e),U(e,n),U(A,s)},p(i,a){a[0]&2&&r!==(r=i[24].guessedBy+"")&&IA(n,r)},d(i){i&&G(A)}}}function B1(t){let A,e=t[24].guessedBy+"",r,n,s,i,a=!t[24].guessed&&Id(),l=DA(t[24].guesses),c=[];for(let u=0;u<l.length;u+=1)c[u]=bd(Ed(t,l,u));return{c(){A=D("span"),r=sA(e),n=q(),a&&a.c(),s=sA(`
								guessed:
								`);for(let u=0;u<c.length;u+=1)c[u].c();i=tt(),_(A,"class","font-semibold")},m(u,f){W(u,A,f),U(A,r),W(u,n,f),a&&a.m(u,f),W(u,s,f);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(u,f);W(u,i,f)},p(u,f){if(f[0]&2&&e!==(e=u[24].guessedBy+"")&&IA(r,e),u[24].guessed?a&&(a.d(1),a=null):a||(a=Id(),a.c(),a.m(s.parentNode,s)),f[0]&2){l=DA(u[24].guesses);let g;for(g=0;g<l.length;g+=1){const B=Ed(u,l,g);c[g]?c[g].p(B,f):(c[g]=bd(B),c[g].c(),c[g].m(i.parentNode,i))}for(;g<c.length;g+=1)c[g].d(1);c.length=l.length}},d(u){u&&(G(A),G(n),G(s),G(i)),a&&a.d(u),ke(c,u)}}}function Id(t){let A;return{c(){A=sA("has")},m(e,r){W(e,A,r)},d(e){e&&G(A)}}}function bd(t){let A,e=t[30]+"",r,n=t[26]<t[24].guesses.length-1?", ":"",s;return{c(){A=D("span"),r=sA(e),s=sA(n),_(A,"class","italic")},m(i,a){W(i,A,a),U(A,r),U(A,s)},p(i,a){a[0]&2&&e!==(e=i[30]+"")&&IA(r,e),a[0]&2&&n!==(n=i[26]<i[24].guesses.length-1?", ":"")&&IA(s,n)},d(i){i&&G(A)}}}function Td(t){let A,e=t[24].hintPurchased?`${t[24].guessedBy} used a Hint`:"",r,n=t[24].superHintPurchased?"... AND a SuperHint!":"",s;return{c(){A=D("p"),r=sA(e),s=sA(n),_(A,"class","text-[0.8rem] text-secondary flex flex-row py-2 text-center align-middle items-center")},m(i,a){W(i,A,a),U(A,r),U(A,s)},p(i,a){a[0]&2&&e!==(e=i[24].hintPurchased?`${i[24].guessedBy} used a Hint`:"")&&IA(r,e),a[0]&2&&n!==(n=i[24].superHintPurchased?"... AND a SuperHint!":"")&&IA(s,n)},d(i){i&&G(A)}}}function Hd(t){let A,e,r,n,s,i,a,l,c,u;function f(...C){return t[16](t[24],...C)}function g(){return t[17](t[24])}let B=t[24].comments&&t[24].comments.length>0&&Sd(t);return{c(){A=D("div"),e=D("div"),r=D("input"),n=q(),s=D("button"),i=sA("Comment"),l=q(),B&&B.c(),_(r,"type","text"),_(r,"placeholder","Add a comment"),_(r,"class","input input-bordered bg-white input-sm text-black w-full"),_(s,"class","btn btn-secondary btn-sm"),s.disabled=a=t[3].trim()==="",_(e,"class","flex flex-row gap-2 items-center"),_(A,"class","flex flex-col gap-2 pt-4 pb-1 w-full px-2")},m(C,y){W(C,A,y),U(A,e),U(e,r),ft(r,t[3]),U(e,n),U(e,s),U(s,i),U(A,l),B&&B.m(A,null),c||(u=[fA(r,"input",t[15]),fA(r,"keydown",f),fA(s,"click",g)],c=!0)},p(C,y){t=C,y[0]&8&&r.value!==t[3]&&ft(r,t[3]),y[0]&8&&a!==(a=t[3].trim()==="")&&(s.disabled=a),t[24].comments&&t[24].comments.length>0?B?B.p(t,y):(B=Sd(t),B.c(),B.m(A,null)):B&&(B.d(1),B=null)},d(C){C&&G(A),B&&B.d(),c=!1,ve(u)}}}function Sd(t){let A,e=DA(t[24].comments),r=[];for(let n=0;n<e.length;n+=1)r[n]=Rd(_d(t,e,n));return{c(){A=D("div");for(let n=0;n<r.length;n+=1)r[n].c();_(A,"class","flex flex-col gap-1 mt-2 pb-2")},m(n,s){W(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&2){e=DA(n[24].comments);let i;for(i=0;i<e.length;i+=1){const a=_d(n,e,i);r[i]?r[i].p(a,s):(r[i]=Rd(a),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&G(A),ke(r,n)}}}function Rd(t){let A,e,r=t[27].createdBy+"",n,s,i,a=t[27].content+"",l,c;return{c(){A=D("p"),e=D("span"),n=sA(r),s=sA(":"),i=q(),l=sA(a),c=q(),_(e,"class","font-semibold"),_(A,"class","text-[0.8rem] text-left")},m(u,f){W(u,A,f),U(A,e),U(e,n),U(e,s),U(A,i),U(A,l),U(A,c)},p(u,f){f[0]&2&&r!==(r=u[27].createdBy+"")&&IA(n,r),f[0]&2&&a!==(a=u[27].content+"")&&IA(l,a)},d(u){u&&G(A)}}}function Dd(t){let A,e=t[24].data&&t[24].data.length>10&&Ud(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,n){r[24].data&&r[24].data.length>10?e?e.p(r,n):(e=Ud(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&G(A),e&&e.d(r)}}}function Ld(t){let A,e,r,n,s,i,a,l,c,u,f,g,B,C,y,F;return{c(){A=D("div"),e=D("div"),r=D("h3"),r.textContent="Share Drawing",n=q(),s=D("div"),i=D("img"),l=q(),c=D("div"),u=D("button"),u.textContent="Download",f=q(),g=D("button"),g.textContent="Share",B=q(),C=D("button"),C.textContent="Cancel",_(r,"class","text-xl font-bold text-primary mb-4 text-center"),Le(i.src,a=URL.createObjectURL(t[4]))||_(i,"src",a),_(i,"alt","Drawing screenshot"),_(i,"class","w-full h-auto"),_(s,"class","mb-4 border border-gray-200 rounded-lg overflow-hidden"),_(u,"class","btn btn-primary"),_(g,"class","btn btn-secondary"),_(c,"class","grid grid-cols-2 gap-3 mb-4"),_(C,"class","w-full btn btn-outline btn-sm"),_(e,"class","bg-white rounded-lg p-6 max-w-sm w-full mx-4"),_(A,"class","fixed inset-0 bg-black/70 flex items-center justify-center z-50")},m(S,R){W(S,A,R),U(A,e),U(e,r),U(e,n),U(e,s),U(s,i),U(e,l),U(e,c),U(c,u),U(c,f),U(c,g),U(e,B),U(e,C),y||(F=[fA(u,"click",t[10]),fA(g,"click",t[11]),fA(C,"click",t[12])],y=!0)},p(S,R){R[0]&16&&!Le(i.src,a=URL.createObjectURL(S[4]))&&_(i,"src",a)},d(S){S&&G(A),y=!1,ve(F)}}}function p1(t){let A,e,r,n,s;e=new _o({props:{navigate:t[0]}});function i(u,f){return u[2]?c1:l1}let a=i(t),l=a(t),c=t[5]&&t[4]&&Ld(t);return{c(){A=D("div"),le(e.$$.fragment),r=q(),l.c(),n=q(),c&&c.c(),_(A,"class","p-4")},m(u,f){W(u,A,f),ee(e,A,null),U(A,r),l.m(A,null),U(A,n),c&&c.m(A,null),s=!0},p(u,f){const g={};f[0]&1&&(g.navigate=u[0]),e.$set(g),a===(a=i(u))&&l?l.p(u,f):(l.d(1),l=a(u),l&&(l.c(),l.m(A,n))),u[5]&&u[4]?c?c.p(u,f):(c=Ld(u),c.c(),c.m(A,null)):c&&(c.d(1),c=null)},i(u){s||(AA(e.$$.fragment,u),s=!0)},o(u){iA(e.$$.fragment,u),s=!1},d(u){u&&G(A),te(e),l.d(),c&&c.d()}}}function ba(t){return new Promise((A,e)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>A(r),r.onerror=n=>e(n),r.src=t})}function w1(t,A,e,r,n,s){const i=A.split(" ");let a="",l=0;for(let c=0;c<i.length;c++){const u=a+i[c]+" ";t.measureText(u).width>n&&c>0?(t.fillText(a,e,r+l*s),a=i[c]+" ",l++):a=u}return t.fillText(a,e,r+l*s),l+1}function kd(t){return t&&typeof t.toDate=="function"?t.toDate().toLocaleDateString("en-US",{month:"long",day:"numeric"}):new Date(t).toLocaleDateString("en-US",{month:"long",day:"numeric"})}function m1(t,A,e){let r;YA(t,Ae,v=>e(21,r=v));let n=[],s=!0,i="",a=[];const l=KB();let c=!1,u=null,f=!1,g="",{navigate:B}=A;Bs(async()=>{console.log("Feed mounted");try{e(1,n=await lE()),console.log("Drawings loaded",n),C()}catch(v){console.error("Error loading drawings:",v)}finally{e(2,s=!1)}}),Mw(()=>{a.forEach(v=>v())});function C(){a.forEach(b=>b()),a=[];const v=new Set(n.map(b=>b.gameId).filter(Boolean));console.log("Setting up subscriptions for game IDs:",[...v]),v.forEach(b=>{if(!b)return;const p=Ht(Qs(l,"games"),b),O=z_(p,uA=>{if(uA.exists()){const dA=uA.data();console.log(`Game data updated for ${b}:`,dA),e(1,n=n.map(nA=>nA.gameId===b&&nA.index!==void 0?(console.log(`Updating drawing ${nA.index} for game ${b}`),{...dA.drawings[nA.index],gameId:b,index:nA.index,guessedBy:nA.guessedBy}):nA))}},uA=>{console.error(`Error in game subscription for ${b}:`,uA)});a.push(O)})}async function y(v,b){if(i.trim()==="")return;const p=r;if(p)try{const O=i.trim();tE(v,b,O,p.name),e(3,i="")}catch(O){console.error("Error adding comment:",O)}}async function F(v,b){const p=r;if(p)try{await oE(v,b,p.name)}catch(O){console.error("Error liking drawing:",O)}else alert("No user logged in")}function S(v){const b=r;return!b||!v.likes?!1:v.likes.includes(b.name)}async function R(v){var b;if(!c)try{c=!0;const p=n[v];if(!p||!p.data){c=!1;return}e(5,f=!1);const[O,uA,dA]=await Promise.all([ba(p.data),ba(ap),ba(Sr)]),nA=20,LA=4,KA="#a78bfa",V="#ffffff",T=120,Y="#000000",z="#6419e6",cA="#d926a9",oA="#000000",lA=25,j=document.createElement("canvas"),X=j.getContext("2d");if(!X){c=!1;return}const FA=Math.min(O.width,600),_A=O.height*(FA/O.width);j.width=FA+nA*2+LA*2,j.height=_A+nA*2+LA*2+150+lA,X.fillStyle=V,X.fillRect(0,0,j.width,j.height),X.strokeStyle=KA,X.lineWidth=LA,X.strokeRect(nA/2,nA/2,j.width-nA,j.height-nA-lA);const CA=nA+LA,wA=nA+LA+30;if(X.drawImage(O,CA,wA,FA,_A),p.coins)for(let ot=0;ot<p.coins;ot++)X.drawImage(dA,j.width-nA-LA-(ot+1)*32,nA+LA+10,28,28);X.fillStyle=oA,X.font="bold 24px Outfit, sans-serif";const QA=` ${((b=p.likes)==null?void 0:b.length)||0}`;X.fillText(QA,nA+LA+10,nA+LA+32);const gA=wA+_A+50;X.textAlign="center",X.font="bold 30px Outfit, sans-serif";const BA=p.guessed?p.secretWord:"?";X.fillStyle=z;let EA;p.createdAt&&typeof p.createdAt.toDate=="function"?EA=p.createdAt.toDate():EA=new Date(p.createdAt);const OA=` by ${p.artist.toLowerCase()} on ${EA.toLocaleDateString("en-US",{month:"long",day:"numeric"})}`,kA=X.measureText(BA).width,Ue=X.measureText(OA).width,fe=kA+Ue;let mt=30;fe>j.width-100&&(mt=Math.floor(mt*(j.width-100)/fe),X.font=`bold ${mt}px Outfit, sans-serif`),X.fillText(BA,j.width/2-Ue/2,gA),X.fillStyle=Y,X.font=`${mt}px Outfit, sans-serif`,X.fillText(OA,j.width/2+kA/2,gA),X.font="16px Outfit, sans-serif",X.fillStyle=Y;let ir="";p.guesses&&p.guesses.length>0?ir=`${p.guessedBy} ${p.guessed?"":"has "}guessed: ${p.guesses.join(", ")}`:ir=`${p.guessedBy} is thinking...`;const or=j.width-80;if(w1(X,ir,j.width/2,gA+30,or,25),p.hintPurchased){X.fillStyle=cA,X.font="18px Outfit, sans-serif";const MA=`${p.guessedBy} used a Hint${p.superHintPurchased?"... AND a SuperHint!":""}`;X.fillText(MA,j.width/2,gA+50)}const rt=uA.height/uA.width*T;X.fillStyle="white",X.fillRect(j.width-T-15,j.height-rt-15,T,rt),X.drawImage(uA,j.width-T-15,j.height-rt-15,T,rt),X.font="16px Outfit, sans-serif",X.fillStyle="rgba(0,0,0,0.6)",X.textAlign="center",X.fillText("drawit.jsph.cx",j.width/2,j.height-15);const Rr=new Date().toISOString().replace(/[:.]/g,"-");g=`drawit-${p.artist.toLowerCase()}-${Rr}.png`,j.toBlob(MA=>{if(!MA){c=!1;return}e(4,u=MA),e(5,f=!0),c=!1},"image/png",1)}catch(p){console.error("Screenshot capture failed:",p),c=!1}}function H(){if(!u)return;const v=document.createElement("a");v.href=URL.createObjectURL(u),v.download=g,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(v.href),e(5,f=!1)}async function x(){if(u){try{const b=[new File([u],g,{type:"image/png"})];if(navigator.canShare&&navigator.canShare({files:b}))console.log("Web Share Level 2 is supported!"),await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!",files:b}),console.log("File shared successfully");else if(console.log("File sharing not supported, falling back to basic share"),navigator.share){await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!"});const p=URL.createObjectURL(u);window.open(p,"_blank"),setTimeout(()=>URL.revokeObjectURL(p),5e3)}else{const p=URL.createObjectURL(u);window.open(p,"_blank"),setTimeout(()=>URL.revokeObjectURL(p),5e3)}}catch(v){console.warn("Share failed:",v);const b=URL.createObjectURL(u);window.open(b,"_blank"),setTimeout(()=>URL.revokeObjectURL(b),5e3)}e(5,f=!1)}}function P(){e(5,f=!1),e(4,u=null)}const L=v=>{console.log("Drawing object:",v),console.log("gameId:",v.gameId,"index:",v.index),v.gameId&&v.index!==void 0?F(v.gameId,v.index):alert("Error: gameId or index is missing")},E=v=>R(v);function m(){i=this.value,e(3,i)}const Q=(v,b)=>{b.key==="Enter"&&y(v.gameId??"",v.index??0)},I=v=>y(v.gameId??"",v.index??0);return t.$$set=v=>{"navigate"in v&&e(0,B=v.navigate)},[B,n,s,i,u,f,y,F,S,R,H,x,P,L,E,m,Q,I]}class C1 extends Xe{constructor(A){super(),je(this,A,m1,p1,Ve,{navigate:0},null,[-1,-1])}}function Vd(t){var P;let A,e,r,n,s,i,a,l,c=(((P=t[2])==null?void 0:P.coins)||0)+"",u,f,g,B,C,y,F,S;function R(L,E){return L[3]?Q1:y1}let H=R(t),x=H(t);return{c(){A=D("nav"),e=D("div"),r=D("button"),n=D("div"),s=D("img"),a=q(),l=D("span"),u=sA(c),f=q(),g=D("span"),g.textContent="coins",B=q(),x.c(),C=q(),y=D("div"),Le(s.src,i=tl)||_(s,"src",i),_(s,"class","w-5 h-5"),_(s,"alt","coins"),_(l,"class","text-sm font-medium"),_(n,"class","flex items-center gap-1"),_(g,"class","text-xs text-gray-500"),_(r,"class","flex flex-col items-center"),_(e,"class","flex justify-around items-center max-w-md mx-auto"),_(A,"class","fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2"),_(y,"class","h-20")},m(L,E){W(L,A,E),U(A,e),U(e,r),U(r,n),U(n,s),U(n,a),U(n,l),U(l,u),U(r,f),U(r,g),U(e,B),x.m(e,null),W(L,C,E),W(L,y,E),F||(S=fA(r,"click",t[6]),F=!0)},p(L,E){var m;E&4&&c!==(c=(((m=L[2])==null?void 0:m.coins)||0)+"")&&IA(u,c),H===(H=R(L))&&x?x.p(L,E):(x.d(1),x=H(L),x&&(x.c(),x.m(e,null)))},d(L){L&&(G(A),G(C),G(y)),x.d(),F=!1,S()}}}function y1(t){let A,e,r,n,s,i,a,l,c,u,f,g,B,C,y,F,S,R,H,x,P,L,E,m,Q,I,v,b;return{c(){A=D("button"),e=ze("svg"),r=ze("path"),s=q(),i=D("span"),a=sA("Home"),c=q(),u=D("button"),f=ze("svg"),g=ze("path"),C=q(),y=D("span"),F=sA("New"),R=q(),H=D("button"),x=ze("svg"),P=ze("path"),E=q(),m=D("span"),Q=sA("Feed"),_(r,"stroke-linecap","round"),_(r,"stroke-linejoin","round"),_(r,"stroke-width","2"),_(r,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class",n="h-6 w-6 "+(t[0]==="home"?"text-primary":"text-gray-400")),_(e,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"stroke","currentColor"),_(i,"class",l="text-xs "+(t[0]==="home"?"text-primary":"text-gray-500")),_(A,"class","flex flex-col items-center"),_(g,"stroke-linecap","round"),_(g,"stroke-linejoin","round"),_(g,"stroke-width","2"),_(g,"d","M12 4v16m8-8H4"),_(f,"xmlns","http://www.w3.org/2000/svg"),_(f,"class",B="h-6 w-6 "+(t[0]==="new"?"text-primary":"text-gray-400")),_(f,"fill","none"),_(f,"viewBox","0 0 24 24"),_(f,"stroke","currentColor"),_(y,"class",S="text-xs "+(t[0]==="new"?"text-primary":"text-gray-500")),_(u,"class","flex flex-col items-center"),_(P,"stroke-linecap","round"),_(P,"stroke-linejoin","round"),_(P,"stroke-width","2"),_(P,"d","M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"),_(x,"xmlns","http://www.w3.org/2000/svg"),_(x,"class",L="h-6 w-6 "+(t[0]==="feed"?"text-primary":"text-gray-400")),_(x,"fill","none"),_(x,"viewBox","0 0 24 24"),_(x,"stroke","currentColor"),_(m,"class",I="text-xs "+(t[0]==="feed"?"text-primary":"text-gray-500")),_(H,"class","flex flex-col items-center")},m(p,O){W(p,A,O),U(A,e),U(e,r),U(A,s),U(A,i),U(i,a),W(p,c,O),W(p,u,O),U(u,f),U(f,g),U(u,C),U(u,y),U(y,F),W(p,R,O),W(p,H,O),U(H,x),U(x,P),U(H,E),U(H,m),U(m,Q),v||(b=[fA(A,"click",t[8]),fA(u,"click",t[9]),fA(H,"click",t[10])],v=!0)},p(p,O){O&1&&n!==(n="h-6 w-6 "+(p[0]==="home"?"text-primary":"text-gray-400"))&&_(e,"class",n),O&1&&l!==(l="text-xs "+(p[0]==="home"?"text-primary":"text-gray-500"))&&_(i,"class",l),O&1&&B!==(B="h-6 w-6 "+(p[0]==="new"?"text-primary":"text-gray-400"))&&_(f,"class",B),O&1&&S!==(S="text-xs "+(p[0]==="new"?"text-primary":"text-gray-500"))&&_(y,"class",S),O&1&&L!==(L="h-6 w-6 "+(p[0]==="feed"?"text-primary":"text-gray-400"))&&_(x,"class",L),O&1&&I!==(I="text-xs "+(p[0]==="feed"?"text-primary":"text-gray-500"))&&_(m,"class",I)},d(p){p&&(G(A),G(c),G(u),G(R),G(H)),v=!1,ve(b)}}}function Q1(t){let A,e,r;return{c(){A=D("button"),A.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> <span class="text-xs text-primary">Back</span>',_(A,"class","flex flex-col items-center")},m(n,s){W(n,A,s),e||(r=fA(A,"click",t[7]),e=!0)},p:tA,d(n){n&&G(A),e=!1,r()}}}function _1(t){let A,e=!t[1]&&Vd(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,[n]){r[1]?e&&(e.d(1),e=null):e?e.p(r,n):(e=Vd(r),e.c(),e.m(A.parentNode,A))},i:tA,o:tA,d(r){r&&G(A),e&&e.d(r)}}}function E1(t,A,e){let r,n,s;YA(t,Ci,y=>e(1,r=y)),YA(t,Ae,y=>e(2,n=y)),YA(t,Se,y=>e(3,s=y));let{navigate:i}=A,a="home";function l(){const y=new URLSearchParams(window.location.search);e(0,a=y.get("page")||"home")}typeof window<"u"&&(window.addEventListener("popstate",l),l());const c=y=>{e(0,a=y),i(y)},u=()=>c("store"),f=()=>{Oe(Se,s=null,s),c("home")},g=()=>c("home"),B=()=>c("new"),C=()=>c("feed");return t.$$set=y=>{"navigate"in y&&e(5,i=y.navigate)},[a,r,n,s,c,i,u,f,g,B,C]}class v1 extends Xe{constructor(A){super(),je(this,A,E1,_1,Ve,{navigate:5})}}function xd(t){let A,e,r,n,s,i,a,l,c,u,f,g;return{c(){A=D("div"),e=D("div"),r=D("h2"),r.textContent="Dev Menu",n=q(),s=D("div"),i=D("button"),i.textContent="Delete All Users",a=q(),l=D("button"),c=sA("Add 5 Points"),_(r,"class","text-lg font-bold mb-4"),_(i,"class","btn btn-error"),_(l,"class","btn btn-primary"),l.disabled=u=!t[1],_(s,"class","flex flex-col gap-2"),_(e,"class","bg-white rounded-lg shadow-lg p-4 border border-gray-200"),_(A,"class","fixed top-0 right-0 p-4 z-50")},m(B,C){W(B,A,C),U(A,e),U(e,r),U(e,n),U(e,s),U(s,i),U(s,a),U(s,l),U(l,c),f||(g=[fA(i,"click",t[2]),fA(l,"click",t[3])],f=!0)},p(B,C){C&2&&u!==(u=!B[1])&&(l.disabled=u)},d(B){B&&G(A),f=!1,ve(g)}}}function U1(t){let A,e=t[0]&&xd(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,[n]){r[0]?e?e.p(r,n):(e=xd(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},i:tA,o:tA,d(r){r&&G(A),e&&e.d(r)}}}function F1(t,A,e){let r;YA(t,Ae,l=>e(1,r=l));let n=!1;async function s(l){l.key==="\\"&&e(0,n=!n)}async function i(){if(confirm("Are you sure you want to delete ALL users? This cannot be undone!"))try{const l=await Bt(Tt),c=Z_(vs);l.docs.forEach(u=>{c.delete(u.ref)}),await c.commit(),localStorage.removeItem("drawIt-user-v2"),localStorage.removeItem("drawIt-games-v2"),localStorage.removeItem("drawIt-users-v2"),Ae.set(null),alert("All users deleted successfully!"),window.location.reload()}catch(l){console.error("Error deleting users:",l),alert("Error deleting users. Check console for details.")}}async function a(){if(r)try{await Cr(r.name,5)}catch(l){console.error("Error adding points:",l),alert("Error adding points. Check console for details.")}}return Bs(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[n,r,i,a]}class I1 extends Xe{constructor(A){super(),je(this,A,F1,U1,Ve,{})}}function b1(t){var uA;let A,e,r,n,s,i,a,l,c,u=(((uA=t[2])==null?void 0:uA.coins)||0)+"",f,g,B,C,y,F,S,R,H,x,P,L,E,m,Q,I,v,b,p,O;return e=new _o({props:{navigate:t[0]}}),{c(){A=D("div"),le(e.$$.fragment),r=q(),n=D("div"),s=D("div"),i=D("img"),l=q(),c=D("span"),f=sA(u),g=q(),B=D("p"),B.textContent="Your current balance",C=q(),y=D("div"),F=D("div"),S=D("div"),S.innerHTML=`<img src="${tl}" class="w-8 h-8" alt="coins"/> <span class="text-2xl font-bold">50</span>`,R=q(),H=D("input"),x=q(),P=D("button"),L=sA("Submit"),Q=q(),I=D("div"),v=D("button"),v.textContent="Logout",Le(i.src,a=tl)||_(i,"src",a),_(i,"class","w-8 h-8"),_(i,"alt","coins"),_(c,"class","text-2xl font-bold"),_(s,"class","flex items-center gap-2"),_(B,"class","text-gray-600"),_(S,"class","flex flex-row items-center justify-center gap-2"),_(H,"type","text"),_(H,"placeholder","Enter custom word"),_(H,"class","input input-bordered w-full max-w-xs text-black bg-white"),_(H,"maxlength","15"),_(H,"minlength","3"),_(P,"class",E="btn btn-primary "+(t[3]?"":"opacity-50")),P.disabled=m=!t[3],_(F,"class","flex flex-col items-center justify-center gap-4"),_(y,"class","flex flex-col items-center justify-center gap-4 pt-16 drop-shadow-sm"),_(v,"class","btn btn-error"),_(I,"class","mt-8"),_(n,"class","flex flex-col items-center justify-center gap-4 mt-8"),_(A,"class","p-4")},m(dA,nA){W(dA,A,nA),ee(e,A,null),U(A,r),U(A,n),U(n,s),U(s,i),U(s,l),U(s,c),U(c,f),U(n,g),U(n,B),U(n,C),U(n,y),U(y,F),U(F,S),U(F,R),U(F,H),ft(H,t[1]),U(F,x),U(F,P),U(P,L),U(n,Q),U(n,I),U(I,v),b=!0,p||(O=[fA(H,"input",t[8]),fA(H,"input",t[4]),fA(H,"keydown",t[9]),fA(P,"click",t[5]),fA(v,"click",t[6])],p=!0)},p(dA,[nA]){var KA;const LA={};nA&1&&(LA.navigate=dA[0]),e.$set(LA),(!b||nA&4)&&u!==(u=(((KA=dA[2])==null?void 0:KA.coins)||0)+"")&&IA(f,u),nA&2&&H.value!==dA[1]&&ft(H,dA[1]),(!b||nA&8&&E!==(E="btn btn-primary "+(dA[3]?"":"opacity-50")))&&_(P,"class",E),(!b||nA&8&&m!==(m=!dA[3]))&&(P.disabled=m)},i(dA){b||(AA(e.$$.fragment,dA),b=!0)},o(dA){iA(e.$$.fragment,dA),b=!1},d(dA){dA&&G(A),te(e),p=!1,ve(O)}}}function Md(t){return t.replace(/[^a-zA-Z0-9 ]/g,"")}function T1(t,A,e){let r,n,s;YA(t,Ae,B=>e(7,s=B));let{navigate:i}=A,a="";function l(B){const C=B.target;e(1,a=Md(C.value))}async function c(){if(!n||!r)return;let B=Md(a);B=B.trim(),await Cr(r.name,-50),await nE(B,r.name),ip("Custom word added!"),e(1,a="")}function u(){Ae.set(null),un.set([]),Se.set(null),Re.set({}),Jn.set(!1),localStorage.clear(),window.location.reload()}function f(){a=this.value,e(1,a)}const g=B=>{B.key==="Enter"&&c()};return t.$$set=B=>{"navigate"in B&&e(0,i=B.navigate)},t.$$.update=()=>{t.$$.dirty&128&&e(2,r=s),t.$$.dirty&6&&e(3,n=r&&r.coins!==void 0&&r.coins>=50&&a.length>=3&&a.length<=15)},[i,a,r,n,l,c,u,s,f,g]}class H1 extends Xe{constructor(A){super(),je(this,A,T1,b1,Ve,{navigate:0})}}function S1(t){let A,e,r,n,s,i,a,l,c;const u=[M1,x1,V1,k1,L1],f=[];function g(B,C){return B[2]?0:B[0]==="home"?1:B[0]==="new"?2:B[0]==="feed"?3:B[0]==="store"?4:-1}return~(r=g(t))&&(n=f[r]=u[r](t)),i=new v1({props:{navigate:t[4]}}),l=new I1({}),{c(){A=D("main"),e=D("div"),n&&n.c(),s=q(),le(i.$$.fragment),a=q(),le(l.$$.fragment),_(e,"class","w-full max-w-md mx-auto px-4"),_(A,"class","w-full min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-background-gradient-start to-background-gradient-end text-black pb-20 overflow-y-auto")},m(B,C){W(B,A,C),U(A,e),~r&&f[r].m(e,null),U(A,s),ee(i,A,null),U(A,a),ee(l,A,null),c=!0},p(B,C){let y=r;r=g(B),r===y?~r&&f[r].p(B,C):(n&&(oe(),iA(f[y],1,1,()=>{f[y]=null}),ae()),~r?(n=f[r],n?n.p(B,C):(n=f[r]=u[r](B),n.c()),AA(n,1),n.m(e,null)):n=null)},i(B){c||(AA(n),AA(i.$$.fragment,B),AA(l.$$.fragment,B),c=!0)},o(B){iA(n),iA(i.$$.fragment,B),iA(l.$$.fragment,B),c=!1},d(B){B&&G(A),~r&&f[r].d(),te(i),te(l)}}}function R1(t){let A,e;return A=new cp({props:{navigate:t[4]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p:tA,i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function D1(t){let A;return{c(){A=D("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',_(A,"class","w-full min-h-screen flex items-center justify-center")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function L1(t){let A,e;return A=new H1({props:{navigate:t[4]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p:tA,i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function k1(t){let A,e;return A=new C1({props:{navigate:t[4]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p:tA,i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function V1(t){let A,e;return A=new av({props:{navigate:t[4]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p:tA,i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function x1(t){let A,e;return A=new cp({props:{navigate:t[4]}}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p:tA,i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function M1(t){let A,e;return A=new ev({}),{c(){le(A.$$.fragment)},m(r,n){ee(A,r,n),e=!0},p:tA,i(r){e||(AA(A.$$.fragment,r),e=!0)},o(r){iA(A.$$.fragment,r),e=!1},d(r){te(A,r)}}}function P1(t){let A,e,r,n;const s=[D1,R1,S1],i=[];function a(l,c){return l[1]?0:l[3]?2:1}return A=a(t),e=i[A]=s[A](t),{c(){e.c(),r=tt()},m(l,c){i[A].m(l,c),W(l,r,c),n=!0},p(l,[c]){let u=A;A=a(l),A===u?i[A].p(l,c):(oe(),iA(i[u],1,1,()=>{i[u]=null}),ae(),e=i[A],e?e.p(l,c):(e=i[A]=s[A](l),e.c()),AA(e,1),e.m(r.parentNode,r))},i(l){n||(AA(e),n=!0)},o(l){iA(e),n=!1},d(l){l&&G(r),i[A].d(l)}}}function K1(t,A,e){let r,n;YA(t,Se,l=>e(2,r=l)),YA(t,Ae,l=>e(3,n=l));let s="home",i=!0;Bs(async()=>{await aE();const l=new URLSearchParams(window.location.search);e(0,s=l.get("page")||"home");const c=l.get("currentGame");if(c){const u=await Oh(c);u&&Oe(Se,r=u,r)}window.addEventListener("popstate",async()=>{const u=new URLSearchParams(window.location.search);e(0,s=u.get("page")||"home");const f=u.get("currentGame");if(f){const g=await Oh(f);g&&Oe(Se,r=g,r)}else Oe(Se,r=null,r)}),e(1,i=!1)});function a(l){const c=new URLSearchParams(window.location.search),u=r==null?void 0:r.id;u?c.set("currentGame",u):c.delete("currentGame"),l!=="home"?c.set("page",l):c.delete("page");const f=c.toString(),g=f?`?${f}`:"/";window.history.pushState({},"",g),e(0,s=l)}return[s,i,r,n,a]}class O1 extends Xe{constructor(A){super(),je(this,A,K1,P1,Ve,{})}}new O1({target:document.getElementById("app")});
