var bw=Object.defineProperty;var Tw=(t,A,e)=>A in t?bw(t,A,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[A]=e;var Yo=(t,A,e)=>Tw(t,typeof A!="symbol"?A+"":A,e);(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();function tA(){}function Hw(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function xd(t){return t()}function wu(){return Object.create(null)}function Ee(t){t.forEach(xd)}function Md(t){return typeof t=="function"}function De(t,A){return t!=t?A==A:t!==A||t&&typeof t=="object"||typeof t=="function"}let Ks;function Se(t,A){return t===A?!0:(Ks||(Ks=document.createElement("a")),Ks.href=A,t===Ks.href)}function Sw(t){return Object.keys(t).length===0}function Pd(t,...A){if(t==null){for(const r of A)r(void 0);return tA}const e=t.subscribe(...A);return e.unsubscribe?()=>e.unsubscribe():e}function us(t){let A;return Pd(t,e=>A=e)(),A}function oe(t,A,e){t.$$.on_destroy.push(Pd(A,e))}function Pe(t,A,e){return t.set(e),A}function I(t,A){t.appendChild(A)}function W(t,A,e){t.insertBefore(A,e||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function Re(t,A){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(A)}function R(t){return document.createElement(t)}function Ye(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function lA(t){return document.createTextNode(t)}function Y(){return lA(" ")}function tt(){return lA("")}function BA(t,A,e,r){return t.addEventListener(A,e,r),()=>t.removeEventListener(A,e,r)}function mu(t){return function(A){return A.stopPropagation(),t.call(this,A)}}function _(t,A,e){e==null?t.removeAttribute(A):t.getAttribute(A)!==e&&t.setAttribute(A,e)}function Rw(t){return Array.from(t.childNodes)}function vA(t,A){A=""+A,t.data!==A&&(t.data=A)}function ft(t,A){t.value=A??""}function ba(t,A,e,r){e==null?t.style.removeProperty(A):t.style.setProperty(A,e,"")}function Mt(t,A,e){t.classList.toggle(A,!!e)}let $n;function _t(t){$n=t}function wl(){if(!$n)throw new Error("Function called outside component initialization");return $n}function hs(t){wl().$$.on_mount.push(t)}function Dw(t){wl().$$.on_destroy.push(t)}const Gr=[],As=[];let zr=[];const Cu=[],Lw=Promise.resolve();let Ta=!1;function kw(){Ta||(Ta=!0,Lw.then(ml))}function Ha(t){zr.push(t)}const zo=new Set;let kr=0;function ml(){if(kr!==0)return;const t=$n;do{try{for(;kr<Gr.length;){const A=Gr[kr];kr++,_t(A),Vw(A.$$)}}catch(A){throw Gr.length=0,kr=0,A}for(_t(null),Gr.length=0,kr=0;As.length;)As.pop()();for(let A=0;A<zr.length;A+=1){const e=zr[A];zo.has(e)||(zo.add(e),e())}zr.length=0}while(Gr.length);for(;Cu.length;)Cu.pop()();Ta=!1,zo.clear(),_t(t)}function Vw(t){if(t.fragment!==null){t.update(),Ee(t.before_update);const A=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,A),t.after_update.forEach(Ha)}}function xw(t){const A=[],e=[];zr.forEach(r=>t.indexOf(r)===-1?A.push(r):e.push(r)),e.forEach(r=>r()),zr=A}const Bi=new Set;let gr;function ee(){gr={r:0,c:[],p:gr}}function te(){gr.r||Ee(gr.c),gr=gr.p}function eA(t,A){t&&t.i&&(Bi.delete(t),t.i(A))}function aA(t,A,e,r){if(t&&t.o){if(Bi.has(t))return;Bi.add(t),gr.c.push(()=>{Bi.delete(t),r&&(e&&t.d(1),r())}),t.o(A)}else r&&r()}function Qu(t,A){const e=A.token={};function r(n,s,i,o){if(A.token!==e)return;A.resolved=o;let l=A.ctx;i!==void 0&&(l=l.slice(),l[i]=o);const c=n&&(A.current=n)(l);let u=!1;A.block&&(A.blocks?A.blocks.forEach((f,g)=>{g!==s&&f&&(ee(),aA(f,1,1,()=>{A.blocks[g]===f&&(A.blocks[g]=null)}),te())}):A.block.d(1),c.c(),eA(c,1),c.m(A.mount(),A.anchor),u=!0),A.block=c,A.blocks&&(A.blocks[s]=c),u&&ml()}if(Hw(t)){const n=wl();if(t.then(s=>{_t(n),r(A.then,1,A.value,s),_t(null)},s=>{if(_t(n),r(A.catch,2,A.error,s),_t(null),!A.hasCatch)throw s}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,t),!0;A.resolved=t}}function Mw(t,A,e){const r=A.slice(),{resolved:n}=t;t.current===t.then&&(r[t.value]=n),t.current===t.catch&&(r[t.error]=n),t.block.p(r,e)}function RA(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function le(t){t&&t.c()}function re(t,A,e){const{fragment:r,after_update:n}=t.$$;r&&r.m(A,e),Ha(()=>{const s=t.$$.on_mount.map(xd).filter(Md);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ee(s),t.$$.on_mount=[]}),n.forEach(Ha)}function ne(t,A){const e=t.$$;e.fragment!==null&&(xw(e.after_update),Ee(e.on_destroy),e.fragment&&e.fragment.d(A),e.on_destroy=e.fragment=null,e.ctx=[])}function Pw(t,A){t.$$.dirty[0]===-1&&(Gr.push(t),kw(),t.$$.dirty.fill(0)),t.$$.dirty[A/31|0]|=1<<A%31}function je(t,A,e,r,n,s,i=null,o=[-1]){const l=$n;_t(t);const c=t.$$={fragment:null,ctx:[],props:s,update:tA,not_equal:n,bound:wu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(l?l.$$.context:[])),callbacks:wu(),dirty:o,skip_bound:!1,root:A.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=e?e(t,A.props||{},(f,g,...B)=>{const m=B.length?B[0]:g;return c.ctx&&n(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),u&&Pw(t,f)),g}):[],c.update(),u=!0,Ee(c.before_update),c.fragment=r?r(c.ctx):!1,A.target){if(A.hydrate){const f=Rw(A.target);c.fragment&&c.fragment.l(f),f.forEach(G)}else c.fragment&&c.fragment.c();A.intro&&eA(t.$$.fragment),re(t,A.target,A.anchor),ml()}_t(l)}class Xe{constructor(){Yo(this,"$$");Yo(this,"$$set")}$destroy(){ne(this,1),this.$destroy=tA}$on(A,e){if(!Md(e))return tA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(e),()=>{const n=r.indexOf(e);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!Sw(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const Kw="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Kw);const Vr=[];function ln(t,A=tA){let e;const r=new Set;function n(o){if(De(t,o)&&(t=o,e)){const l=!Vr.length;for(const c of r)c[1](),Vr.push(c,t);if(l){for(let c=0;c<Vr.length;c+=2)Vr[c][0](Vr[c+1]);Vr.length=0}}}function s(o){n(o(t))}function i(o,l=tA){const c=[o,l];return r.add(c),r.size===1&&(e=A(n,s)||tA),o(t),()=>{r.delete(c),r.size===0&&e&&(e(),e=null)}}return{set:n,update:s,subscribe:i}}const ae=ln(null),fs=ln([]),Ke=ln(null),Ne=ln({}),pi=ln(!1),wi=ln(!1);try{const t=localStorage.getItem("drawIt-user-v2");t&&ae.set(JSON.parse(t));const A=localStorage.getItem("drawIt-games-v2");A&&fs.set(JSON.parse(A));const e=localStorage.getItem("drawIt-users-v2");e&&Ne.set(JSON.parse(e))}catch(t){console.error("Error loading from localStorage:",t)}ae.subscribe(t=>{t?localStorage.setItem("drawIt-user-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-user-v2")});fs.subscribe(t=>{t?localStorage.setItem("drawIt-games-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-games-v2")});Ne.subscribe(t=>{Object.keys(t).length>0?localStorage.setItem("drawIt-users-v2",JSON.stringify(t)):localStorage.removeItem("drawIt-users-v2")});const Ow=()=>{};var yu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=function(t){const A=[];let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?A[e++]=n:n<2048?(A[e++]=n>>6|192,A[e++]=n&63|128):(n&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++r)&1023),A[e++]=n>>18|240,A[e++]=n>>12&63|128,A[e++]=n>>6&63|128,A[e++]=n&63|128):(A[e++]=n>>12|224,A[e++]=n>>6&63|128,A[e++]=n&63|128)}return A},Nw=function(t){const A=[];let e=0,r=0;for(;e<t.length;){const n=t[e++];if(n<128)A[r++]=String.fromCharCode(n);else if(n>191&&n<224){const s=t[e++];A[r++]=String.fromCharCode((n&31)<<6|s&63)}else if(n>239&&n<365){const s=t[e++],i=t[e++],o=t[e++],l=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;A[r++]=String.fromCharCode(55296+(l>>10)),A[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[e++],i=t[e++];A[r++]=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63)}}return A.join("")},Od={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,A){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<t.length;n+=3){const s=t[n],i=n+1<t.length,o=i?t[n+1]:0,l=n+2<t.length,c=l?t[n+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let g=(o&15)<<2|c>>6,B=c&63;l||(B=64,i||(g=64)),r.push(e[u],e[f],e[g],e[B])}return r.join("")},encodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(t):this.encodeByteArray(Kd(t),A)},decodeString(t,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(t):Nw(this.decodeStringToByteArray(t,A))},decodeStringToByteArray(t,A){this.init_();const e=A?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<t.length;){const s=e[t.charAt(n++)],o=n<t.length?e[t.charAt(n)]:0;++n;const c=n<t.length?e[t.charAt(n)]:64;++n;const f=n<t.length?e[t.charAt(n)]:64;if(++n,s==null||o==null||c==null||f==null)throw new Gw;const g=s<<2|o>>4;if(r.push(g),c!==64){const B=o<<4&240|c>>2;if(r.push(B),f!==64){const m=c<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(t){const A=Kd(t);return Od.encodeByteArray(A,!0)},Ii=function(t){return Ww(t).replace(/\./g,"")},jw=function(t){try{return Od.decodeString(t,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=()=>Xw().__FIREBASE_DEFAULTS__,qw=()=>{if(typeof process>"u"||typeof yu>"u")return;const t=yu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const A=t&&jw(t[1]);return A&&JSON.parse(A)},Cl=()=>{try{return Ow()||Jw()||qw()||Yw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zw=t=>{var A,e;return(e=(A=Cl())===null||A===void 0?void 0:A.emulatorHosts)===null||e===void 0?void 0:e[t]},Zw=t=>{const A=zw(t);if(!A)return;const e=A.lastIndexOf(":");if(e<=0||e+1===A.length)throw new Error(`Invalid host ${A} with no separate hostname and port!`);const r=parseInt(A.substring(e+1),10);return A[0]==="["?[A.substring(1,e-1),r]:[A.substring(0,e),r]},Nd=()=>{var t;return(t=Cl())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}wrapCallback(A){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof A=="function"&&(this.promise.catch(()=>{}),A.length===1?A(e):A(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,A){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=A||"demo-project",n=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ii(JSON.stringify(e)),Ii(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tm(){var t;const A=(t=Cl())===null||t===void 0?void 0:t.forceEnvironment;if(A==="node")return!0;if(A==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rm(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nm(){return!tm()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gd(){try{return typeof indexedDB=="object"}catch{return!1}}function Wd(){return new Promise((t,A)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},n.onupgradeneeded=()=>{e=!1},n.onerror=()=>{var s;A(((s=n.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){A(e)}})}function sm(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="FirebaseError";class nr extends Error{constructor(A,e,r){super(e),this.code=A,this.customData=r,this.name=im,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(A,e,r){this.service=A,this.serviceName=e,this.errors=r}create(A,...e){const r=e[0]||{},n=`${this.service}/${A}`,s=this.errors[A],i=s?om(s,r):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new nr(n,o,r)}}function om(t,A){return t.replace(am,(e,r)=>{const n=A[r];return n!=null?String(n):`<${r}?>`})}const am=/\{\$([^}]+)}/g;function bi(t,A){if(t===A)return!0;const e=Object.keys(t),r=Object.keys(A);for(const n of e){if(!r.includes(n))return!1;const s=t[n],i=A[n];if(_u(s)&&_u(i)){if(!bi(s,i))return!1}else if(s!==i)return!1}for(const n of r)if(!e.includes(n))return!1;return!0}function _u(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=1e3,cm=2,um=4*60*60*1e3,hm=.5;function Eu(t,A=lm,e=cm){const r=A*Math.pow(e,t),n=Math.round(hm*r*(Math.random()-.5)*2);return Math.min(um,r+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Ut{constructor(A,e,r){this.name=A,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(A,e){this.name=A,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const e=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(e)){const r=new $w;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&r.resolve(n)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(A){var e;const r=this.normalizeInstanceIdentifier(A==null?void 0:A.identifier),n=(e=A==null?void 0:A.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,!!this.shouldAutoInitialize()){if(gm(A))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:n});r.resolve(s)}catch{}}}}clearInstance(A=fr){this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}async delete(){const A=Array.from(this.instances.values());await Promise.all([...A.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...A.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(A=fr){return this.instances.has(A)}getOptions(A=fr){return this.instancesOptions.get(A)||{}}initialize(A={}){const{options:e={}}=A,r=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&i.resolve(n)}return n}onInit(A,e){var r;const n=this.normalizeInstanceIdentifier(e),s=(r=this.onInitCallbacks.get(n))!==null&&r!==void 0?r:new Set;s.add(A),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&A(i,n),()=>{s.delete(A)}}invokeOnInitCallbacks(A,e){const r=this.onInitCallbacks.get(e);if(r)for(const n of r)try{n(A,e)}catch{}}getOrInitializeService({instanceIdentifier:A,options:e={}}){let r=this.instances.get(A);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dm(A),options:e}),this.instances.set(A,r),this.instancesOptions.set(A,e),this.invokeOnInitCallbacks(r,A),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,A,r)}catch{}return r||null}normalizeInstanceIdentifier(A=fr){return this.component?this.component.multipleInstances?A:fr:A}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dm(t){return t===fr?void 0:t}function gm(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(A){this.name=A,this.providers=new Map}addComponent(A){const e=this.getProvider(A.name);if(e.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);e.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.addComponent(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const e=new fm(A,this);return this.providers.set(A,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FA;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(FA||(FA={}));const pm={debug:FA.DEBUG,verbose:FA.VERBOSE,info:FA.INFO,warn:FA.WARN,error:FA.ERROR,silent:FA.SILENT},wm=FA.INFO,mm={[FA.DEBUG]:"log",[FA.VERBOSE]:"log",[FA.INFO]:"info",[FA.WARN]:"warn",[FA.ERROR]:"error"},Cm=(t,A,...e)=>{if(A<t.logLevel)return;const r=new Date().toISOString(),n=mm[A];if(n)console[n](`[${r}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`)};class Ql{constructor(A){this.name=A,this._logLevel=wm,this._logHandler=Cm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in FA))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel=typeof A=="string"?pm[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if(typeof A!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(...A){this._userLogHandler&&this._userLogHandler(this,FA.DEBUG,...A),this._logHandler(this,FA.DEBUG,...A)}log(...A){this._userLogHandler&&this._userLogHandler(this,FA.VERBOSE,...A),this._logHandler(this,FA.VERBOSE,...A)}info(...A){this._userLogHandler&&this._userLogHandler(this,FA.INFO,...A),this._logHandler(this,FA.INFO,...A)}warn(...A){this._userLogHandler&&this._userLogHandler(this,FA.WARN,...A),this._logHandler(this,FA.WARN,...A)}error(...A){this._userLogHandler&&this._userLogHandler(this,FA.ERROR,...A),this._logHandler(this,FA.ERROR,...A)}}const Qm=(t,A)=>A.some(e=>t instanceof e);let Uu,Fu;function ym(){return Uu||(Uu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _m(){return Fu||(Fu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jd=new WeakMap,Sa=new WeakMap,Xd=new WeakMap,Zo=new WeakMap,yl=new WeakMap;function Em(t){const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{e(Gt(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",i)});return A.then(e=>{e instanceof IDBCursor&&jd.set(e,t)}).catch(()=>{}),yl.set(A,t),A}function Um(t){if(Sa.has(t))return;const A=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});Sa.set(t,A)}let Ra={get(t,A,e){if(t instanceof IDBTransaction){if(A==="done")return Sa.get(t);if(A==="objectStoreNames")return t.objectStoreNames||Xd.get(t);if(A==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Gt(t[A])},set(t,A,e){return t[A]=e,!0},has(t,A){return t instanceof IDBTransaction&&(A==="done"||A==="store")?!0:A in t}};function Fm(t){Ra=t(Ra)}function vm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(A,...e){const r=t.call($o(this),A,...e);return Xd.set(r,A.sort?A.sort():[A]),Gt(r)}:_m().includes(t)?function(...A){return t.apply($o(this),A),Gt(jd.get(this))}:function(...A){return Gt(t.apply($o(this),A))}}function Im(t){return typeof t=="function"?vm(t):(t instanceof IDBTransaction&&Um(t),Qm(t,ym())?new Proxy(t,Ra):t)}function Gt(t){if(t instanceof IDBRequest)return Em(t);if(Zo.has(t))return Zo.get(t);const A=Im(t);return A!==t&&(Zo.set(t,A),yl.set(A,t)),A}const $o=t=>yl.get(t);function Jd(t,A,{blocked:e,upgrade:r,blocking:n,terminated:s}={}){const i=indexedDB.open(t,A),o=Gt(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Gt(i.result),l.oldVersion,l.newVersion,Gt(i.transaction),l)}),e&&i.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),n&&l.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const bm=["get","getKey","getAll","getAllKeys","count"],Tm=["put","add","delete","clear"],Aa=new Map;function vu(t,A){if(!(t instanceof IDBDatabase&&!(A in t)&&typeof A=="string"))return;if(Aa.get(A))return Aa.get(A);const e=A.replace(/FromIndex$/,""),r=A!==e,n=Tm.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(n||bm.includes(e)))return;const s=async function(i,...o){const l=this.transaction(i,n?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[e](...o),n&&l.done]))[0]};return Aa.set(A,s),s}Fm(t=>({...t,get:(A,e,r)=>vu(A,e)||t.get(A,e,r),has:(A,e)=>!!vu(A,e)||t.has(A,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Sm(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Sm(t){const A=t.getComponent();return(A==null?void 0:A.type)==="VERSION"}const Da="@firebase/app",Iu="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new Ql("@firebase/app"),Rm="@firebase/app-compat",Dm="@firebase/analytics-compat",Lm="@firebase/analytics",km="@firebase/app-check-compat",Vm="@firebase/app-check",xm="@firebase/auth",Mm="@firebase/auth-compat",Pm="@firebase/database",Km="@firebase/data-connect",Om="@firebase/database-compat",Nm="@firebase/functions",Gm="@firebase/functions-compat",Wm="@firebase/installations",jm="@firebase/installations-compat",Xm="@firebase/messaging",Jm="@firebase/messaging-compat",qm="@firebase/performance",Ym="@firebase/performance-compat",zm="@firebase/remote-config",Zm="@firebase/remote-config-compat",$m="@firebase/storage",AC="@firebase/storage-compat",eC="@firebase/firestore",tC="@firebase/vertexai",rC="@firebase/firestore-compat",nC="firebase",sC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]",iC={[Da]:"fire-core",[Rm]:"fire-core-compat",[Lm]:"fire-analytics",[Dm]:"fire-analytics-compat",[Vm]:"fire-app-check",[km]:"fire-app-check-compat",[xm]:"fire-auth",[Mm]:"fire-auth-compat",[Pm]:"fire-rtdb",[Km]:"fire-data-connect",[Om]:"fire-rtdb-compat",[Nm]:"fire-fn",[Gm]:"fire-fn-compat",[Wm]:"fire-iid",[jm]:"fire-iid-compat",[Xm]:"fire-fcm",[Jm]:"fire-fcm-compat",[qm]:"fire-perf",[Ym]:"fire-perf-compat",[zm]:"fire-rc",[Zm]:"fire-rc-compat",[$m]:"fire-gcs",[AC]:"fire-gcs-compat",[eC]:"fire-fst",[rC]:"fire-fst-compat",[tC]:"fire-vertex","fire-js":"fire-js",[nC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Map,oC=new Map,ka=new Map;function bu(t,A){try{t.container.addComponent(A)}catch(e){Ft.debug(`Component ${A.name} failed to register with FirebaseApp ${t.name}`,e)}}function qt(t){const A=t.name;if(ka.has(A))return Ft.debug(`There were multiple attempts to register component ${A}.`),!1;ka.set(A,t);for(const e of Ti.values())bu(e,t);for(const e of oC.values())bu(e,t);return!0}function _l(t,A){const e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(A)}function aC(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wt=new Ao("app","Firebase",lC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(A,e,r){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=sC;function qd(t,A={}){let e=t;typeof A!="object"&&(A={name:A});const r=Object.assign({name:La,automaticDataCollectionEnabled:!1},A),n=r.name;if(typeof n!="string"||!n)throw Wt.create("bad-app-name",{appName:String(n)});if(e||(e=Nd()),!e)throw Wt.create("no-options");const s=Ti.get(n);if(s){if(bi(e,s.options)&&bi(r,s.config))return s;throw Wt.create("duplicate-app",{appName:n})}const i=new Bm(n);for(const l of ka.values())i.addComponent(l);const o=new cC(e,r,i);return Ti.set(n,o),o}function hC(t=La){const A=Ti.get(t);if(!A&&t===La&&Nd())return qd();if(!A)throw Wt.create("no-app",{appName:t});return A}function ct(t,A,e){var r;let n=(r=iC[t])!==null&&r!==void 0?r:t;e&&(n+=`-${e}`);const s=n.match(/\s|\//),i=A.match(/\s|\//);if(s||i){const o=[`Unable to register library "${n}" with version "${A}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${A}" contains illegal characters (whitespace or "/")`),Ft.warn(o.join(" "));return}qt(new Ut(`${n}-version`,()=>({library:n,version:A}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebase-heartbeat-database",dC=1,es="firebase-heartbeat-store";let ea=null;function Yd(){return ea||(ea=Jd(fC,dC,{upgrade:(t,A)=>{switch(A){case 0:try{t.createObjectStore(es)}catch(e){console.warn(e)}}}}).catch(t=>{throw Wt.create("idb-open",{originalErrorMessage:t.message})})),ea}async function gC(t){try{const e=(await Yd()).transaction(es),r=await e.objectStore(es).get(zd(t));return await e.done,r}catch(A){if(A instanceof nr)Ft.warn(A.message);else{const e=Wt.create("idb-get",{originalErrorMessage:A==null?void 0:A.message});Ft.warn(e.message)}}}async function Tu(t,A){try{const r=(await Yd()).transaction(es,"readwrite");await r.objectStore(es).put(A,zd(t)),await r.done}catch(e){if(e instanceof nr)Ft.warn(e.message);else{const r=Wt.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ft.warn(r.message)}}}function zd(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=1024,pC=30;class wC{constructor(A){this.container=A,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new CC(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var A,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hu();if(((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pC){const i=QC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ft.warn(r)}}async getHeartbeatsHeader(){var A;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((A=this._heartbeatsCache)===null||A===void 0?void 0:A.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hu(),{heartbeatsToSend:r,unsentEntries:n}=mC(this._heartbeatsCache.heartbeats),s=Ii(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ft.warn(e),""}}}function Hu(){return new Date().toISOString().substring(0,10)}function mC(t,A=BC){const e=[];let r=t.slice();for(const n of t){const s=e.find(i=>i.agent===n.agent);if(s){if(s.dates.push(n.date),Su(e)>A){s.dates.pop();break}}else if(e.push({agent:n.agent,dates:[n.date]}),Su(e)>A){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class CC{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gd()?Wd().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await gC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tu(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:A.heartbeats})}else return}async add(A){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tu(this.app,{lastSentHeartbeatDate:(e=A.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...A.heartbeats]})}else return}}function Su(t){return Ii(JSON.stringify({version:2,heartbeats:t})).length}function QC(t){if(t.length===0)return-1;let A=0,e=t[0].date;for(let r=1;r<t.length;r++)t[r].date<e&&(e=t[r].date,A=r);return A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){qt(new Ut("platform-logger",A=>new Hm(A),"PRIVATE")),qt(new Ut("heartbeat",A=>new wC(A),"PRIVATE")),ct(Da,Iu,t),ct(Da,Iu,"esm2017"),ct("fire-js","")}yC("");var _C="firebase",EC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ct(_C,EC,"app");const Zd="@firebase/installations",El="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=1e4,Ag=`w:${El}`,eg="FIS_v2",UC="https://firebaseinstallations.googleapis.com/v1",FC=60*60*1e3,vC="installations",IC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yr=new Ao(vC,IC,bC);function tg(t){return t instanceof nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg({projectId:t}){return`${UC}/projects/${t}/installations`}function ng(t){return{token:t.token,requestStatus:2,expiresIn:HC(t.expiresIn),creationTime:Date.now()}}async function sg(t,A){const r=(await A.json()).error;return yr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ig({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TC(t,{refreshToken:A}){const e=ig(t);return e.append("Authorization",SC(A)),e}async function og(t){const A=await t();return A.status>=500&&A.status<600?t():A}function HC(t){return Number(t.replace("s","000"))}function SC(t){return`${eg} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC({appConfig:t,heartbeatServiceProvider:A},{fid:e}){const r=rg(t),n=ig(t),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={fid:e,authVersion:eg,appId:t.appId,sdkVersion:Ag},o={method:"POST",headers:n,body:JSON.stringify(i)},l=await og(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||e,registrationStatus:2,refreshToken:c.refreshToken,authToken:ng(c.authToken)}}else throw await sg("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){return new Promise(A=>{setTimeout(A,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=/^[cdef][\w-]{21}$/,Va="";function kC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=VC(t);return LC.test(e)?e:Va}catch{return Va}}function VC(t){return DC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new Map;function cg(t,A){const e=eo(t);ug(e,A),xC(e,A)}function ug(t,A){const e=lg.get(t);if(e)for(const r of e)r(A)}function xC(t,A){const e=MC();e&&e.postMessage({key:t,fid:A}),PC()}let Br=null;function MC(){return!Br&&"BroadcastChannel"in self&&(Br=new BroadcastChannel("[Firebase] FID Change"),Br.onmessage=t=>{ug(t.data.key,t.data.fid)}),Br}function PC(){lg.size===0&&Br&&(Br.close(),Br=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firebase-installations-database",OC=1,_r="firebase-installations-store";let ta=null;function Ul(){return ta||(ta=Jd(KC,OC,{upgrade:(t,A)=>{switch(A){case 0:t.createObjectStore(_r)}}})),ta}async function Hi(t,A){const e=eo(t),n=(await Ul()).transaction(_r,"readwrite"),s=n.objectStore(_r),i=await s.get(e);return await s.put(A,e),await n.done,(!i||i.fid!==A.fid)&&cg(t,A.fid),A}async function hg(t){const A=eo(t),r=(await Ul()).transaction(_r,"readwrite");await r.objectStore(_r).delete(A),await r.done}async function to(t,A){const e=eo(t),n=(await Ul()).transaction(_r,"readwrite"),s=n.objectStore(_r),i=await s.get(e),o=A(i);return o===void 0?await s.delete(e):await s.put(o,e),await n.done,o&&(!i||i.fid!==o.fid)&&cg(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t){let A;const e=await to(t.appConfig,r=>{const n=NC(r),s=GC(t,n);return A=s.registrationPromise,s.installationEntry});return e.fid===Va?{installationEntry:await A}:{installationEntry:e,registrationPromise:A}}function NC(t){const A=t||{fid:kC(),registrationStatus:0};return fg(A)}function GC(t,A){if(A.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(yr.create("app-offline"));return{installationEntry:A,registrationPromise:n}}const e={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},r=WC(t,e);return{installationEntry:e,registrationPromise:r}}else return A.registrationStatus===1?{installationEntry:A,registrationPromise:jC(t)}:{installationEntry:A}}async function WC(t,A){try{const e=await RC(t,A);return Hi(t.appConfig,e)}catch(e){throw tg(e)&&e.customData.serverCode===409?await hg(t.appConfig):await Hi(t.appConfig,{fid:A.fid,registrationStatus:0}),e}}async function jC(t){let A=await Ru(t.appConfig);for(;A.registrationStatus===1;)await ag(100),A=await Ru(t.appConfig);if(A.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await Fl(t);return r||e}return A}function Ru(t){return to(t,A=>{if(!A)throw yr.create("installation-not-found");return fg(A)})}function fg(t){return XC(t)?{fid:t.fid,registrationStatus:0}:t}function XC(t){return t.registrationStatus===1&&t.registrationTime+$d<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC({appConfig:t,heartbeatServiceProvider:A},e){const r=qC(t,e),n=TC(t,e),s=A.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const i={installation:{sdkVersion:Ag,appId:t.appId}},o={method:"POST",headers:n,body:JSON.stringify(i)},l=await og(()=>fetch(r,o));if(l.ok){const c=await l.json();return ng(c)}else throw await sg("Generate Auth Token",l)}function qC(t,{fid:A}){return`${rg(t)}/${A}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,A=!1){let e;const r=await to(t.appConfig,s=>{if(!dg(s))throw yr.create("not-registered");const i=s.authToken;if(!A&&ZC(i))return s;if(i.requestStatus===1)return e=YC(t,A),s;{if(!navigator.onLine)throw yr.create("app-offline");const o=A0(s);return e=zC(t,o),o}});return e?await e:r.authToken}async function YC(t,A){let e=await Du(t.appConfig);for(;e.authToken.requestStatus===1;)await ag(100),e=await Du(t.appConfig);const r=e.authToken;return r.requestStatus===0?vl(t,A):r}function Du(t){return to(t,A=>{if(!dg(A))throw yr.create("not-registered");const e=A.authToken;return e0(e)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}async function zC(t,A){try{const e=await JC(t,A),r=Object.assign(Object.assign({},A),{authToken:e});return await Hi(t.appConfig,r),e}catch(e){if(tg(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await hg(t.appConfig);else{const r=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});await Hi(t.appConfig,r)}throw e}}function dg(t){return t!==void 0&&t.registrationStatus===2}function ZC(t){return t.requestStatus===2&&!$C(t)}function $C(t){const A=Date.now();return A<t.creationTime||t.creationTime+t.expiresIn<A+FC}function A0(t){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:A})}function e0(t){return t.requestStatus===1&&t.requestTime+$d<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(t){const A=t,{installationEntry:e,registrationPromise:r}=await Fl(A);return r?r.catch(console.error):vl(A).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r0(t,A=!1){const e=t;return await n0(e),(await vl(e,A)).token}async function n0(t){const{registrationPromise:A}=await Fl(t);A&&await A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){if(!t||!t.options)throw ra("App Configuration");if(!t.name)throw ra("App Name");const A=["projectId","apiKey","appId"];for(const e of A)if(!t.options[e])throw ra(e);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ra(t){return yr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="installations",i0="installations-internal",o0=t=>{const A=t.getProvider("app").getImmediate(),e=s0(A),r=_l(A,"heartbeat");return{app:A,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a0=t=>{const A=t.getProvider("app").getImmediate(),e=_l(A,gg).getImmediate();return{getId:()=>t0(e),getToken:n=>r0(e,n)}};function l0(){qt(new Ut(gg,o0,"PUBLIC")),qt(new Ut(i0,a0,"PRIVATE"))}l0();ct(Zd,El);ct(Zd,El,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="analytics",c0="firebase_id",u0="origin",h0=60*1e3,f0="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Il="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=new Ql("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},At=new Ao("analytics","Analytics",d0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){if(!t.startsWith(Il)){const A=At.create("invalid-gtag-resource",{gtagURL:t});return He.warn(A.message),""}return t}function Bg(t){return Promise.all(t.map(A=>A.catch(e=>e)))}function B0(t,A){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(t,A)),e}function p0(t,A){const e=B0("firebase-js-sdk-policy",{createScriptURL:g0}),r=document.createElement("script"),n=`${Il}?l=${t}&id=${A}`;r.src=e?e==null?void 0:e.createScriptURL(n):n,r.async=!0,document.head.appendChild(r)}function w0(t){let A=[];return Array.isArray(window[t])?A=window[t]:window[t]=A,A}async function m0(t,A,e,r,n,s){const i=r[n];try{if(i)await A[i];else{const l=(await Bg(e)).find(c=>c.measurementId===n);l&&await A[l.appId]}}catch(o){He.error(o)}t("config",n,s)}async function C0(t,A,e,r,n){try{let s=[];if(n&&n.send_to){let i=n.send_to;Array.isArray(i)||(i=[i]);const o=await Bg(e);for(const l of i){const c=o.find(f=>f.measurementId===l),u=c&&A[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(A)),await Promise.all(s),t("event",r,n||{})}catch(s){He.error(s)}}function Q0(t,A,e,r){async function n(s,...i){try{if(s==="event"){const[o,l]=i;await C0(t,A,e,o,l)}else if(s==="config"){const[o,l]=i;await m0(t,A,e,r,o,l)}else if(s==="consent"){const[o,l]=i;t("consent",o,l)}else if(s==="get"){const[o,l,c]=i;t("get",o,l,c)}else if(s==="set"){const[o]=i;t("set",o)}else t(s,...i)}catch(o){He.error(o)}}return n}function y0(t,A,e,r,n){let s=function(...i){window[r].push(arguments)};return window[n]&&typeof window[n]=="function"&&(s=window[n]),window[n]=Q0(s,t,A,e),{gtagCore:s,wrappedGtag:window[n]}}function _0(t){const A=window.document.getElementsByTagName("script");for(const e of Object.values(A))if(e.src&&e.src.includes(Il)&&e.src.includes(t))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=30,U0=1e3;class F0{constructor(A={},e=U0){this.throttleMetadata=A,this.intervalMillis=e}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,e){this.throttleMetadata[A]=e}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}}const pg=new F0;function v0(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function I0(t){var A;const{appId:e,apiKey:r}=t,n={method:"GET",headers:v0(r)},s=f0.replace("{app-id}",e),i=await fetch(s,n);if(i.status!==200&&i.status!==304){let o="";try{const l=await i.json();!((A=l.error)===null||A===void 0)&&A.message&&(o=l.error.message)}catch{}throw At.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function b0(t,A=pg,e){const{appId:r,apiKey:n,measurementId:s}=t.options;if(!r)throw At.create("no-app-id");if(!n){if(s)return{measurementId:s,appId:r};throw At.create("no-api-key")}const i=A.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new S0;return setTimeout(async()=>{o.abort()},h0),wg({appId:r,apiKey:n,measurementId:s},i,o,A)}async function wg(t,{throttleEndTimeMillis:A,backoffCount:e},r,n=pg){var s;const{appId:i,measurementId:o}=t;try{await T0(r,A)}catch(l){if(o)return He.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await I0(t);return n.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!H0(c)){if(n.deleteThrottleMetadata(i),o)return He.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Eu(e,n.intervalMillis,E0):Eu(e,n.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return n.setThrottleMetadata(i,f),He.debug(`Calling attemptFetch again in ${u} millis`),wg(t,f,r,n)}}function T0(t,A){return new Promise((e,r)=>{const n=Math.max(A-Date.now(),0),s=setTimeout(e,n);t.addEventListener(()=>{clearTimeout(s),r(At.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function H0(t){if(!(t instanceof nr)||!t.customData)return!1;const A=Number(t.customData.httpStatus);return A===429||A===500||A===503||A===504}class S0{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}async function R0(t,A,e,r,n){if(n&&n.global){t("event",e,r);return}else{const s=await A,i=Object.assign(Object.assign({},r),{send_to:s});t("event",e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(){if(Gd())try{await Wd()}catch(t){return He.warn(At.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return He.warn(At.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function L0(t,A,e,r,n,s,i){var o;const l=b0(t);l.then(B=>{e[B.measurementId]=B.appId,t.options.measurementId&&B.measurementId!==t.options.measurementId&&He.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>He.error(B)),A.push(l);const c=D0().then(B=>{if(B)return r.getId()}),[u,f]=await Promise.all([l,c]);_0(s)||p0(s,u.measurementId),n("js",new Date);const g=(o=i==null?void 0:i.config)!==null&&o!==void 0?o:{};return g[u0]="firebase",g.update=!0,f!=null&&(g[c0]=f),n("config",u.measurementId,g),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(A){this.app=A}_delete(){return delete Wn[this.app.options.appId],Promise.resolve()}}let Wn={},ku=[];const Vu={};let na="dataLayer",V0="gtag",xu,mg,Mu=!1;function x0(){const t=[];if(rm()&&t.push("This is a browser extension environment."),sm()||t.push("Cookies are not available."),t.length>0){const A=t.map((r,n)=>`(${n+1}) ${r}`).join(" "),e=At.create("invalid-analytics-context",{errorInfo:A});He.warn(e.message)}}function M0(t,A,e){x0();const r=t.options.appId;if(!r)throw At.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)He.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw At.create("no-api-key");if(Wn[r]!=null)throw At.create("already-exists",{id:r});if(!Mu){w0(na);const{wrappedGtag:s,gtagCore:i}=y0(Wn,ku,Vu,na,V0);mg=s,xu=i,Mu=!0}return Wn[r]=L0(t,ku,Vu,A,xu,na,e),new k0(t)}function P0(t,A,e,r){t=et(t),R0(mg,Wn[t.app.options.appId],A,e,r).catch(n=>He.error(n))}const Pu="@firebase/analytics",Ku="0.10.12";function K0(){qt(new Ut(Lu,(A,{options:e})=>{const r=A.getProvider("app").getImmediate(),n=A.getProvider("installations-internal").getImmediate();return M0(r,n,e)},"PUBLIC")),qt(new Ut("analytics-internal",t,"PRIVATE")),ct(Pu,Ku),ct(Pu,Ku,"esm2017");function t(A){try{const e=A.getProvider(Lu).getImmediate();return{logEvent:(r,n,s)=>P0(e,r,n,s)}}catch(e){throw At.create("interop-component-reg-failed",{reason:e})}}}K0();var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jt,Cg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function A(E,C){function y(){}y.prototype=C.prototype,E.D=C.prototype,E.prototype=new y,E.prototype.constructor=E,E.C=function(v,U,b){for(var p=Array(arguments.length-2),P=2;P<arguments.length;P++)p[P-2]=arguments[P];return C.prototype[U].apply(v,p)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}A(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(E,C,y){y||(y=0);var v=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)v[U]=C.charCodeAt(y++)|C.charCodeAt(y++)<<8|C.charCodeAt(y++)<<16|C.charCodeAt(y++)<<24;else for(U=0;16>U;++U)v[U]=C[y++]|C[y++]<<8|C[y++]<<16|C[y++]<<24;C=E.g[0],y=E.g[1],U=E.g[2];var b=E.g[3],p=C+(b^y&(U^b))+v[0]+3614090360&4294967295;C=y+(p<<7&4294967295|p>>>25),p=b+(U^C&(y^U))+v[1]+3905402710&4294967295,b=C+(p<<12&4294967295|p>>>20),p=U+(y^b&(C^y))+v[2]+606105819&4294967295,U=b+(p<<17&4294967295|p>>>15),p=y+(C^U&(b^C))+v[3]+3250441966&4294967295,y=U+(p<<22&4294967295|p>>>10),p=C+(b^y&(U^b))+v[4]+4118548399&4294967295,C=y+(p<<7&4294967295|p>>>25),p=b+(U^C&(y^U))+v[5]+1200080426&4294967295,b=C+(p<<12&4294967295|p>>>20),p=U+(y^b&(C^y))+v[6]+2821735955&4294967295,U=b+(p<<17&4294967295|p>>>15),p=y+(C^U&(b^C))+v[7]+4249261313&4294967295,y=U+(p<<22&4294967295|p>>>10),p=C+(b^y&(U^b))+v[8]+1770035416&4294967295,C=y+(p<<7&4294967295|p>>>25),p=b+(U^C&(y^U))+v[9]+2336552879&4294967295,b=C+(p<<12&4294967295|p>>>20),p=U+(y^b&(C^y))+v[10]+4294925233&4294967295,U=b+(p<<17&4294967295|p>>>15),p=y+(C^U&(b^C))+v[11]+2304563134&4294967295,y=U+(p<<22&4294967295|p>>>10),p=C+(b^y&(U^b))+v[12]+1804603682&4294967295,C=y+(p<<7&4294967295|p>>>25),p=b+(U^C&(y^U))+v[13]+4254626195&4294967295,b=C+(p<<12&4294967295|p>>>20),p=U+(y^b&(C^y))+v[14]+2792965006&4294967295,U=b+(p<<17&4294967295|p>>>15),p=y+(C^U&(b^C))+v[15]+1236535329&4294967295,y=U+(p<<22&4294967295|p>>>10),p=C+(U^b&(y^U))+v[1]+4129170786&4294967295,C=y+(p<<5&4294967295|p>>>27),p=b+(y^U&(C^y))+v[6]+3225465664&4294967295,b=C+(p<<9&4294967295|p>>>23),p=U+(C^y&(b^C))+v[11]+643717713&4294967295,U=b+(p<<14&4294967295|p>>>18),p=y+(b^C&(U^b))+v[0]+3921069994&4294967295,y=U+(p<<20&4294967295|p>>>12),p=C+(U^b&(y^U))+v[5]+3593408605&4294967295,C=y+(p<<5&4294967295|p>>>27),p=b+(y^U&(C^y))+v[10]+38016083&4294967295,b=C+(p<<9&4294967295|p>>>23),p=U+(C^y&(b^C))+v[15]+3634488961&4294967295,U=b+(p<<14&4294967295|p>>>18),p=y+(b^C&(U^b))+v[4]+3889429448&4294967295,y=U+(p<<20&4294967295|p>>>12),p=C+(U^b&(y^U))+v[9]+568446438&4294967295,C=y+(p<<5&4294967295|p>>>27),p=b+(y^U&(C^y))+v[14]+3275163606&4294967295,b=C+(p<<9&4294967295|p>>>23),p=U+(C^y&(b^C))+v[3]+4107603335&4294967295,U=b+(p<<14&4294967295|p>>>18),p=y+(b^C&(U^b))+v[8]+1163531501&4294967295,y=U+(p<<20&4294967295|p>>>12),p=C+(U^b&(y^U))+v[13]+2850285829&4294967295,C=y+(p<<5&4294967295|p>>>27),p=b+(y^U&(C^y))+v[2]+4243563512&4294967295,b=C+(p<<9&4294967295|p>>>23),p=U+(C^y&(b^C))+v[7]+1735328473&4294967295,U=b+(p<<14&4294967295|p>>>18),p=y+(b^C&(U^b))+v[12]+2368359562&4294967295,y=U+(p<<20&4294967295|p>>>12),p=C+(y^U^b)+v[5]+4294588738&4294967295,C=y+(p<<4&4294967295|p>>>28),p=b+(C^y^U)+v[8]+2272392833&4294967295,b=C+(p<<11&4294967295|p>>>21),p=U+(b^C^y)+v[11]+1839030562&4294967295,U=b+(p<<16&4294967295|p>>>16),p=y+(U^b^C)+v[14]+4259657740&4294967295,y=U+(p<<23&4294967295|p>>>9),p=C+(y^U^b)+v[1]+2763975236&4294967295,C=y+(p<<4&4294967295|p>>>28),p=b+(C^y^U)+v[4]+1272893353&4294967295,b=C+(p<<11&4294967295|p>>>21),p=U+(b^C^y)+v[7]+4139469664&4294967295,U=b+(p<<16&4294967295|p>>>16),p=y+(U^b^C)+v[10]+3200236656&4294967295,y=U+(p<<23&4294967295|p>>>9),p=C+(y^U^b)+v[13]+681279174&4294967295,C=y+(p<<4&4294967295|p>>>28),p=b+(C^y^U)+v[0]+3936430074&4294967295,b=C+(p<<11&4294967295|p>>>21),p=U+(b^C^y)+v[3]+3572445317&4294967295,U=b+(p<<16&4294967295|p>>>16),p=y+(U^b^C)+v[6]+76029189&4294967295,y=U+(p<<23&4294967295|p>>>9),p=C+(y^U^b)+v[9]+3654602809&4294967295,C=y+(p<<4&4294967295|p>>>28),p=b+(C^y^U)+v[12]+3873151461&4294967295,b=C+(p<<11&4294967295|p>>>21),p=U+(b^C^y)+v[15]+530742520&4294967295,U=b+(p<<16&4294967295|p>>>16),p=y+(U^b^C)+v[2]+3299628645&4294967295,y=U+(p<<23&4294967295|p>>>9),p=C+(U^(y|~b))+v[0]+4096336452&4294967295,C=y+(p<<6&4294967295|p>>>26),p=b+(y^(C|~U))+v[7]+1126891415&4294967295,b=C+(p<<10&4294967295|p>>>22),p=U+(C^(b|~y))+v[14]+2878612391&4294967295,U=b+(p<<15&4294967295|p>>>17),p=y+(b^(U|~C))+v[5]+4237533241&4294967295,y=U+(p<<21&4294967295|p>>>11),p=C+(U^(y|~b))+v[12]+1700485571&4294967295,C=y+(p<<6&4294967295|p>>>26),p=b+(y^(C|~U))+v[3]+2399980690&4294967295,b=C+(p<<10&4294967295|p>>>22),p=U+(C^(b|~y))+v[10]+4293915773&4294967295,U=b+(p<<15&4294967295|p>>>17),p=y+(b^(U|~C))+v[1]+2240044497&4294967295,y=U+(p<<21&4294967295|p>>>11),p=C+(U^(y|~b))+v[8]+1873313359&4294967295,C=y+(p<<6&4294967295|p>>>26),p=b+(y^(C|~U))+v[15]+4264355552&4294967295,b=C+(p<<10&4294967295|p>>>22),p=U+(C^(b|~y))+v[6]+2734768916&4294967295,U=b+(p<<15&4294967295|p>>>17),p=y+(b^(U|~C))+v[13]+1309151649&4294967295,y=U+(p<<21&4294967295|p>>>11),p=C+(U^(y|~b))+v[4]+4149444226&4294967295,C=y+(p<<6&4294967295|p>>>26),p=b+(y^(C|~U))+v[11]+3174756917&4294967295,b=C+(p<<10&4294967295|p>>>22),p=U+(C^(b|~y))+v[2]+718787259&4294967295,U=b+(p<<15&4294967295|p>>>17),p=y+(b^(U|~C))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+C&4294967295,E.g[1]=E.g[1]+(U+(p<<21&4294967295|p>>>11))&4294967295,E.g[2]=E.g[2]+U&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,C){C===void 0&&(C=E.length);for(var y=C-this.blockSize,v=this.B,U=this.h,b=0;b<C;){if(U==0)for(;b<=y;)n(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<C;)if(v[U++]=E.charCodeAt(b++),U==this.blockSize){n(this,v),U=0;break}}else for(;b<C;)if(v[U++]=E[b++],U==this.blockSize){n(this,v),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var C=1;C<E.length-8;++C)E[C]=0;var y=8*this.o;for(C=E.length-8;C<E.length;++C)E[C]=y&255,y/=256;for(this.u(E),E=Array(16),C=y=0;4>C;++C)for(var v=0;32>v;v+=8)E[y++]=this.g[C]>>>v&255;return E};function s(E,C){var y=o;return Object.prototype.hasOwnProperty.call(y,E)?y[E]:y[E]=C(E)}function i(E,C){this.h=C;for(var y=[],v=!0,U=E.length-1;0<=U;U--){var b=E[U]|0;v&&b==C||(y[U]=b,v=!1)}this.g=y}var o={};function l(E){return-128<=E&&128>E?s(E,function(C){return new i([C|0],0>C?-1:0)}):new i([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return F(c(-E));for(var C=[],y=1,v=0;E>=y;v++)C[v]=E/y|0,y*=4294967296;return new i(C,0)}function u(E,C){if(E.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E.charAt(0)=="-")return F(u(E.substring(1),C));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=c(Math.pow(C,8)),v=f,U=0;U<E.length;U+=8){var b=Math.min(8,E.length-U),p=parseInt(E.substring(U,U+b),C);8>b?(b=c(Math.pow(C,b)),v=v.j(b).add(c(p))):(v=v.j(y),v=v.add(c(p)))}return v}var f=l(0),g=l(1),B=l(16777216);t=i.prototype,t.m=function(){if(Q(this))return-F(this).m();for(var E=0,C=1,y=0;y<this.g.length;y++){var v=this.i(y);E+=(0<=v?v:4294967296+v)*C,C*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(Q(this))return"-"+F(this).toString(E);for(var C=c(Math.pow(E,6)),y=this,v="";;){var U=D(y,C).g;y=T(y,U.j(C));var b=((0<y.g.length?y.g[0]:y.h)>>>0).toString(E);if(y=U,m(y))return b+v;for(;6>b.length;)b="0"+b;v=b+v}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(var C=0;C<E.g.length;C++)if(E.g[C]!=0)return!1;return!0}function Q(E){return E.h==-1}t.l=function(E){return E=T(this,E),Q(E)?-1:m(E)?0:1};function F(E){for(var C=E.g.length,y=[],v=0;v<C;v++)y[v]=~E.g[v];return new i(y,~E.h).add(g)}t.abs=function(){return Q(this)?F(this):this},t.add=function(E){for(var C=Math.max(this.g.length,E.g.length),y=[],v=0,U=0;U<=C;U++){var b=v+(this.i(U)&65535)+(E.i(U)&65535),p=(b>>>16)+(this.i(U)>>>16)+(E.i(U)>>>16);v=p>>>16,b&=65535,p&=65535,y[U]=p<<16|b}return new i(y,y[y.length-1]&-2147483648?-1:0)};function T(E,C){return E.add(F(C))}t.j=function(E){if(m(this)||m(E))return f;if(Q(this))return Q(E)?F(this).j(F(E)):F(F(this).j(E));if(Q(E))return F(this.j(F(E)));if(0>this.l(B)&&0>E.l(B))return c(this.m()*E.m());for(var C=this.g.length+E.g.length,y=[],v=0;v<2*C;v++)y[v]=0;for(v=0;v<this.g.length;v++)for(var U=0;U<E.g.length;U++){var b=this.i(v)>>>16,p=this.i(v)&65535,P=E.i(U)>>>16,rA=E.i(U)&65535;y[2*v+2*U]+=p*rA,S(y,2*v+2*U),y[2*v+2*U+1]+=b*rA,S(y,2*v+2*U+1),y[2*v+2*U+1]+=p*P,S(y,2*v+2*U+1),y[2*v+2*U+2]+=b*P,S(y,2*v+2*U+2)}for(v=0;v<C;v++)y[v]=y[2*v+1]<<16|y[2*v];for(v=C;v<2*C;v++)y[v]=0;return new i(y,0)};function S(E,C){for(;(E[C]&65535)!=E[C];)E[C+1]+=E[C]>>>16,E[C]&=65535,C++}function k(E,C){this.g=E,this.h=C}function D(E,C){if(m(C))throw Error("division by zero");if(m(E))return new k(f,f);if(Q(E))return C=D(F(E),C),new k(F(C.g),F(C.h));if(Q(C))return C=D(E,F(C)),new k(F(C.g),C.h);if(30<E.g.length){if(Q(E)||Q(C))throw Error("slowDivide_ only works with positive integers.");for(var y=g,v=C;0>=v.l(E);)y=K(y),v=K(v);var U=x(y,1),b=x(v,1);for(v=x(v,2),y=x(y,2);!m(v);){var p=b.add(v);0>=p.l(E)&&(U=U.add(y),b=p),v=x(v,1),y=x(y,1)}return C=T(E,U.j(C)),new k(U,C)}for(U=f;0<=E.l(C);){for(y=Math.max(1,Math.floor(E.m()/C.m())),v=Math.ceil(Math.log(y)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),b=c(y),p=b.j(C);Q(p)||0<p.l(E);)y-=v,b=c(y),p=b.j(C);m(b)&&(b=g),U=U.add(b),E=T(E,p)}return new k(U,E)}t.A=function(E){return D(this,E).h},t.and=function(E){for(var C=Math.max(this.g.length,E.g.length),y=[],v=0;v<C;v++)y[v]=this.i(v)&E.i(v);return new i(y,this.h&E.h)},t.or=function(E){for(var C=Math.max(this.g.length,E.g.length),y=[],v=0;v<C;v++)y[v]=this.i(v)|E.i(v);return new i(y,this.h|E.h)},t.xor=function(E){for(var C=Math.max(this.g.length,E.g.length),y=[],v=0;v<C;v++)y[v]=this.i(v)^E.i(v);return new i(y,this.h^E.h)};function K(E){for(var C=E.g.length+1,y=[],v=0;v<C;v++)y[v]=E.i(v)<<1|E.i(v-1)>>>31;return new i(y,E.h)}function x(E,C){var y=C>>5;C%=32;for(var v=E.g.length-y,U=[],b=0;b<v;b++)U[b]=0<C?E.i(b+y)>>>C|E.i(b+y+1)<<32-C:E.i(b+y);return new i(U,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Cg=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=u,jt=i}).apply(typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{});var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qg,Dn,yg,mi,xa,_g,Eg,Ug;(function(){var t,A=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Os=="object"&&Os];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=e(this);function n(a,h){if(h)A:{var d=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var L=a[w];if(!(L in d))break A;d=d[L]}a=a[a.length-1],w=d[a],h=h(w),h!=w&&h!=null&&A(d,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var d=0,w=!1,L={next:function(){if(!w&&d<a.length){var M=d++;return{value:h(M,a[M]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}n("Array.prototype.values",function(a){return a||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function u(a,h,d){return a.call.apply(a.bind,arguments)}function f(a,h,d){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),a.apply(h,L)}}return function(){return a.apply(h,arguments)}}function g(a,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,g.apply(null,arguments)}function B(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var w=d.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function m(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(w,L,M){for(var q=Array(arguments.length-2),DA=2;DA<arguments.length;DA++)q[DA-2]=arguments[DA];return h.prototype[L].apply(w,q)}}function Q(a){const h=a.length;if(0<h){const d=Array(h);for(let w=0;w<h;w++)d[w]=a[w];return d}return[]}function F(a,h){for(let d=1;d<arguments.length;d++){const w=arguments[d];if(l(w)){const L=a.length||0,M=w.length||0;a.length=L+M;for(let q=0;q<M;q++)a[L+q]=w[q]}else a.push(w)}}class T{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function S(a){return/^[\s\xa0]*$/.test(a)}function k(){var a=o.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var K=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function x(a,h,d){for(const w in a)h.call(d,a[w],w,a)}function E(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function C(a){const h={};for(const d in a)h[d]=a[d];return h}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(a,h){let d,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(d in w)a[d]=w[d];for(let M=0;M<y.length;M++)d=y[M],Object.prototype.hasOwnProperty.call(w,d)&&(a[d]=w[d])}}function U(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function b(a){o.setTimeout(()=>{throw a},0)}function p(){var a=Be;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class P{constructor(){this.h=this.g=null}add(h,d){const w=rA.get();w.set(h,d),this.h?this.h.next=w:this.g=w,this.h=w}}var rA=new T(()=>new IA,a=>a.reset());class IA{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let hA,TA=!1,Be=new P,V=()=>{const a=o.Promise.resolve(void 0);hA=()=>{a.then(H)}};var H=()=>{for(var a;a=p();){try{a.h.call(a.g)}catch(d){b(d)}var h=rA;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}TA=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var uA=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};o.addEventListener("test",d,h),o.removeEventListener("test",d,h)}catch{}return a}();function iA(a,h){if(J.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(K){A:{try{D(h.nodeName);var L=!0;break A}catch{}L=!1}L||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:nA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&iA.aa.h.call(this)}}m(iA,J);var nA={2:"touch",3:"pen",4:"mouse"};iA.prototype.h=function(){iA.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),X=0;function EA(a,h,d,w,L){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!w,this.ha=L,this.key=++X,this.da=this.fa=!1}function oA(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function fA(a){this.src=a,this.g={},this.h=0}fA.prototype.add=function(a,h,d,w,L){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var q=QA(a,h,w,L);return-1<q?(h=a[q],d||(h.fa=!1)):(h=new EA(h,this.src,M,!!w,L),h.fa=d,a.push(h)),h};function CA(a,h){var d=h.type;if(d in a.g){var w=a.g[d],L=Array.prototype.indexOf.call(w,h,void 0),M;(M=0<=L)&&Array.prototype.splice.call(w,L,1),M&&(oA(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function QA(a,h,d,w){for(var L=0;L<a.length;++L){var M=a[L];if(!M.da&&M.listener==h&&M.capture==!!d&&M.ha==w)return L}return-1}var pA="closure_lm_"+(1e6*Math.random()|0),OA={};function ce(a,h,d,w,L){if(Array.isArray(h)){for(var M=0;M<h.length;M++)ce(a,h[M],d,w,L);return null}return d=ot(d),a&&a[j]?a.K(h,d,c(w)?!!w.capture:!!w,L):pe(a,h,d,!1,w,L)}function pe(a,h,d,w,L,M){if(!h)throw Error("Invalid event type");var q=c(L)?!!L.capture:!!L,DA=it(a);if(DA||(a[pA]=DA=new fA(a)),d=DA.add(h,d,w,q,M),d.proxy)return d;if(w=ve(),d.proxy=w,w.src=a,w.listener=d,a.addEventListener)uA||(L=q),L===void 0&&(L=!1),a.addEventListener(h.toString(),w,L);else if(a.attachEvent)a.attachEvent(Ht(h.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return d}function ve(){function a(d){return h.call(a.src,a.listener,d)}const h=dn;return a}function Le(a,h,d,w,L){if(Array.isArray(h))for(var M=0;M<h.length;M++)Le(a,h[M],d,w,L);else w=c(w)?!!w.capture:!!w,d=ot(d),a&&a[j]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],d=QA(M,d,w,L),-1<d&&(oA(M[d]),Array.prototype.splice.call(M,d,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=it(a))&&(h=a.g[h.toString()],a=-1,h&&(a=QA(h,d,w,L)),(d=-1<a?h[a]:null)&&YA(d))}function YA(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[j])CA(h.i,a);else{var d=a.type,w=a.proxy;h.removeEventListener?h.removeEventListener(d,w,a.capture):h.detachEvent?h.detachEvent(Ht(d),w):h.addListener&&h.removeListener&&h.removeListener(w),(d=it(h))?(CA(d,a),d.h==0&&(d.src=null,h[pA]=null)):oA(a)}}}function Ht(a){return a in OA?OA[a]:OA[a]="on"+a}function dn(a,h){if(a.da)a=!0;else{h=new iA(h,this);var d=a.listener,w=a.ha||a.src;a.fa&&YA(a),a=d.call(w,h)}return a}function it(a){return a=a[pA],a instanceof fA?a:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(a){return typeof a=="function"?a:(a[St]||(a[St]=function(h){return a.handleEvent(h)}),a[St])}function XA(){z.call(this),this.i=new fA(this),this.M=this,this.F=null}m(XA,z),XA.prototype[j]=!0,XA.prototype.removeEventListener=function(a,h,d,w){Le(this,a,h,d,w)};function NA(a,h){var d,w=a.F;if(w)for(d=[];w;w=w.F)d.push(w);if(a=a.M,w=h.type||h,typeof h=="string")h=new J(h,a);else if(h instanceof J)h.target=h.target||a;else{var L=h;h=new J(w,a),v(h,L)}if(L=!0,d)for(var M=d.length-1;0<=M;M--){var q=h.g=d[M];L=Hr(q,w,!0,h)&&L}if(q=h.g=a,L=Hr(q,w,!0,h)&&L,L=Hr(q,w,!1,h)&&L,d)for(M=0;M<d.length;M++)q=h.g=d[M],L=Hr(q,w,!1,h)&&L}XA.prototype.N=function(){if(XA.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],w=0;w<d.length;w++)oA(d[w]);delete a.g[h],a.h--}}this.F=null},XA.prototype.K=function(a,h,d,w){return this.i.add(String(a),h,!1,d,w)},XA.prototype.L=function(a,h,d,w){return this.i.add(String(a),h,!0,d,w)};function Hr(a,h,d,w){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,M=0;M<h.length;++M){var q=h[M];if(q&&!q.da&&q.capture==d){var DA=q.listener,ue=q.ha||q.src;q.fa&&CA(a.i,q),L=DA.call(ue,w)!==!1&&L}}return L&&!w.defaultPrevented}function gn(a,h,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:o.setTimeout(a,h||0)}function Bn(a){a.g=gn(()=>{a.g=null,a.i&&(a.i=!1,Bn(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class pn extends z{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(a){z.call(this),this.h=a,this.g={}}m(or,z);var Us=[];function Fc(a){x(a.g,function(h,d){this.g.hasOwnProperty(d)&&YA(h)},a),a.g={}}or.prototype.N=function(){or.aa.N.call(this),Fc(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Do=o.JSON.stringify,nw=o.JSON.parse,sw=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Lo(){}Lo.prototype.h=null;function vc(a){return a.h||(a.h=a.i())}function Ic(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ko(){J.call(this,"d")}m(ko,J);function Vo(){J.call(this,"c")}m(Vo,J);var ar={},bc=null;function Fs(){return bc=bc||new XA}ar.La="serverreachability";function Tc(a){J.call(this,ar.La,a)}m(Tc,J);function mn(a){const h=Fs();NA(h,new Tc(h))}ar.STAT_EVENT="statevent";function Hc(a,h){J.call(this,ar.STAT_EVENT,a),this.stat=h}m(Hc,J);function Ue(a){const h=Fs();NA(h,new Hc(h,a))}ar.Ma="timingevent";function Sc(a,h){J.call(this,ar.Ma,a),this.size=h}m(Sc,J);function Cn(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function iw(a,h,d,w,L,M){a.info(function(){if(a.g)if(M)for(var q="",DA=M.split("&"),ue=0;ue<DA.length;ue++){var bA=DA[ue].split("=");if(1<bA.length){var we=bA[0];bA=bA[1];var me=we.split("_");q=2<=me.length&&me[1]=="type"?q+(we+"="+bA+"&"):q+(we+"=redacted&")}}else q=null;else q=M;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+h+`
`+d+`
`+q})}function ow(a,h,d,w,L,M,q){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+h+`
`+d+`
`+M+" "+q})}function Sr(a,h,d,w){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+lw(a,d)+(w?" "+w:"")})}function aw(a,h){a.info(function(){return"TIMEOUT: "+h})}Qn.prototype.info=function(){};function lw(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var w=d[a];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var q=1;q<L.length;q++)L[q]=""}}}}return Do(d)}catch{return h}}var vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xo;function Is(){}m(Is,Lo),Is.prototype.g=function(){return new XMLHttpRequest},Is.prototype.i=function(){return{}},xo=new Is;function Rt(a,h,d,w){this.j=a,this.i=h,this.l=d,this.R=w||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dc}function Dc(){this.i=null,this.g="",this.h=!1}var Lc={},Mo={};function Po(a,h,d){a.L=1,a.v=Ss(mt(h)),a.m=d,a.P=!0,kc(a,null)}function kc(a,h){a.F=Date.now(),bs(a),a.A=mt(a.v);var d=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),Yc(d.i,"t",w),a.C=0,d=a.j.J,a.h=new Dc,a.g=du(a.j,d?h:null,!a.m),0<a.O&&(a.M=new pn(g(a.Y,a,a.g),a.O)),h=a.U,d=a.g,w=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(Us[0]=L.toString()),L=Us);for(var M=0;M<L.length;M++){var q=ce(d,L[M],w||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.H?C(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),mn(),iw(a.i,a.u,a.A,a.l,a.R,a.m)}Rt.prototype.ca=function(a){a=a.target;const h=this.M;h&&Ct(a)==3?h.j():this.Y(a)},Rt.prototype.Y=function(a){try{if(a==this.g)A:{const me=Ct(this.g);var h=this.g.Ba();const Lr=this.g.Z();if(!(3>me)&&(me!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||me!=4||h==7||(h==8||0>=Lr?mn(3):mn(2)),Ko(this);var d=this.g.Z();this.X=d;e:if(Vc(this)){var w=ru(this.g);a="";var L=w.length,M=Ct(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),yn(this);var q="";break e}this.h.i=new o.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,a+=this.h.i.decode(w[h],{stream:!(M&&h==L-1)});w.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=d==200,ow(this.i,this.u,this.A,this.l,this.R,me,d),this.o){if(this.T&&!this.K){e:{if(this.g){var DA,ue=this.g;if((DA=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(DA)){var bA=DA;break e}}bA=null}if(d=bA)Sr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,d);else{this.o=!1,this.s=3,Ue(12),lr(this),yn(this);break A}}if(this.P){d=!0;let rt;for(;!this.J&&this.C<q.length;)if(rt=cw(this,q),rt==Mo){me==4&&(this.s=4,Ue(14),d=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==Lc){this.s=4,Ue(15),Sr(this.i,this.l,q,"[Invalid Chunk]"),d=!1;break}else Sr(this.i,this.l,rt,null),Oo(this,rt);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||q.length!=0||this.h.h||(this.s=1,Ue(16),d=!1),this.o=this.o&&d,!d)Sr(this.i,this.l,q,"[Invalid Chunked Response]"),lr(this),yn(this);else if(0<q.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Jo(we),we.M=!0,Ue(11))}}else Sr(this.i,this.l,q,null),Oo(this,q);me==4&&lr(this),this.o&&!this.J&&(me==4?cu(this.j,this):(this.o=!1,bs(this)))}else vw(this.g),d==400&&0<q.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),lr(this),yn(this)}}}catch{}finally{}};function Vc(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function cw(a,h){var d=a.C,w=h.indexOf(`
`,d);return w==-1?Mo:(d=Number(h.substring(d,w)),isNaN(d)?Lc:(w+=1,w+d>h.length?Mo:(h=h.slice(w,w+d),a.C=w+d,h)))}Rt.prototype.cancel=function(){this.J=!0,lr(this)};function bs(a){a.S=Date.now()+a.I,xc(a,a.I)}function xc(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Cn(g(a.ba,a),h)}function Ko(a){a.B&&(o.clearTimeout(a.B),a.B=null)}Rt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(aw(this.i,this.A),this.L!=2&&(mn(),Ue(17)),lr(this),this.s=2,yn(this)):xc(this,this.S-a)};function yn(a){a.j.G==0||a.J||cu(a.j,a)}function lr(a){Ko(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Fc(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Oo(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||No(d.h,a))){if(!a.K&&No(d.h,a)&&d.G==3){try{var w=d.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){A:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)xs(d),ks(d);else break A;Xo(d),Ue(18)}}else d.za=L[1],0<d.za-d.T&&37500>L[2]&&d.F&&d.v==0&&!d.C&&(d.C=Cn(g(d.Za,d),6e3));if(1>=Kc(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else ur(d,11)}else if((a.K||d.g==a)&&xs(d),!S(h))for(L=d.Da.g.parse(h),h=0;h<L.length;h++){let bA=L[h];if(d.T=bA[0],bA=bA[1],d.G==2)if(bA[0]=="c"){d.K=bA[1],d.ia=bA[2];const we=bA[3];we!=null&&(d.la=we,d.j.info("VER="+d.la));const me=bA[4];me!=null&&(d.Aa=me,d.j.info("SVER="+d.Aa));const Lr=bA[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(w=1.5*Lr,d.L=w,d.j.info("backChannelRequestTimeoutMs_="+w)),w=d;const rt=a.g;if(rt){const Ps=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var M=w.h;M.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Go(M,M.h),M.h=null))}if(w.D){const qo=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(w.ya=qo,kA(w.I,w.D,qo))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),w=d;var q=a;if(w.qa=fu(w,w.J?w.ia:null,w.W),q.K){Oc(w.h,q);var DA=q,ue=w.L;ue&&(DA.I=ue),DA.B&&(Ko(DA),bs(DA)),w.g=q}else au(w);0<d.i.length&&Vs(d)}else bA[0]!="stop"&&bA[0]!="close"||ur(d,7);else d.G==3&&(bA[0]=="stop"||bA[0]=="close"?bA[0]=="stop"?ur(d,7):jo(d):bA[0]!="noop"&&d.l&&d.l.ta(bA),d.v=0)}}mn(4)}catch{}}var uw=class{constructor(a,h){this.g=a,this.map=h}};function Mc(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pc(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Kc(a){return a.h?1:a.g?a.g.size:0}function No(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Go(a,h){a.g?a.g.add(h):a.h=h}function Oc(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Mc.prototype.cancel=function(){if(this.i=Nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Nc(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return Q(a.i)}function hw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var h=[],d=a.length,w=0;w<d;w++)h.push(a[w]);return h}h=[],d=0;for(w in a)h[d++]=a[w];return h}function fw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const w in a)h[d++]=w;return h}}}function Gc(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=fw(a),w=hw(a),L=w.length,M=0;M<L;M++)h.call(void 0,w[M],d&&d[M],a)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dw(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var w=a[d].indexOf("="),L=null;if(0<=w){var M=a[d].substring(0,w);L=a[d].substring(w+1)}else M=a[d];h(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function cr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof cr){this.h=a.h,Ts(this,a.j),this.o=a.o,this.g=a.g,Hs(this,a.s),this.l=a.l;var h=a.i,d=new Un;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),jc(this,d),this.m=a.m}else a&&(h=String(a).match(Wc))?(this.h=!1,Ts(this,h[1]||"",!0),this.o=_n(h[2]||""),this.g=_n(h[3]||"",!0),Hs(this,h[4]),this.l=_n(h[5]||"",!0),jc(this,h[6]||"",!0),this.m=_n(h[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}cr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(En(h,Xc,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(En(h,Xc,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(En(d,d.charAt(0)=="/"?pw:Bw,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",En(d,mw)),a.join("")};function mt(a){return new cr(a)}function Ts(a,h,d){a.j=d?_n(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Hs(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function jc(a,h,d){h instanceof Un?(a.i=h,Cw(a.i,a.h)):(d||(h=En(h,ww)),a.i=new Un(h,a.h))}function kA(a,h,d){a.i.set(h,d)}function Ss(a){return kA(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function _n(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function En(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,gw),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function gw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xc=/[#\/\?@]/g,Bw=/[#\?:]/g,pw=/[#\?]/g,ww=/[#\?@]/g,mw=/#/g;function Un(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Dt(a){a.g||(a.g=new Map,a.h=0,a.i&&dw(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Un.prototype,t.add=function(a,h){Dt(this),this.i=null,a=Rr(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function Jc(a,h){Dt(a),h=Rr(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function qc(a,h){return Dt(a),h=Rr(a,h),a.g.has(h)}t.forEach=function(a,h){Dt(this),this.g.forEach(function(d,w){d.forEach(function(L){a.call(h,L,w,this)},this)},this)},t.na=function(){Dt(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let w=0;w<h.length;w++){const L=a[w];for(let M=0;M<L.length;M++)d.push(h[w])}return d},t.V=function(a){Dt(this);let h=[];if(typeof a=="string")qc(this,a)&&(h=h.concat(this.g.get(Rr(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return Dt(this),this.i=null,a=Rr(this,a),qc(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Yc(a,h,d){Jc(a,h),0<d.length&&(a.i=null,a.g.set(Rr(a,h),Q(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var w=h[d];const M=encodeURIComponent(String(w)),q=this.V(w);for(w=0;w<q.length;w++){var L=M;q[w]!==""&&(L+="="+encodeURIComponent(String(q[w]))),a.push(L)}}return this.i=a.join("&")};function Rr(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Cw(a,h){h&&!a.j&&(Dt(a),a.i=null,a.g.forEach(function(d,w){var L=w.toLowerCase();w!=L&&(Jc(this,w),Yc(this,L,d))},a)),a.j=h}function Qw(a,h){const d=new Qn;if(o.Image){const w=new Image;w.onload=B(Lt,d,"TestLoadImage: loaded",!0,h,w),w.onerror=B(Lt,d,"TestLoadImage: error",!1,h,w),w.onabort=B(Lt,d,"TestLoadImage: abort",!1,h,w),w.ontimeout=B(Lt,d,"TestLoadImage: timeout",!1,h,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else h(!1)}function yw(a,h){const d=new Qn,w=new AbortController,L=setTimeout(()=>{w.abort(),Lt(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:w.signal}).then(M=>{clearTimeout(L),M.ok?Lt(d,"TestPingServer: ok",!0,h):Lt(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Lt(d,"TestPingServer: error",!1,h)})}function Lt(a,h,d,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(d)}catch{}}function _w(){this.g=new sw}function Ew(a,h,d){const w=d||"";try{Gc(a,function(L,M){let q=L;c(L)&&(q=Do(L)),h.push(w+M+"="+encodeURIComponent(q))})}catch(L){throw h.push(w+"type="+encodeURIComponent("_badmap")),L}}function Rs(a){this.l=a.Ub||null,this.j=a.eb||!1}m(Rs,Lo),Rs.prototype.g=function(){return new Ds(this.l,this.j)},Rs.prototype.i=function(a){return function(){return a}}({});function Ds(a,h){XA.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ds,XA),t=Ds.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,vn(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||o).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vn(this)),this.g&&(this.readyState=3,vn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zc(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function zc(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Fn(this):vn(this),this.readyState==3&&zc(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Fn(this))},t.Qa=function(a){this.g&&(this.response=a,Fn(this))},t.ga=function(){this.g&&Fn(this)};function Fn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,vn(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function vn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Zc(a){let h="";return x(a,function(d,w){h+=w,h+=":",h+=d,h+=`\r
`}),h}function Wo(a,h,d){A:{for(w in d){var w=!1;break A}w=!0}w||(d=Zc(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):kA(a,h,d))}function PA(a){XA.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(PA,XA);var Uw=/^https?$/i,Fw=["POST","PUT"];t=PA.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xo.g(),this.v=this.o?vc(this.o):vc(xo),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){$c(this,M);return}if(a=d||"",d=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)d.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const M of w.keys())d.set(M,w.get(M));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(d.keys()).find(M=>M.toLowerCase()=="content-type"),L=o.FormData&&a instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Fw,h,void 0))||w||L||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,q]of d)this.g.setRequestHeader(M,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tu(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){$c(this,M)}};function $c(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Au(a),Ls(a)}function Au(a){a.A||(a.A=!0,NA(a,"complete"),NA(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,NA(this,"complete"),NA(this,"abort"),Ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),PA.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eu(this):this.bb())},t.bb=function(){eu(this)};function eu(a){if(a.h&&typeof i<"u"&&(!a.v[1]||Ct(a)!=4||a.Z()!=2)){if(a.u&&Ct(a)==4)gn(a.Ea,0,a);else if(NA(a,"readystatechange"),Ct(a)==4){a.h=!1;try{const q=a.Z();A:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break A;default:h=!1}var d;if(!(d=h)){var w;if(w=q===0){var L=String(a.D).match(Wc)[1]||null;!L&&o.self&&o.self.location&&(L=o.self.location.protocol.slice(0,-1)),w=!Uw.test(L?L.toLowerCase():"")}d=w}if(d)NA(a,"complete"),NA(a,"success");else{a.m=6;try{var M=2<Ct(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",Au(a)}}finally{Ls(a)}}}}function Ls(a,h){if(a.g){tu(a);const d=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||NA(a,"ready");try{d.onreadystatechange=w}catch{}}}function tu(a){a.I&&(o.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ct(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ct(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),nw(h)}};function ru(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function vw(a){const h={};a=(a.g&&2<=Ct(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(S(a[w]))continue;var d=U(a[w]);const L=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const M=h[L]||[];h[L]=M,M.push(d)}E(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function In(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function nu(a){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=In("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=In("baseRetryDelayMs",5e3,a),this.cb=In("retryDelaySeedMs",1e4,a),this.Wa=In("forwardChannelMaxRetries",2,a),this.wa=In("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Mc(a&&a.concurrentRequestLimit),this.Da=new _w,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nu.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,w){Ue(0),this.W=a,this.H=h||{},d&&w!==void 0&&(this.H.OSID=d,this.H.OAID=w),this.F=this.X,this.I=fu(this,null,this.W),Vs(this)};function jo(a){if(su(a),a.G==3){var h=a.U++,d=mt(a.I);if(kA(d,"SID",a.K),kA(d,"RID",h),kA(d,"TYPE","terminate"),bn(a,d),h=new Rt(a,a.j,h),h.L=2,h.v=Ss(mt(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&o.Image&&(new Image().src=h.v,d=!0),d||(h.g=du(h.j,null),h.g.ea(h.v)),h.F=Date.now(),bs(h)}hu(a)}function ks(a){a.g&&(Jo(a),a.g.cancel(),a.g=null)}function su(a){ks(a),a.u&&(o.clearTimeout(a.u),a.u=null),xs(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&o.clearTimeout(a.s),a.s=null)}function Vs(a){if(!Pc(a.h)&&!a.s){a.s=!0;var h=a.Ga;hA||V(),TA||(hA(),TA=!0),Be.add(h,a),a.B=0}}function Iw(a,h){return Kc(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Cn(g(a.Ga,a,h),uu(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new Rt(this,this.j,a);let M=this.o;if(this.S&&(M?(M=C(M),v(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)A:{for(var h=0,d=0;d<this.i.length;d++){e:{var w=this.i[d];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=d;break A}if(h===4096||d===this.i.length-1){h=d+1;break A}}h=1e3}else h=1e3;h=ou(this,L,h),d=mt(this.I),kA(d,"RID",a),kA(d,"CVER",22),this.D&&kA(d,"X-HTTP-Session-Id",this.D),bn(this,d),M&&(this.O?h="headers="+encodeURIComponent(String(Zc(M)))+"&"+h:this.m&&Wo(d,this.m,M)),Go(this.h,L),this.Ua&&kA(d,"TYPE","init"),this.P?(kA(d,"$req",h),kA(d,"SID","null"),L.T=!0,Po(L,d,null)):Po(L,d,h),this.G=2}}else this.G==3&&(a?iu(this,a):this.i.length==0||Pc(this.h)||iu(this))};function iu(a,h){var d;h?d=h.l:d=a.U++;const w=mt(a.I);kA(w,"SID",a.K),kA(w,"RID",d),kA(w,"AID",a.T),bn(a,w),a.m&&a.o&&Wo(w,a.m,a.o),d=new Rt(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=ou(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Go(a.h,d),Po(d,w,h)}function bn(a,h){a.H&&x(a.H,function(d,w){kA(h,w,d)}),a.l&&Gc({},function(d,w){kA(h,w,d)})}function ou(a,h,d){d=Math.min(a.i.length,d);var w=a.l?g(a.l.Na,a.l,a):null;A:{var L=a.i;let M=-1;for(;;){const q=["count="+d];M==-1?0<d?(M=L[0].g,q.push("ofs="+M)):M=0:q.push("ofs="+M);let DA=!0;for(let ue=0;ue<d;ue++){let bA=L[ue].g;const we=L[ue].map;if(bA-=M,0>bA)M=Math.max(0,L[ue].g-100),DA=!1;else try{Ew(we,q,"req"+bA+"_")}catch{w&&w(we)}}if(DA){w=q.join("&");break A}}}return a=a.i.splice(0,d),h.D=a,w}function au(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;hA||V(),TA||(hA(),TA=!0),Be.add(h,a),a.v=0}}function Xo(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Cn(g(a.Fa,a),uu(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Cn(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),ks(this),lu(this))};function Jo(a){a.A!=null&&(o.clearTimeout(a.A),a.A=null)}function lu(a){a.g=new Rt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=mt(a.qa);kA(h,"RID","rpc"),kA(h,"SID",a.K),kA(h,"AID",a.T),kA(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&kA(h,"TO",a.ja),kA(h,"TYPE","xmlhttp"),bn(a,h),a.m&&a.o&&Wo(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Ss(mt(h)),d.m=null,d.P=!0,kc(d,a)}t.Za=function(){this.C!=null&&(this.C=null,ks(this),Xo(this),Ue(19))};function xs(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function cu(a,h){var d=null;if(a.g==h){xs(a),Jo(a),a.g=null;var w=2}else if(No(a.h,h))d=h.D,Oc(a.h,h),w=1;else return;if(a.G!=0){if(h.o)if(w==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var L=a.B;w=Fs(),NA(w,new Sc(w,d)),Vs(a)}else au(a);else if(L=h.s,L==3||L==0&&0<h.X||!(w==1&&Iw(a,h)||w==2&&Xo(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),L){case 1:ur(a,5);break;case 4:ur(a,10);break;case 3:ur(a,6);break;default:ur(a,2)}}}function uu(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function ur(a,h){if(a.j.info("Error code "+h),h==2){var d=g(a.fb,a),w=a.Xa;const L=!w;w=new cr(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ts(w,"https"),Ss(w),L?Qw(w.toString(),d):yw(w.toString(),d)}else Ue(2);a.G=0,a.l&&a.l.sa(h),hu(a),su(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function hu(a){if(a.G=0,a.ka=[],a.l){const h=Nc(a.h);(h.length!=0||a.i.length!=0)&&(F(a.ka,h),F(a.ka,a.i),a.h.i.length=0,Q(a.i),a.i.length=0),a.l.ra()}}function fu(a,h,d){var w=d instanceof cr?mt(d):new cr(d);if(w.g!="")h&&(w.g=h+"."+w.g),Hs(w,w.s);else{var L=o.location;w=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var M=new cr(null);w&&Ts(M,w),h&&(M.g=h),L&&Hs(M,L),d&&(M.l=d),w=M}return d=a.D,h=a.ya,d&&h&&kA(w,d,h),kA(w,"VER",a.la),bn(a,w),w}function du(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new PA(new Rs({eb:d})):new PA(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}t=gu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ms(){}Ms.prototype.g=function(a,h){return new ke(a,h)};function ke(a,h){XA.call(this),this.g=new nu(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!S(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!S(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Dr(this)}m(ke,XA),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){jo(this.g)},ke.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Do(a),a=d);h.i.push(new uw(h.Ya++,a)),h.G==3&&Vs(h)},ke.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,ke.aa.N.call(this)};function Bu(a){ko.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){A:{for(const d in h){a=d;break A}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}m(Bu,ko);function pu(){Vo.call(this),this.status=1}m(pu,Vo);function Dr(a){this.g=a}m(Dr,gu),Dr.prototype.ua=function(){NA(this.g,"a")},Dr.prototype.ta=function(a){NA(this.g,new Bu(a))},Dr.prototype.sa=function(a){NA(this.g,new pu)},Dr.prototype.ra=function(){NA(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,Ug=function(){return new Ms},Eg=function(){return Fs()},_g=ar,xa={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,mi=vs,Rc.COMPLETE="complete",yg=Rc,Ic.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",XA.prototype.listen=XA.prototype.K,Dn=Ic,PA.prototype.listenOnce=PA.prototype.L,PA.prototype.getLastError=PA.prototype.Ka,PA.prototype.getLastErrorCode=PA.prototype.Ba,PA.prototype.getStatus=PA.prototype.Z,PA.prototype.getResponseJson=PA.prototype.Oa,PA.prototype.getResponseText=PA.prototype.oa,PA.prototype.send=PA.prototype.ea,PA.prototype.setWithCredentials=PA.prototype.Ha,Qg=PA}).apply(typeof Os<"u"?Os:typeof self<"u"?self:typeof window<"u"?window:{});const Nu="@firebase/firestore",Gu="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(A){this.uid=A}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(A){return A.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cn="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Ql("@firebase/firestore");function Wr(){return Er.logLevel}function $(t,...A){if(Er.logLevel<=FA.DEBUG){const e=A.map(bl);Er.debug(`Firestore (${cn}): ${t}`,...e)}}function vt(t,...A){if(Er.logLevel<=FA.ERROR){const e=A.map(bl);Er.error(`Firestore (${cn}): ${t}`,...e)}}function en(t,...A){if(Er.logLevel<=FA.WARN){const e=A.map(bl);Er.warn(`Firestore (${cn}): ${t}`,...e)}}function bl(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t="Unexpected state"){const A=`FIRESTORE (${cn}) INTERNAL ASSERTION FAILED: `+t;throw vt(A),new Error(A)}function SA(t,A){t||dA()}function wA(t,A){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sA extends nr{constructor(A,e){super(A,e),this.code=A,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(){this.promise=new Promise((A,e)=>{this.resolve=A,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(A,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${A}`)}}class O0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(A,e){A.enqueueRetryable(()=>e(Qe.UNAUTHENTICATED))}shutdown(){}}class N0{constructor(A){this.token=A,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(A,e){this.changeListener=e,A.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class G0{constructor(A){this.t=A,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(A,e){SA(this.o===void 0);let r=this.i;const n=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new Et;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Et,A.enqueueRetryable(()=>n(this.currentUser))};const i=()=>{const l=s;A.enqueueRetryable(async()=>{await l.promise,await n(this.currentUser)})},o=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Et)}},0),i()}getToken(){const A=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==A?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(SA(typeof r.accessToken=="string"),new Fg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const A=this.auth&&this.auth.getUid();return SA(A===null||typeof A=="string"),new Qe(A)}}class W0{constructor(A,e,r){this.l=A,this.h=e,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const A=this.I();return A&&this.T.set("Authorization",A),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class j0{constructor(A,e,r){this.l=A,this.h=e,this.P=r}getToken(){return Promise.resolve(new W0(this.l,this.h,this.P))}start(A,e){A.enqueueRetryable(()=>e(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wu{constructor(A){this.value=A,this.type="AppCheck",this.headers=new Map,A&&A.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X0{constructor(A,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,aC(A)&&A.settings.appCheckToken&&(this.V=A.settings.appCheckToken)}start(A,e){SA(this.o===void 0);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(s.token):Promise.resolve()};this.o=s=>{A.enqueueRetryable(()=>r(s))};const n=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>n(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?n(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wu(this.V));const A=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(A).then(e=>e?(SA(typeof e.token=="string"),this.R=e.token,new Wu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){const A=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(A&&typeof A.getRandomValues=="function")A.getRandomValues(e);else for(let r=0;r<t;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{static newId(){const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const n=J0(40);for(let s=0;s<n.length;++s)r.length<20&&n[s]<e&&(r+=A.charAt(n[s]%62))}return r}}function mA(t,A){return t<A?-1:t>A?1:0}function Ma(t,A){let e=0;for(;e<t.length&&e<A.length;){const r=t.codePointAt(e),n=A.codePointAt(e);if(r!==n){if(r<128&&n<128)return mA(r,n);{const s=vg(),i=q0(s.encode(ju(t,e)),s.encode(ju(A,e)));return i!==0?i:mA(r,n)}}e+=r>65535?2:1}return mA(t.length,A.length)}function ju(t,A){return t.codePointAt(A)>65535?t.substring(A,A+2):t.substring(A,A+1)}function q0(t,A){for(let e=0;e<t.length&&e<A.length;++e)if(t[e]!==A[e])return mA(t[e],A[e]);return mA(t.length,A.length)}function tn(t,A,e){return t.length===A.length&&t.every((r,n)=>e(r,A[n]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-62135596800,Ju=1e6;class $A{static now(){return $A.fromMillis(Date.now())}static fromDate(A){return $A.fromMillis(A.getTime())}static fromMillis(A){const e=Math.floor(A/1e3),r=Math.floor((A-1e3*e)*Ju);return new $A(e,r)}constructor(A,e){if(this.seconds=A,this.nanoseconds=e,e<0)throw new sA(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new sA(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(A<Xu)throw new sA(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A);if(A>=253402300800)throw new sA(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+A)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ju}_compareTo(A){return this.seconds===A.seconds?mA(this.nanoseconds,A.nanoseconds):mA(this.seconds,A.seconds)}isEqual(A){return A.seconds===this.seconds&&A.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const A=this.seconds-Xu;return String(A).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{static fromTimestamp(A){return new gA(A)}static min(){return new gA(new $A(0,0))}static max(){return new gA(new $A(253402300799,999999999))}constructor(A){this.timestamp=A}compareTo(A){return this.timestamp._compareTo(A.timestamp)}isEqual(A){return this.timestamp.isEqual(A.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="__name__";class lt{constructor(A,e,r){e===void 0?e=0:e>A.length&&dA(),r===void 0?r=A.length-e:r>A.length-e&&dA(),this.segments=A,this.offset=e,this.len=r}get length(){return this.len}isEqual(A){return lt.comparator(this,A)===0}child(A){const e=this.segments.slice(this.offset,this.limit());return A instanceof lt?A.forEach(r=>{e.push(r)}):e.push(A),this.construct(e)}limit(){return this.offset+this.length}popFirst(A){return A=A===void 0?1:A,this.construct(this.segments,this.offset+A,this.length-A)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(A){return this.segments[this.offset+A]}isEmpty(){return this.length===0}isPrefixOf(A){if(A.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}isImmediateParentOf(A){if(this.length+1!==A.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==A.get(e))return!1;return!0}forEach(A){for(let e=this.offset,r=this.limit();e<r;e++)A(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(A,e){const r=Math.min(A.length,e.length);for(let n=0;n<r;n++){const s=lt.compareSegments(A.get(n),e.get(n));if(s!==0)return s}return mA(A.length,e.length)}static compareSegments(A,e){const r=lt.isNumericId(A),n=lt.isNumericId(e);return r&&!n?-1:!r&&n?1:r&&n?lt.extractNumericId(A).compare(lt.extractNumericId(e)):Ma(A,e)}static isNumericId(A){return A.startsWith("__id")&&A.endsWith("__")}static extractNumericId(A){return jt.fromString(A.substring(4,A.length-2))}}class xA extends lt{construct(A,e,r){return new xA(A,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...A){const e=[];for(const r of A){if(r.indexOf("//")>=0)throw new sA(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(n=>n.length>0))}return new xA(e)}static emptyPath(){return new xA([])}}const Y0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fe extends lt{construct(A,e,r){return new fe(A,e,r)}static isValidIdentifier(A){return Y0.test(A)}canonicalString(){return this.toArray().map(A=>(A=A.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fe.isValidIdentifier(A)||(A="`"+A+"`"),A)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qu}static keyField(){return new fe([qu])}static fromServerFormat(A){const e=[];let r="",n=0;const s=()=>{if(r.length===0)throw new sA(N.INVALID_ARGUMENT,`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let i=!1;for(;n<A.length;){const o=A[n];if(o==="\\"){if(n+1===A.length)throw new sA(N.INVALID_ARGUMENT,"Path has trailing escape character: "+A);const l=A[n+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new sA(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+A);r+=l,n+=2}else o==="`"?(i=!i,n++):o!=="."||i?(r+=o,n++):(s(),n++)}if(s(),i)throw new sA(N.INVALID_ARGUMENT,"Unterminated ` in path: "+A);return new fe(e)}static emptyPath(){return new fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(A){this.path=A}static fromPath(A){return new cA(xA.fromString(A))}static fromName(A){return new cA(xA.fromString(A).popFirst(5))}static empty(){return new cA(xA.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(A){return this.path.length>=2&&this.path.get(this.path.length-2)===A}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(A){return A!==null&&xA.comparator(this.path,A.path)===0}toString(){return this.path.toString()}static comparator(A,e){return xA.comparator(A.path,e.path)}static isDocumentKey(A){return A.length%2==0}static fromSegments(A){return new cA(new xA(A.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=-1;function z0(t,A){const e=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,n=gA.fromTimestamp(r===1e9?new $A(e+1,0):new $A(e,r));return new Yt(n,cA.empty(),A)}function Z0(t){return new Yt(t.readTime,t.key,ts)}class Yt{constructor(A,e,r){this.readTime=A,this.documentKey=e,this.largestBatchId=r}static min(){return new Yt(gA.min(),cA.empty(),ts)}static max(){return new Yt(gA.max(),cA.empty(),ts)}}function $0(t,A){let e=t.readTime.compareTo(A.readTime);return e!==0?e:(e=cA.comparator(t.documentKey,A.documentKey),e!==0?e:mA(t.largestBatchId,A.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(A){this.onCommittedListeners.push(A)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(A=>A())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function un(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==AQ)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(A){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,A(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(A){return this.next(void 0,A)}next(A,e){return this.callbackAttached&&dA(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(A,this.result):new O((r,n)=>{this.nextCallback=s=>{this.wrapSuccess(A,s).next(r,n)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,n)}})}toPromise(){return new Promise((A,e)=>{this.next(A,e)})}wrapUserFunction(A){try{const e=A();return e instanceof O?e:O.resolve(e)}catch(e){return O.reject(e)}}wrapSuccess(A,e){return A?this.wrapUserFunction(()=>A(e)):O.resolve(e)}wrapFailure(A,e){return A?this.wrapUserFunction(()=>A(e)):O.reject(e)}static resolve(A){return new O((e,r)=>{e(A)})}static reject(A){return new O((e,r)=>{r(A)})}static waitFor(A){return new O((e,r)=>{let n=0,s=0,i=!1;A.forEach(o=>{++n,o.next(()=>{++s,i&&s===n&&e()},l=>r(l))}),i=!0,s===n&&e()})}static or(A){let e=O.resolve(!1);for(const r of A)e=e.next(n=>n?O.resolve(n):r());return e}static forEach(A,e){const r=[];return A.forEach((n,s)=>{r.push(e.call(this,n,s))}),this.waitFor(r)}static mapArray(A,e){return new O((r,n)=>{const s=A.length,i=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;e(A[c]).next(u=>{i[c]=u,++o,o===s&&r(i)},u=>n(u))}})}static doWhile(A,e){return new O((r,n)=>{const s=()=>{A()===!0?e().next(()=>{s()},n):r()};s()})}}function tQ(t){const A=t.match(/Android ([\d.]+)/i),e=A?A[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hn(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(A,e){this.previousValue=A,e&&(e.sequenceNumberHandler=r=>this.oe(r),this._e=r=>e.writeSequenceNumber(r))}oe(A){return this.previousValue=Math.max(A,this.previousValue),this.previousValue}next(){const A=++this.previousValue;return this._e&&this._e(A),A}}ro.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=-1;function no(t){return t==null}function Si(t){return t===0&&1/t==-1/0}function rQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Si(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="";function nQ(t){let A="";for(let e=0;e<t.length;e++)A.length>0&&(A=Yu(A)),A=sQ(t.get(e),A);return Yu(A)}function sQ(t,A){let e=A;const r=t.length;for(let n=0;n<r;n++){const s=t.charAt(n);switch(s){case"\0":e+="";break;case bg:e+="";break;default:e+=s}}return e}function Yu(t){return t+bg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){let A=0;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A++;return A}function sr(t,A){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&A(e,t[e])}function Tg(t){for(const A in t)if(Object.prototype.hasOwnProperty.call(t,A))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(A,e){this.comparator=A,this.root=e||he.EMPTY}insert(A,e){return new MA(this.comparator,this.root.insert(A,e,this.comparator).copy(null,null,he.BLACK,null,null))}remove(A){return new MA(this.comparator,this.root.remove(A,this.comparator).copy(null,null,he.BLACK,null,null))}get(A){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(A,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(A){let e=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(A,r.key);if(n===0)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(A){return this.root.inorderTraversal(A)}forEach(A){this.inorderTraversal((e,r)=>(A(e,r),!1))}toString(){const A=[];return this.inorderTraversal((e,r)=>(A.push(`${e}:${r}`),!1)),`{${A.join(", ")}}`}reverseTraversal(A){return this.root.reverseTraversal(A)}getIterator(){return new Ns(this.root,null,this.comparator,!1)}getIteratorFrom(A){return new Ns(this.root,A,this.comparator,!1)}getReverseIterator(){return new Ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(A){return new Ns(this.root,A,this.comparator,!0)}}class Ns{constructor(A,e,r,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!A.isEmpty();)if(s=e?r(A.key,e):1,e&&n&&(s*=-1),s<0)A=this.isReverse?A.left:A.right;else{if(s===0){this.nodeStack.push(A);break}this.nodeStack.push(A),A=this.isReverse?A.right:A.left}}getNext(){let A=this.nodeStack.pop();const e={key:A.key,value:A.value};if(this.isReverse)for(A=A.left;!A.isEmpty();)this.nodeStack.push(A),A=A.right;else for(A=A.right;!A.isEmpty();)this.nodeStack.push(A),A=A.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const A=this.nodeStack[this.nodeStack.length-1];return{key:A.key,value:A.value}}}class he{constructor(A,e,r,n,s){this.key=A,this.value=e,this.color=r??he.RED,this.left=n??he.EMPTY,this.right=s??he.EMPTY,this.size=this.left.size+1+this.right.size}copy(A,e,r,n,s){return new he(A??this.key,e??this.value,r??this.color,n??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(A){return this.left.inorderTraversal(A)||A(this.key,this.value)||this.right.inorderTraversal(A)}reverseTraversal(A){return this.right.reverseTraversal(A)||A(this.key,this.value)||this.left.reverseTraversal(A)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(A,e,r){let n=this;const s=r(A,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(A,e,r),null):s===0?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(A,e,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return he.EMPTY;let A=this;return A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.removeMin(),null),A.fixUp()}remove(A,e){let r,n=this;if(e(A,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(A,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),e(A,n.key)===0){if(n.right.isEmpty())return he.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(A,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let A=this;return A.right.isRed()&&!A.left.isRed()&&(A=A.rotateLeft()),A.left.isRed()&&A.left.left.isRed()&&(A=A.rotateRight()),A.left.isRed()&&A.right.isRed()&&(A=A.colorFlip()),A}moveRedLeft(){let A=this.colorFlip();return A.right.left.isRed()&&(A=A.copy(null,null,null,null,A.right.rotateRight()),A=A.rotateLeft(),A=A.colorFlip()),A}moveRedRight(){let A=this.colorFlip();return A.left.left.isRed()&&(A=A.rotateRight(),A=A.colorFlip()),A}rotateLeft(){const A=this.copy(null,null,he.RED,null,this.right.left);return this.right.copy(null,null,this.color,A,null)}rotateRight(){const A=this.copy(null,null,he.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,A)}colorFlip(){const A=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,A,e)}checkMaxDepth(){const A=this.check();return Math.pow(2,A)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dA();const A=this.left.check();if(A!==this.right.check())throw dA();return A+(this.isRed()?0:1)}}he.EMPTY=null,he.RED=!0,he.BLACK=!1;he.EMPTY=new class{constructor(){this.size=0}get key(){throw dA()}get value(){throw dA()}get color(){throw dA()}get left(){throw dA()}get right(){throw dA()}copy(A,e,r,n,s){return this}insert(A,e,r){return new he(A,e)}remove(A,e){return this}isEmpty(){return!0}inorderTraversal(A){return!1}reverseTraversal(A){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(A){this.comparator=A,this.data=new MA(this.comparator)}has(A){return this.data.get(A)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(A){return this.data.indexOf(A)}forEach(A){this.data.inorderTraversal((e,r)=>(A(e),!1))}forEachInRange(A,e){const r=this.data.getIteratorFrom(A[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,A[1])>=0)return;e(n.key)}}forEachWhile(A,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!A(r.getNext().key))return}firstAfterOrEqual(A){const e=this.data.getIteratorFrom(A);return e.hasNext()?e.getNext().key:null}getIterator(){return new Zu(this.data.getIterator())}getIteratorFrom(A){return new Zu(this.data.getIteratorFrom(A))}add(A){return this.copy(this.data.remove(A).insert(A,!0))}delete(A){return this.has(A)?this.copy(this.data.remove(A)):this}isEmpty(){return this.data.isEmpty()}unionWith(A){let e=this;return e.size<A.size&&(e=A,A=this),A.forEach(r=>{e=e.add(r)}),e}isEqual(A){if(!(A instanceof Ae)||this.size!==A.size)return!1;const e=this.data.getIterator(),r=A.data.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(this.comparator(n,s)!==0)return!1}return!0}toArray(){const A=[];return this.forEach(e=>{A.push(e)}),A}toString(){const A=[];return this.forEach(e=>A.push(e)),"SortedSet("+A.toString()+")"}copy(A){const e=new Ae(this.comparator);return e.data=A,e}}class Zu{constructor(A){this.iter=A}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(A){this.fields=A,A.sort(fe.comparator)}static empty(){return new Oe([])}unionWith(A){let e=new Ae(fe.comparator);for(const r of this.fields)e=e.add(r);for(const r of A)e=e.add(r);return new Oe(e.toArray())}covers(A){for(const e of this.fields)if(e.isPrefixOf(A))return!0;return!1}isEqual(A){return tn(this.fields,A.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(A){this.binaryString=A}static fromBase64String(A){const e=function(n){try{return atob(n)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hg("Invalid base64 string: "+s):s}}(A);return new ge(e)}static fromUint8Array(A){const e=function(n){let s="";for(let i=0;i<n.length;++i)s+=String.fromCharCode(n[i]);return s}(A);return new ge(e)}[Symbol.iterator](){let A=0;return{next:()=>A<this.binaryString.length?{value:this.binaryString.charCodeAt(A++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(A){return mA(this.binaryString,A.binaryString)}isEqual(A){return this.binaryString===A.binaryString}}ge.EMPTY_BYTE_STRING=new ge("");const iQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zt(t){if(SA(!!t),typeof t=="string"){let A=0;const e=iQ.exec(t);if(SA(!!e),e[1]){let n=e[1];n=(n+"000000000").substr(0,9),A=Number(n)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:A}}return{seconds:jA(t.seconds),nanos:jA(t.nanos)}}function jA(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zt(t){return typeof t=="string"?ge.fromBase64String(t):ge.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="server_timestamp",Rg="__type__",Dg="__previous_value__",Lg="__local_write_time__";function Hl(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[Rg])===null||e===void 0?void 0:e.stringValue)===Sg}function so(t){const A=t.mapValue.fields[Dg];return Hl(A)?so(A):A}function rs(t){const A=zt(t.mapValue.fields[Lg].timestampValue);return new $A(A.seconds,A.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(A,e,r,n,s,i,o,l,c){this.databaseId=A,this.appId=e,this.persistenceKey=r,this.host=n,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}const Ri="(default)";class ns{constructor(A,e){this.projectId=A,this.database=e||Ri}static empty(){return new ns("","")}get isDefaultDatabase(){return this.database===Ri}isEqual(A){return A instanceof ns&&A.projectId===this.projectId&&A.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="__type__",Vg="__max__",Gs={mapValue:{fields:{__type__:{stringValue:Vg}}}},xg="__vector__",Di="value";function $t(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hl(t)?4:lQ(t)?9007199254740991:aQ(t)?10:11:dA()}function dt(t,A){if(t===A)return!0;const e=$t(t);if(e!==$t(A))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===A.booleanValue;case 4:return rs(t).isEqual(rs(A));case 3:return function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const i=zt(n.timestampValue),o=zt(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,A);case 5:return t.stringValue===A.stringValue;case 6:return function(n,s){return Zt(n.bytesValue).isEqual(Zt(s.bytesValue))}(t,A);case 7:return t.referenceValue===A.referenceValue;case 8:return function(n,s){return jA(n.geoPointValue.latitude)===jA(s.geoPointValue.latitude)&&jA(n.geoPointValue.longitude)===jA(s.geoPointValue.longitude)}(t,A);case 2:return function(n,s){if("integerValue"in n&&"integerValue"in s)return jA(n.integerValue)===jA(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const i=jA(n.doubleValue),o=jA(s.doubleValue);return i===o?Si(i)===Si(o):isNaN(i)&&isNaN(o)}return!1}(t,A);case 9:return tn(t.arrayValue.values||[],A.arrayValue.values||[],dt);case 10:case 11:return function(n,s){const i=n.mapValue.fields||{},o=s.mapValue.fields||{};if(zu(i)!==zu(o))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(o[l]===void 0||!dt(i[l],o[l])))return!1;return!0}(t,A);default:return dA()}}function ss(t,A){return(t.values||[]).find(e=>dt(e,A))!==void 0}function rn(t,A){if(t===A)return 0;const e=$t(t),r=$t(A);if(e!==r)return mA(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return mA(t.booleanValue,A.booleanValue);case 2:return function(s,i){const o=jA(s.integerValue||s.doubleValue),l=jA(i.integerValue||i.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,A);case 3:return $u(t.timestampValue,A.timestampValue);case 4:return $u(rs(t),rs(A));case 5:return Ma(t.stringValue,A.stringValue);case 6:return function(s,i){const o=Zt(s),l=Zt(i);return o.compareTo(l)}(t.bytesValue,A.bytesValue);case 7:return function(s,i){const o=s.split("/"),l=i.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=mA(o[c],l[c]);if(u!==0)return u}return mA(o.length,l.length)}(t.referenceValue,A.referenceValue);case 8:return function(s,i){const o=mA(jA(s.latitude),jA(i.latitude));return o!==0?o:mA(jA(s.longitude),jA(i.longitude))}(t.geoPointValue,A.geoPointValue);case 9:return Ah(t.arrayValue,A.arrayValue);case 10:return function(s,i){var o,l,c,u;const f=s.fields||{},g=i.fields||{},B=(o=f[Di])===null||o===void 0?void 0:o.arrayValue,m=(l=g[Di])===null||l===void 0?void 0:l.arrayValue,Q=mA(((c=B==null?void 0:B.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return Q!==0?Q:Ah(B,m)}(t.mapValue,A.mapValue);case 11:return function(s,i){if(s===Gs.mapValue&&i===Gs.mapValue)return 0;if(s===Gs.mapValue)return 1;if(i===Gs.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const g=Ma(l[f],u[f]);if(g!==0)return g;const B=rn(o[l[f]],c[u[f]]);if(B!==0)return B}return mA(l.length,u.length)}(t.mapValue,A.mapValue);default:throw dA()}}function $u(t,A){if(typeof t=="string"&&typeof A=="string"&&t.length===A.length)return mA(t,A);const e=zt(t),r=zt(A),n=mA(e.seconds,r.seconds);return n!==0?n:mA(e.nanos,r.nanos)}function Ah(t,A){const e=t.values||[],r=A.values||[];for(let n=0;n<e.length&&n<r.length;++n){const s=rn(e[n],r[n]);if(s)return s}return mA(e.length,r.length)}function nn(t){return Pa(t)}function Pa(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const r=zt(e);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return Zt(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return cA.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let r="[",n=!0;for(const s of e.values||[])n?n=!1:r+=",",r+=Pa(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(e){const r=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const i of r)s?s=!1:n+=",",n+=`${i}:${Pa(e.fields[i])}`;return n+"}"}(t.mapValue):dA()}function Ci(t){switch($t(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const A=so(t);return A?16+Ci(A):16;case 5:return 2*t.stringValue.length;case 6:return Zt(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((n,s)=>n+Ci(s),0)}(t.arrayValue);case 10:case 11:return function(r){let n=0;return sr(r.fields,(s,i)=>{n+=s.length+Ci(i)}),n}(t.mapValue);default:throw dA()}}function Ka(t){return!!t&&"integerValue"in t}function Sl(t){return!!t&&"arrayValue"in t}function eh(t){return!!t&&"nullValue"in t}function th(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qi(t){return!!t&&"mapValue"in t}function aQ(t){var A,e;return((e=(((A=t==null?void 0:t.mapValue)===null||A===void 0?void 0:A.fields)||{})[kg])===null||e===void 0?void 0:e.stringValue)===xg}function jn(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const A={mapValue:{fields:{}}};return sr(t.mapValue.fields,(e,r)=>A.mapValue.fields[e]=jn(r)),A}if(t.arrayValue){const A={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)A.arrayValue.values[e]=jn(t.arrayValue.values[e]);return A}return Object.assign({},t)}function lQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Vg}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(A){this.value=A}static empty(){return new Te({mapValue:{}})}field(A){if(A.isEmpty())return this.value;{let e=this.value;for(let r=0;r<A.length-1;++r)if(e=(e.mapValue.fields||{})[A.get(r)],!Qi(e))return null;return e=(e.mapValue.fields||{})[A.lastSegment()],e||null}}set(A,e){this.getFieldsMap(A.popLast())[A.lastSegment()]=jn(e)}setAll(A){let e=fe.emptyPath(),r={},n=[];A.forEach((i,o)=>{if(!e.isImmediateParentOf(o)){const l=this.getFieldsMap(e);this.applyChanges(l,r,n),r={},n=[],e=o.popLast()}i?r[o.lastSegment()]=jn(i):n.push(o.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,n)}delete(A){const e=this.field(A.popLast());Qi(e)&&e.mapValue.fields&&delete e.mapValue.fields[A.lastSegment()]}isEqual(A){return dt(this.value,A.value)}getFieldsMap(A){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<A.length;++r){let n=e.mapValue.fields[A.get(r)];Qi(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[A.get(r)]=n),e=n}return e.mapValue.fields}applyChanges(A,e,r){sr(e,(n,s)=>A[n]=s);for(const n of r)delete A[n]}clone(){return new Te(jn(this.value))}}function Mg(t){const A=[];return sr(t.fields,(e,r)=>{const n=new fe([e]);if(Qi(r)){const s=Mg(r.mapValue).fields;if(s.length===0)A.push(n);else for(const i of s)A.push(n.child(i))}else A.push(n)}),new Oe(A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(A,e,r,n,s,i,o){this.key=A,this.documentType=e,this.version=r,this.readTime=n,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(A){return new _e(A,0,gA.min(),gA.min(),gA.min(),Te.empty(),0)}static newFoundDocument(A,e,r,n){return new _e(A,1,e,gA.min(),r,n,0)}static newNoDocument(A,e){return new _e(A,2,e,gA.min(),gA.min(),Te.empty(),0)}static newUnknownDocument(A,e){return new _e(A,3,e,gA.min(),gA.min(),Te.empty(),2)}convertToFoundDocument(A,e){return!this.createTime.isEqual(gA.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=A),this.version=A,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(A){return this.version=A,this.documentType=2,this.data=Te.empty(),this.documentState=0,this}convertToUnknownDocument(A){return this.version=A,this.documentType=3,this.data=Te.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gA.min(),this}setReadTime(A){return this.readTime=A,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(A){return A instanceof _e&&this.key.isEqual(A.key)&&this.version.isEqual(A.version)&&this.documentType===A.documentType&&this.documentState===A.documentState&&this.data.isEqual(A.data)}mutableCopy(){return new _e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(A,e){this.position=A,this.inclusive=e}}function rh(t,A,e){let r=0;for(let n=0;n<t.position.length;n++){const s=A[n],i=t.position[n];if(s.field.isKeyField()?r=cA.comparator(cA.fromName(i.referenceValue),e.key):r=rn(i,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nh(t,A){if(t===null)return A===null;if(A===null||t.inclusive!==A.inclusive||t.position.length!==A.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!dt(t.position[e],A.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(A,e="asc"){this.field=A,this.dir=e}}function cQ(t,A){return t.dir===A.dir&&t.field.isEqual(A.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{}class ZA extends Pg{constructor(A,e,r){super(),this.field=A,this.op=e,this.value=r}static create(A,e,r){return A.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(A,e,r):new hQ(A,e,r):e==="array-contains"?new gQ(A,r):e==="in"?new BQ(A,r):e==="not-in"?new pQ(A,r):e==="array-contains-any"?new wQ(A,r):new ZA(A,e,r)}static createKeyFieldInFilter(A,e,r){return e==="in"?new fQ(A,r):new dQ(A,r)}matches(A){const e=A.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(rn(e,this.value)):e!==null&&$t(this.value)===$t(e)&&this.matchesComparison(rn(e,this.value))}matchesComparison(A){switch(this.op){case"<":return A<0;case"<=":return A<=0;case"==":return A===0;case"!=":return A!==0;case">":return A>0;case">=":return A>=0;default:return dA()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gt extends Pg{constructor(A,e){super(),this.filters=A,this.op=e,this.ce=null}static create(A,e){return new gt(A,e)}matches(A){return Kg(this)?this.filters.find(e=>!e.matches(A))===void 0:this.filters.find(e=>e.matches(A))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((A,e)=>A.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Kg(t){return t.op==="and"}function Og(t){return uQ(t)&&Kg(t)}function uQ(t){for(const A of t.filters)if(A instanceof gt)return!1;return!0}function Oa(t){if(t instanceof ZA)return t.field.canonicalString()+t.op.toString()+nn(t.value);if(Og(t))return t.filters.map(A=>Oa(A)).join(",");{const A=t.filters.map(e=>Oa(e)).join(",");return`${t.op}(${A})`}}function Ng(t,A){return t instanceof ZA?function(r,n){return n instanceof ZA&&r.op===n.op&&r.field.isEqual(n.field)&&dt(r.value,n.value)}(t,A):t instanceof gt?function(r,n){return n instanceof gt&&r.op===n.op&&r.filters.length===n.filters.length?r.filters.reduce((s,i,o)=>s&&Ng(i,n.filters[o]),!0):!1}(t,A):void dA()}function Gg(t){return t instanceof ZA?function(e){return`${e.field.canonicalString()} ${e.op} ${nn(e.value)}`}(t):t instanceof gt?function(e){return e.op.toString()+" {"+e.getFilters().map(Gg).join(" ,")+"}"}(t):"Filter"}class hQ extends ZA{constructor(A,e,r){super(A,e,r),this.key=cA.fromName(r.referenceValue)}matches(A){const e=cA.comparator(A.key,this.key);return this.matchesComparison(e)}}class fQ extends ZA{constructor(A,e){super(A,"in",e),this.keys=Wg("in",e)}matches(A){return this.keys.some(e=>e.isEqual(A.key))}}class dQ extends ZA{constructor(A,e){super(A,"not-in",e),this.keys=Wg("not-in",e)}matches(A){return!this.keys.some(e=>e.isEqual(A.key))}}function Wg(t,A){var e;return(((e=A.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>cA.fromName(r.referenceValue))}class gQ extends ZA{constructor(A,e){super(A,"array-contains",e)}matches(A){const e=A.data.field(this.field);return Sl(e)&&ss(e.arrayValue,this.value)}}class BQ extends ZA{constructor(A,e){super(A,"in",e)}matches(A){const e=A.data.field(this.field);return e!==null&&ss(this.value.arrayValue,e)}}class pQ extends ZA{constructor(A,e){super(A,"not-in",e)}matches(A){if(ss(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=A.data.field(this.field);return e!==null&&!ss(this.value.arrayValue,e)}}class wQ extends ZA{constructor(A,e){super(A,"array-contains-any",e)}matches(A){const e=A.data.field(this.field);return!(!Sl(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>ss(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(A,e=null,r=[],n=[],s=null,i=null,o=null){this.path=A,this.collectionGroup=e,this.orderBy=r,this.filters=n,this.limit=s,this.startAt=i,this.endAt=o,this.le=null}}function sh(t,A=null,e=[],r=[],n=null,s=null,i=null){return new mQ(t,A,e,r,n,s,i)}function Rl(t){const A=wA(t);if(A.le===null){let e=A.path.canonicalString();A.collectionGroup!==null&&(e+="|cg:"+A.collectionGroup),e+="|f:",e+=A.filters.map(r=>Oa(r)).join(","),e+="|ob:",e+=A.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),no(A.limit)||(e+="|l:",e+=A.limit),A.startAt&&(e+="|lb:",e+=A.startAt.inclusive?"b:":"a:",e+=A.startAt.position.map(r=>nn(r)).join(",")),A.endAt&&(e+="|ub:",e+=A.endAt.inclusive?"a:":"b:",e+=A.endAt.position.map(r=>nn(r)).join(",")),A.le=e}return A.le}function Dl(t,A){if(t.limit!==A.limit||t.orderBy.length!==A.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(!cQ(t.orderBy[e],A.orderBy[e]))return!1;if(t.filters.length!==A.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(!Ng(t.filters[e],A.filters[e]))return!1;return t.collectionGroup===A.collectionGroup&&!!t.path.isEqual(A.path)&&!!nh(t.startAt,A.startAt)&&nh(t.endAt,A.endAt)}function Na(t){return cA.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(A,e=null,r=[],n=[],s=null,i="F",o=null,l=null){this.path=A,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=n,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CQ(t,A,e,r,n,s,i,o){return new io(t,A,e,r,n,s,i,o)}function oo(t){return new io(t)}function ih(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QQ(t){return t.collectionGroup!==null}function Xn(t){const A=wA(t);if(A.he===null){A.he=[];const e=new Set;for(const s of A.explicitOrderBy)A.he.push(s),e.add(s.field.canonicalString());const r=A.explicitOrderBy.length>0?A.explicitOrderBy[A.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new Ae(fe.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(A).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||A.he.push(new ki(s,r))}),e.has(fe.keyField().canonicalString())||A.he.push(new ki(fe.keyField(),r))}return A.he}function ut(t){const A=wA(t);return A.Pe||(A.Pe=yQ(A,Xn(t))),A.Pe}function yQ(t,A){if(t.limitType==="F")return sh(t.path,t.collectionGroup,A,t.filters,t.limit,t.startAt,t.endAt);{A=A.map(n=>{const s=n.dir==="desc"?"asc":"desc";return new ki(n.field,s)});const e=t.endAt?new Li(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Li(t.startAt.position,t.startAt.inclusive):null;return sh(t.path,t.collectionGroup,A,t.filters,t.limit,e,r)}}function Ga(t,A,e){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),A,e,t.startAt,t.endAt)}function ao(t,A){return Dl(ut(t),ut(A))&&t.limitType===A.limitType}function jg(t){return`${Rl(ut(t))}|lt:${t.limitType}`}function jr(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>Gg(n)).join(", ")}]`),no(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>nn(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>nn(n)).join(",")),`Target(${r})`}(ut(t))}; limitType=${t.limitType})`}function lo(t,A){return A.isFoundDocument()&&function(r,n){const s=n.key.path;return r.collectionGroup!==null?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):cA.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,A)&&function(r,n){for(const s of Xn(r))if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0}(t,A)&&function(r,n){for(const s of r.filters)if(!s.matches(n))return!1;return!0}(t,A)&&function(r,n){return!(r.startAt&&!function(i,o,l){const c=rh(i,o,l);return i.inclusive?c<=0:c<0}(r.startAt,Xn(r),n)||r.endAt&&!function(i,o,l){const c=rh(i,o,l);return i.inclusive?c>=0:c>0}(r.endAt,Xn(r),n))}(t,A)}function _Q(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Xg(t){return(A,e)=>{let r=!1;for(const n of Xn(t)){const s=EQ(n,A,e);if(s!==0)return s;r=r||n.field.isKeyField()}return 0}}function EQ(t,A,e){const r=t.field.isKeyField()?cA.comparator(A.key,e.key):function(s,i,o){const l=i.data.field(s),c=o.data.field(s);return l!==null&&c!==null?rn(l,c):dA()}(t.field,A,e);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dA()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(A,e){this.mapKeyFn=A,this.equalsFn=e,this.inner={},this.innerSize=0}get(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r!==void 0){for(const[n,s]of r)if(this.equalsFn(n,A))return s}}has(A){return this.get(A)!==void 0}set(A,e){const r=this.mapKeyFn(A),n=this.inner[r];if(n===void 0)return this.inner[r]=[[A,e]],void this.innerSize++;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],A))return void(n[s]=[A,e]);n.push([A,e]),this.innerSize++}delete(A){const e=this.mapKeyFn(A),r=this.inner[e];if(r===void 0)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],A))return r.length===1?delete this.inner[e]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(A){sr(this.inner,(e,r)=>{for(const[n,s]of r)A(n,s)})}isEmpty(){return Tg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=new MA(cA.comparator);function It(){return UQ}const Jg=new MA(cA.comparator);function Ln(...t){let A=Jg;for(const e of t)A=A.insert(e.key,e);return A}function qg(t){let A=Jg;return t.forEach((e,r)=>A=A.insert(e,r.overlayedDocument)),A}function pr(){return Jn()}function Yg(){return Jn()}function Jn(){return new vr(t=>t.toString(),(t,A)=>t.isEqual(A))}const FQ=new MA(cA.comparator),vQ=new Ae(cA.comparator);function _A(...t){let A=vQ;for(const e of t)A=A.add(e);return A}const IQ=new Ae(mA);function bQ(){return IQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,A){if(t.useProto3Json){if(isNaN(A))return{doubleValue:"NaN"};if(A===1/0)return{doubleValue:"Infinity"};if(A===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Si(A)?"-0":A}}function zg(t){return{integerValue:""+t}}function TQ(t,A){return rQ(A)?zg(A):Ll(t,A)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this._=void 0}}function HQ(t,A,e){return t instanceof Vi?function(n,s){const i={fields:{[Rg]:{stringValue:Sg},[Lg]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&Hl(s)&&(s=so(s)),s&&(i.fields[Dg]=s),{mapValue:i}}(e,A):t instanceof is?$g(t,A):t instanceof os?AB(t,A):function(n,s){const i=Zg(n,s),o=oh(i)+oh(n.Ie);return Ka(i)&&Ka(n.Ie)?zg(o):Ll(n.serializer,o)}(t,A)}function SQ(t,A,e){return t instanceof is?$g(t,A):t instanceof os?AB(t,A):e}function Zg(t,A){return t instanceof xi?function(r){return Ka(r)||function(s){return!!s&&"doubleValue"in s}(r)}(A)?A:{integerValue:0}:null}class Vi extends co{}class is extends co{constructor(A){super(),this.elements=A}}function $g(t,A){const e=eB(A);for(const r of t.elements)e.some(n=>dt(n,r))||e.push(r);return{arrayValue:{values:e}}}class os extends co{constructor(A){super(),this.elements=A}}function AB(t,A){let e=eB(A);for(const r of t.elements)e=e.filter(n=>!dt(n,r));return{arrayValue:{values:e}}}class xi extends co{constructor(A,e){super(),this.serializer=A,this.Ie=e}}function oh(t){return jA(t.integerValue||t.doubleValue)}function eB(t){return Sl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function RQ(t,A){return t.field.isEqual(A.field)&&function(r,n){return r instanceof is&&n instanceof is||r instanceof os&&n instanceof os?tn(r.elements,n.elements,dt):r instanceof xi&&n instanceof xi?dt(r.Ie,n.Ie):r instanceof Vi&&n instanceof Vi}(t.transform,A.transform)}class DQ{constructor(A,e){this.version=A,this.transformResults=e}}class Ge{constructor(A,e){this.updateTime=A,this.exists=e}static none(){return new Ge}static exists(A){return new Ge(void 0,A)}static updateTime(A){return new Ge(A)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(A){return this.exists===A.exists&&(this.updateTime?!!A.updateTime&&this.updateTime.isEqual(A.updateTime):!A.updateTime)}}function yi(t,A){return t.updateTime!==void 0?A.isFoundDocument()&&A.version.isEqual(t.updateTime):t.exists===void 0||t.exists===A.isFoundDocument()}class uo{}function tB(t,A){if(!t.hasLocalMutations||A&&A.fields.length===0)return null;if(A===null)return t.isNoDocument()?new kl(t.key,Ge.none()):new ds(t.key,t.data,Ge.none());{const e=t.data,r=Te.empty();let n=new Ae(fe.comparator);for(let s of A.fields)if(!n.has(s)){let i=e.field(s);i===null&&s.length>1&&(s=s.popLast(),i=e.field(s)),i===null?r.delete(s):r.set(s,i),n=n.add(s)}return new ir(t.key,r,new Oe(n.toArray()),Ge.none())}}function LQ(t,A,e){t instanceof ds?function(n,s,i){const o=n.value.clone(),l=lh(n.fieldTransforms,s,i.transformResults);o.setAll(l),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,A,e):t instanceof ir?function(n,s,i){if(!yi(n.precondition,s))return void s.convertToUnknownDocument(i.version);const o=lh(n.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(rB(n)),l.setAll(o),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,A,e):function(n,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,A,e)}function qn(t,A,e,r){return t instanceof ds?function(s,i,o,l){if(!yi(s.precondition,i))return o;const c=s.value.clone(),u=ch(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,A,e,r):t instanceof ir?function(s,i,o,l){if(!yi(s.precondition,i))return o;const c=ch(s.fieldTransforms,l,i),u=i.data;return u.setAll(rB(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,A,e,r):function(s,i,o){return yi(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,A,e)}function kQ(t,A){let e=null;for(const r of t.fieldTransforms){const n=A.data.field(r.field),s=Zg(r.transform,n||null);s!=null&&(e===null&&(e=Te.empty()),e.set(r.field,s))}return e||null}function ah(t,A){return t.type===A.type&&!!t.key.isEqual(A.key)&&!!t.precondition.isEqual(A.precondition)&&!!function(r,n){return r===void 0&&n===void 0||!(!r||!n)&&tn(r,n,(s,i)=>RQ(s,i))}(t.fieldTransforms,A.fieldTransforms)&&(t.type===0?t.value.isEqual(A.value):t.type!==1||t.data.isEqual(A.data)&&t.fieldMask.isEqual(A.fieldMask))}class ds extends uo{constructor(A,e,r,n=[]){super(),this.key=A,this.value=e,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class ir extends uo{constructor(A,e,r,n,s=[]){super(),this.key=A,this.data=e,this.fieldMask=r,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rB(t){const A=new Map;return t.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=t.data.field(e);A.set(e,r)}}),A}function lh(t,A,e){const r=new Map;SA(t.length===e.length);for(let n=0;n<e.length;n++){const s=t[n],i=s.transform,o=A.data.field(s.field);r.set(s.field,SQ(i,o,e[n]))}return r}function ch(t,A,e){const r=new Map;for(const n of t){const s=n.transform,i=e.data.field(n.field);r.set(n.field,HQ(s,i,A))}return r}class kl extends uo{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VQ extends uo{constructor(A,e){super(),this.key=A,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(A,e,r,n){this.batchId=A,this.localWriteTime=e,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(A,e){const r=e.mutationResults;for(let n=0;n<this.mutations.length;n++){const s=this.mutations[n];s.key.isEqual(A.key)&&LQ(s,A,r[n])}}applyToLocalView(A,e){for(const r of this.baseMutations)r.key.isEqual(A.key)&&(e=qn(r,A,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(A.key)&&(e=qn(r,A,e,this.localWriteTime));return e}applyToLocalDocumentSet(A,e){const r=Yg();return this.mutations.forEach(n=>{const s=A.get(n.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=e.has(n.key)?null:o;const l=tB(i,o);l!==null&&r.set(n.key,l),i.isValidDocument()||i.convertToNoDocument(gA.min())}),r}keys(){return this.mutations.reduce((A,e)=>A.add(e.key),_A())}isEqual(A){return this.batchId===A.batchId&&tn(this.mutations,A.mutations,(e,r)=>ah(e,r))&&tn(this.baseMutations,A.baseMutations,(e,r)=>ah(e,r))}}class Vl{constructor(A,e,r,n){this.batch=A,this.commitVersion=e,this.mutationResults=r,this.docVersions=n}static from(A,e,r){SA(A.mutations.length===r.length);let n=function(){return FQ}();const s=A.mutations;for(let i=0;i<s.length;i++)n=n.insert(s[i].key,r[i].version);return new Vl(A,e,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(A,e){this.largestBatchId=A,this.mutation=e}getKey(){return this.mutation.key}isEqual(A){return A!==null&&this.mutation===A.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(A,e){this.count=A,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JA,UA;function KQ(t){switch(t){case N.OK:return dA();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return dA()}}function nB(t){if(t===void 0)return vt("GRPC error has no .code"),N.UNKNOWN;switch(t){case JA.OK:return N.OK;case JA.CANCELLED:return N.CANCELLED;case JA.UNKNOWN:return N.UNKNOWN;case JA.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case JA.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case JA.INTERNAL:return N.INTERNAL;case JA.UNAVAILABLE:return N.UNAVAILABLE;case JA.UNAUTHENTICATED:return N.UNAUTHENTICATED;case JA.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case JA.NOT_FOUND:return N.NOT_FOUND;case JA.ALREADY_EXISTS:return N.ALREADY_EXISTS;case JA.PERMISSION_DENIED:return N.PERMISSION_DENIED;case JA.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case JA.ABORTED:return N.ABORTED;case JA.OUT_OF_RANGE:return N.OUT_OF_RANGE;case JA.UNIMPLEMENTED:return N.UNIMPLEMENTED;case JA.DATA_LOSS:return N.DATA_LOSS;default:return dA()}}(UA=JA||(JA={}))[UA.OK=0]="OK",UA[UA.CANCELLED=1]="CANCELLED",UA[UA.UNKNOWN=2]="UNKNOWN",UA[UA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",UA[UA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",UA[UA.NOT_FOUND=5]="NOT_FOUND",UA[UA.ALREADY_EXISTS=6]="ALREADY_EXISTS",UA[UA.PERMISSION_DENIED=7]="PERMISSION_DENIED",UA[UA.UNAUTHENTICATED=16]="UNAUTHENTICATED",UA[UA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",UA[UA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",UA[UA.ABORTED=10]="ABORTED",UA[UA.OUT_OF_RANGE=11]="OUT_OF_RANGE",UA[UA.UNIMPLEMENTED=12]="UNIMPLEMENTED",UA[UA.INTERNAL=13]="INTERNAL",UA[UA.UNAVAILABLE=14]="UNAVAILABLE",UA[UA.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=new jt([4294967295,4294967295],0);function uh(t){const A=vg().encode(t),e=new Cg;return e.update(A),new Uint8Array(e.digest())}function hh(t){const A=new DataView(t.buffer),e=A.getUint32(0,!0),r=A.getUint32(4,!0),n=A.getUint32(8,!0),s=A.getUint32(12,!0);return[new jt([e,r],0),new jt([n,s],0)]}class xl{constructor(A,e,r){if(this.bitmap=A,this.padding=e,this.hashCount=r,e<0||e>=8)throw new kn(`Invalid padding: ${e}`);if(r<0)throw new kn(`Invalid hash count: ${r}`);if(A.length>0&&this.hashCount===0)throw new kn(`Invalid hash count: ${r}`);if(A.length===0&&e!==0)throw new kn(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*A.length-e,this.de=jt.fromNumber(this.Ee)}Ae(A,e,r){let n=A.add(e.multiply(jt.fromNumber(r)));return n.compare(OQ)===1&&(n=new jt([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(A){return!!(this.bitmap[Math.floor(A/8)]&1<<A%8)}mightContain(A){if(this.Ee===0)return!1;const e=uh(A),[r,n]=hh(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);if(!this.Re(i))return!1}return!0}static create(A,e,r){const n=A%8==0?0:8-A%8,s=new Uint8Array(Math.ceil(A/8)),i=new xl(s,n,e);return r.forEach(o=>i.insert(o)),i}insert(A){if(this.Ee===0)return;const e=uh(A),[r,n]=hh(e);for(let s=0;s<this.hashCount;s++){const i=this.Ae(r,n,s);this.Ve(i)}}Ve(A){const e=Math.floor(A/8),r=A%8;this.bitmap[e]|=1<<r}}class kn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(A,e,r,n,s){this.snapshotVersion=A,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(A,e,r){const n=new Map;return n.set(A,gs.createSynthesizedTargetChangeForCurrentChange(A,e,r)),new ho(gA.min(),n,new MA(mA),It(),_A())}}class gs{constructor(A,e,r,n,s){this.resumeToken=A,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(A,e,r){return new gs(r,e,_A(),_A(),_A())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(A,e,r,n){this.me=A,this.removedTargetIds=e,this.key=r,this.fe=n}}class sB{constructor(A,e){this.targetId=A,this.ge=e}}class iB{constructor(A,e,r=ge.EMPTY_BYTE_STRING,n=null){this.state=A,this.targetIds=e,this.resumeToken=r,this.cause=n}}class fh{constructor(){this.pe=0,this.ye=dh(),this.we=ge.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(A){A.approximateByteSize()>0&&(this.be=!0,this.we=A)}Fe(){let A=_A(),e=_A(),r=_A();return this.ye.forEach((n,s)=>{switch(s){case 0:A=A.add(n);break;case 2:e=e.add(n);break;case 1:r=r.add(n);break;default:dA()}}),new gs(this.we,this.Se,A,e,r)}Me(){this.be=!1,this.ye=dh()}xe(A,e){this.be=!0,this.ye=this.ye.insert(A,e)}Oe(A){this.be=!0,this.ye=this.ye.remove(A)}Ne(){this.pe+=1}Be(){this.pe-=1,SA(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class NQ{constructor(A){this.ke=A,this.qe=new Map,this.Qe=It(),this.$e=Ws(),this.Ue=Ws(),this.Ke=new MA(mA)}We(A){for(const e of A.me)A.fe&&A.fe.isFoundDocument()?this.Ge(e,A.fe):this.ze(e,A.key,A.fe);for(const e of A.removedTargetIds)this.ze(e,A.key,A.fe)}je(A){this.forEachTarget(A,e=>{const r=this.He(e);switch(A.state){case 0:this.Je(e)&&r.Ce(A.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(A.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(e);break;case 3:this.Je(e)&&(r.Le(),r.Ce(A.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),r.Ce(A.resumeToken));break;default:dA()}})}forEachTarget(A,e){A.targetIds.length>0?A.targetIds.forEach(e):this.qe.forEach((r,n)=>{this.Je(n)&&e(n)})}Ze(A){const e=A.targetId,r=A.ge.count,n=this.Xe(e);if(n){const s=n.target;if(Na(s))if(r===0){const i=new cA(s.path);this.ze(e,i,_e.newNoDocument(i,gA.min()))}else SA(r===1);else{const i=this.et(e);if(i!==r){const o=this.tt(A),l=o?this.nt(o,A,i):1;if(l!==0){this.Ye(e);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,c)}}}}}tt(A){const e=A.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:s=0}=e;let i,o;try{i=Zt(r).toUint8Array()}catch(l){if(l instanceof Hg)return en("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new xl(i,n,s)}catch(l){return en(l instanceof kn?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ee===0?null:o}nt(A,e,r){return e.ge.count===r-this.st(A,e.targetId)?0:2}st(A,e){const r=this.ke.getRemoteKeysForTarget(e);let n=0;return r.forEach(s=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;A.mightContain(o)||(this.ze(e,s,null),n++)}),n}ot(A){const e=new Map;this.qe.forEach((s,i)=>{const o=this.Xe(i);if(o){if(s.current&&Na(o.target)){const l=new cA(o.target.path);this._t(l).has(i)||this.ut(i,l)||this.ze(i,l,_e.newNoDocument(l,A))}s.ve&&(e.set(i,s.Fe()),s.Me())}});let r=_A();this.Ue.forEach((s,i)=>{let o=!0;i.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.Qe.forEach((s,i)=>i.setReadTime(A));const n=new ho(A,e,this.Ke,this.Qe,r);return this.Qe=It(),this.$e=Ws(),this.Ue=Ws(),this.Ke=new MA(mA),n}Ge(A,e){if(!this.Je(A))return;const r=this.ut(A,e.key)?2:0;this.He(A).xe(e.key,r),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(A)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(A))}ze(A,e,r){if(!this.Je(A))return;const n=this.He(A);this.ut(A,e)?n.xe(e,1):n.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(A)),this.Ue=this.Ue.insert(e,this.ct(e).add(A)),r&&(this.Qe=this.Qe.insert(e,r))}removeTarget(A){this.qe.delete(A)}et(A){const e=this.He(A).Fe();return this.ke.getRemoteKeysForTarget(A).size+e.addedDocuments.size-e.removedDocuments.size}Ne(A){this.He(A).Ne()}He(A){let e=this.qe.get(A);return e||(e=new fh,this.qe.set(A,e)),e}ct(A){let e=this.Ue.get(A);return e||(e=new Ae(mA),this.Ue=this.Ue.insert(A,e)),e}_t(A){let e=this.$e.get(A);return e||(e=new Ae(mA),this.$e=this.$e.insert(A,e)),e}Je(A){const e=this.Xe(A)!==null;return e||$("WatchChangeAggregator","Detected inactive target",A),e}Xe(A){const e=this.qe.get(A);return e&&e.De?null:this.ke.lt(A)}Ye(A){this.qe.set(A,new fh),this.ke.getRemoteKeysForTarget(A).forEach(e=>{this.ze(A,e,null)})}ut(A,e){return this.ke.getRemoteKeysForTarget(A).has(e)}}function Ws(){return new MA(cA.comparator)}function dh(){return new MA(cA.comparator)}const GQ={asc:"ASCENDING",desc:"DESCENDING"},WQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jQ={and:"AND",or:"OR"};class XQ{constructor(A,e){this.databaseId=A,this.useProto3Json=e}}function Wa(t,A){return t.useProto3Json||no(A)?A:{value:A}}function Mi(t,A){return t.useProto3Json?`${new Date(1e3*A.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+A.nanoseconds).slice(-9)}Z`:{seconds:""+A.seconds,nanos:A.nanoseconds}}function oB(t,A){return t.useProto3Json?A.toBase64():A.toUint8Array()}function JQ(t,A){return Mi(t,A.toTimestamp())}function ht(t){return SA(!!t),gA.fromTimestamp(function(e){const r=zt(e);return new $A(r.seconds,r.nanos)}(t))}function Ml(t,A){return ja(t,A).canonicalString()}function ja(t,A){const e=function(n){return new xA(["projects",n.projectId,"databases",n.database])}(t).child("documents");return A===void 0?e:e.child(A)}function aB(t){const A=xA.fromString(t);return SA(fB(A)),A}function Xa(t,A){return Ml(t.databaseId,A.path)}function sa(t,A){const e=aB(A);if(e.get(1)!==t.databaseId.projectId)throw new sA(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new sA(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new cA(cB(e))}function lB(t,A){return Ml(t.databaseId,A)}function qQ(t){const A=aB(t);return A.length===4?xA.emptyPath():cB(A)}function Ja(t){return new xA(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cB(t){return SA(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gh(t,A,e){return{name:Xa(t,A),fields:e.value.mapValue.fields}}function YQ(t,A){let e;if("targetChange"in A){A.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:dA()}(A.targetChange.targetChangeType||"NO_CHANGE"),n=A.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(SA(u===void 0||typeof u=="string"),ge.fromBase64String(u||"")):(SA(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ge.fromUint8Array(u||new Uint8Array))}(t,A.targetChange.resumeToken),i=A.targetChange.cause,o=i&&function(c){const u=c.code===void 0?N.UNKNOWN:nB(c.code);return new sA(u,c.message||"")}(i);e=new iB(r,n,s,o||null)}else if("documentChange"in A){A.documentChange;const r=A.documentChange;r.document,r.document.name,r.document.updateTime;const n=sa(t,r.document.name),s=ht(r.document.updateTime),i=r.document.createTime?ht(r.document.createTime):gA.min(),o=new Te({mapValue:{fields:r.document.fields}}),l=_e.newFoundDocument(n,s,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];e=new _i(c,u,l.key,l)}else if("documentDelete"in A){A.documentDelete;const r=A.documentDelete;r.document;const n=sa(t,r.document),s=r.readTime?ht(r.readTime):gA.min(),i=_e.newNoDocument(n,s),o=r.removedTargetIds||[];e=new _i([],o,i.key,i)}else if("documentRemove"in A){A.documentRemove;const r=A.documentRemove;r.document;const n=sa(t,r.document),s=r.removedTargetIds||[];e=new _i([],s,n,null)}else{if(!("filter"in A))return dA();{A.filter;const r=A.filter;r.targetId;const{count:n=0,unchangedNames:s}=r,i=new PQ(n,s),o=r.targetId;e=new sB(o,i)}}return e}function zQ(t,A){let e;if(A instanceof ds)e={update:gh(t,A.key,A.value)};else if(A instanceof kl)e={delete:Xa(t,A.key)};else if(A instanceof ir)e={update:gh(t,A.key,A.data),updateMask:iy(A.fieldMask)};else{if(!(A instanceof VQ))return dA();e={verify:Xa(t,A.key)}}return A.fieldTransforms.length>0&&(e.updateTransforms=A.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Vi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof is)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof os)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xi)return{fieldPath:i.field.canonicalString(),increment:o.Ie};throw dA()}(0,r))),A.precondition.isNone||(e.currentDocument=function(n,s){return s.updateTime!==void 0?{updateTime:JQ(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:dA()}(t,A.precondition)),e}function ZQ(t,A){return t&&t.length>0?(SA(A!==void 0),t.map(e=>function(n,s){let i=n.updateTime?ht(n.updateTime):ht(s);return i.isEqual(gA.min())&&(i=ht(s)),new DQ(i,n.transformResults||[])}(e,A))):[]}function $Q(t,A){return{documents:[lB(t,A.path)]}}function Ay(t,A){const e={structuredQuery:{}},r=A.path;let n;A.collectionGroup!==null?(n=r,e.structuredQuery.from=[{collectionId:A.collectionGroup,allDescendants:!0}]):(n=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=lB(t,n);const s=function(c){if(c.length!==0)return hB(gt.create(c,"and"))}(A.filters);s&&(e.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(g){return{field:Xr(g.field),direction:ry(g.dir)}}(u))}(A.orderBy);i&&(e.structuredQuery.orderBy=i);const o=Wa(t,A.limit);return o!==null&&(e.structuredQuery.limit=o),A.startAt&&(e.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(A.startAt)),A.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(A.endAt)),{ht:e,parent:n}}function ey(t){let A=qQ(t.parent);const e=t.structuredQuery,r=e.from?e.from.length:0;let n=null;if(r>0){SA(r===1);const u=e.from[0];u.allDescendants?n=u.collectionId:A=A.child(u.collectionId)}let s=[];e.where&&(s=function(f){const g=uB(f);return g instanceof gt&&Og(g)?g.getFilters():[g]}(e.where));let i=[];e.orderBy&&(i=function(f){return f.map(g=>function(m){return new ki(Jr(m.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g))}(e.orderBy));let o=null;e.limit&&(o=function(f){let g;return g=typeof f=="object"?f.value:f,no(g)?null:g}(e.limit));let l=null;e.startAt&&(l=function(f){const g=!!f.before,B=f.values||[];return new Li(B,g)}(e.startAt));let c=null;return e.endAt&&(c=function(f){const g=!f.before,B=f.values||[];return new Li(B,g)}(e.endAt)),CQ(A,n,i,s,o,"F",l,c)}function ty(t,A){const e=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dA()}}(A.purpose);return e==null?null:{"goog-listen-tags":e}}function uB(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Jr(e.unaryFilter.field);return ZA.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=Jr(e.unaryFilter.field);return ZA.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jr(e.unaryFilter.field);return ZA.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jr(e.unaryFilter.field);return ZA.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dA()}}(t):t.fieldFilter!==void 0?function(e){return ZA.create(Jr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dA()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return gt.create(e.compositeFilter.filters.map(r=>uB(r)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return dA()}}(e.compositeFilter.op))}(t):dA()}function ry(t){return GQ[t]}function ny(t){return WQ[t]}function sy(t){return jQ[t]}function Xr(t){return{fieldPath:t.canonicalString()}}function Jr(t){return fe.fromServerFormat(t.fieldPath)}function hB(t){return t instanceof ZA?function(e){if(e.op==="=="){if(th(e.value))return{unaryFilter:{field:Xr(e.field),op:"IS_NAN"}};if(eh(e.value))return{unaryFilter:{field:Xr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(th(e.value))return{unaryFilter:{field:Xr(e.field),op:"IS_NOT_NAN"}};if(eh(e.value))return{unaryFilter:{field:Xr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(e.field),op:ny(e.op),value:e.value}}}(t):t instanceof gt?function(e){const r=e.getFilters().map(n=>hB(n));return r.length===1?r[0]:{compositeFilter:{op:sy(e.op),filters:r}}}(t):dA()}function iy(t){const A=[];return t.fields.forEach(e=>A.push(e.canonicalString())),{fieldPaths:A}}function fB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(A,e,r,n,s=gA.min(),i=gA.min(),o=ge.EMPTY_BYTE_STRING,l=null){this.target=A,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(A){return new Pt(this.target,this.targetId,this.purpose,A,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(A,e){return new Pt(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,A,null)}withExpectedCount(A){return new Pt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,A)}withLastLimboFreeSnapshotVersion(A){return new Pt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,A,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(A){this.Tt=A}}function ay(t){const A=ey({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ga(A,A.limit,"L"):A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.Tn=new cy}addToCollectionParentIndex(A,e){return this.Tn.add(e),O.resolve()}getCollectionParents(A,e){return O.resolve(this.Tn.getEntries(e))}addFieldIndex(A,e){return O.resolve()}deleteFieldIndex(A,e){return O.resolve()}deleteAllFieldIndexes(A){return O.resolve()}createTargetIndexes(A,e){return O.resolve()}getDocumentsMatchingTarget(A,e){return O.resolve(null)}getIndexType(A,e){return O.resolve(0)}getFieldIndexes(A,e){return O.resolve([])}getNextCollectionGroupToUpdate(A){return O.resolve(null)}getMinOffset(A,e){return O.resolve(Yt.min())}getMinOffsetFromCollectionGroup(A,e){return O.resolve(Yt.min())}updateCollectionGroup(A,e,r){return O.resolve()}updateIndexEntries(A,e){return O.resolve()}}class cy{constructor(){this.index={}}add(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e]||new Ae(xA.comparator),s=!n.has(r);return this.index[e]=n.add(r),s}has(A){const e=A.lastSegment(),r=A.popLast(),n=this.index[e];return n&&n.has(r)}getEntries(A){return(this.index[A]||new Ae(xA.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dB=41943040;class Ie{static withCacheSize(A){return new Ie(A,Ie.DEFAULT_COLLECTION_PERCENTILE,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(A,e,r){this.cacheSizeCollectionThreshold=A,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ie.DEFAULT_COLLECTION_PERCENTILE=10,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ie.DEFAULT=new Ie(dB,Ie.DEFAULT_COLLECTION_PERCENTILE,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ie.DISABLED=new Ie(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(A){this.$n=A}next(){return this.$n+=2,this.$n}static Un(){return new sn(0)}static Kn(){return new sn(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="LruGarbageCollector",uy=1048576;function wh([t,A],[e,r]){const n=mA(t,e);return n===0?mA(A,r):n}class hy{constructor(A){this.Hn=A,this.buffer=new Ae(wh),this.Jn=0}Yn(){return++this.Jn}Zn(A){const e=[A,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();wh(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fy{constructor(A,e,r){this.garbageCollector=A,this.asyncQueue=e,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(A){$(ph,`Garbage collection scheduled in ${A}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",A,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hn(e)?$(ph,"Ignoring IndexedDB error during garbage collection: ",e):await un(e)}await this.er(3e5)})}}class dy{constructor(A,e){this.tr=A,this.params=e}calculateTargetCount(A,e){return this.tr.nr(A).next(r=>Math.floor(e/100*r))}nthSequenceNumber(A,e){if(e===0)return O.resolve(ro.ae);const r=new hy(e);return this.tr.forEachTarget(A,n=>r.Zn(n.sequenceNumber)).next(()=>this.tr.rr(A,n=>r.Zn(n))).next(()=>r.maxValue)}removeTargets(A,e,r){return this.tr.removeTargets(A,e,r)}removeOrphanedDocuments(A,e){return this.tr.removeOrphanedDocuments(A,e)}collect(A,e){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Bh)):this.getCacheSize(A).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bh):this.ir(A,e))}getCacheSize(A){return this.tr.getCacheSize(A)}ir(A,e){let r,n,s,i,o,l,c;const u=Date.now();return this.calculateTargetCount(A,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),n=this.params.maximumSequenceNumbersToCollect):n=f,i=Date.now(),this.nthSequenceNumber(A,n))).next(f=>(r=f,o=Date.now(),this.removeTargets(A,r,e))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(A,r))).next(f=>(c=Date.now(),Wr()<=FA.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-u}ms
	Determined least recently used ${n} in `+(o-i)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:s,documentsRemoved:f})))}}function gy(t,A){return new dy(t,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.changes=new vr(A=>A.toString(),(A,e)=>A.isEqual(e)),this.changesApplied=!1}addEntry(A){this.assertNotApplied(),this.changes.set(A.key,A)}removeEntry(A,e){this.assertNotApplied(),this.changes.set(A,_e.newInvalidDocument(A).setReadTime(e))}getEntry(A,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?O.resolve(r):this.getFromCache(A,e)}getEntries(A,e){return this.getAllFromCache(A,e)}apply(A){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(A)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(A,e){this.overlayedDocument=A,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(A,e,r,n){this.remoteDocumentCache=A,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=n}getDocument(A,e){let r=null;return this.documentOverlayCache.getOverlay(A,e).next(n=>(r=n,this.remoteDocumentCache.getEntry(A,e))).next(n=>(r!==null&&qn(r.mutation,n,Oe.empty(),$A.now()),n))}getDocuments(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.getLocalViewOfDocuments(A,r,_A()).next(()=>r))}getLocalViewOfDocuments(A,e,r=_A()){const n=pr();return this.populateOverlays(A,n,e).next(()=>this.computeViews(A,e,n,r).next(s=>{let i=Ln();return s.forEach((o,l)=>{i=i.insert(o,l.overlayedDocument)}),i}))}getOverlayedDocuments(A,e){const r=pr();return this.populateOverlays(A,r,e).next(()=>this.computeViews(A,e,r,_A()))}populateOverlays(A,e,r){const n=[];return r.forEach(s=>{e.has(s)||n.push(s)}),this.documentOverlayCache.getOverlays(A,n).next(s=>{s.forEach((i,o)=>{e.set(i,o)})})}computeViews(A,e,r,n){let s=It();const i=Jn(),o=function(){return Jn()}();return e.forEach((l,c)=>{const u=r.get(c.key);n.has(c.key)&&(u===void 0||u.mutation instanceof ir)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),qn(u.mutation,c,u.mutation.getFieldMask(),$A.now())):i.set(c.key,Oe.empty())}),this.recalculateAndSaveOverlays(A,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),e.forEach((c,u)=>{var f;return o.set(c,new py(u,(f=i.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(A,e){const r=Jn();let n=new MA((i,o)=>i-o),s=_A();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(A,e).next(i=>{for(const o of i)o.keys().forEach(l=>{const c=e.get(l);if(c===null)return;let u=r.get(l)||Oe.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(n.get(o.batchId)||_A()).add(l);n=n.insert(o.batchId,f)})}).next(()=>{const i=[],o=n.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=Yg();u.forEach(g=>{if(!s.has(g)){const B=tB(e.get(g),r.get(g));B!==null&&f.set(g,B),s=s.add(g)}}),i.push(this.documentOverlayCache.saveOverlays(A,c,f))}return O.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(A,e){return this.remoteDocumentCache.getEntries(A,e).next(r=>this.recalculateAndSaveOverlays(A,r))}getDocumentsMatchingQuery(A,e,r,n){return function(i){return cA.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(A,e.path):QQ(e)?this.getDocumentsMatchingCollectionGroupQuery(A,e,r,n):this.getDocumentsMatchingCollectionQuery(A,e,r,n)}getNextDocuments(A,e,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(A,e,r,n).next(s=>{const i=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(A,e,r.largestBatchId,n-s.size):O.resolve(pr());let o=ts,l=s;return i.next(c=>O.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?O.resolve():this.remoteDocumentCache.getEntry(A,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(A,c,s)).next(()=>this.computeViews(A,l,c,_A())).next(u=>({batchId:o,changes:qg(u)})))})}getDocumentsMatchingDocumentQuery(A,e){return this.getDocument(A,new cA(e)).next(r=>{let n=Ln();return r.isFoundDocument()&&(n=n.insert(r.key,r)),n})}getDocumentsMatchingCollectionGroupQuery(A,e,r,n){const s=e.collectionGroup;let i=Ln();return this.indexManager.getCollectionParents(A,s).next(o=>O.forEach(o,l=>{const c=function(f,g){return new io(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(A,c,r,n).next(u=>{u.forEach((f,g)=>{i=i.insert(f,g)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(A,e,r,n){let s;return this.documentOverlayCache.getOverlaysForCollection(A,e.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(A,e,r,s,n))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,_e.newInvalidDocument(u)))});let o=Ln();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&qn(u.mutation,c,Oe.empty(),$A.now()),lo(e,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(A){this.serializer=A,this.dr=new Map,this.Ar=new Map}getBundleMetadata(A,e){return O.resolve(this.dr.get(e))}saveBundleMetadata(A,e){return this.dr.set(e.id,function(n){return{id:n.id,version:n.version,createTime:ht(n.createTime)}}(e)),O.resolve()}getNamedQuery(A,e){return O.resolve(this.Ar.get(e))}saveNamedQuery(A,e){return this.Ar.set(e.name,function(n){return{name:n.name,query:ay(n.bundledQuery),readTime:ht(n.readTime)}}(e)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.overlays=new MA(cA.comparator),this.Rr=new Map}getOverlay(A,e){return O.resolve(this.overlays.get(e))}getOverlays(A,e){const r=pr();return O.forEach(e,n=>this.getOverlay(A,n).next(s=>{s!==null&&r.set(n,s)})).next(()=>r)}saveOverlays(A,e,r){return r.forEach((n,s)=>{this.Et(A,e,s)}),O.resolve()}removeOverlaysForBatchId(A,e,r){const n=this.Rr.get(r);return n!==void 0&&(n.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),O.resolve()}getOverlaysForCollection(A,e,r){const n=pr(),s=e.length+1,i=new cA(e.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&n.set(l.getKey(),l)}return O.resolve(n)}getOverlaysForCollectionGroup(A,e,r,n){let s=new MA((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=pr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=pr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=n)););return O.resolve(o)}Et(A,e,r){const n=this.overlays.get(r.key);if(n!==null){const i=this.Rr.get(n.largestBatchId).delete(r.key);this.Rr.set(n.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new MQ(e,r));let s=this.Rr.get(e);s===void 0&&(s=_A(),this.Rr.set(e,s)),this.Rr.set(e,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.sessionToken=ge.EMPTY_BYTE_STRING}getSessionToken(A){return O.resolve(this.sessionToken)}setSessionToken(A,e){return this.sessionToken=e,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.Vr=new Ae(ie.mr),this.gr=new Ae(ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(A,e){const r=new ie(A,e);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(A,e){A.forEach(r=>this.addReference(r,e))}removeReference(A,e){this.wr(new ie(A,e))}Sr(A,e){A.forEach(r=>this.removeReference(r,e))}br(A){const e=new cA(new xA([])),r=new ie(e,A),n=new ie(e,A+1),s=[];return this.gr.forEachInRange([r,n],i=>{this.wr(i),s.push(i.key)}),s}Dr(){this.Vr.forEach(A=>this.wr(A))}wr(A){this.Vr=this.Vr.delete(A),this.gr=this.gr.delete(A)}vr(A){const e=new cA(new xA([])),r=new ie(e,A),n=new ie(e,A+1);let s=_A();return this.gr.forEachInRange([r,n],i=>{s=s.add(i.key)}),s}containsKey(A){const e=new ie(A,0),r=this.Vr.firstAfterOrEqual(e);return r!==null&&A.isEqual(r.key)}}class ie{constructor(A,e){this.key=A,this.Cr=e}static mr(A,e){return cA.comparator(A.key,e.key)||mA(A.Cr,e.Cr)}static pr(A,e){return mA(A.Cr,e.Cr)||cA.comparator(A.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(A,e){this.indexManager=A,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Ae(ie.mr)}checkEmpty(A){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(A,e,r,n){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new xQ(s,e,r,n);this.mutationQueue.push(i);for(const o of n)this.Mr=this.Mr.add(new ie(o.key,s)),this.indexManager.addToCollectionParentIndex(A,o.key.path.popLast());return O.resolve(i)}lookupMutationBatch(A,e){return O.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(A,e){const r=e+1,n=this.Nr(r),s=n<0?0:n;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?Tl:this.Fr-1)}getAllMutationBatches(A){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(A,e){const r=new ie(e,0),n=new ie(e,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,n],i=>{const o=this.Or(i.Cr);s.push(o)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(A,e){let r=new Ae(mA);return e.forEach(n=>{const s=new ie(n,0),i=new ie(n,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,i],o=>{r=r.add(o.Cr)})}),O.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(A,e){const r=e.path,n=r.length+1;let s=r;cA.isDocumentKey(s)||(s=s.child(""));const i=new ie(new cA(s),0);let o=new Ae(mA);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===n&&(o=o.add(l.Cr)),!0)},i),O.resolve(this.Br(o))}Br(A){const e=[];return A.forEach(r=>{const n=this.Or(r);n!==null&&e.push(n)}),e}removeMutationBatch(A,e){SA(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return O.forEach(e.mutations,n=>{const s=new ie(n.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(A,n.key)}).next(()=>{this.Mr=r})}qn(A){}containsKey(A,e){const r=new ie(e,0),n=this.Mr.firstAfterOrEqual(r);return O.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(A){return this.mutationQueue.length,O.resolve()}Lr(A,e){return this.Nr(A)}Nr(A){return this.mutationQueue.length===0?0:A-this.mutationQueue[0].batchId}Or(A){const e=this.Nr(A);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(A){this.kr=A,this.docs=function(){return new MA(cA.comparator)}(),this.size=0}setIndexManager(A){this.indexManager=A}addEntry(A,e){const r=e.key,n=this.docs.get(r),s=n?n.size:0,i=this.kr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(A,r.path.popLast())}removeEntry(A){const e=this.docs.get(A);e&&(this.docs=this.docs.remove(A),this.size-=e.size)}getEntry(A,e){const r=this.docs.get(e);return O.resolve(r?r.document.mutableCopy():_e.newInvalidDocument(e))}getEntries(A,e){let r=It();return e.forEach(n=>{const s=this.docs.get(n);r=r.insert(n,s?s.document.mutableCopy():_e.newInvalidDocument(n))}),O.resolve(r)}getDocumentsMatchingQuery(A,e,r,n){let s=It();const i=e.path,o=new cA(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||$0(Z0(u),r)<=0||(n.has(u.key)||lo(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(A,e,r,n){dA()}qr(A,e){return O.forEach(this.docs,r=>e(r))}newChangeBuffer(A){return new Ey(this)}getSize(A){return O.resolve(this.size)}}class Ey extends By{constructor(A){super(),this.Ir=A}applyChanges(A){const e=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?e.push(this.Ir.addEntry(A,n)):this.Ir.removeEntry(r)}),O.waitFor(e)}getFromCache(A,e){return this.Ir.getEntry(A,e)}getAllFromCache(A,e){return this.Ir.getEntries(A,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(A){this.persistence=A,this.Qr=new vr(e=>Rl(e),Dl),this.lastRemoteSnapshotVersion=gA.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Pl,this.targetCount=0,this.Kr=sn.Un()}forEachTarget(A,e){return this.Qr.forEach((r,n)=>e(n)),O.resolve()}getLastRemoteSnapshotVersion(A){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(A){return O.resolve(this.$r)}allocateTargetId(A){return this.highestTargetId=this.Kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(A,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$r&&(this.$r=e),O.resolve()}zn(A){this.Qr.set(A.target,A);const e=A.targetId;e>this.highestTargetId&&(this.Kr=new sn(e),this.highestTargetId=e),A.sequenceNumber>this.$r&&(this.$r=A.sequenceNumber)}addTargetData(A,e){return this.zn(e),this.targetCount+=1,O.resolve()}updateTargetData(A,e){return this.zn(e),O.resolve()}removeTargetData(A,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,O.resolve()}removeTargets(A,e,r){let n=0;const s=[];return this.Qr.forEach((i,o)=>{o.sequenceNumber<=e&&r.get(o.targetId)===null&&(this.Qr.delete(i),s.push(this.removeMatchingKeysForTargetId(A,o.targetId)),n++)}),O.waitFor(s).next(()=>n)}getTargetCount(A){return O.resolve(this.targetCount)}getTargetData(A,e){const r=this.Qr.get(e)||null;return O.resolve(r)}addMatchingKeys(A,e,r){return this.Ur.yr(e,r),O.resolve()}removeMatchingKeys(A,e,r){this.Ur.Sr(e,r);const n=this.persistence.referenceDelegate,s=[];return n&&e.forEach(i=>{s.push(n.markPotentiallyOrphaned(A,i))}),O.waitFor(s)}removeMatchingKeysForTargetId(A,e){return this.Ur.br(e),O.resolve()}getMatchingKeysForTargetId(A,e){const r=this.Ur.vr(e);return O.resolve(r)}containsKey(A,e){return O.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(A,e){this.Wr={},this.overlays={},this.Gr=new ro(0),this.zr=!1,this.zr=!0,this.jr=new Qy,this.referenceDelegate=A(this),this.Hr=new Uy(this),this.indexManager=new ly,this.remoteDocumentCache=function(n){return new _y(n)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new oy(e),this.Yr=new my(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(A){return this.indexManager}getDocumentOverlayCache(A){let e=this.overlays[A.toKey()];return e||(e=new Cy,this.overlays[A.toKey()]=e),e}getMutationQueue(A,e){let r=this.Wr[A.toKey()];return r||(r=new yy(e,this.referenceDelegate),this.Wr[A.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(A,e,r){$("MemoryPersistence","Starting transaction:",A);const n=new Fy(this.Gr.next());return this.referenceDelegate.Zr(),r(n).next(s=>this.referenceDelegate.Xr(n).next(()=>s)).toPromise().then(s=>(n.raiseOnCommittedEvent(),s))}ei(A,e){return O.or(Object.values(this.Wr).map(r=>()=>r.containsKey(A,e)))}}class Fy extends eQ{constructor(A){super(),this.currentSequenceNumber=A}}class Kl{constructor(A){this.persistence=A,this.ti=new Pl,this.ni=null}static ri(A){return new Kl(A)}get ii(){if(this.ni)return this.ni;throw dA()}addReference(A,e,r){return this.ti.addReference(r,e),this.ii.delete(r.toString()),O.resolve()}removeReference(A,e,r){return this.ti.removeReference(r,e),this.ii.add(r.toString()),O.resolve()}markPotentiallyOrphaned(A,e){return this.ii.add(e.toString()),O.resolve()}removeTarget(A,e){this.ti.br(e.targetId).forEach(n=>this.ii.add(n.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(A,e.targetId).next(n=>{n.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(A,e))}Zr(){this.ni=new Set}Xr(A){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.ii,r=>{const n=cA.fromPath(r);return this.si(A,n).next(s=>{s||e.removeEntry(n,gA.min())})}).next(()=>(this.ni=null,e.apply(A)))}updateLimboDocument(A,e){return this.si(A,e).next(r=>{r?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(A){return 0}si(A,e){return O.or([()=>O.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(A,e),()=>this.persistence.ei(A,e)])}}class Pi{constructor(A,e){this.persistence=A,this.oi=new vr(r=>nQ(r.path),(r,n)=>r.isEqual(n)),this.garbageCollector=gy(this,e)}static ri(A,e){return new Pi(A,e)}Zr(){}Xr(A){return O.resolve()}forEachTarget(A,e){return this.persistence.getTargetCache().forEachTarget(A,e)}nr(A){const e=this.sr(A);return this.persistence.getTargetCache().getTargetCount(A).next(r=>e.next(n=>r+n))}sr(A){let e=0;return this.rr(A,r=>{e++}).next(()=>e)}rr(A,e){return O.forEach(this.oi,(r,n)=>this.ar(A,r,n).next(s=>s?O.resolve():e(n)))}removeTargets(A,e,r){return this.persistence.getTargetCache().removeTargets(A,e,r)}removeOrphanedDocuments(A,e){let r=0;const n=this.persistence.getRemoteDocumentCache(),s=n.newChangeBuffer();return n.qr(A,i=>this.ar(A,i,e).next(o=>{o||(r++,s.removeEntry(i,gA.min()))})).next(()=>s.apply(A)).next(()=>r)}markPotentiallyOrphaned(A,e){return this.oi.set(e,A.currentSequenceNumber),O.resolve()}removeTarget(A,e){const r=e.withSequenceNumber(A.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(A,r)}addReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),O.resolve()}removeReference(A,e,r){return this.oi.set(r,A.currentSequenceNumber),O.resolve()}updateLimboDocument(A,e){return this.oi.set(e,A.currentSequenceNumber),O.resolve()}Jr(A){let e=A.key.toString().length;return A.isFoundDocument()&&(e+=Ci(A.data.value)),e}ar(A,e,r){return O.or([()=>this.persistence.ei(A,e),()=>this.persistence.getTargetCache().containsKey(A,e),()=>{const n=this.oi.get(e);return O.resolve(n!==void 0&&n>r)}])}getCacheSize(A){return this.persistence.getRemoteDocumentCache().getSize(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(A,e,r,n){this.targetId=A,this.fromCache=e,this.Hi=r,this.Ji=n}static Yi(A,e){let r=_A(),n=_A();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:n=n.add(s.doc.key)}return new Ol(A,e.fromCache,r,n)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(A){this._documentReadCount+=A}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return nm()?8:tQ(em())>0?6:4}()}initialize(A,e){this.ns=A,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(A,e,r,n){const s={result:null};return this.rs(A,e).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ss(A,e,n,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new vy;return this._s(A,e,i).next(o=>{if(s.result=o,this.Xi)return this.us(A,e,i,o.size)})}).next(()=>s.result)}us(A,e,r,n){return r.documentReadCount<this.es?(Wr()<=FA.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",jr(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),O.resolve()):(Wr()<=FA.DEBUG&&$("QueryEngine","Query:",jr(e),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ts*n?(Wr()<=FA.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",jr(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(A,ut(e))):O.resolve())}rs(A,e){if(ih(e))return O.resolve(null);let r=ut(e);return this.indexManager.getIndexType(A,r).next(n=>n===0?null:(e.limit!==null&&n===1&&(e=Ga(e,null,"F"),r=ut(e)),this.indexManager.getDocumentsMatchingTarget(A,r).next(s=>{const i=_A(...s);return this.ns.getDocuments(A,i).next(o=>this.indexManager.getMinOffset(A,r).next(l=>{const c=this.cs(e,o);return this.ls(e,c,i,l.readTime)?this.rs(A,Ga(e,null,"F")):this.hs(A,c,e,l)}))})))}ss(A,e,r,n){return ih(e)||n.isEqual(gA.min())?O.resolve(null):this.ns.getDocuments(A,r).next(s=>{const i=this.cs(e,s);return this.ls(e,i,r,n)?O.resolve(null):(Wr()<=FA.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),jr(e)),this.hs(A,i,e,z0(n,ts)).next(o=>o))})}cs(A,e){let r=new Ae(Xg(A));return e.forEach((n,s)=>{lo(A,s)&&(r=r.add(s))}),r}ls(A,e,r,n){if(A.limit===null)return!1;if(r.size!==e.size)return!0;const s=A.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}_s(A,e,r){return Wr()<=FA.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",jr(e)),this.ns.getDocumentsMatchingQuery(A,e,Yt.min(),r)}hs(A,e,r,n){return this.ns.getDocumentsMatchingQuery(A,r,n).next(s=>(e.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="LocalStore",by=3e8;class Ty{constructor(A,e,r,n){this.persistence=A,this.Ps=e,this.serializer=n,this.Ts=new MA(mA),this.Is=new vr(s=>Rl(s),Dl),this.Es=new Map,this.ds=A.getRemoteDocumentCache(),this.Hr=A.getTargetCache(),this.Yr=A.getBundleCache(),this.As(r)}As(A){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(A),this.indexManager=this.persistence.getIndexManager(A),this.mutationQueue=this.persistence.getMutationQueue(A,this.indexManager),this.localDocuments=new wy(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(A){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>A.collect(e,this.Ts))}}function Hy(t,A,e,r){return new Ty(t,A,e,r)}async function BB(t,A){const e=wA(t);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(s=>(n=s,e.As(A),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],o=[];let l=_A();for(const c of n){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:i,addedBatchIds:o}))})})}function Sy(t,A){const e=wA(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const n=A.batch.keys(),s=e.ds.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,g=f.keys();let B=O.resolve();return g.forEach(m=>{B=B.next(()=>u.getEntry(l,m)).next(Q=>{const F=c.docVersions.get(m);SA(F!==null),Q.version.compareTo(F)<0&&(f.applyToRemoteDocument(Q,c),Q.isValidDocument()&&(Q.setReadTime(c.commitVersion),u.addEntry(Q)))})}),B.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(e,r,A,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,n,A.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=_A();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(A))).next(()=>e.localDocuments.getDocuments(r,n))})}function pB(t){const A=wA(t);return A.persistence.runTransaction("Get last remote snapshot version","readonly",e=>A.Hr.getLastRemoteSnapshotVersion(e))}function Ry(t,A){const e=wA(t),r=A.snapshotVersion;let n=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=e.ds.newChangeBuffer({trackRemovals:!0});n=e.Ts;const o=[];A.targetChanges.forEach((u,f)=>{const g=n.get(f);if(!g)return;o.push(e.Hr.removeMatchingKeys(s,u.removedDocuments,f).next(()=>e.Hr.addMatchingKeys(s,u.addedDocuments,f)));let B=g.withSequenceNumber(s.currentSequenceNumber);A.targetMismatches.get(f)!==null?B=B.withResumeToken(ge.EMPTY_BYTE_STRING,gA.min()).withLastLimboFreeSnapshotVersion(gA.min()):u.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(u.resumeToken,r)),n=n.insert(f,B),function(Q,F,T){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=by?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,B,u)&&o.push(e.Hr.updateTargetData(s,B))});let l=It(),c=_A();if(A.documentUpdates.forEach(u=>{A.resolvedLimboDocuments.has(u)&&o.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(Dy(s,i,A.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(gA.min())){const u=e.Hr.getLastRemoteSnapshotVersion(s).next(f=>e.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return O.waitFor(o).next(()=>i.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.Ts=n,s))}function Dy(t,A,e){let r=_A(),n=_A();return e.forEach(s=>r=r.add(s)),A.getEntries(t,r).next(s=>{let i=It();return e.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(n=n.add(o)),l.isNoDocument()&&l.version.isEqual(gA.min())?(A.removeEntry(o,l.readTime),i=i.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(A.addEntry(l),i=i.insert(o,l)):$(Nl,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Vs:i,fs:n}})}function Ly(t,A){const e=wA(t);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(A===void 0&&(A=Tl),e.mutationQueue.getNextMutationBatchAfterBatchId(r,A)))}function ky(t,A){const e=wA(t);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.Hr.getTargetData(r,A).next(s=>s?(n=s,O.resolve(n)):e.Hr.allocateTargetId(r).next(i=>(n=new Pt(A,i,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,n).next(()=>n))))}).then(r=>{const n=e.Ts.get(r.targetId);return(n===null||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(A,r.targetId)),r})}async function qa(t,A,e){const r=wA(t),n=r.Ts.get(A),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,n))}catch(i){if(!hn(i))throw i;$(Nl,`Failed to update sequence numbers for target ${A}: ${i}`)}r.Ts=r.Ts.remove(A),r.Is.delete(n.target)}function mh(t,A,e){const r=wA(t);let n=gA.min(),s=_A();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const f=wA(l),g=f.Is.get(u);return g!==void 0?O.resolve(f.Ts.get(g)):f.Hr.getTargetData(c,u)}(r,i,ut(A)).next(o=>{if(o)return n=o.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(i,o.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(i,A,e?n:gA.min(),e?s:_A())).next(o=>(Vy(r,_Q(A),o),{documents:o,gs:s})))}function Vy(t,A,e){let r=t.Es.get(A)||gA.min();e.forEach((n,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(A,r)}class Ch{constructor(){this.activeTargetIds=bQ()}Ds(A){this.activeTargetIds=this.activeTargetIds.add(A)}vs(A){this.activeTargetIds=this.activeTargetIds.delete(A)}bs(){const A={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(A)}}class xy{constructor(){this.ho=new Ch,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(A){}updateMutationState(A,e,r){}addLocalQueryTarget(A,e=!0){return e&&this.ho.Ds(A),this.Po[A]||"not-current"}updateQueryState(A,e,r){this.Po[A]=e}removeLocalQueryTarget(A){this.ho.vs(A)}isLocalQueryTarget(A){return this.ho.activeTargetIds.has(A)}clearQueryState(A){delete this.Po[A]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(A){return this.ho.activeTargetIds.has(A)}start(){return this.ho=new Ch,Promise.resolve()}handleUserChange(A,e,r){}setOnlineState(A){}shutdown(){}writeSequenceNumber(A){}notifyBundleLoaded(A){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{To(A){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="ConnectivityMonitor";class yh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(A){this.Vo.push(A)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$(Qh,"Network connectivity changed: AVAILABLE");for(const A of this.Vo)A(0)}Ro(){$(Qh,"Network connectivity changed: UNAVAILABLE");for(const A of this.Vo)A(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js=null;function Ya(){return js===null?js=function(){return 268435456+Math.round(2147483648*Math.random())}():js++,"0x"+js.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RestConnection",Py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ky{get fo(){return!1}constructor(A){this.databaseInfo=A,this.databaseId=A.databaseId;const e=A.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=e+"://"+A.host,this.yo=`projects/${r}/databases/${n}`,this.wo=this.databaseId.database===Ri?`project_id=${r}`:`project_id=${r}&database_id=${n}`}So(A,e,r,n,s){const i=Ya(),o=this.bo(A,e.toUriEncodedString());$(ia,`Sending RPC '${A}' ${i}:`,o,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,n,s),this.vo(A,o,l,r).then(c=>($(ia,`Received RPC '${A}' ${i}: `,c),c),c=>{throw en(ia,`RPC '${A}' ${i} failed with error: `,c,"url: ",o,"request:",r),c})}Co(A,e,r,n,s,i){return this.So(A,e,r,n,s)}Do(A,e,r){A["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cn}(),A["Content-Type"]="text/plain",this.databaseInfo.appId&&(A["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((n,s)=>A[s]=n),r&&r.headers.forEach((n,s)=>A[s]=n)}bo(A,e){const r=Py[A];return`${this.po}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(A){this.Fo=A.Fo,this.Mo=A.Mo}xo(A){this.Oo=A}No(A){this.Bo=A}Lo(A){this.ko=A}onMessage(A){this.qo=A}close(){this.Mo()}send(A){this.Fo(A)}Qo(){this.Oo()}$o(){this.Bo()}Uo(A){this.ko(A)}Ko(A){this.qo(A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce="WebChannelConnection";class Ny extends Ky{constructor(A){super(A),this.forceLongPolling=A.forceLongPolling,this.autoDetectLongPolling=A.autoDetectLongPolling,this.useFetchStreams=A.useFetchStreams,this.longPollingOptions=A.longPollingOptions}vo(A,e,r,n){const s=Ya();return new Promise((i,o)=>{const l=new Qg;l.setWithCredentials(!0),l.listenOnce(yg.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mi.NO_ERROR:const u=l.getResponseJson();$(Ce,`XHR for RPC '${A}' ${s} received:`,JSON.stringify(u)),i(u);break;case mi.TIMEOUT:$(Ce,`RPC '${A}' ${s} timed out`),o(new sA(N.DEADLINE_EXCEEDED,"Request time out"));break;case mi.HTTP_ERROR:const f=l.getStatus();if($(Ce,`RPC '${A}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const B=g==null?void 0:g.error;if(B&&B.status&&B.message){const m=function(F){const T=F.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(T)>=0?T:N.UNKNOWN}(B.status);o(new sA(m,B.message))}else o(new sA(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new sA(N.UNAVAILABLE,"Connection failed."));break;default:dA()}}finally{$(Ce,`RPC '${A}' ${s} completed.`)}});const c=JSON.stringify(n);$(Ce,`RPC '${A}' ${s} sending request:`,n),l.send(e,"POST",c,r,15)})}Wo(A,e,r){const n=Ya(),s=[this.po,"/","google.firestore.v1.Firestore","/",A,"/channel"],i=Ug(),o=Eg(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,e,r),l.encodeInitMessageHeaders=!0;const u=s.join("");$(Ce,`Creating RPC '${A}' stream ${n}: ${u}`,l);const f=i.createWebChannel(u,l);let g=!1,B=!1;const m=new Oy({Fo:F=>{B?$(Ce,`Not sending because RPC '${A}' stream ${n} is closed:`,F):(g||($(Ce,`Opening RPC '${A}' stream ${n} transport.`),f.open(),g=!0),$(Ce,`RPC '${A}' stream ${n} sending:`,F),f.send(F))},Mo:()=>f.close()}),Q=(F,T,S)=>{F.listen(T,k=>{try{S(k)}catch(D){setTimeout(()=>{throw D},0)}})};return Q(f,Dn.EventType.OPEN,()=>{B||($(Ce,`RPC '${A}' stream ${n} transport opened.`),m.Qo())}),Q(f,Dn.EventType.CLOSE,()=>{B||(B=!0,$(Ce,`RPC '${A}' stream ${n} transport closed`),m.Uo())}),Q(f,Dn.EventType.ERROR,F=>{B||(B=!0,en(Ce,`RPC '${A}' stream ${n} transport errored:`,F),m.Uo(new sA(N.UNAVAILABLE,"The operation could not be completed")))}),Q(f,Dn.EventType.MESSAGE,F=>{var T;if(!B){const S=F.data[0];SA(!!S);const k=S,D=(k==null?void 0:k.error)||((T=k[0])===null||T===void 0?void 0:T.error);if(D){$(Ce,`RPC '${A}' stream ${n} received error:`,D);const K=D.status;let x=function(y){const v=JA[y];if(v!==void 0)return nB(v)}(K),E=D.message;x===void 0&&(x=N.INTERNAL,E="Unknown error status: "+K+" with message "+D.message),B=!0,m.Uo(new sA(x,E)),f.close()}else $(Ce,`RPC '${A}' stream ${n} received:`,S),m.Ko(S)}}),Q(o,_g.STAT_EVENT,F=>{F.stat===xa.PROXY?$(Ce,`RPC '${A}' stream ${n} detected buffering proxy`):F.stat===xa.NOPROXY&&$(Ce,`RPC '${A}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{m.$o()},0),m}}function oa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){return new XQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(A,e,r=1e3,n=1.5,s=6e4){this.Ti=A,this.timerId=e,this.Go=r,this.zo=n,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(A){this.cancel();const e=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),n=Math.max(0,e-r);n>0&&$("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,()=>(this.Yo=Date.now(),A())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="PersistentStream";class mB{constructor(A,e,r,n,s,i,o,l){this.Ti=A,this.n_=r,this.r_=n,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wB(A,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(A){this.E_(),this.stream.send(A)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(A,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,A!==4?this.a_.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(vt(e.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=A,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const A=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,n])=>{this.i_===e&&this.V_(r,n)},r=>{A(()=>{const n=new sA(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(n)})})}V_(A,e){const r=this.R_(this.i_);this.stream=this.f_(A,e),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(n=>{r(()=>this.m_(n))}),this.stream.onMessage(n=>{r(()=>++this.__==1?this.g_(n):this.onNext(n))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(A){return $(_h,`close with error: ${A}`),this.stream=null,this.close(4,A)}R_(A){return e=>{this.Ti.enqueueAndForget(()=>this.i_===A?e():($(_h,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gy extends mB{constructor(A,e,r,n,s,i){super(A,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}f_(A,e){return this.connection.Wo("Listen",A,e)}g_(A){return this.onNext(A)}onNext(A){this.a_.reset();const e=YQ(this.serializer,A),r=function(s){if(!("targetChange"in s))return gA.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?gA.min():i.readTime?ht(i.readTime):gA.min()}(A);return this.listener.p_(e,r)}y_(A){const e={};e.database=Ja(this.serializer),e.addTarget=function(s,i){let o;const l=i.target;if(o=Na(l)?{documents:$Q(s,l)}:{query:Ay(s,l).ht},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=oB(s,i.resumeToken);const c=Wa(s,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(gA.min())>0){o.readTime=Mi(s,i.snapshotVersion.toTimestamp());const c=Wa(s,i.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,A);const r=ty(this.serializer,A);r&&(e.labels=r),this.I_(e)}w_(A){const e={};e.database=Ja(this.serializer),e.removeTarget=A,this.I_(e)}}class Wy extends mB{constructor(A,e,r,n,s,i){super(A,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,n,i),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(A,e){return this.connection.Wo("Write",A,e)}g_(A){return SA(!!A.streamToken),this.lastStreamToken=A.streamToken,SA(!A.writeResults||A.writeResults.length===0),this.listener.D_()}onNext(A){SA(!!A.streamToken),this.lastStreamToken=A.streamToken,this.a_.reset();const e=ZQ(A.writeResults,A.commitTime),r=ht(A.commitTime);return this.listener.v_(r,e)}C_(){const A={};A.database=Ja(this.serializer),this.I_(A)}b_(A){const e={streamToken:this.lastStreamToken,writes:A.map(r=>zQ(this.serializer,r))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{}class Xy extends jy{constructor(A,e,r,n){super(),this.authCredentials=A,this.appCheckCredentials=e,this.connection=r,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new sA(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(A,e,r,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.So(A,ja(e,r),n,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new sA(N.UNKNOWN,s.toString())})}Co(A,e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(A,ja(e,r),n,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new sA(N.UNKNOWN,i.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Jy{constructor(A,e){this.asyncQueue=A,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(A){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${A.toString()}`),this.L_("Offline")))}set(A){this.Q_(),this.x_=0,A==="Online"&&(this.N_=!1),this.L_(A)}L_(A){A!==this.state&&(this.state=A,this.onlineStateHandler(A))}k_(A){const e=`Could not reach Cloud Firestore backend. ${A}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vt(e),this.N_=!1):$("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="RemoteStore";class qy{constructor(A,e,r,n,s){this.localStore=A,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(i=>{r.enqueueAndForget(async()=>{Ir(this)&&($(Ur,"Restarting streams for network reachability change."),await async function(l){const c=wA(l);c.W_.add(4),await Bs(c),c.j_.set("Unknown"),c.W_.delete(4),await go(c)}(this))})}),this.j_=new Jy(r,n)}}async function go(t){if(Ir(t))for(const A of t.G_)await A(!0)}async function Bs(t){for(const A of t.G_)await A(!1)}function CB(t,A){const e=wA(t);e.K_.has(A.targetId)||(e.K_.set(A.targetId,A),Xl(e)?jl(e):fn(e).c_()&&Wl(e,A))}function Gl(t,A){const e=wA(t),r=fn(e);e.K_.delete(A),r.c_()&&QB(e,A),e.K_.size===0&&(r.c_()?r.P_():Ir(e)&&e.j_.set("Unknown"))}function Wl(t,A){if(t.H_.Ne(A.targetId),A.resumeToken.approximateByteSize()>0||A.snapshotVersion.compareTo(gA.min())>0){const e=t.remoteSyncer.getRemoteKeysForTarget(A.targetId).size;A=A.withExpectedCount(e)}fn(t).y_(A)}function QB(t,A){t.H_.Ne(A),fn(t).w_(A)}function jl(t){t.H_=new NQ({getRemoteKeysForTarget:A=>t.remoteSyncer.getRemoteKeysForTarget(A),lt:A=>t.K_.get(A)||null,it:()=>t.datastore.serializer.databaseId}),fn(t).start(),t.j_.B_()}function Xl(t){return Ir(t)&&!fn(t).u_()&&t.K_.size>0}function Ir(t){return wA(t).W_.size===0}function yB(t){t.H_=void 0}async function Yy(t){t.j_.set("Online")}async function zy(t){t.K_.forEach((A,e)=>{Wl(t,A)})}async function Zy(t,A){yB(t),Xl(t)?(t.j_.q_(A),jl(t)):t.j_.set("Unknown")}async function $y(t,A,e){if(t.j_.set("Online"),A instanceof iB&&A.state===2&&A.cause)try{await async function(n,s){const i=s.cause;for(const o of s.targetIds)n.K_.has(o)&&(await n.remoteSyncer.rejectListen(o,i),n.K_.delete(o),n.H_.removeTarget(o))}(t,A)}catch(r){$(Ur,"Failed to remove targets %s: %s ",A.targetIds.join(","),r),await Ki(t,r)}else if(A instanceof _i?t.H_.We(A):A instanceof sB?t.H_.Ze(A):t.H_.je(A),!e.isEqual(gA.min()))try{const r=await pB(t.localStore);e.compareTo(r)>=0&&await function(s,i){const o=s.H_.ot(i);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.K_.get(c);u&&s.K_.set(c,u.withResumeToken(l.resumeToken,i))}}),o.targetMismatches.forEach((l,c)=>{const u=s.K_.get(l);if(!u)return;s.K_.set(l,u.withResumeToken(ge.EMPTY_BYTE_STRING,u.snapshotVersion)),QB(s,l);const f=new Pt(u.target,l,c,u.sequenceNumber);Wl(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,e)}catch(r){$(Ur,"Failed to raise snapshot:",r),await Ki(t,r)}}async function Ki(t,A,e){if(!hn(A))throw A;t.W_.add(1),await Bs(t),t.j_.set("Offline"),e||(e=()=>pB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(Ur,"Retrying IndexedDB access"),await e(),t.W_.delete(1),await go(t)})}function _B(t,A){return A().catch(e=>Ki(t,e,A))}async function Bo(t){const A=wA(t),e=Ar(A);let r=A.U_.length>0?A.U_[A.U_.length-1].batchId:Tl;for(;A_(A);)try{const n=await Ly(A.localStore,r);if(n===null){A.U_.length===0&&e.P_();break}r=n.batchId,e_(A,n)}catch(n){await Ki(A,n)}EB(A)&&UB(A)}function A_(t){return Ir(t)&&t.U_.length<10}function e_(t,A){t.U_.push(A);const e=Ar(t);e.c_()&&e.S_&&e.b_(A.mutations)}function EB(t){return Ir(t)&&!Ar(t).u_()&&t.U_.length>0}function UB(t){Ar(t).start()}async function t_(t){Ar(t).C_()}async function r_(t){const A=Ar(t);for(const e of t.U_)A.b_(e.mutations)}async function n_(t,A,e){const r=t.U_.shift(),n=Vl.from(r,A,e);await _B(t,()=>t.remoteSyncer.applySuccessfulWrite(n)),await Bo(t)}async function s_(t,A){A&&Ar(t).S_&&await async function(r,n){if(function(i){return KQ(i)&&i!==N.ABORTED}(n.code)){const s=r.U_.shift();Ar(r).h_(),await _B(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,n)),await Bo(r)}}(t,A),EB(t)&&UB(t)}async function Eh(t,A){const e=wA(t);e.asyncQueue.verifyOperationInProgress(),$(Ur,"RemoteStore received new credentials");const r=Ir(e);e.W_.add(3),await Bs(e),r&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(A),e.W_.delete(3),await go(e)}async function i_(t,A){const e=wA(t);A?(e.W_.delete(2),await go(e)):A||(e.W_.add(2),await Bs(e),e.j_.set("Unknown"))}function fn(t){return t.J_||(t.J_=function(e,r,n){const s=wA(e);return s.M_(),new Gy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:Yy.bind(null,t),No:zy.bind(null,t),Lo:Zy.bind(null,t),p_:$y.bind(null,t)}),t.G_.push(async A=>{A?(t.J_.h_(),Xl(t)?jl(t):t.j_.set("Unknown")):(await t.J_.stop(),yB(t))})),t.J_}function Ar(t){return t.Y_||(t.Y_=function(e,r,n){const s=wA(e);return s.M_(),new Wy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:t_.bind(null,t),Lo:s_.bind(null,t),D_:r_.bind(null,t),v_:n_.bind(null,t)}),t.G_.push(async A=>{A?(t.Y_.h_(),await Bo(t)):(await t.Y_.stop(),t.U_.length>0&&($(Ur,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(A,e,r,n,s){this.asyncQueue=A,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=s,this.deferred=new Et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(A,e,r,n,s){const i=Date.now()+r,o=new Jl(A,e,i,n,s);return o.start(r),o}start(A){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),A)}skipDelay(){return this.handleDelayElapsed()}cancel(A){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new sA(N.CANCELLED,"Operation cancelled"+(A?": "+A:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(A=>this.deferred.resolve(A))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ql(t,A){if(vt("AsyncQueue",`${A}: ${t}`),hn(t))return new sA(N.UNAVAILABLE,`${A}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{static emptySet(A){return new Zr(A.comparator)}constructor(A){this.comparator=A?(e,r)=>A(e,r)||cA.comparator(e.key,r.key):(e,r)=>cA.comparator(e.key,r.key),this.keyedMap=Ln(),this.sortedSet=new MA(this.comparator)}has(A){return this.keyedMap.get(A)!=null}get(A){return this.keyedMap.get(A)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(A){const e=this.keyedMap.get(A);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(A){this.sortedSet.inorderTraversal((e,r)=>(A(e),!1))}add(A){const e=this.delete(A.key);return e.copy(e.keyedMap.insert(A.key,A),e.sortedSet.insert(A,null))}delete(A){const e=this.get(A);return e?this.copy(this.keyedMap.remove(A),this.sortedSet.remove(e)):this}isEqual(A){if(!(A instanceof Zr)||this.size!==A.size)return!1;const e=this.sortedSet.getIterator(),r=A.sortedSet.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=r.getNext().key;if(!n.isEqual(s))return!1}return!0}toString(){const A=[];return this.forEach(e=>{A.push(e.toString())}),A.length===0?"DocumentSet ()":`DocumentSet (
  `+A.join(`  
`)+`
)`}copy(A,e){const r=new Zr;return r.comparator=this.comparator,r.keyedMap=A,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.Z_=new MA(cA.comparator)}track(A){const e=A.doc.key,r=this.Z_.get(e);r?A.type!==0&&r.type===3?this.Z_=this.Z_.insert(e,A):A.type===3&&r.type!==1?this.Z_=this.Z_.insert(e,{type:r.type,doc:A.doc}):A.type===2&&r.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):A.type===2&&r.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:A.doc}):A.type===1&&r.type===0?this.Z_=this.Z_.remove(e):A.type===1&&r.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:r.doc}):A.type===0&&r.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:A.doc}):dA():this.Z_=this.Z_.insert(e,A)}X_(){const A=[];return this.Z_.inorderTraversal((e,r)=>{A.push(r)}),A}}class on{constructor(A,e,r,n,s,i,o,l,c){this.query=A,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(A,e,r,n,s){const i=[];return e.forEach(o=>{i.push({type:0,doc:o})}),new on(A,e,Zr.emptySet(e),i,r,n,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(A){if(!(this.fromCache===A.fromCache&&this.hasCachedResults===A.hasCachedResults&&this.syncStateChanged===A.syncStateChanged&&this.mutatedKeys.isEqual(A.mutatedKeys)&&ao(this.query,A.query)&&this.docs.isEqual(A.docs)&&this.oldDocs.isEqual(A.oldDocs)))return!1;const e=this.docChanges,r=A.docChanges;if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==r[n].type||!e[n].doc.isEqual(r[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(A=>A.ra())}}class a_{constructor(){this.queries=Fh(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,r){const n=wA(e),s=n.queries;n.queries=Fh(),s.forEach((i,o)=>{for(const l of o.ta)l.onError(r)})})(this,new sA(N.ABORTED,"Firestore shutting down"))}}function Fh(){return new vr(t=>jg(t),ao)}async function Yl(t,A){const e=wA(t);let r=3;const n=A.query;let s=e.queries.get(n);s?!s.na()&&A.ra()&&(r=2):(s=new o_,r=A.ra()?0:1);try{switch(r){case 0:s.ea=await e.onListen(n,!0);break;case 1:s.ea=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(i){const o=ql(i,`Initialization of query '${jr(A.query)}' failed`);return void A.onError(o)}e.queries.set(n,s),s.ta.push(A),A.sa(e.onlineState),s.ea&&A.oa(s.ea)&&Zl(e)}async function zl(t,A){const e=wA(t),r=A.query;let n=3;const s=e.queries.get(r);if(s){const i=s.ta.indexOf(A);i>=0&&(s.ta.splice(i,1),s.ta.length===0?n=A.ra()?0:1:!s.na()&&A.ra()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function l_(t,A){const e=wA(t);let r=!1;for(const n of A){const s=n.query,i=e.queries.get(s);if(i){for(const o of i.ta)o.oa(n)&&(r=!0);i.ea=n}}r&&Zl(e)}function c_(t,A,e){const r=wA(t),n=r.queries.get(A);if(n)for(const s of n.ta)s.onError(e);r.queries.delete(A)}function Zl(t){t.ia.forEach(A=>{A.next()})}var za,vh;(vh=za||(za={}))._a="default",vh.Cache="cache";class $l{constructor(A,e,r){this.query=A,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(A){if(!this.options.includeMetadataChanges){const r=[];for(const n of A.docChanges)n.type!==3&&r.push(n);A=new on(A.query,A.docs,A.oldDocs,r,A.mutatedKeys,A.fromCache,A.syncStateChanged,!0,A.hasCachedResults)}let e=!1;return this.ua?this.la(A)&&(this.aa.next(A),e=!0):this.ha(A,this.onlineState)&&(this.Pa(A),e=!0),this.ca=A,e}onError(A){this.aa.error(A)}sa(A){this.onlineState=A;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,A)&&(this.Pa(this.ca),e=!0),e}ha(A,e){if(!A.fromCache||!this.ra())return!0;const r=e!=="Offline";return(!this.options.Ta||!r)&&(!A.docs.isEmpty()||A.hasCachedResults||e==="Offline")}la(A){if(A.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==A.hasPendingWrites;return!(!A.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(A){A=on.fromInitialDocuments(A.query,A.docs,A.mutatedKeys,A.fromCache,A.hasCachedResults),this.ua=!0,this.aa.next(A)}ra(){return this.options.source!==za.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(A){this.key=A}}class vB{constructor(A){this.key=A}}class u_{constructor(A,e){this.query=A,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_A(),this.mutatedKeys=_A(),this.ya=Xg(A),this.wa=new Zr(this.ya)}get Sa(){return this.fa}ba(A,e){const r=e?e.Da:new Uh,n=e?e.wa:this.wa;let s=e?e.mutatedKeys:this.mutatedKeys,i=n,o=!1;const l=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,c=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(A.inorderTraversal((u,f)=>{const g=n.get(u),B=lo(this.query,f)?f:null,m=!!g&&this.mutatedKeys.has(g.key),Q=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let F=!1;g&&B?g.data.isEqual(B.data)?m!==Q&&(r.track({type:3,doc:B}),F=!0):this.va(g,B)||(r.track({type:2,doc:B}),F=!0,(l&&this.ya(B,l)>0||c&&this.ya(B,c)<0)&&(o=!0)):!g&&B?(r.track({type:0,doc:B}),F=!0):g&&!B&&(r.track({type:1,doc:g}),F=!0,(l||c)&&(o=!0)),F&&(B?(i=i.add(B),s=Q?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:i,Da:r,ls:o,mutatedKeys:s}}va(A,e){return A.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(A,e,r,n){const s=this.wa;this.wa=A.wa,this.mutatedKeys=A.mutatedKeys;const i=A.Da.X_();i.sort((u,f)=>function(B,m){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dA()}};return Q(B)-Q(m)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),n=n!=null&&n;const o=e&&!n?this.Fa():[],l=this.pa.size===0&&this.current&&!n?1:0,c=l!==this.ga;return this.ga=l,i.length!==0||c?{snapshot:new on(this.query,A.wa,s,i,A.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(A){return this.current&&A==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Uh,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(A){return!this.fa.has(A)&&!!this.wa.has(A)&&!this.wa.get(A).hasLocalMutations}Ca(A){A&&(A.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),A.modifiedDocuments.forEach(e=>{}),A.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=A.current)}Fa(){if(!this.current)return[];const A=this.pa;this.pa=_A(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const e=[];return A.forEach(r=>{this.pa.has(r)||e.push(new vB(r))}),this.pa.forEach(r=>{A.has(r)||e.push(new FB(r))}),e}Oa(A){this.fa=A.gs,this.pa=_A();const e=this.ba(A.documents);return this.applyChanges(e,!0)}Na(){return on.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ac="SyncEngine";class h_{constructor(A,e,r){this.query=A,this.targetId=e,this.view=r}}class f_{constructor(A){this.key=A,this.Ba=!1}}class d_{constructor(A,e,r,n,s,i){this.localStore=A,this.remoteStore=e,this.eventManager=r,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.La={},this.ka=new vr(o=>jg(o),ao),this.qa=new Map,this.Qa=new Set,this.$a=new MA(cA.comparator),this.Ua=new Map,this.Ka=new Pl,this.Wa={},this.Ga=new Map,this.za=sn.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g_(t,A,e=!0){const r=RB(t);let n;const s=r.ka.get(A);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Na()):n=await IB(r,A,e,!0),n}async function B_(t,A){const e=RB(t);await IB(e,A,!0,!1)}async function IB(t,A,e,r){const n=await ky(t.localStore,ut(A)),s=n.targetId,i=t.sharedClientState.addLocalQueryTarget(s,e);let o;return r&&(o=await p_(t,A,s,i==="current",n.resumeToken)),t.isPrimaryClient&&e&&CB(t.remoteStore,n),o}async function p_(t,A,e,r,n){t.Ha=(f,g,B)=>async function(Q,F,T,S){let k=F.view.ba(T);k.ls&&(k=await mh(Q.localStore,F.query,!1).then(({documents:E})=>F.view.ba(E,k)));const D=S&&S.targetChanges.get(F.targetId),K=S&&S.targetMismatches.get(F.targetId)!=null,x=F.view.applyChanges(k,Q.isPrimaryClient,D,K);return bh(Q,F.targetId,x.Ma),x.snapshot}(t,f,g,B);const s=await mh(t.localStore,A,!0),i=new u_(A,s.gs),o=i.ba(s.documents),l=gs.createSynthesizedTargetChangeForCurrentChange(e,r&&t.onlineState!=="Offline",n),c=i.applyChanges(o,t.isPrimaryClient,l);bh(t,e,c.Ma);const u=new h_(A,e,i);return t.ka.set(A,u),t.qa.has(e)?t.qa.get(e).push(A):t.qa.set(e,[A]),c.snapshot}async function w_(t,A,e){const r=wA(t),n=r.ka.get(A),s=r.qa.get(n.targetId);if(s.length>1)return r.qa.set(n.targetId,s.filter(i=>!ao(i,A))),void r.ka.delete(A);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await qa(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),e&&Gl(r.remoteStore,n.targetId),Za(r,n.targetId)}).catch(un)):(Za(r,n.targetId),await qa(r.localStore,n.targetId,!0))}async function m_(t,A){const e=wA(t),r=e.ka.get(A),n=e.qa.get(r.targetId);e.isPrimaryClient&&n.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Gl(e.remoteStore,r.targetId))}async function C_(t,A,e){const r=v_(t);try{const n=await function(i,o){const l=wA(i),c=$A.now(),u=o.reduce((B,m)=>B.add(m.key),_A());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",B=>{let m=It(),Q=_A();return l.ds.getEntries(B,u).next(F=>{m=F,m.forEach((T,S)=>{S.isValidDocument()||(Q=Q.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(B,m)).next(F=>{f=F;const T=[];for(const S of o){const k=kQ(S,f.get(S.key).overlayedDocument);k!=null&&T.push(new ir(S.key,k,Mg(k.value.mapValue),Ge.exists(!0)))}return l.mutationQueue.addMutationBatch(B,c,T,o)}).next(F=>{g=F;const T=F.applyToLocalDocumentSet(f,Q);return l.documentOverlayCache.saveOverlays(B,F.batchId,T)})}).then(()=>({batchId:g.batchId,changes:qg(f)}))}(r.localStore,A);r.sharedClientState.addPendingMutation(n.batchId),function(i,o,l){let c=i.Wa[i.currentUser.toKey()];c||(c=new MA(mA)),c=c.insert(o,l),i.Wa[i.currentUser.toKey()]=c}(r,n.batchId,e),await ps(r,n.changes),await Bo(r.remoteStore)}catch(n){const s=ql(n,"Failed to persist write");e.reject(s)}}async function bB(t,A){const e=wA(t);try{const r=await Ry(e.localStore,A);A.targetChanges.forEach((n,s)=>{const i=e.Ua.get(s);i&&(SA(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?i.Ba=!0:n.modifiedDocuments.size>0?SA(i.Ba):n.removedDocuments.size>0&&(SA(i.Ba),i.Ba=!1))}),await ps(e,r,A)}catch(r){await un(r)}}function Ih(t,A,e){const r=wA(t);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const n=[];r.ka.forEach((s,i)=>{const o=i.view.sa(A);o.snapshot&&n.push(o.snapshot)}),function(i,o){const l=wA(i);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const g of f.ta)g.sa(o)&&(c=!0)}),c&&Zl(l)}(r.eventManager,A),n.length&&r.La.p_(n),r.onlineState=A,r.isPrimaryClient&&r.sharedClientState.setOnlineState(A)}}async function Q_(t,A,e){const r=wA(t);r.sharedClientState.updateQueryState(A,"rejected",e);const n=r.Ua.get(A),s=n&&n.key;if(s){let i=new MA(cA.comparator);i=i.insert(s,_e.newNoDocument(s,gA.min()));const o=_A().add(s),l=new ho(gA.min(),new Map,new MA(mA),i,o);await bB(r,l),r.$a=r.$a.remove(s),r.Ua.delete(A),ec(r)}else await qa(r.localStore,A,!1).then(()=>Za(r,A,e)).catch(un)}async function y_(t,A){const e=wA(t),r=A.batch.batchId;try{const n=await Sy(e.localStore,A);HB(e,r,null),TB(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ps(e,n)}catch(n){await un(n)}}async function __(t,A,e){const r=wA(t);try{const n=await function(i,o){const l=wA(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(SA(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,A);HB(r,A,e),TB(r,A),r.sharedClientState.updateMutationState(A,"rejected",e),await ps(r,n)}catch(n){await un(n)}}function TB(t,A){(t.Ga.get(A)||[]).forEach(e=>{e.resolve()}),t.Ga.delete(A)}function HB(t,A,e){const r=wA(t);let n=r.Wa[r.currentUser.toKey()];if(n){const s=n.get(A);s&&(e?s.reject(e):s.resolve(),n=n.remove(A)),r.Wa[r.currentUser.toKey()]=n}}function Za(t,A,e=null){t.sharedClientState.removeLocalQueryTarget(A);for(const r of t.qa.get(A))t.ka.delete(r),e&&t.La.Ja(r,e);t.qa.delete(A),t.isPrimaryClient&&t.Ka.br(A).forEach(r=>{t.Ka.containsKey(r)||SB(t,r)})}function SB(t,A){t.Qa.delete(A.path.canonicalString());const e=t.$a.get(A);e!==null&&(Gl(t.remoteStore,e),t.$a=t.$a.remove(A),t.Ua.delete(e),ec(t))}function bh(t,A,e){for(const r of e)r instanceof FB?(t.Ka.addReference(r.key,A),E_(t,r)):r instanceof vB?($(Ac,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,A),t.Ka.containsKey(r.key)||SB(t,r.key)):dA()}function E_(t,A){const e=A.key,r=e.path.canonicalString();t.$a.get(e)||t.Qa.has(r)||($(Ac,"New document in limbo: "+e),t.Qa.add(r),ec(t))}function ec(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const A=t.Qa.values().next().value;t.Qa.delete(A);const e=new cA(xA.fromString(A)),r=t.za.next();t.Ua.set(r,new f_(e)),t.$a=t.$a.insert(e,r),CB(t.remoteStore,new Pt(ut(oo(e.path)),r,"TargetPurposeLimboResolution",ro.ae))}}async function ps(t,A,e){const r=wA(t),n=[],s=[],i=[];r.ka.isEmpty()||(r.ka.forEach((o,l)=>{i.push(r.Ha(l,A,e).then(c=>{var u;if((c||e)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=e==null?void 0:e.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){n.push(c);const f=Ol.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(i),r.La.p_(n),await async function(l,c){const u=wA(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(c,g=>O.forEach(g.Hi,B=>u.persistence.referenceDelegate.addReference(f,g.targetId,B)).next(()=>O.forEach(g.Ji,B=>u.persistence.referenceDelegate.removeReference(f,g.targetId,B)))))}catch(f){if(!hn(f))throw f;$(Nl,"Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const B=u.Ts.get(g),m=B.snapshotVersion,Q=B.withLastLimboFreeSnapshotVersion(m);u.Ts=u.Ts.insert(g,Q)}}}(r.localStore,s))}async function U_(t,A){const e=wA(t);if(!e.currentUser.isEqual(A)){$(Ac,"User change. New user:",A.toKey());const r=await BB(e.localStore,A);e.currentUser=A,function(s,i){s.Ga.forEach(o=>{o.forEach(l=>{l.reject(new sA(N.CANCELLED,i))})}),s.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(A,r.removedBatchIds,r.addedBatchIds),await ps(e,r.Rs)}}function F_(t,A){const e=wA(t),r=e.Ua.get(A);if(r&&r.Ba)return _A().add(r.key);{let n=_A();const s=e.qa.get(A);if(!s)return n;for(const i of s){const o=e.ka.get(i);n=n.unionWith(o.view.Sa)}return n}}function RB(t){const A=wA(t);return A.remoteStore.remoteSyncer.applyRemoteEvent=bB.bind(null,A),A.remoteStore.remoteSyncer.getRemoteKeysForTarget=F_.bind(null,A),A.remoteStore.remoteSyncer.rejectListen=Q_.bind(null,A),A.La.p_=l_.bind(null,A.eventManager),A.La.Ja=c_.bind(null,A.eventManager),A}function v_(t){const A=wA(t);return A.remoteStore.remoteSyncer.applySuccessfulWrite=y_.bind(null,A),A.remoteStore.remoteSyncer.rejectFailedWrite=__.bind(null,A),A}class Oi{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(A){this.serializer=fo(A.databaseInfo.databaseId),this.sharedClientState=this.Za(A),this.persistence=this.Xa(A),await this.persistence.start(),this.localStore=this.eu(A),this.gcScheduler=this.tu(A,this.localStore),this.indexBackfillerScheduler=this.nu(A,this.localStore)}tu(A,e){return null}nu(A,e){return null}eu(A){return Hy(this.persistence,new Iy,A.initialUser,this.serializer)}Xa(A){return new gB(Kl.ri,this.serializer)}Za(A){return new xy}async terminate(){var A,e;(A=this.gcScheduler)===null||A===void 0||A.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oi.provider={build:()=>new Oi};class I_ extends Oi{constructor(A){super(),this.cacheSizeBytes=A}tu(A,e){SA(this.persistence.referenceDelegate instanceof Pi);const r=this.persistence.referenceDelegate.garbageCollector;return new fy(r,A.asyncQueue,e)}Xa(A){const e=this.cacheSizeBytes!==void 0?Ie.withCacheSize(this.cacheSizeBytes):Ie.DEFAULT;return new gB(r=>Pi.ri(r,e),this.serializer)}}class $a{async initialize(A,e){this.localStore||(this.localStore=A.localStore,this.sharedClientState=A.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!A.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ih(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U_.bind(null,this.syncEngine),await i_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(A){return function(){return new a_}()}createDatastore(A){const e=fo(A.databaseInfo.databaseId),r=function(s){return new Ny(s)}(A.databaseInfo);return function(s,i,o,l){return new Xy(s,i,o,l)}(A.authCredentials,A.appCheckCredentials,r,e)}createRemoteStore(A){return function(r,n,s,i,o){return new qy(r,n,s,i,o)}(this.localStore,this.datastore,A.asyncQueue,e=>Ih(this.syncEngine,e,0),function(){return yh.D()?new yh:new My}())}createSyncEngine(A,e){return function(n,s,i,o,l,c,u){const f=new d_(n,s,i,o,l,c);return u&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,A.initialUser,A.maxConcurrentLimboResolutions,e)}async terminate(){var A,e;await async function(n){const s=wA(n);$(Ur,"RemoteStore shutting down."),s.W_.add(5),await Bs(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(A=this.datastore)===null||A===void 0||A.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}$a.provider={build:()=>new $a};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(A){this.observer=A,this.muted=!1}next(A){this.muted||this.observer.next&&this.iu(this.observer.next,A)}error(A){this.muted||(this.observer.error?this.iu(this.observer.error,A):vt("Uncaught Error in snapshot listener:",A.toString()))}su(){this.muted=!0}iu(A,e){setTimeout(()=>{this.muted||A(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="FirestoreClient";class b_{constructor(A,e,r,n,s){this.authCredentials=A,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=n,this.user=Qe.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async i=>{$(er,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>($(er,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(A){this.authCredentialListener=A}setAppCheckTokenChangeListener(A){this.appCheckCredentialListener=A}terminate(){this.asyncQueue.enterRestrictedMode();const A=new Et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),A.resolve()}catch(e){const r=ql(e,"Failed to shutdown persistence");A.reject(r)}}),A.promise}}async function aa(t,A){t.asyncQueue.verifyOperationInProgress(),$(er,"Initializing OfflineComponentProvider");const e=t.configuration;await A.initialize(e);let r=e.initialUser;t.setCredentialChangeListener(async n=>{r.isEqual(n)||(await BB(A.localStore,n),r=n)}),A.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=A}async function Th(t,A){t.asyncQueue.verifyOperationInProgress();const e=await T_(t);$(er,"Initializing OnlineComponentProvider"),await A.initialize(e,t.configuration),t.setCredentialChangeListener(r=>Eh(A.remoteStore,r)),t.setAppCheckTokenChangeListener((r,n)=>Eh(A.remoteStore,n)),t._onlineComponents=A}async function T_(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(er,"Using user provided OfflineComponentProvider");try{await aa(t,t._uninitializedComponentsProvider._offline)}catch(A){const e=A;if(!function(n){return n.name==="FirebaseError"?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(e))throw e;en("Error using user provided cache. Falling back to memory cache: "+e),await aa(t,new Oi)}}else $(er,"Using default OfflineComponentProvider"),await aa(t,new I_(void 0));return t._offlineComponents}async function DB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(er,"Using user provided OnlineComponentProvider"),await Th(t,t._uninitializedComponentsProvider._online)):($(er,"Using default OnlineComponentProvider"),await Th(t,new $a))),t._onlineComponents}function H_(t){return DB(t).then(A=>A.syncEngine)}async function Ni(t){const A=await DB(t),e=A.eventManager;return e.onListen=g_.bind(null,A.syncEngine),e.onUnlisten=w_.bind(null,A.syncEngine),e.onFirstRemoteStoreListen=B_.bind(null,A.syncEngine),e.onLastRemoteStoreUnlisten=m_.bind(null,A.syncEngine),e}function S_(t,A,e={}){const r=new Et;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,l,c){const u=new tc({next:g=>{u.su(),i.enqueueAndForget(()=>zl(s,f));const B=g.docs.has(o);!B&&g.fromCache?c.reject(new sA(N.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&g.fromCache&&l&&l.source==="server"?c.reject(new sA(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new $l(oo(o.path),u,{includeMetadataChanges:!0,Ta:!0});return Yl(s,f)}(await Ni(t),t.asyncQueue,A,e,r)),r.promise}function R_(t,A,e={}){const r=new Et;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,l,c){const u=new tc({next:g=>{u.su(),i.enqueueAndForget(()=>zl(s,f)),g.fromCache&&l.source==="server"?c.reject(new sA(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new $l(o,u,{includeMetadataChanges:!0,Ta:!0});return Yl(s,f)}(await Ni(t),t.asyncQueue,A,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){const A={};return t.timeoutSeconds!==void 0&&(A.timeoutSeconds=t.timeoutSeconds),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t,A,e){if(!e)throw new sA(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${A}.`)}function D_(t,A,e,r){if(A===!0&&r===!0)throw new sA(N.INVALID_ARGUMENT,`${t} and ${e} cannot be used together.`)}function Sh(t){if(!cA.isDocumentKey(t))throw new sA(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rh(t){if(cA.isDocumentKey(t))throw new sA(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const A=function(r){return r.constructor?r.constructor.name:null}(t);return A?`a custom ${A} object`:"an object"}}return typeof t=="function"?"a function":dA()}function We(t,A){if("_delegate"in t&&(t=t._delegate),!(t instanceof A)){if(A.name===t.constructor.name)throw new sA(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=rc(t);throw new sA(N.INVALID_ARGUMENT,`Expected type '${A.name}', but it was: ${e}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="firestore.googleapis.com",Dh=!0;class Lh{constructor(A){var e,r;if(A.host===void 0){if(A.ssl!==void 0)throw new sA(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VB,this.ssl=Dh}else this.host=A.host,this.ssl=(e=A.ssl)!==null&&e!==void 0?e:Dh;if(this.credentials=A.credentials,this.ignoreUndefinedProperties=!!A.ignoreUndefinedProperties,this.localCache=A.localCache,A.cacheSizeBytes===void 0)this.cacheSizeBytes=dB;else{if(A.cacheSizeBytes!==-1&&A.cacheSizeBytes<uy)throw new sA(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=A.cacheSizeBytes}D_("experimentalForceLongPolling",A.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",A.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!A.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:A.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!A.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LB((r=A.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new sA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new sA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new sA(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!A.useFetchStreams}isEqual(A){return this.host===A.host&&this.ssl===A.ssl&&this.credentials===A.credentials&&this.cacheSizeBytes===A.cacheSizeBytes&&this.experimentalForceLongPolling===A.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===A.experimentalAutoDetectLongPolling&&function(r,n){return r.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,A.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===A.ignoreUndefinedProperties&&this.useFetchStreams===A.useFetchStreams}}class po{constructor(A,e,r,n){this._authCredentials=A,this._appCheckCredentials=e,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new sA(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(A){if(this._settingsFrozen)throw new sA(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lh(A),this._emulatorOptions=A.emulatorOptions||{},A.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O0;switch(r.type){case"firstParty":return new j0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new sA(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(A.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Hh.get(e);r&&($("ComponentProvider","Removing Datastore"),Hh.delete(e),r.terminate())}(this),Promise.resolve()}}function L_(t,A,e,r={}){var n;const s=(t=We(t,po))._getSettings(),i=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),o=`${A}:${e}`;s.host!==VB&&s.host!==o&&en("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!bi(l,i)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Qe.MOCK_USER;else{c=Am(r.mockUserToken,(n=t._app)===null||n===void 0?void 0:n.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new sA(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(f)}t._authCredentials=new N0(new Fg(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(A,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=A}withConverter(A){return new ws(this.firestore,A,this._query)}}class Fe{constructor(A,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=A}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xt(this.firestore,this.converter,this._key.path.popLast())}withConverter(A){return new Fe(this.firestore,A,this._key)}}class Xt extends ws{constructor(A,e,r){super(A,e,oo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const A=this._path.popLast();return A.isEmpty()?null:new Fe(this.firestore,null,new cA(A))}withConverter(A){return new Xt(this.firestore,A,this._path)}}function ms(t,A,...e){if(t=et(t),kB("collection","path",A),t instanceof po){const r=xA.fromString(A,...e);return Rh(r),new Xt(t,null,r)}{if(!(t instanceof Fe||t instanceof Xt))throw new sA(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xA.fromString(A,...e));return Rh(r),new Xt(t.firestore,null,r)}}function Tt(t,A,...e){if(t=et(t),arguments.length===1&&(A=Ig.newId()),kB("doc","path",A),t instanceof po){const r=xA.fromString(A,...e);return Sh(r),new Fe(t,null,new cA(r))}{if(!(t instanceof Fe||t instanceof Xt))throw new sA(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xA.fromString(A,...e));return Sh(r),new Fe(t.firestore,t instanceof Xt?t.converter:null,new cA(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="AsyncQueue";class Vh{constructor(A=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wB(this,"async_queue_retry"),this.Su=()=>{const r=oa();r&&$(kh,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=A;const e=oa();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(A){this.enqueue(A)}enqueueAndForgetEvenWhileRestricted(A){this.Du(),this.vu(A)}enterRestrictedMode(A){if(!this.mu){this.mu=!0,this.yu=A||!1;const e=oa();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(A){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Et;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(A().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(A){this.enqueueAndForget(()=>(this.Vu.push(A),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(A){if(!hn(A))throw A;$(kh,"Operation failed with retryable error: "+A)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(A){const e=this.bu.then(()=>(this.pu=!0,A().catch(r=>{this.gu=r,this.pu=!1;const n=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw vt("INTERNAL UNHANDLED ERROR: ",n),r}).then(r=>(this.pu=!1,r))));return this.bu=e,e}enqueueAfterDelay(A,e,r){this.Du(),this.wu.indexOf(A)>-1&&(e=0);const n=Jl.createAndSchedule(this,A,e,r,s=>this.Fu(s));return this.fu.push(n),n}Du(){this.gu&&dA()}verifyOperationInProgress(){}async Mu(){let A;do A=this.bu,await A;while(A!==this.bu)}xu(A){for(const e of this.fu)if(e.timerId===A)return!0;return!1}Ou(A){return this.Mu().then(()=>{this.fu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),A!=="all"&&e.timerId===A)break;return this.Mu()})}Nu(A){this.wu.push(A)}Fu(A){const e=this.fu.indexOf(A);this.fu.splice(e,1)}}function xh(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const n=e;for(const s of r)if(s in n&&typeof n[s]=="function")return!0;return!1}(t,["next","error","complete"])}class tr extends po{constructor(A,e,r,n){super(A,e,r,n),this.type="firestore",this._queue=new Vh,this._persistenceKey=(n==null?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const A=this._firestoreClient.terminate();this._queue=new Vh(A),this._firestoreClient=void 0,await A}}}function xB(t,A){const e=typeof t=="object"?t:hC(),r=typeof t=="string"?t:Ri,n=_l(e,"firestore").getImmediate({identifier:r});if(!n._initialized){const s=Zw("firestore");s&&L_(n,...s)}return n}function Cs(t){if(t._terminated)throw new sA(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k_(t),t._firestoreClient}function k_(t){var A,e,r;const n=t._freezeSettings(),s=function(o,l,c,u){return new oQ(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,LB(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((A=t._app)===null||A===void 0?void 0:A.options.appId)||"",t._persistenceKey,n);t._componentsProvider||!((e=n.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=n.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),t._firestoreClient=new b_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(A){this._byteString=A}static fromBase64String(A){try{return new an(ge.fromBase64String(A))}catch(e){throw new sA(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(A){return new an(ge.fromUint8Array(A))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(A){return this._byteString.isEqual(A._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(...A){for(let e=0;e<A.length;++e)if(A[e].length===0)throw new sA(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fe(A)}isEqual(A){return this._internalPath.isEqual(A._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(A){this._methodName=A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(A,e){if(!isFinite(A)||A<-90||A>90)throw new sA(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+A);if(!isFinite(e)||e<-180||e>180)throw new sA(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=A,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(A){return this._lat===A._lat&&this._long===A._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(A){return mA(this._lat,A._lat)||mA(this._long,A._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(A){this._values=(A||[]).map(e=>e)}toArray(){return this._values.map(A=>A)}isEqual(A){return function(r,n){if(r.length!==n.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==n[s])return!1;return!0}(this._values,A._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=/^__.*__$/;class x_{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return this.fieldMask!==null?new ir(A,this.data,this.fieldMask,e,this.fieldTransforms):new ds(A,this.data,e,this.fieldTransforms)}}class MB{constructor(A,e,r){this.data=A,this.fieldMask=e,this.fieldTransforms=r}toMutation(A,e){return new ir(A,this.data,this.fieldMask,e,this.fieldTransforms)}}function PB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dA()}}class oc{constructor(A,e,r,n,s,i){this.settings=A,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=n,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(A){return new oc(Object.assign(Object.assign({},this.settings),A),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.$u(A),n}Uu(A){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(A),n=this.ku({path:r,Qu:!1});return n.Bu(),n}Ku(A){return this.ku({path:void 0,Qu:!0})}Wu(A){return Gi(A,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(A){return this.fieldMask.find(e=>A.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>A.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let A=0;A<this.path.length;A++)this.$u(this.path.get(A))}$u(A){if(A.length===0)throw this.Wu("Document fields must not be empty");if(PB(this.Lu)&&V_.test(A))throw this.Wu('Document fields cannot begin and end with "__"')}}class M_{constructor(A,e,r){this.databaseId=A,this.ignoreUndefinedProperties=e,this.serializer=r||fo(A)}ju(A,e,r,n=!1){return new oc({Lu:A,methodName:e,zu:r,path:fe.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ac(t){const A=t._freezeSettings(),e=fo(t._databaseId);return new M_(t._databaseId,!!A.ignoreUndefinedProperties,e)}function KB(t,A,e,r,n,s={}){const i=t.ju(s.merge||s.mergeFields?2:0,A,e,n);lc("Data must be an object, but it was:",i,r);const o=GB(r,i);let l,c;if(s.merge)l=new Oe(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const g=Al(A,f,e);if(!i.contains(g))throw new sA(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);jB(u,g)||u.push(g)}l=new Oe(u),c=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=i.fieldTransforms;return new x_(new Te(o),l,c)}class wo extends nc{_toFieldTransform(A){if(A.Lu!==2)throw A.Lu===1?A.Wu(`${this._methodName}() can only appear at the top level of your update data`):A.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return A.fieldMask.push(A.path),null}isEqual(A){return A instanceof wo}}function OB(t,A,e,r){const n=t.ju(1,A,e);lc("Data must be an object, but it was:",n,r);const s=[],i=Te.empty();sr(r,(l,c)=>{const u=cc(A,l,e);c=et(c);const f=n.Uu(u);if(c instanceof wo)s.push(u);else{const g=mo(c,f);g!=null&&(s.push(u),i.set(u,g))}});const o=new Oe(s);return new MB(i,o,n.fieldTransforms)}function NB(t,A,e,r,n,s){const i=t.ju(1,A,e),o=[Al(A,r,e)],l=[n];if(s.length%2!=0)throw new sA(N.INVALID_ARGUMENT,`Function ${A}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(Al(A,s[g])),l.push(s[g+1]);const c=[],u=Te.empty();for(let g=o.length-1;g>=0;--g)if(!jB(c,o[g])){const B=o[g];let m=l[g];m=et(m);const Q=i.Uu(B);if(m instanceof wo)c.push(B);else{const F=mo(m,Q);F!=null&&(c.push(B),u.set(B,F))}}const f=new Oe(c);return new MB(u,f,i.fieldTransforms)}function mo(t,A){if(WB(t=et(t)))return lc("Unsupported field value:",A,t),GB(t,A);if(t instanceof nc)return function(r,n){if(!PB(n.Lu))throw n.Wu(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(n);s&&n.fieldTransforms.push(s)}(t,A),null;if(t===void 0&&A.ignoreUndefinedProperties)return null;if(A.path&&A.fieldMask.push(A.path),t instanceof Array){if(A.settings.Qu&&A.Lu!==4)throw A.Wu("Nested arrays are not supported");return function(r,n){const s=[];let i=0;for(const o of r){let l=mo(o,n.Ku(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,A)}return function(r,n){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TQ(n.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$A.fromDate(r);return{timestampValue:Mi(n.serializer,s)}}if(r instanceof $A){const s=new $A(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mi(n.serializer,s)}}if(r instanceof sc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof an)return{bytesValue:oB(n.serializer,r._byteString)};if(r instanceof Fe){const s=n.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw n.Wu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ml(r.firestore._databaseId||n.databaseId,r._key.path)}}if(r instanceof ic)return function(i,o){return{mapValue:{fields:{[kg]:{stringValue:xg},[Di]:{arrayValue:{values:i.toArray().map(c=>{if(typeof c!="number")throw o.Wu("VectorValues must only contain numeric values.");return Ll(o.serializer,c)})}}}}}}(r,n);throw n.Wu(`Unsupported field value: ${rc(r)}`)}(t,A)}function GB(t,A){const e={};return Tg(t)?A.path&&A.path.length>0&&A.fieldMask.push(A.path):sr(t,(r,n)=>{const s=mo(n,A.qu(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function WB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $A||t instanceof sc||t instanceof an||t instanceof Fe||t instanceof nc||t instanceof ic)}function lc(t,A,e){if(!WB(e)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(e)){const r=rc(e);throw r==="an object"?A.Wu(t+" a custom object"):A.Wu(t+" "+r)}}function Al(t,A,e){if((A=et(A))instanceof Qs)return A._internalPath;if(typeof A=="string")return cc(t,A);throw Gi("Field path arguments must be of type string or ",t,!1,void 0,e)}const P_=new RegExp("[~\\*/\\[\\]]");function cc(t,A,e){if(A.search(P_)>=0)throw Gi(`Invalid field path (${A}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,e);try{return new Qs(...A.split("."))._internalPath}catch{throw Gi(`Invalid field path (${A}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,e)}}function Gi(t,A,e,r,n){const s=r&&!r.isEmpty(),i=n!==void 0;let o=`Function ${A}() called with invalid data`;e&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${n}`),l+=")"),new sA(N.INVALID_ARGUMENT,o+t+l)}function jB(t,A){return t.some(e=>e.isEqual(A))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(A,e,r,n,s){this._firestore=A,this._userDataWriter=e,this._key=r,this._document=n,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const A=new K_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(A)}return this._userDataWriter.convertValue(this._document.data.value)}}get(A){if(this._document){const e=this._document.data.field(JB("DocumentSnapshot.get",A));if(e!==null)return this._userDataWriter.convertValue(e)}}}class K_ extends XB{data(){return super.data()}}function JB(t,A){return typeof A=="string"?cc(t,A):A instanceof Qs?A._internalPath:A._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new sA(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O_{convertValue(A,e="none"){switch($t(A)){case 0:return null;case 1:return A.booleanValue;case 2:return jA(A.integerValue||A.doubleValue);case 3:return this.convertTimestamp(A.timestampValue);case 4:return this.convertServerTimestamp(A,e);case 5:return A.stringValue;case 6:return this.convertBytes(Zt(A.bytesValue));case 7:return this.convertReference(A.referenceValue);case 8:return this.convertGeoPoint(A.geoPointValue);case 9:return this.convertArray(A.arrayValue,e);case 11:return this.convertObject(A.mapValue,e);case 10:return this.convertVectorValue(A.mapValue);default:throw dA()}}convertObject(A,e){return this.convertObjectMap(A.fields,e)}convertObjectMap(A,e="none"){const r={};return sr(A,(n,s)=>{r[n]=this.convertValue(s,e)}),r}convertVectorValue(A){var e,r,n;const s=(n=(r=(e=A.fields)===null||e===void 0?void 0:e[Di].arrayValue)===null||r===void 0?void 0:r.values)===null||n===void 0?void 0:n.map(i=>jA(i.doubleValue));return new ic(s)}convertGeoPoint(A){return new sc(jA(A.latitude),jA(A.longitude))}convertArray(A,e){return(A.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(A,e){switch(e){case"previous":const r=so(A);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(rs(A));default:return null}}convertTimestamp(A){const e=zt(A);return new $A(e.seconds,e.nanos)}convertDocumentKey(A,e){const r=xA.fromString(A);SA(fB(r));const n=new ns(r.get(1),r.get(3)),s=new cA(r.popFirst(5));return n.isEqual(e)||vt(`Document ${s} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t,A,e){let r;return r=t?e&&(e.merge||e.mergeFields)?t.toFirestore(A,e):t.toFirestore(A):A,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(A,e){this.hasPendingWrites=A,this.fromCache=e}isEqual(A){return this.hasPendingWrites===A.hasPendingWrites&&this.fromCache===A.fromCache}}class zB extends XB{constructor(A,e,r,n,s,i){super(A,e,r,n,i),this._firestore=A,this._firestoreImpl=A,this.metadata=s}exists(){return super.exists()}data(A={}){if(this._document){if(this._converter){const e=new Ei(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,A)}return this._userDataWriter.convertValue(this._document.data.value,A.serverTimestamps)}}get(A,e={}){if(this._document){const r=this._document.data.field(JB("DocumentSnapshot.get",A));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Ei extends zB{data(A={}){return super.data(A)}}class ZB{constructor(A,e,r,n){this._firestore=A,this._userDataWriter=e,this._snapshot=n,this.metadata=new Vn(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const A=[];return this.forEach(e=>A.push(e)),A}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(A,e){this._snapshot.docs.forEach(r=>{A.call(e,new Ei(this._firestore,this._userDataWriter,r.key,r,new Vn(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(A={}){const e=!!A.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sA(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,s){if(n._snapshot.oldDocs.isEmpty()){let i=0;return n._snapshot.docChanges.map(o=>{const l=new Ei(n._firestore,n._userDataWriter,o.doc.key,o.doc,new Vn(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Ei(n._firestore,n._userDataWriter,o.doc.key,o.doc,new Vn(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,u=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:N_(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function N_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){t=We(t,Fe);const A=We(t.firestore,tr);return S_(Cs(A),t._key).then(e=>$B(A,t,e))}class hc extends O_{constructor(A){super(),this.firestore=A}convertBytes(A){return new an(A)}convertReference(A){const e=this.convertDocumentKey(A,this.firestore._databaseId);return new Fe(this.firestore,null,e)}}function Bt(t){t=We(t,ws);const A=We(t.firestore,tr),e=Cs(A),r=new hc(A);return qB(t._query),R_(e,t._query).then(n=>new ZB(A,r,t,n))}function G_(t,A,e){t=We(t,Fe);const r=We(t.firestore,tr),n=YB(t.converter,A,e);return fc(r,[KB(ac(r),"setDoc",t._key,n,t.converter!==null,e).toMutation(t._key,Ge.none())])}function Co(t,A,e,...r){t=We(t,Fe);const n=We(t.firestore,tr),s=ac(n);let i;return i=typeof(A=et(A))=="string"||A instanceof Qs?NB(s,"updateDoc",t._key,A,e,r):OB(s,"updateDoc",t._key,A),fc(n,[i.toMutation(t._key,Ge.exists(!0))])}function W_(t,...A){var e,r,n;t=et(t);let s={includeMetadataChanges:!1,source:"default"},i=0;typeof A[i]!="object"||xh(A[i])||(s=A[i],i++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(xh(A[i])){const f=A[i];A[i]=(e=f.next)===null||e===void 0?void 0:e.bind(f),A[i+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),A[i+2]=(n=f.complete)===null||n===void 0?void 0:n.bind(f)}let l,c,u;if(t instanceof Fe)c=We(t.firestore,tr),u=oo(t._key.path),l={next:f=>{A[i]&&A[i]($B(c,t,f))},error:A[i+1],complete:A[i+2]};else{const f=We(t,ws);c=We(f.firestore,tr),u=f._query;const g=new hc(c);l={next:B=>{A[i]&&A[i](new ZB(c,g,f,B))},error:A[i+1],complete:A[i+2]},qB(t._query)}return function(g,B,m,Q){const F=new tc(Q),T=new $l(B,F,m);return g.asyncQueue.enqueueAndForget(async()=>Yl(await Ni(g),T)),()=>{F.su(),g.asyncQueue.enqueueAndForget(async()=>zl(await Ni(g),T))}}(Cs(c),u,o,l)}function fc(t,A){return function(r,n){const s=new Et;return r.asyncQueue.enqueueAndForget(async()=>C_(await H_(r),n,s)),s.promise}(Cs(t),A)}function $B(t,A,e){const r=e.docs.get(A._key),n=new hc(t);return new zB(t,n,A._key,r,new Vn(e.hasPendingWrites,e.fromCache),A.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(A,e){this._firestore=A,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ac(A)}set(A,e,r){this._verifyNotCommitted();const n=la(A,this._firestore),s=YB(n.converter,e,r),i=KB(this._dataReader,"WriteBatch.set",n._key,s,n.converter!==null,r);return this._mutations.push(i.toMutation(n._key,Ge.none())),this}update(A,e,r,...n){this._verifyNotCommitted();const s=la(A,this._firestore);let i;return i=typeof(e=et(e))=="string"||e instanceof Qs?NB(this._dataReader,"WriteBatch.update",s._key,e,r,n):OB(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(i.toMutation(s._key,Ge.exists(!0))),this}delete(A){this._verifyNotCommitted();const e=la(A,this._firestore);return this._mutations=this._mutations.concat(new kl(e._key,Ge.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sA(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function la(t,A){if((t=et(t)).firestore!==A)throw new sA(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){return Cs(t=We(t,tr)),new j_(t,A=>fc(t,A))}(function(A,e=!0){(function(n){cn=n})(uC),qt(new Ut("firestore",(r,{instanceIdentifier:n,options:s})=>{const i=r.getProvider("app").getImmediate(),o=new tr(new G0(r.getProvider("auth-internal")),new X0(i,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new sA(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ns(c.options.projectId,u)}(i,n),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ct(Nu,Gu,A),ct(Nu,Gu,"esm2017")})();const J_={apiKey:"AIzaSyCTe1si_Cg2Pkl2X77JpscYfW6KajberCM",authDomain:"drawit-1f620.firebaseapp.com",projectId:"drawit-1f620",storageBucket:"drawit-1f620.firebasestorage.app",messagingSenderId:"513679195329",appId:"1:513679195329:web:d650c7307b461788dc6840",measurementId:"G-P8GR3KFS0H"},q_=qd(J_),ys=xB(q_),br=ms(ys,"games"),bt=ms(ys,"users");ms(ys,"drawings");const Ap=ms(ys,"words");async function Y_(t){try{const A=us(Ne),e=t.filter(s=>!A[s]);if(e.length===0)return;const r=await Bt(bt),n={};r.docs.forEach(s=>{const i=s.data();e.includes(i.name)&&(n[i.name]={...i,id:s.id})}),Ne.update(s=>({...s,...n}))}catch(A){console.error("Error loading users:",A)}}async function z_(t,A,e,r){const n=Tt(br,t),i=(await uc(n)).data();return i.drawings[A].comments.push({content:e,createdBy:r}),await Co(n,{drawings:i.drawings}),i.drawings[A]}async function Z_(){try{return(await Bt(Ap)).docs.map(e=>e.data())}catch(t){console.error("Error loading words:",t)}return[]}async function $_(t,A){try{const e=Tt(Ap);await dc(e,{word:t,createdBy:A,createdAt:new Date})}catch(e){console.error("Error creating custom word:",e)}}async function AE(t){try{const e=(await Bt(bt)).docs.find(s=>s.data().name===t);if(e){const i={...e.data(),id:e.id};return ae.set(i),Ne.update(o=>({...o,[i.name]:i})),await tp(i.name),i}const r=Tt(bt),n={name:t,coins:0,createdAt:new Date,id:r.id};return await dc(r,n),ae.set(n),Ne.update(s=>({...s,[n.name]:n})),n}catch(A){throw console.error("Error creating/retrieving user:",A),A}}async function ep(t){try{const A=us(Ne);if(A[t])return A[t];const r=(await Bt(bt)).docs.find(n=>n.data().name===t);if(r){const s={...r.data(),id:r.id};return Ne.update(i=>({...i,[s.name]:s})),s}return null}catch(A){return console.error("Error getting user:",A),null}}async function Mh(t){try{if(!t){const i=(await Bt(bt)).docs.map(o=>({...o.data(),id:o.id}));return Ne.update(o=>{const l={...o};return i.forEach(c=>{l[c.name]=c}),l}),i}const A=us(Ne),e=Object.values(A).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));if(e.length>0)return e;const n=(await Bt(bt)).docs.map(s=>({...s.data(),id:s.id})).filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));return Ne.update(s=>{const i={...s};return n.forEach(o=>{i[o.name]=o}),i}),n}catch(A){return console.error("Error searching users:",A),[]}}async function tp(t){try{const e=(await Bt(br)).docs.filter(r=>{const n=r.data();return n.users&&n.users.includes(t)}).map(r=>({...r.data(),id:r.id}));return fs.set(e),e}catch(A){return console.error("Error in loadGames:",A),[]}}async function eE(t){const A=Tt(br),e={id:A.id,users:t,createdAt:new Date,drawings:[]};return await dc(A,e),pi.set(!1),e}async function Qo(t){if(!t.id)return console.error("Cannot update game without ID"),t;try{const A=Tt(br,t.id);return await Co(A,{drawings:t.drawings}),t}catch(A){return console.error("Error updating game:",A),t}}async function mr(t,A){const e=await ep(t);if(!e)return console.error("Cannot add coins to user without ID"),e;try{const r=Tt(bt,e.id),n=e.coins+A;await Co(r,{coins:n});const s={...e,coins:n},i=us(ae);return i&&i.name===t&&ae.set(s),Ne.update(o=>({...o,[t]:s})),s}catch(r){return console.error("Error adding coins:",r),e}}async function tE(t,A,e){try{if(console.log(`likeDrawing called with gameId: ${t}, drawingIndex: ${A}, userName: ${e}`),!t||A===void 0)return console.error("Invalid gameId or drawingIndex",{gameId:t,drawingIndex:A}),!1;const r=Tt(br,t);console.log(`Getting game ref for ${t}`);const n=await uc(r);if(!n.exists())return console.error("Game not found"),!1;const s=n.data();if(console.log("Game data retrieved:",s),!s.drawings||!Array.isArray(s.drawings))return console.error("Game has no drawings array",s),!1;if(A>=s.drawings.length)return console.error(`Drawing index out of bounds: ${A}, max: ${s.drawings.length-1}`),!1;const i=s.drawings[A];if(!i)return console.error("Drawing not found"),!1;i.likes||(i.likes=[]),console.log("Current likes:",i.likes);const o=i.likes.indexOf(e);return o>=0?(console.log(`Removing like from ${e}`),i.likes.splice(o,1)):(console.log(`Adding like from ${e}`),i.likes.push(e)),console.log("Updated likes:",i.likes),console.log("Updating game document"),await Co(r,{drawings:s.drawings}),console.log("Like operation successful"),!0}catch(r){return console.error("Error liking drawing:",r),!1}}async function rE(){try{const t=us(ae);if(!t)return!1;const e=(await Bt(bt)).docs.find(s=>s.data().name===t.name);if(!e)return ae.set(null),localStorage.removeItem("drawIt-user-v2"),localStorage.removeItem("drawIt-games-v2"),localStorage.removeItem("drawIt-users-v2"),!1;const n={...e.data(),id:e.id};return ae.set(n),!0}catch(t){return console.error("Error validating user session:",t),!1}}async function Ph(t){try{const A=await uc(Tt(br,t));return A.exists()?{...A.data(),id:A.id}:null}catch(A){return console.error("Error loading game:",A),null}}async function nE(){try{const t=await Bt(br),A=[];t.docs.forEach(r=>{const n=r.data();if(n.drawings&&n.drawings.length>0){const s=n.drawings.map((i,o)=>({...i,gameId:r.id,index:o}));for(const i of s)i.guessedBy=n.users.find(o=>o!==i.artist)??"";A.push(...s)}});const e=A.sort((r,n)=>{function s(l){return l?l instanceof Date?l:typeof l.toDate=="function"?l.toDate():typeof l=="string"?new Date(l):new Date(l):new Date(0)}const i=s(r.createdAt);return s(n.createdAt).getTime()-i.getTime()});return console.log(e),e.slice(0,100)}catch(t){return console.error("Error fetching recent drawings:",t),[]}}async function dc(t,A,e){const{_middleware:r,...n}=A;return G_(t,n,e)}var gc={};(function t(A,e,r,n){var s=!!(A.Worker&&A.Blob&&A.Promise&&A.OffscreenCanvas&&A.OffscreenCanvasRenderingContext2D&&A.HTMLCanvasElement&&A.HTMLCanvasElement.prototype.transferControlToOffscreen&&A.URL&&A.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!A.OffscreenCanvas)return!1;var V=new OffscreenCanvas(1,1),H=V.getContext("2d");H.fillRect(0,0,1,1);var z=V.transferToImageBitmap();try{H.createPattern(z,"no-repeat")}catch{return!1}return!0}();function l(){}function c(V){var H=e.exports.Promise,z=H!==void 0?H:A.Promise;return typeof z=="function"?new z(V):(V(l,l),null)}var u=function(V,H){return{transform:function(z){if(V)return z;if(H.has(z))return H.get(z);var J=new OffscreenCanvas(z.width,z.height),uA=J.getContext("2d");return uA.drawImage(z,0,0),H.set(z,J),J},clear:function(){H.clear()}}}(o,new Map),f=function(){var V=Math.floor(16.666666666666668),H,z,J={},uA=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(H=function(iA){var nA=Math.random();return J[nA]=requestAnimationFrame(function j(X){uA===X||uA+V-1<X?(uA=X,delete J[nA],iA()):J[nA]=requestAnimationFrame(j)}),nA},z=function(iA){J[iA]&&cancelAnimationFrame(J[iA])}):(H=function(iA){return setTimeout(iA,V)},z=function(iA){return clearTimeout(iA)}),{frame:H,cancel:z}}(),g=function(){var V,H,z={};function J(uA){function iA(nA,j){uA.postMessage({options:nA||{},callback:j})}uA.init=function(j){var X=j.transferControlToOffscreen();uA.postMessage({canvas:X},[X])},uA.fire=function(j,X,EA){if(H)return iA(j,null),H;var oA=Math.random().toString(36).slice(2);return H=c(function(fA){function CA(QA){QA.data.callback===oA&&(delete z[oA],uA.removeEventListener("message",CA),H=null,u.clear(),EA(),fA())}uA.addEventListener("message",CA),iA(j,oA),z[oA]=CA.bind(null,{data:{callback:oA}})}),H},uA.reset=function(){uA.postMessage({reset:!0});for(var j in z)z[j](),delete z[j]}}return function(){if(V)return V;if(!r&&s){var uA=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{V=new Worker(URL.createObjectURL(new Blob([uA])))}catch(iA){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",iA),null}J(V)}return V}}(),B={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(V,H){return H?H(V):V}function Q(V){return V!=null}function F(V,H,z){return m(V&&Q(V[H])?V[H]:B[H],z)}function T(V){return V<0?0:Math.floor(V)}function S(V,H){return Math.floor(Math.random()*(H-V))+V}function k(V){return parseInt(V,16)}function D(V){return V.map(K)}function K(V){var H=String(V).replace(/[^0-9a-f]/gi,"");return H.length<6&&(H=H[0]+H[0]+H[1]+H[1]+H[2]+H[2]),{r:k(H.substring(0,2)),g:k(H.substring(2,4)),b:k(H.substring(4,6))}}function x(V){var H=F(V,"origin",Object);return H.x=F(H,"x",Number),H.y=F(H,"y",Number),H}function E(V){V.width=document.documentElement.clientWidth,V.height=document.documentElement.clientHeight}function C(V){var H=V.getBoundingClientRect();V.width=H.width,V.height=H.height}function y(V){var H=document.createElement("canvas");return H.style.position="fixed",H.style.top="0px",H.style.left="0px",H.style.pointerEvents="none",H.style.zIndex=V,H}function v(V,H,z,J,uA,iA,nA,j,X){V.save(),V.translate(H,z),V.rotate(iA),V.scale(J,uA),V.arc(0,0,1,nA,j,X),V.restore()}function U(V){var H=V.angle*(Math.PI/180),z=V.spread*(Math.PI/180);return{x:V.x,y:V.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:V.startVelocity*.5+Math.random()*V.startVelocity,angle2D:-H+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:V.color,shape:V.shape,tick:0,totalTicks:V.ticks,decay:V.decay,drift:V.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:V.gravity*3,ovalScalar:.6,scalar:V.scalar,flat:V.flat}}function b(V,H){H.x+=Math.cos(H.angle2D)*H.velocity+H.drift,H.y+=Math.sin(H.angle2D)*H.velocity+H.gravity,H.velocity*=H.decay,H.flat?(H.wobble=0,H.wobbleX=H.x+10*H.scalar,H.wobbleY=H.y+10*H.scalar,H.tiltSin=0,H.tiltCos=0,H.random=1):(H.wobble+=H.wobbleSpeed,H.wobbleX=H.x+10*H.scalar*Math.cos(H.wobble),H.wobbleY=H.y+10*H.scalar*Math.sin(H.wobble),H.tiltAngle+=.1,H.tiltSin=Math.sin(H.tiltAngle),H.tiltCos=Math.cos(H.tiltAngle),H.random=Math.random()+2);var z=H.tick++/H.totalTicks,J=H.x+H.random*H.tiltCos,uA=H.y+H.random*H.tiltSin,iA=H.wobbleX+H.random*H.tiltCos,nA=H.wobbleY+H.random*H.tiltSin;if(V.fillStyle="rgba("+H.color.r+", "+H.color.g+", "+H.color.b+", "+(1-z)+")",V.beginPath(),i&&H.shape.type==="path"&&typeof H.shape.path=="string"&&Array.isArray(H.shape.matrix))V.fill(hA(H.shape.path,H.shape.matrix,H.x,H.y,Math.abs(iA-J)*.1,Math.abs(nA-uA)*.1,Math.PI/10*H.wobble));else if(H.shape.type==="bitmap"){var j=Math.PI/10*H.wobble,X=Math.abs(iA-J)*.1,EA=Math.abs(nA-uA)*.1,oA=H.shape.bitmap.width*H.scalar,fA=H.shape.bitmap.height*H.scalar,CA=new DOMMatrix([Math.cos(j)*X,Math.sin(j)*X,-Math.sin(j)*EA,Math.cos(j)*EA,H.x,H.y]);CA.multiplySelf(new DOMMatrix(H.shape.matrix));var QA=V.createPattern(u.transform(H.shape.bitmap),"no-repeat");QA.setTransform(CA),V.globalAlpha=1-z,V.fillStyle=QA,V.fillRect(H.x-oA/2,H.y-fA/2,oA,fA),V.globalAlpha=1}else if(H.shape==="circle")V.ellipse?V.ellipse(H.x,H.y,Math.abs(iA-J)*H.ovalScalar,Math.abs(nA-uA)*H.ovalScalar,Math.PI/10*H.wobble,0,2*Math.PI):v(V,H.x,H.y,Math.abs(iA-J)*H.ovalScalar,Math.abs(nA-uA)*H.ovalScalar,Math.PI/10*H.wobble,0,2*Math.PI);else if(H.shape==="star")for(var pA=Math.PI/2*3,OA=4*H.scalar,ce=8*H.scalar,pe=H.x,ve=H.y,Le=5,YA=Math.PI/Le;Le--;)pe=H.x+Math.cos(pA)*ce,ve=H.y+Math.sin(pA)*ce,V.lineTo(pe,ve),pA+=YA,pe=H.x+Math.cos(pA)*OA,ve=H.y+Math.sin(pA)*OA,V.lineTo(pe,ve),pA+=YA;else V.moveTo(Math.floor(H.x),Math.floor(H.y)),V.lineTo(Math.floor(H.wobbleX),Math.floor(uA)),V.lineTo(Math.floor(iA),Math.floor(nA)),V.lineTo(Math.floor(J),Math.floor(H.wobbleY));return V.closePath(),V.fill(),H.tick<H.totalTicks}function p(V,H,z,J,uA){var iA=H.slice(),nA=V.getContext("2d"),j,X,EA=c(function(oA){function fA(){j=X=null,nA.clearRect(0,0,J.width,J.height),u.clear(),uA(),oA()}function CA(){r&&!(J.width===n.width&&J.height===n.height)&&(J.width=V.width=n.width,J.height=V.height=n.height),!J.width&&!J.height&&(z(V),J.width=V.width,J.height=V.height),nA.clearRect(0,0,J.width,J.height),iA=iA.filter(function(QA){return b(nA,QA)}),iA.length?j=f.frame(CA):fA()}j=f.frame(CA),X=fA});return{addFettis:function(oA){return iA=iA.concat(oA),EA},canvas:V,promise:EA,reset:function(){j&&f.cancel(j),X&&X()}}}function P(V,H){var z=!V,J=!!F(H||{},"resize"),uA=!1,iA=F(H,"disableForReducedMotion",Boolean),nA=s&&!!F(H||{},"useWorker"),j=nA?g():null,X=z?E:C,EA=V&&j?!!V.__confetti_initialized:!1,oA=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,fA;function CA(pA,OA,ce){for(var pe=F(pA,"particleCount",T),ve=F(pA,"angle",Number),Le=F(pA,"spread",Number),YA=F(pA,"startVelocity",Number),Ht=F(pA,"decay",Number),dn=F(pA,"gravity",Number),it=F(pA,"drift",Number),St=F(pA,"colors",D),ot=F(pA,"ticks",Number),XA=F(pA,"shapes"),NA=F(pA,"scalar"),Hr=!!F(pA,"flat"),gn=x(pA),Bn=pe,pn=[],or=V.width*gn.x,Us=V.height*gn.y;Bn--;)pn.push(U({x:or,y:Us,angle:ve,spread:Le,startVelocity:YA,color:St[Bn%St.length],shape:XA[S(0,XA.length)],ticks:ot,decay:Ht,gravity:dn,drift:it,scalar:NA,flat:Hr}));return fA?fA.addFettis(pn):(fA=p(V,pn,X,OA,ce),fA.promise)}function QA(pA){var OA=iA||F(pA,"disableForReducedMotion",Boolean),ce=F(pA,"zIndex",Number);if(OA&&oA)return c(function(YA){YA()});z&&fA?V=fA.canvas:z&&!V&&(V=y(ce),document.body.appendChild(V)),J&&!EA&&X(V);var pe={width:V.width,height:V.height};j&&!EA&&j.init(V),EA=!0,j&&(V.__confetti_initialized=!0);function ve(){if(j){var YA={getBoundingClientRect:function(){if(!z)return V.getBoundingClientRect()}};X(YA),j.postMessage({resize:{width:YA.width,height:YA.height}});return}pe.width=pe.height=null}function Le(){fA=null,J&&(uA=!1,A.removeEventListener("resize",ve)),z&&V&&(document.body.contains(V)&&document.body.removeChild(V),V=null,EA=!1)}return J&&!uA&&(uA=!0,A.addEventListener("resize",ve,!1)),j?j.fire(pA,pe,Le):CA(pA,pe,Le)}return QA.reset=function(){j&&j.reset(),fA&&fA.reset()},QA}var rA;function IA(){return rA||(rA=P(null,{useWorker:!0,resize:!0})),rA}function hA(V,H,z,J,uA,iA,nA){var j=new Path2D(V),X=new Path2D;X.addPath(j,new DOMMatrix(H));var EA=new Path2D;return EA.addPath(X,new DOMMatrix([Math.cos(nA)*uA,Math.sin(nA)*uA,-Math.sin(nA)*iA,Math.cos(nA)*iA,z,J])),EA}function TA(V){if(!i)throw new Error("path confetti are not supported in this browser");var H,z;typeof V=="string"?H=V:(H=V.path,z=V.matrix);var J=new Path2D(H),uA=document.createElement("canvas"),iA=uA.getContext("2d");if(!z){for(var nA=1e3,j=nA,X=nA,EA=0,oA=0,fA,CA,QA=0;QA<nA;QA+=2)for(var pA=0;pA<nA;pA+=2)iA.isPointInPath(J,QA,pA,"nonzero")&&(j=Math.min(j,QA),X=Math.min(X,pA),EA=Math.max(EA,QA),oA=Math.max(oA,pA));fA=EA-j,CA=oA-X;var OA=10,ce=Math.min(OA/fA,OA/CA);z=[ce,0,0,ce,-Math.round(fA/2+j)*ce,-Math.round(CA/2+X)*ce]}return{type:"path",path:H,matrix:z}}function Be(V){var H,z=1,J="#000000",uA='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof V=="string"?H=V:(H=V.text,z="scalar"in V?V.scalar:z,uA="fontFamily"in V?V.fontFamily:uA,J="color"in V?V.color:J);var iA=10*z,nA=""+iA+"px "+uA,j=new OffscreenCanvas(iA,iA),X=j.getContext("2d");X.font=nA;var EA=X.measureText(H),oA=Math.ceil(EA.actualBoundingBoxRight+EA.actualBoundingBoxLeft),fA=Math.ceil(EA.actualBoundingBoxAscent+EA.actualBoundingBoxDescent),CA=2,QA=EA.actualBoundingBoxLeft+CA,pA=EA.actualBoundingBoxAscent+CA;oA+=CA+CA,fA+=CA+CA,j=new OffscreenCanvas(oA,fA),X=j.getContext("2d"),X.font=nA,X.fillStyle=J,X.fillText(H,QA,pA);var OA=1/z;return{type:"bitmap",bitmap:j.transferToImageBitmap(),matrix:[OA,0,0,OA,-oA*OA/2,-fA*OA/2]}}e.exports=function(){return IA().apply(this,arguments)},e.exports.reset=function(){IA().reset()},e.exports.create=P,e.exports.shapeFromPath=TA,e.exports.shapeFromText=Be})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),gc,!1);const sE=gc.exports;gc.exports.create;function rp(t){const A=document.createElement("div");A.className="toast toast-top toast-end",A.innerHTML=`
        <div class="alert bg-primary/80 text-black border-2 border-primary shadow-lg">
            <span>${t}</span>
        </div>
    `,document.body.appendChild(A),setTimeout(()=>{A.remove()},5e3),sE({particleCount:100,spread:70,origin:{y:.6}})}let iE=["apple","airplane","alligator","anchor","angel","antelope","apron","armchair","arrow","artist","avocado","axe","baby","backpack","bacon","badger","balloon","banana","bandage","banjo","barn","barrel","baseball","basket","bathtub","battery","beach","bear","beaver","bedroom","bee","beetle","bell","belt","bench","bicycle","binoculars","bird","birthday","blender","blimp","block","blouse","boat","bomb","book","boomerang","boot","bottle","bouquet","bow","boxer","bracelet","brain","branch","bread","bridge","broccoli","broom","brush","bucket","bulldozer","bullet","bus","bush","butterfly","button","cactus","cage","cake","calculator","camel","camera","campfire","can","candle","cannon","canoe","cap","cape","car","carrot","cart","castle","cat","caterpillar","cave","ceiling","cellphone","chainsaw","chair","chalk","champion","cheese","cherry","chest","chicken","chimney","church","circle","claw","cliff","clock","cloud","clown","coat","cobweb","coin","comet","computer","cookie","couch","cow","crab","crayon","cream","crocodile","crown","cruise","cupcake","curtain","cushion","dagger","daisy","dance","dart","deer","desk","desert","diamond","dice","dinosaur","dish","diver","dog","doll","dolphin","donkey","door","doormat","dragon","drawer","drill","drone","drum","duck","eagle","ear","earthquake","eggplant","electricity","elephant","elevator","engine","envelope","eraser","explosion","eyeglasses","face","fan","farm","feather","fence","ferret","fire","firefighter","fireplace","firetruck","fish","fishing","flag","flamingo","flashlight","flood","floor","flower","flute","fly","folder","football","fork","fountain","fox","fridge","frog","galaxy","garage","garden","gargoyle","gate","ghost","giraffe","glacier","glider","glove","goat","goggles","goldfish","golf","gorilla","grapes","grass","grill","guitar","hammer","hamster","handcuffs","handle","hanger","harp","hat","headphones","hedgehog","helicopter","helmet","hill","hippo","hive","hook","horn","horse","hospital","hotdog","house","hovercraft","hug","hurdle","hurricane","iceberg","icicle","igloo","iguana","ink","insect","iron","island","jacket","jail","jellyfish","jigsaw","jockey","jungle","kangaroo","kettle","key","keyboard","kick","kidney","kite","kitten","knee","knife","koala","ladder","lamp","lantern","laptop","lasso","laundry","leaf","leash","leg","lemon","leopard","letter","library","lightbulb","lighthouse","lightning","limo","lion","lips","lizard","lock","locust","lollipop","magnet","mailbox","map","maracas","mask","match","meatball","megaphone","mermaid","meteor","microscope","microwave","milk","mirror","moat","mole","monkey","monster","moon","mosquito","motorcycle","mountain","mouse","mower","mug","mummy","mushroom","music","nail","needle","nest","net","ninja","noodle","notebook","nose","notepad","nun","nut","oasis","ocean","octopus","oil","onion","ostrich","otter","oven","owl","oxygen","paddle","pajamas","panda","panther","parachute","parrot","party","passport","peacock","peanut","pear","peas","pencil","penguin","pepper","perfume","phone","piano","picture","pig","pigeon","pill","pillow","pineapple","pipe","pirate","pizza","planet","plate","plow","plug","plumber","pocket","pool","popcorn","postcard","poster","potato","printer","pudding","puppet","puppy","pyramid","quail","quartz","queen","quilt","rabbit","raccoon","radio","raft","rain","rainbow","rake","rat","raven","razor","reindeer","remote","ribbon","ring","robot","rocket","roof","rope","rose","ruler","saddle","sailboat","salad","sand","sandcastle","satellite","saw","scarf","school","scissors","scorpion","screw","seal","seesaw","shampoo","shark","sheep","shelf","shell","ship","shoe","shovel","shower","shrimp","sink","skateboard","skeleton","ski","skirt","skunk","sled","slide","slime","sloth","slug","smoke","snail","snake","sneeze","snow","snowball","snowflake","snowman","sock","sofa","soldier","spaceship","spaghetti","spark","speaker","spear","spectacles","spider","spoon","spring","spy","squirrel","stairs","starfish","statue","steak","stethoscope","stomach","stool","stove","straw","street","string","submarine","suitcase","sun","sunglasses","sunset","surfboard","surgeon","swamp","swan","sweater","swing","sword","table","tail","tape","tarp","taxi","teacup","teacher","teapot","telescope","tent","thermometer","throne","ticket","tie","tiger","toad","toaster","toilet","toothbrush","toothpaste","torch","tornado","towel","tractor","traffic","train","trampoline","trash","treasure","triangle","tricycle","troll","trophy","truck","trumpet","tuba","turtle","tusk","tv","typewriter","umbrella","unicorn","urn","vacuum","vampire","vase","vegetable","village","vine","violin","volcano","vulture","wagon","wall","wallet","wardrobe","watch","waterfall","wave","web","whale","wheelbarrow","whistle","wig","window","windmill","wing","wolf","worm","wrench","xylophone","yacht","yak","yo-yo","zebra","zoo"];function Bc(t,A){return t.drawings.filter(r=>!r.guessed)[0]||null}async function oE(t,A,e){const r=Bc(t,A.name);if(!r)return;const n=e.toLowerCase().trim(),s=r.secretWord.toLowerCase().trim();let i=!1;return n===s?(i=!0,r.guessed=!0,r.guessedBy=A.name,{...A},await mr(A.name,r.coins),await mr(r.artist,r.coins),rp(`It was ${r.secretWord}! You both get ${r.coins} coins!`)):r.guesses.includes(e)||r.guesses.push(e),await Qo(t),i}async function Kh(t){const A=[];for(const n of iE)A.push({secretWord:n,coins:0});let e=await Z_();A.push(...e.map(n=>({secretWord:n.word,coins:0,createdBy:n.createdBy,createdAt:n.createdAt})));const r=A.sort(()=>Math.random()-.5).slice(0,t);for(let n=0;n<r.length;n++)r[n].coins=n+1;return r}function Xs(t,A){const e=Bc(t);if(!e){if(t.drawings.length===0)return t.users[0]===A?"draw":"waiting";const r=[...t.drawings].reverse().find(o=>o.guessed);if(!r)return t.users[0]===A?"draw":"waiting";const s=(t.users.indexOf(r.artist)+1)%t.users.length;return t.users[s]===A?"draw":"waiting"}return e.artist===A?"waiting":"guess"}function aE(t){return{...t,hintPurchased:t.hintPurchased??!1,superHintPurchased:t.superHintPurchased??!1}}function Oh(t){return`The word is ${t.secretWord.length} letters long`}function Nh(t){const A=t.secretWord.split("");for(let e=A.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[A[e],A[r]]=[A[r],A[e]]}return`Letters: ${A.join(" · ").toUpperCase()}`}function Wi(t){return t?t instanceof Date?t.getTime():typeof t.toDate=="function"?t.toDate().getTime():typeof t=="string"?new Date(t).getTime():new Date(t).getTime():0}async function lE(t,A,e){if(e.coins<5||A.hintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&Wi(n.createdAt)===Wi(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,hintPurchased:!0},await Qo(t),!0)}async function cE(t,A,e){if(e.coins<10||!A.hintPurchased||A.superHintPurchased)return!1;const r=t.drawings.findIndex(n=>n.artist===A.artist&&Wi(n.createdAt)===Wi(A.createdAt));return r===-1?!1:(t.drawings[r]={...A,superHintPurchased:!0},await Qo(t),!0)}const Tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAASUExURQAAAAYGCP/4Vf/QLPGZEf///5e4X0EAAAABdFJOUwBA5thmAAAAAWJLR0QF+G/pxwAAAAd0SU1FB+kFEQMBEaw38IoAAABMSURBVEjHY2CAA0EsgAEbGFVIP4VgQSUsAF31qEL6KUSoMcYCXEAAonpU4ajCUYWjCkcVjiokQyGisnHBArDWXKMK6adwKLQfR5pCAFjAgTiNHXoCAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI1LTA1LTE3VDAzOjAwOjU0KzAwOjAwAqVpBwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNS0wNS0xN1QwMzowMDo1NCswMDowMHP40bsAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjUtMDUtMTdUMDM6MDE6MTcrMDA6MDB+jY89AAAAAElFTkSuQmCC";function Gh(t){let A,e=t[0][0].toUpperCase()+"",r;return{c(){A=R("div"),r=lA(e),_(A,"class","w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold")},m(n,s){W(n,A,s),I(A,r)},p(n,s){s&1&&e!==(e=n[0][0].toUpperCase()+"")&&vA(r,e)},d(n){n&&G(A)}}}function Wh(t){let A,e,r,n,s;return{c(){A=R("span"),e=lA(t[1]),r=Y(),n=R("img"),Se(n.src,s=Tr)||_(n,"src",s),_(n,"class","w-4 h-4"),_(n,"alt","coins")},m(i,o){W(i,A,o),I(A,e),W(i,r,o),W(i,n,o)},p(i,o){o&2&&vA(e,i[1])},d(i){i&&(G(A),G(r),G(n))}}}function jh(t){let A,e,r;return{c(){A=lA("· "),e=R("span"),r=lA(t[3]),_(e,"class","text-xs text-black/60")},m(n,s){W(n,A,s),W(n,e,s),I(e,r)},p(n,s){s&8&&vA(r,n[3])},d(n){n&&(G(A),G(e))}}}function Xh(t){let A,e;return{c(){A=Ye("svg"),e=Ye("path"),_(e,"fill-rule","evenodd"),_(e,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),_(e,"clip-rule","evenodd"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"class","h-5 w-5 text-gray-400"),_(A,"viewBox","0 0 20 20"),_(A,"fill","currentColor")},m(r,n){W(r,A,n),I(A,e)},d(r){r&&G(A)}}}function uE(t){let A,e,r,n,s,i,o,l,c,u,f,g,B,m=t[2]&&Gh(t),Q=t[1]!==null&&Wh(t),F=t[3]&&jh(t),T=t[4]&&Xh();return{c(){A=R("button"),e=R("div"),m&&m.c(),r=Y(),n=R("div"),s=R("span"),i=lA(t[0]),o=Y(),l=R("div"),Q&&Q.c(),c=Y(),F&&F.c(),u=Y(),T&&T.c(),_(s,"class","font-medium text-black"),_(l,"class","flex items-center gap-1 text-sm text-black/60"),_(n,"class","flex flex-col items-start"),_(e,"class","flex items-center gap-3"),_(A,"class","flex items-center justify-between w-full p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:border-primary/20 transition-colors active:bg-gray-50"),A.disabled=f=t[4]===null,Mt(A,"cursor-pointer",t[4]!==null),Mt(A,"cursor-default",t[4]===null)},m(S,k){W(S,A,k),I(A,e),m&&m.m(e,null),I(e,r),I(e,n),I(n,s),I(s,i),I(n,o),I(n,l),Q&&Q.m(l,null),I(l,c),F&&F.m(l,null),I(A,u),T&&T.m(A,null),g||(B=BA(A,"click",t[5]),g=!0)},p(S,[k]){S[2]?m?m.p(S,k):(m=Gh(S),m.c(),m.m(e,r)):m&&(m.d(1),m=null),k&1&&vA(i,S[0]),S[1]!==null?Q?Q.p(S,k):(Q=Wh(S),Q.c(),Q.m(l,c)):Q&&(Q.d(1),Q=null),S[3]?F?F.p(S,k):(F=jh(S),F.c(),F.m(l,null)):F&&(F.d(1),F=null),S[4]?T||(T=Xh(),T.c(),T.m(A,null)):T&&(T.d(1),T=null),k&16&&f!==(f=S[4]===null)&&(A.disabled=f),k&16&&Mt(A,"cursor-pointer",S[4]!==null),k&16&&Mt(A,"cursor-default",S[4]===null)},i:tA,o:tA,d(S){S&&G(A),m&&m.d(),Q&&Q.d(),F&&F.d(),T&&T.d(),g=!1,B()}}}function hE(t,A,e){let{name:r}=A,{coins:n=null}=A,{showAvatar:s=!1}=A,{subtitle:i=null}=A,{onClick:o=null}=A;const l=()=>o==null?void 0:o();return t.$$set=c=>{"name"in c&&e(0,r=c.name),"coins"in c&&e(1,n=c.coins),"showAvatar"in c&&e(2,s=c.showAvatar),"subtitle"in c&&e(3,i=c.subtitle),"onClick"in c&&e(4,o=c.onClick)},[r,n,s,i,o,l]}class pc extends Xe{constructor(A){super(),je(this,A,hE,uE,De,{name:0,coins:1,showAvatar:2,subtitle:3,onClick:4})}}function Jh(t,A,e){const r=t.slice();return r[11]=A[e],r}function fE(t){let A,e,r=RA(t[0].users.filter(t[9])),n=[];for(let i=0;i<r.length;i+=1)n[i]=qh(Jh(t,r,i));const s=i=>aA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=tt()},m(i,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,o);W(i,A,o),e=!0},p(i,o){if(o&99){r=RA(i[0].users.filter(i[9]));let l;for(l=0;l<r.length;l+=1){const c=Jh(i,r,l);n[l]?(n[l].p(c,o),eA(n[l],1)):(n[l]=qh(c),n[l].c(),eA(n[l],1),n[l].m(A.parentNode,A))}for(ee(),l=r.length;l<n.length;l+=1)s(l);te()}},i(i){if(!e){for(let o=0;o<r.length;o+=1)eA(n[o]);e=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)aA(n[o]);e=!1},d(i){i&&G(A),Re(n,i)}}}function dE(t){let A,e,r;return e=new pc({props:{name:t[2],coins:t[3],onClick:t[6]}}),{c(){A=R("div"),le(e.$$.fragment),_(A,"class","flex flex-row text-start w-full")},m(n,s){W(n,A,s),re(e,A,null),r=!0},p(n,s){const i={};s&4&&(i.name=n[2]),s&8&&(i.coins=n[3]),e.$set(i)},i(n){r||(eA(e.$$.fragment,n),r=!0)},o(n){aA(e.$$.fragment,n),r=!1},d(n){n&&G(A),ne(e)}}}function gE(t){let A,e=t[11]+"",r;return{c(){A=R("span"),r=lA(e),_(A,"class","font-bold text-black")},m(n,s){W(n,A,s),I(A,r)},p(n,s){s&3&&e!==(e=n[11]+"")&&vA(r,e)},i:tA,o:tA,d(n){n&&G(A)}}}function BE(t){let A,e;return A=new pc({props:{name:t[11],coins:t[5][t[11]].coins,subtitle:`${t[0].drawings.length} drawing${t[0].drawings.length===1?"":"s"}`,onClick:t[6]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p(r,n){const s={};n&3&&(s.name=r[11]),n&35&&(s.coins=r[5][r[11]].coins),n&1&&(s.subtitle=`${r[0].drawings.length} drawing${r[0].drawings.length===1?"":"s"}`),A.$set(s)},i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function qh(t){let A,e,r,n,s;const i=[BE,gE],o=[];function l(c,u){return c[5][c[11]]?0:1}return e=l(t),r=o[e]=i[e](t),{c(){A=R("div"),r.c(),n=Y(),_(A,"class","w-full flex flex-col items-center justify-center gap-0.5")},m(c,u){W(c,A,u),o[e].m(A,null),I(A,n),s=!0},p(c,u){let f=e;e=l(c),e===f?o[e].p(c,u):(ee(),aA(o[f],1,1,()=>{o[f]=null}),te(),r=o[e],r?r.p(c,u):(r=o[e]=i[e](c),r.c()),eA(r,1),r.m(A,n))},i(c){s||(eA(r),s=!0)},o(c){aA(r),s=!1},d(c){c&&G(A),o[e].d()}}}function pE(t){let A,e,r,n;const s=[dE,fE],i=[];function o(l,c){return l[4]?0:l[0]?1:-1}return~(e=o(t))&&(r=i[e]=s[e](t)),{c(){A=R("div"),r&&r.c(),_(A,"class","cursor-pointer py-1 rounded-lg transition-colors w-full mb-2 flex flex-col gap-2 items-center justify-between"),Mt(A,"bg-primary-10",!t[4]),Mt(A,"bg-secondary-10",t[4])},m(l,c){W(l,A,c),~e&&i[e].m(A,null),n=!0},p(l,[c]){let u=e;e=o(l),e===u?~e&&i[e].p(l,c):(r&&(ee(),aA(i[u],1,1,()=>{i[u]=null}),te()),~e?(r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),eA(r,1),r.m(A,null)):r=null),(!n||c&16)&&Mt(A,"bg-primary-10",!l[4]),(!n||c&16)&&Mt(A,"bg-secondary-10",l[4])},i(l){n||(eA(r),n=!0)},o(l){aA(r),n=!1},d(l){l&&G(A),~e&&i[e].d()}}}function wE(t,A,e){let r,n;oe(t,Ke,m=>e(10,r=m)),oe(t,Ne,m=>e(5,n=m));let{game:s=null}=A,{currentUserName:i=""}=A,{user:o=""}=A,{coins:l=null}=A,{isNewGame:c=!1}=A,{onClick:u=null}=A,{navigate:f=null}=A;function g(){c&&u?u():s&&f&&(Pe(Ke,r=s,r),f("home"))}const B=m=>m!==i;return t.$$set=m=>{"game"in m&&e(0,s=m.game),"currentUserName"in m&&e(1,i=m.currentUserName),"user"in m&&e(2,o=m.user),"coins"in m&&e(3,l=m.coins),"isNewGame"in m&&e(4,c=m.isNewGame),"onClick"in m&&e(7,u=m.onClick),"navigate"in m&&e(8,f=m.navigate)},[s,i,o,l,c,n,g,u,f,B]}class mE extends Xe{constructor(A){super(),je(this,A,wE,pE,De,{game:0,currentUserName:1,user:2,coins:3,isNewGame:4,onClick:7,navigate:8})}}function Yh(t,A,e){const r=t.slice();return r[5]=A[e],r}function zh(t){let A,e;return A=new mE({props:{game:t[5],currentUserName:t[2],navigate:t[4]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p(r,n){const s={};n&2&&(s.game=r[5]),n&4&&(s.currentUserName=r[2]),n&16&&(s.navigate=r[4]),A.$set(s)},i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function CE(t){let A,e,r,n,s,i=RA(t[1]),o=[];for(let c=0;c<i.length;c+=1)o[c]=zh(Yh(t,i,c));const l=c=>aA(o[c],1,1,()=>{o[c]=null});return{c(){A=R("div"),e=R("h3"),r=lA(t[0]),n=Y();for(let c=0;c<o.length;c+=1)o[c].c();_(e,"class",t[3]),_(A,"class","flex flex-col gap-0")},m(c,u){W(c,A,u),I(A,e),I(e,r),I(A,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(A,null);s=!0},p(c,[u]){if((!s||u&1)&&vA(r,c[0]),(!s||u&8)&&_(e,"class",c[3]),u&22){i=RA(c[1]);let f;for(f=0;f<i.length;f+=1){const g=Yh(c,i,f);o[f]?(o[f].p(g,u),eA(o[f],1)):(o[f]=zh(g),o[f].c(),eA(o[f],1),o[f].m(A,null))}for(ee(),f=i.length;f<o.length;f+=1)l(f);te()}},i(c){if(!s){for(let u=0;u<i.length;u+=1)eA(o[u]);s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)aA(o[u]);s=!1},d(c){c&&G(A),Re(o,c)}}}function QE(t,A,e){let{title:r}=A,{games:n}=A,{currentUserName:s}=A,{titleClass:i="text-sm font-semibold text-primary"}=A,{navigate:o=null}=A;return t.$$set=l=>{"title"in l&&e(0,r=l.title),"games"in l&&e(1,n=l.games),"currentUserName"in l&&e(2,s=l.currentUserName),"titleClass"in l&&e(3,i=l.titleClass),"navigate"in l&&e(4,o=l.navigate)},[r,n,s,i,o]}class np extends Xe{constructor(A){super(),je(this,A,QE,CE,De,{title:0,games:1,currentUserName:2,titleClass:3,navigate:4})}}const sp=""+new URL("logo-BEMpbk-Y.svg",import.meta.url).href;function yE(t){let A,e,r,n;return{c(){A=R("img"),Se(A.src,e=sp)||_(A,"src",e),_(A,"alt","drawIt"),_(A,"class","w-48 mx-auto mb-6 drop-shadow-md cursor-pointer")},m(s,i){W(s,A,i),r||(n=BA(A,"click",t[0]),r=!0)},p:tA,i:tA,o:tA,d(s){s&&G(A),r=!1,n()}}}function _E(t,A,e){let{navigate:r}=A;function n(){r?r("home"):window.location.href="/"}return t.$$set=s=>{"navigate"in s&&e(1,r=s.navigate)},[n,r]}class yo extends Xe{constructor(A){super(),je(this,A,_E,yE,De,{navigate:1})}}function Zh(t,A,e){const r=t.slice();return r[16]=A[e],r}function $h(t,A,e){const r=t.slice();return r[16]=A[e],r}function EE(t){let A,e,r,n,s,i,o,l,c,u;return{c(){var f;A=R("div"),e=R("span"),e.textContent="Who are you?",r=Y(),n=R("input"),s=Y(),i=R("button"),o=lA("get drawin'"),_(e,"class","text-2xl font-bold text-primary"),_(n,"type","text"),_(n,"placeholder","Your name"),_(n,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-lg px-4 py-2 shadow"),_(n,"autocapitalize","off"),_(n,"autocorrect","off"),_(n,"maxlength","14"),_(i,"class","btn btn-primary text-white w-full rounded-xl text-lg py-2 shadow"),i.disabled=l=!((f=t[4])!=null&&f.trim()),_(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto mt-8")},m(f,g){W(f,A,g),I(A,e),I(A,r),I(A,n),ft(n,t[4]),I(A,s),I(A,i),I(i,o),c||(u=[BA(n,"input",t[12]),BA(i,"click",t[13])],c=!0)},p(f,g){var B;g&16&&n.value!==f[4]&&ft(n,f[4]),g&16&&l!==(l=!((B=f[4])!=null&&B.trim()))&&(i.disabled=l)},i:tA,o:tA,d(f){f&&G(A),c=!1,Ee(u)}}}function UE(t){let A,e,r,n;const s=[IE,vE],i=[];function o(l,c){return l[6].length!==0?0:1}return A=o(t),e=i[A]=s[A](t),{c(){e.c(),r=tt()},m(l,c){i[A].m(l,c),W(l,r,c),n=!0},p(l,c){let u=A;A=o(l),A===u?i[A].p(l,c):(ee(),aA(i[u],1,1,()=>{i[u]=null}),te(),e=i[A],e?e.p(l,c):(e=i[A]=s[A](l),e.c()),eA(e,1),e.m(r.parentNode,r))},i(l){n||(eA(e),n=!0)},o(l){aA(e),n=!1},d(l){l&&G(r),i[A].d(l)}}}function FE(t){let A;return{c(){A=R("div"),A.innerHTML='<div class="text-primary text-lg font-semibold">Loading...</div>',_(A,"class","flex flex-col items-center gap-4 w-full max-w-xs mx-auto")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function vE(t){let A;return{c(){A=R("div"),A.textContent="No games yet. Start a new one!",_(A,"class","text-center text-gray-500 mt-8")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function IE(t){let A,e,r=t[3]&&Af(t);return{c(){A=R("div"),r&&r.c(),_(A,"class","flex flex-col gap-6 w-full max-w-xs mx-auto")},m(n,s){W(n,A,s),r&&r.m(A,null),e=!0},p(n,s){n[3]?r?(r.p(n,s),s&8&&eA(r,1)):(r=Af(n),r.c(),eA(r,1),r.m(A,null)):r&&(ee(),aA(r,1,1,()=>{r=null}),te())},i(n){e||(eA(r),e=!0)},o(n){aA(r),e=!1},d(n){n&&G(A),r&&r.d()}}}function Af(t){let A=t[6].filter(t[9]).length>0,e,r=t[6].filter(t[8]).length>0,n,s,i=A&&ef(t),o=r&&rf(t);return{c(){i&&i.c(),e=Y(),o&&o.c(),n=tt()},m(l,c){i&&i.m(l,c),W(l,e,c),o&&o.m(l,c),W(l,n,c),s=!0},p(l,c){c&72&&(A=l[6].filter(l[9]).length>0),A?i?(i.p(l,c),c&72&&eA(i,1)):(i=ef(l),i.c(),eA(i,1),i.m(e.parentNode,e)):i&&(ee(),aA(i,1,1,()=>{i=null}),te()),c&72&&(r=l[6].filter(l[8]).length>0),r?o?(o.p(l,c),c&72&&eA(o,1)):(o=rf(l),o.c(),eA(o,1),o.m(n.parentNode,n)):o&&(ee(),aA(o,1,1,()=>{o=null}),te())},i(l){s||(eA(i),eA(o),s=!0)},o(l){aA(i),aA(o),s=!1},d(l){l&&(G(e),G(n)),i&&i.d(l),o&&o.d(l)}}}function ef(t){let A,e,r,n,s=RA(t[6].filter(t[10])),i=[];for(let l=0;l<s.length;l+=1)i[l]=tf($h(t,s,l));const o=l=>aA(i[l],1,1,()=>{i[l]=null});return{c(){A=R("div"),e=R("div"),e.textContent="Your Turn!",r=Y();for(let l=0;l<i.length;l+=1)i[l].c();_(e,"class","text-center text-2xl font-bold mb-2 animate-gradient-text svelte-1by7pf7"),_(A,"class","rounded-2xl bg-white/90 shadow-md p-4")},m(l,c){W(l,A,c),I(A,e),I(A,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(A,null);n=!0},p(l,c){if(c&73){s=RA(l[6].filter(l[10]));let u;for(u=0;u<s.length;u+=1){const f=$h(l,s,u);i[u]?(i[u].p(f,c),eA(i[u],1)):(i[u]=tf(f),i[u].c(),eA(i[u],1),i[u].m(A,null))}for(ee(),u=s.length;u<i.length;u+=1)o(u);te()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)eA(i[c]);n=!0}},o(l){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)aA(i[c]);n=!1},d(l){l&&G(A),Re(i,l)}}}function tf(t){let A,e;return A=new np({props:{title:"",games:[t[16]],currentUserName:t[3],navigate:t[0]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p(r,n){const s={};n&72&&(s.games=[r[16]]),n&8&&(s.currentUserName=r[3]),n&1&&(s.navigate=r[0]),A.$set(s)},i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function rf(t){let A,e,r,n,s=RA(t[6].filter(t[11])),i=[];for(let l=0;l<s.length;l+=1)i[l]=nf(Zh(t,s,l));const o=l=>aA(i[l],1,1,()=>{i[l]=null});return{c(){A=R("div"),e=R("div"),e.textContent="Waiting",r=Y();for(let l=0;l<i.length;l+=1)i[l].c();_(e,"class","text-center text-secondary/60 font-semibold text-xs mb-2"),_(A,"class","rounded-2xl bg-white/60 shadow-sm p-4 opacity-60")},m(l,c){W(l,A,c),I(A,e),I(A,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(A,null);n=!0},p(l,c){if(c&73){s=RA(l[6].filter(l[11]));let u;for(u=0;u<s.length;u+=1){const f=Zh(l,s,u);i[u]?(i[u].p(f,c),eA(i[u],1)):(i[u]=nf(f),i[u].c(),eA(i[u],1),i[u].m(A,null))}for(ee(),u=s.length;u<i.length;u+=1)o(u);te()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)eA(i[c]);n=!0}},o(l){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)aA(i[c]);n=!1},d(l){l&&G(A),Re(i,l)}}}function nf(t){let A,e;return A=new np({props:{title:"",games:[t[16]],currentUserName:t[3],navigate:t[0]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p(r,n){const s={};n&72&&(s.games=[r[16]]),n&8&&(s.currentUserName=r[3]),n&1&&(s.navigate=r[0]),A.$set(s)},i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function bE(t){let A,e,r,n,s,i;e=new yo({props:{navigate:t[0]}});const o=[FE,UE,EE],l=[];function c(u,f){return u[2]||u[1]&&!u[5]?0:u[1]?1:2}return n=c(t),s=l[n]=o[n](t),{c(){A=R("div"),le(e.$$.fragment),r=Y(),s.c(),_(A,"class","min-h-[80vh] flex flex-col items-center justify-center px-2 py-6")},m(u,f){W(u,A,f),re(e,A,null),I(A,r),l[n].m(A,null),i=!0},p(u,[f]){const g={};f&1&&(g.navigate=u[0]),e.$set(g);let B=n;n=c(u),n===B?l[n].p(u,f):(ee(),aA(l[B],1,1,()=>{l[B]=null}),te(),s=l[n],s?s.p(u,f):(s=l[n]=o[n](u),s.c()),eA(s,1),s.m(A,null))},i(u){i||(eA(e.$$.fragment,u),eA(s),i=!0)},o(u){aA(e.$$.fragment,u),aA(s),i=!1},d(u){u&&G(A),ne(e),l[n].d()}}}function TE(t,A,e){let r,n,s;oe(t,pi,T=>e(5,r=T)),oe(t,ae,T=>e(1,n=T)),oe(t,fs,T=>e(6,s=T));let i=!0,o=null,l="",{navigate:c}=A;async function u(T){T.trim()&&/^[a-zA-Z0-9]+$/.test(T)?(e(2,i=!0),await AE(T.trim()),e(2,i=!1),window.location.reload()):T.trim()}hs(async()=>{if(e(2,i=!0),Pe(pi,r=!1,r),n&&n.name)if(!await ep(n.name))Pe(ae,n=null,n);else{const k=(await tp(n.name)).flatMap(D=>D.users.filter(K=>K!==n.name));await Y_(k),Pe(pi,r=!0,r)}e(2,i=!1)});const f=T=>Xs(T,o)==="waiting",g=T=>["draw","guess"].includes(Xs(T,o)),B=T=>["draw","guess"].includes(Xs(T,o)),m=T=>Xs(T,o)==="waiting";function Q(){l=this.value,e(4,l)}const F=()=>u(l);return t.$$set=T=>{"navigate"in T&&e(0,c=T.navigate)},t.$$.update=()=>{t.$$.dirty&2&&e(3,o=n?n.name:null)},[c,n,i,o,l,r,s,u,f,g,B,m,Q,F]}class HE extends Xe{constructor(A){super(),je(this,A,TE,bE,De,{navigate:0})}}function sf(t,A,e){const r=t.slice();return r[28]=A[e],r}function of(t,A,e){const r=t.slice();return r[31]=A[e],r}function af(t){let A,e,r,n;function s(){return t[13](t[31])}return{c(){A=R("button"),_(A,"class",e="w-8 h-8 rounded-full border-2 "+(t[1]===t[31]?"border-primary":"")),ba(A,"background-color",t[31])},m(i,o){W(i,A,o),r||(n=BA(A,"click",s),r=!0)},p(i,o){t=i,o[0]&2&&e!==(e="w-8 h-8 rounded-full border-2 "+(t[1]===t[31]?"border-primary":""))&&_(A,"class",e)},d(i){i&&G(A),r=!1,n()}}}function lf(t){let A,e,r,n,s;function i(){return t[14](t[28])}return{c(){A=R("button"),e=R("div"),_(e,"class","w-4 h-4 rounded-full bg-black mx-auto"),ba(e,"width",t[28]+"px"),ba(e,"height",t[28]+"px"),_(A,"class",r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[28]?"border-primary":"border-transparent"))},m(o,l){W(o,A,l),I(A,e),n||(s=BA(A,"click",i),n=!0)},p(o,l){t=o,l[0]&1&&r!==(r="w-8 h-8 rounded-full border-2 bg-white "+(t[0]===t[28]?"border-primary":"border-transparent"))&&_(A,"class",r)},d(o){o&&G(A),n=!1,s()}}}function SE(t){let A,e,r,n,s,i,o,l,c,u,f=RA(t[6]),g=[];for(let Q=0;Q<f.length;Q+=1)g[Q]=af(of(t,f,Q));let B=RA(t[7]),m=[];for(let Q=0;Q<B.length;Q+=1)m[Q]=lf(sf(t,B,Q));return{c(){A=R("div"),e=R("div");for(let Q=0;Q<g.length;Q+=1)g[Q].c();r=Y(),n=R("div");for(let Q=0;Q<m.length;Q+=1)m[Q].c();s=Y(),i=R("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path></svg>',o=Y(),l=R("canvas"),_(e,"class","flex gap-2 justify-start items-center flex-wrap"),_(i,"class","w-8 h-8 rounded-full border-2 bg-white border-transparent"),_(n,"class","flex gap-2 justify-start items-center"),_(l,"class","border-2 border-gray-300 rounded-lg touch-none w-full aspect-square"),_(A,"class","flex flex-col gap-2 w-full")},m(Q,F){W(Q,A,F),I(A,e);for(let T=0;T<g.length;T+=1)g[T]&&g[T].m(e,null);I(A,r),I(A,n);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(n,null);I(n,s),I(n,i),I(A,o),I(A,l),t[15](l),t[16](A),c||(u=[BA(i,"click",t[2]),BA(l,"mousedown",t[8]),BA(l,"mousemove",t[9]),BA(l,"mouseup",t[10]),BA(l,"mouseleave",t[10]),BA(l,"touchstart",t[8]),BA(l,"touchmove",t[9]),BA(l,"touchend",t[10],{passive:!0})],c=!0)},p(Q,F){if(F[0]&82){f=RA(Q[6]);let T;for(T=0;T<f.length;T+=1){const S=of(Q,f,T);g[T]?g[T].p(S,F):(g[T]=af(S),g[T].c(),g[T].m(e,null))}for(;T<g.length;T+=1)g[T].d(1);g.length=f.length}if(F[0]&145){B=RA(Q[7]);let T;for(T=0;T<B.length;T+=1){const S=sf(Q,B,T);m[T]?m[T].p(S,F):(m[T]=lf(S),m[T].c(),m[T].m(n,s))}for(;T<m.length;T+=1)m[T].d(1);m.length=B.length}},i:tA,o:tA,d(Q){Q&&G(A),Re(g,Q),Re(m,Q),t[15](null),t[16](null),c=!1,Ee(u)}}}function RE(t,A,e){let r=400,n=400,{lineWidth:s=5}=A,{strokeColor:i="#000000"}=A,o,l,c=!1,u,f=[],g=null;const B=["#E74C3C","#E67E22","#F1C40F","#2ECC71","#1ABC9C","#3498DB","#4834D4","#9B59B6","#D291BC","#F5E6DE","#D2A679","#8D5524","#000000","#7F8C8D","#FFFFFF"],m=[2,5,15,25];function Q(){if(!o)return;const P=window.devicePixelRatio||1;e(3,o.width=r*P,o),e(3,o.height=n*P,o),e(3,o.style.width=r+"px",o),e(3,o.style.height=n+"px",o),e(4,l=o.getContext("2d")),l.setTransform(1,0,0,1,0,0),l.scale(P,P),e(4,l.lineCap="round",l),e(4,l.lineJoin="round",l),e(4,l.strokeStyle=i,l),e(4,l.lineWidth=s,l),e(4,l.fillStyle="#FFFFFF",l),l.fillRect(0,0,r,n)}function F(P){c=!0;const rA=x(P);g={color:i,width:s,points:[rA]}}function T(P){if(!c||!g)return;const rA=x(P);g.points.push(rA),k()}function S(){c&&g&&(f.push(g),g=null),c=!1}function k(){l.clearRect(0,0,r,n),e(4,l.fillStyle="#FFFFFF",l),l.fillRect(0,0,r,n);for(const P of f)D(P);g&&D(g)}function D(P){if(!(P.points.length<2)){l.save(),e(4,l.strokeStyle=P.color,l),e(4,l.lineWidth=P.width,l),l.beginPath(),l.moveTo(P.points[0].x,P.points[0].y);for(let rA=1;rA<P.points.length;rA++)l.lineTo(P.points[rA].x,P.points[rA].y);l.stroke(),l.restore()}}function K(){f.length>0&&(f.pop(),k())}function x(P){const rA=o.getBoundingClientRect();if("touches"in P&&P.touches.length>0){const IA=P.touches[0];return{x:IA.clientX-rA.left,y:IA.clientY-rA.top}}return{x:P.clientX-rA.left,y:P.clientY-rA.top}}function E(){f=[],g=null,e(4,l.fillStyle="#FFFFFF",l),l.fillRect(0,0,r,n)}function C(){return o.toDataURL("image/png")}function y(){!u||!o||(r=u.clientWidth,n=r,Q(),k())}hs(()=>{Q(),k();const P=new ResizeObserver(()=>{y()});return u&&P.observe(u),()=>{P.disconnect()}});const v=P=>{e(1,i=P),e(4,l.strokeStyle=P,l)},U=P=>{e(0,s=P),e(4,l.lineWidth=P,l)};function b(P){As[P?"unshift":"push"](()=>{o=P,e(3,o)})}function p(P){As[P?"unshift":"push"](()=>{u=P,e(5,u)})}return t.$$set=P=>{"lineWidth"in P&&e(0,s=P.lineWidth),"strokeColor"in P&&e(1,i=P.strokeColor)},[s,i,K,o,l,u,B,m,F,T,S,E,C,v,U,b,p]}class DE extends Xe{constructor(A){super(),je(this,A,RE,SE,De,{lineWidth:0,strokeColor:1,undo:2,clearCanvas:11,getImageData:12},null,[-1,-1])}get undo(){return this.$$.ctx[2]}get clearCanvas(){return this.$$.ctx[11]}get getImageData(){return this.$$.ctx[12]}}const el="data:image/gif;base64,R0lGODdhUABQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAUABQAIIAAAAGBgjxmRH/0Cz/+FUAAAAAAAAAAAAD/wi63B0wykmrlS7rza//HieOGWieAamSaHut8ObOU2w/dH7vQK7zNh8NGBS6iDHjEYmzEJ7QqHRKrUZDN491y91ii86uePxNXsZobhmmTbun61X7TSfEVfO6+8466998I3l/ZC9ZfoRogT2IVAOPkJGSk5SVkQKYmZo5W5aen56aogKcVqCnqAOjmzSdqa+Vq5mlVbC2krKYtI63vbmkraa9t7+7U8PEucZSyLbFwbXNr88zrtKo1C7W16DZLdvcocrQvOGf3ijg5pToJ+rruOPVwvCx8tr09ZPtJu/6qve+5fsHiR8If/oMfkBYT+EgZgTjyVoWJaLEVRShWLwUMKzdwIgOGx3b+ChkmGgkTVZgCE8lBZbrXE6AaU6mBJrhbEbAyU0nBJ7XfAYAKk0o0WZGPxJMinIj03JOO7pT+k9hhwu/smrFaAhMha1gty66aiGsWakRdng4y1bUWBlY28p9q2Gt3LZ0S8S9ezavA7t8zfpt8jWw4K5myhoOOxiPEhRM5Dw+EdnxZBCV+1z+kFnQZs6dyX62EFr0aAql4Z6ukLruatat/75GfSMBACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTCHUAONjo+QkAKTlJWJO4JZkZublZ4Clx2ZU5yljp+WfySLT6amqJShGKwErqWwk7IQtLacuKCqI7y9kb+6V6NSxMW4x0AfYcuSzcE2yVHSj8bVIcPZA9s4TdBg343hPSne2egWK+vS7ULq14zm8kvjHtH31OL05LSYA+cv3ap6rfrBcuYFYS2FqBgygLcM3xF9Fvh9s4gC0mMFjewKuvNIAWQ8kfMOBtQE8ZPEPStJtfT0ssi+cjNT/VN5U2DOWNw4UCTGMcA7hwOLHo2p7GeuoBuG9lJKcoLJiijzAezJcmPWi1sz4vS6ECompticAtspDKnamoHQ2iMb0awouQnpurQ7y61emnx3+Q1Zlm2OE7+oAkKcuLBBNYwb7zVcx4TkupQNWb4MODOTyJyfekYCOjTcpR5C63wMZ7Pqtawrf3gtOjaghkqM3kZtZDfvIL6ryggeFjjxtrmPI1ei3Fry5kJz64Z+lvmQBAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRVECv2wf4vH6/j4o3c3aCfISEfkUcgYJ1hY15h0CJTIt3jo2QPZJFlIyWhZg8mkCcdJ6fV38aipSmhqiIgJOkrXygNKI9pAK0fa+RsZuzvI++mcCjwsMDtkbHucnDzE3OPLrKeNJTqrKc18vFodQ01tfZuNXQvObiM+TK69vB3eXgt+wy7tH1zfHI8+/7pvV79k8fl1QZVi3yBi8hN1b0DsIaiK6guoDaHMqDCFCl4i+K49LRaohB4aCIYSZq9MfRYMqPKwm2vOjRGMh2IluRvGCyUseXNmNWnDkS47mQFovWDHcTX05TOy307PTTDMKSDxeitKoS60atVXdc5Zn1ZNg1Y6WW9emSK0yvLMG2Fds1xFRddOKsuItXrwq+uvymAExKMArCnAyfQExJsQnGixyXgCxIMgnKdiyPwFxHM4zPoEOLHk26tOnTqFOrXs26NekEACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrcHTDKSauVLuvNr/8eJ44ZaJ4BqZJoe63w5s5TbD90fu9ArvM2Hw0YFLqIMeMRibMQntCodEqtRkM3j3XL3WKLzq54/E1exmhuGaZNu6frVftNJ8RV87r7zjrr33wjeX9kL1l+hGiBPRcCjo+QA5KTlJWWl5iUXjSQnQKZoKGgmzOekaKoqaQupo+pr6GrLa2OsLaXsii0n7e9krknu76+wCbCw7fFIMfIsMofzM2qVjnR0qLPHtbXo9SctNzTVdXg4djepeXm3ePfreux6Kzq8Ljys/T1ldmN+fqT/Cxs+zcgYIWB/wxSQKhP4QSG9RxKgAhPYgSK6yxCwGhOqmMAjuE8guQm0h/Bku8I7runy2RClsFcNoRpTGZEmstsVsQJTWdGntp8dgTaL6VKgEQFCg2Z9OBSkk0XPr32rEPRXVizQlpkVanWr1i5yrgKtmwnsRqCml37CG0JsmzLunWgNq7ZuU2c2r1rCIzevWDxMqgLWKvgBYQLh+3LRIGSFo3xPD4Ruc9kEJUFXcacuetmxp3pfj4MZDRpHqZBhx6cusLqtK0p7EgAACH5BAkKAAAALAAAAABQAFAAggAAAAYGCPGZEf/QLP/4VQAAAAAAAAAAAAP/CLrc/irISWuFOOudrfdcKI7RZ0pkqjrnub5qa8K0KH91rt2g7rO8y29YCk6IRCMFGTMRntCoVOpiPk7TbLZqbWC14Ce3u/iGtWMywHyepsnsdvTdjcvFM3XZeafm9Wt8fVB0VnZ3hTAnAoyNjgOQkZKTk2GJOyaOmgKUnZ2WfySLm42eppGgOE0fpKWnpqk9KaOtr7Bglx2ZrZy2n7ihI7Skvr9owTa7tcWVwKqzysTMkrEWK8Ob09TOsqLR2dqQ1ULQrLzh4tzWqx68veHjS+wW7ugD8UfzFfXo+Cj6FPjBU0fOm7llA489M9juXD+C8so1RKjNX4Br3zTZs4jx2KC0hFuQhcCm8aHCbsIyPjIZcmFKj+BAuhHJgeRKmX5cJoNZEuccmhtsuvJJCCgmnjcrQswnkZ5Donh0jlQ5VOnJdU33PbXaEuXOiR+5zpRakyqjjUv/ZQ24dRpHgBMEis3pdSrSqm7TXoQrQW7eqwVfgo059yfZoGbfFS56+Ojgnouj1qUh1B2jXEMqW8b8Q7M7zj488wKtQ3Qr0jlMk0JdQ/Um1pQTfzaaRPZo2pltn8YNSAlTQHxbAH/hW+1whkaOB4etvPhe5YKTQ48eZDp1Hta/Sv+RAAAh+QQFCgAAACwAAAAAUABQAIAAAAAGBggC04SPqWvhD2NktNpbpda4+99sogOWpjKO52qmIgt77hbX1szZOopP+x/qPYBAIYT4Mw6ROiWJaXMGoFEntSa9xrJaFrd7+oJL4vGnbO6g05c1O2N9y+JyjLvOU+Lt9D3l7hdkFAinR8gAGJjot7jXiPdYFyk3+VbJdpmWabY51gn22RWqNXpVSnUKlcq0itRK9FrUd4gQmzRLKyiUmzfIW4uba7sz3BRMW1xl+Kvbw3yQjHV8GL01TVgNk+11rdjN+O0YDjkuWU55bpmOua7ZzvleUQAAIfkEBQoAAAAsAAAAAFAAUACCAAAABgYI8ZkR/9As//hVAAAAAAAAAAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAgzzRh33ie03wQ9zOdUAic/YrD5K0oOwKVSqbvJYUmpc6edYilMrdEZpYH1nVd1TLu3EqrbWyRWzio2+94vGDP78cvczp5g4N9hgJ/FoE5hI12h35iG4s4jo6QfIkVlDeWjZh7mhScNp6EoIiSGqQEpoWgohOsrnmosRKztHe2qhm5unW8RRy/wMJAxF9JwI+wvRjFusc9yUjLzAPTPNVP18zaNNxa3sbOw5PKQ9jZ5sjo1urY4Ebv3fHf7dT14/flmLcRotGa12QfGXLS8m0zWAPhQIXhGAZx6IrglFXp6MiDSA+oIzyN+P49A5RR0EaR5zzaA+kPEkAIAityLKiSH8uEKN3VPNgPp8uRikoyOvkzpS+hlYgeevkgpimL4njefJhT386GPakW1Xn0o8mQW612Xfm15VKgm5B2UmqIqQOnnqCWkIJKLhomdWdebIM3b9iFd4v4/RsxMJDBZ42yoIs4kuIVjBuHQosismS3ISw3xgxCM2LOMEKLHk26tOnTqFOrXs26tevXoxMAADs=";function cf(t,A,e){const r=t.slice();return r[29]=A[e],r}function uf(t,A,e){const r=t.slice();return r[32]=A[e],r}function hf(t,A,e){const r=t.slice();return r[12]=A[e],r}function LE(t){let A,e,r,n;const s=[xE,VE],i=[];function o(l,c){return!l[1]&&l[2]?0:1}return e=o(t),r=i[e]=s[e](t),{c(){A=R("div"),r.c(),_(A,"class","flex flex-col items-center gap-6")},m(l,c){W(l,A,c),i[e].m(A,null),n=!0},p(l,c){let u=e;e=o(l),e===u?i[e].p(l,c):(ee(),aA(i[u],1,1,()=>{i[u]=null}),te(),r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),eA(r,1),r.m(A,null))},i(l){n||(eA(r),n=!0)},o(l){aA(r),n=!1},d(l){l&&G(A),i[e].d()}}}function kE(t){let A,e,r,n,s,i,o,l,c,u;function f(D,K){return D[0].data&&D[0].data.length>10?NE:OE}let g=f(t),B=g(t);function m(D,K){return D[9]?WE:GE}let Q=m(t),F=Q(t),T=RA(t[0].guesses),S=[];for(let D=0;D<T.length;D+=1)S[D]=Cf(hf(t,T,D));let k=!t[0].guessed&&t[2].name!==t[0].artist&&Qf(t);return{c(){A=R("div"),e=R("div"),B.c(),r=Y(),n=R("div"),s=R("h2"),s.textContent="What's this?",i=Y(),o=R("p"),F.c(),l=Y(),c=R("div");for(let D=0;D<S.length;D+=1)S[D].c();u=Y(),k&&k.c(),_(e,"class","bg-white/90 p-2 rounded-lg w-full max-w-[min(90vw,300px)] aspect-square flex items-center justify-center mx-auto border-2 border-primary"),_(s,"class","text-xl font-bold mb-2 text-primary"),_(o,"class","mb-4"),_(c,"class","flex flex-wrap gap-2 w-full overflow-y-auto"),_(n,"class","w-full max-w-[min(90vw,400px)]"),_(A,"class","flex flex-col items-center gap-6")},m(D,K){W(D,A,K),I(A,e),B.m(e,null),I(A,r),I(A,n),I(n,s),I(n,i),I(n,o),F.m(o,null),I(n,l),I(n,c);for(let x=0;x<S.length;x+=1)S[x]&&S[x].m(c,null);I(A,u),k&&k.m(A,null)},p(D,K){if(g===(g=f(D))&&B?B.p(D,K):(B.d(1),B=g(D),B&&(B.c(),B.m(e,null))),Q===(Q=m(D))&&F?F.p(D,K):(F.d(1),F=Q(D),F&&(F.c(),F.m(o,null))),K[0]&1){T=RA(D[0].guesses);let x;for(x=0;x<T.length;x+=1){const E=hf(D,T,x);S[x]?S[x].p(E,K):(S[x]=Cf(E),S[x].c(),S[x].m(c,null))}for(;x<S.length;x+=1)S[x].d(1);S.length=T.length}!D[0].guessed&&D[2].name!==D[0].artist?k?k.p(D,K):(k=Qf(D),k.c(),k.m(A,null)):k&&(k.d(1),k=null)},i:tA,o:tA,d(D){D&&G(A),B.d(),F.d(),Re(S,D),k&&k.d()}}}function VE(t){var E;let A,e,r,n,s=(((E=t[1])==null?void 0:E.secretWord.toUpperCase())??"")+"",i,o,l,c,u,f,g,B,m,Q,F=t[4]?"Posting, great work...":"Submit Drawing",T,S,k,D,K,x={};return c=new DE({props:x}),t[22](c),{c(){A=R("div"),e=R("h2"),r=lA("Ok, let's draw "),n=R("span"),i=lA(s),o=Y(),l=R("div"),le(c.$$.fragment),u=Y(),f=R("div"),g=R("button"),g.textContent="Clear",B=Y(),m=R("button"),Q=R("span"),T=lA(F),_(n,"class","font-bold text-black"),_(e,"class","text-xl mb-4 text-black/60"),_(g,"class","btn btn-outline flex-1"),_(m,"class",S=t[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"),_(f,"class","flex flex-row gap-2 mt-4 w-full"),_(l,"class","w-full aspect-square max-w-[min(90vw,400px)] mx-auto"),_(A,"class","w-full h-screen")},m(C,y){W(C,A,y),I(A,e),I(e,r),I(e,n),I(n,i),I(A,o),I(A,l),re(c,l,null),I(l,u),I(l,f),I(f,g),I(f,B),I(f,m),I(m,Q),I(Q,T),k=!0,D||(K=[BA(g,"click",t[23]),BA(m,"click",t[24])],D=!0)},p(C,y){var U;(!k||y[0]&2)&&s!==(s=(((U=C[1])==null?void 0:U.secretWord.toUpperCase())??"")+"")&&vA(i,s);const v={};c.$set(v),(!k||y[0]&16)&&F!==(F=C[4]?"Posting, great work...":"Submit Drawing")&&vA(T,F),(!k||y[0]&16&&S!==(S=C[4]?"btn-disabled flex-1":"btn btn-secondary flex-1 flex flex-row items-center justify-center text-center border border-secondary"))&&_(m,"class",S)},i(C){k||(eA(c.$$.fragment,C),k=!0)},o(C){aA(c.$$.fragment,C),k=!1},d(C){C&&G(A),t[22](null),ne(c),D=!1,Ee(K)}}}function xE(t){let A,e,r,n,s,i,o,l=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"",c,u,f,g,B,m={ctx:t,current:null,token:null,hasCatch:!1,pending:KE,then:PE,catch:ME,value:28};return Qu(B=t[7],m),{c(){A=R("div"),e=R("h2"),e.textContent="Pick a word to draw",r=Y(),n=R("p"),s=R("span"),i=lA("You get coins as the artist, and "),o=R("span"),c=lA(l),u=lA(" gets coins for guessing correctly!"),f=Y(),g=R("div"),m.block.c(),_(e,"class","text-xl font-bold mb-2 text-black"),_(o,"class","font-bold"),_(n,"class","mb-6 text-black/60 italic tooltip flex flex-row gap-2 text-xs"),_(g,"class","flex flex-col gap-4 w-full"),_(A,"class","w-full flex flex-col items-center")},m(Q,F){W(Q,A,F),I(A,e),I(A,r),I(A,n),I(n,s),I(s,i),I(s,o),I(o,c),I(s,u),I(A,f),I(A,g),m.block.m(g,m.anchor=null),m.mount=()=>g,m.anchor=null},p(Q,F){t=Q,F[0]&12&&l!==(l=(t[3]&&t[2]&&t[2].name&&t[3].users?t[3].users.filter(t[19])[0]??"another player":"another player")+"")&&vA(c,l),m.ctx=t,F[0]&128&&B!==(B=t[7])&&Qu(B,m)||Mw(m,t,F)},i:tA,o:tA,d(Q){Q&&G(A),m.block.d(),m.token=null,m=null}}}function ME(t){return{c:tA,m:tA,p:tA,d:tA}}function PE(t){let A,e,r,n=t[8]?"Refreshing...":"Refresh Words",s,i,o,l,c,u=RA(t[28]),f=[];for(let B=0;B<u.length;B+=1)f[B]=df(cf(t,u,B));let g=!t[8]&&gf();return{c(){for(let B=0;B<f.length;B+=1)f[B].c();A=Y(),e=R("button"),r=R("span"),s=lA(n),i=Y(),g&&g.c(),_(e,"class",o="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!t[2]||t[2].coins<5||t[8]?"opacity-20 cursor-not-allowed":""))},m(B,m){for(let Q=0;Q<f.length;Q+=1)f[Q]&&f[Q].m(B,m);W(B,A,m),W(B,e,m),I(e,r),I(r,s),I(e,i),g&&g.m(e,null),l||(c=BA(e,"click",t[21]),l=!0)},p(B,m){if(m[0]&142){u=RA(B[28]);let Q;for(Q=0;Q<u.length;Q+=1){const F=cf(B,u,Q);f[Q]?f[Q].p(F,m):(f[Q]=df(F),f[Q].c(),f[Q].m(A.parentNode,A))}for(;Q<f.length;Q+=1)f[Q].d(1);f.length=u.length}m[0]&256&&n!==(n=B[8]?"Refreshing...":"Refresh Words")&&vA(s,n),B[8]?g&&(g.d(1),g=null):g||(g=gf(),g.c(),g.m(e,null)),m[0]&260&&o!==(o="btn btn-outline w-fit flex flex-row items-center justify-center gap-2 "+(!B[2]||B[2].coins<5||B[8]?"opacity-20 cursor-not-allowed":""))&&_(e,"class",o)},d(B){B&&(G(A),G(e)),Re(f,B),g&&g.d(),l=!1,c()}}}function ff(t){let A,e;return{c(){A=R("img"),Se(A.src,e=Tr)||_(A,"src",e),_(A,"class","w-4 h-4")},m(r,n){W(r,A,n)},p:tA,d(r){r&&G(A)}}}function df(t){let A,e,r,n=t[29].secretWord.toUpperCase()+"",s,i,o,l=t[29].createdBy?"by "+t[29].createdBy:"",c,u,f,g,B,m,Q=RA(Array(t[29].coins)),F=[];for(let S=0;S<Q.length;S+=1)F[S]=ff(uf(t,Q,S));function T(){return t[20](t[29])}return{c(){A=R("button"),e=R("div"),r=R("span"),s=lA(n),i=Y(),o=R("span"),c=lA(l),u=Y(),f=R("span");for(let S=0;S<F.length;S+=1)F[S].c();_(r,"class","text-sm font-semibold"),_(o,"class","text-[0.8rem] text-white opacity-80"),_(e,"class","flex flex-col items-start gap-1"),_(f,"class","flex items-center gap-1"),_(A,"class",g="btn flex flex-row items-center justify-between w-full border "+(t[29].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))},m(S,k){W(S,A,k),I(A,e),I(e,r),I(r,s),I(e,i),I(e,o),I(o,c),I(A,u),I(A,f);for(let D=0;D<F.length;D+=1)F[D]&&F[D].m(f,null);B||(m=BA(A,"click",T),B=!0)},p(S,k){if(t=S,k[0]&128&&n!==(n=t[29].secretWord.toUpperCase()+"")&&vA(s,n),k[0]&128&&l!==(l=t[29].createdBy?"by "+t[29].createdBy:"")&&vA(c,l),k[0]&128){Q=RA(Array(t[29].coins));let D;for(D=0;D<Q.length;D+=1){const K=uf(t,Q,D);F[D]?F[D].p(K,k):(F[D]=ff(),F[D].c(),F[D].m(f,null))}for(;D<F.length;D+=1)F[D].d(1);F.length=Q.length}k[0]&128&&g!==(g="btn flex flex-row items-center justify-between w-full border "+(t[29].createdBy!=null?"btn-secondary border-black text-white h-20":"btn-primary border-primary text-white"))&&_(A,"class",g)},d(S){S&&G(A),Re(F,S),B=!1,m()}}}function gf(t){let A;return{c(){A=R("span"),A.innerHTML=`(5 <img src="${Tr}" class="w-4 h-4 inline"/>)`,_(A,"class","text-xs text-black/60")},m(e,r){W(e,A,r)},d(e){e&&G(A)}}}function KE(t){return{c:tA,m:tA,p:tA,d:tA}}function OE(t){let A;return{c(){A=R("span"),A.textContent="No drawing yet",_(A,"class","text-accent")},m(e,r){W(e,A,r)},p:tA,d(e){e&&G(A)}}}function NE(t){let A,e;return{c(){A=R("img"),Se(A.src,e=`${t[0].data}`)||_(A,"src",e),_(A,"class","w-full h-full object-contain"),_(A,"alt","Current drawing")},m(r,n){W(r,A,n)},p(r,n){n[0]&1&&!Se(A.src,e=`${r[0].data}`)&&_(A,"src",e)},d(r){r&&G(A)}}}function GE(t){let A,e,r=t[0].artist+"",n,s,i,o=(t[0].hintPurchased||t[0].superHintPurchased)&&Bf(t);return{c(){A=lA("Drawn by "),e=R("span"),n=lA(r),s=Y(),o&&o.c(),i=tt(),_(e,"class","font-bold text-secondary")},m(l,c){W(l,A,c),W(l,e,c),I(e,n),W(l,s,c),o&&o.m(l,c),W(l,i,c)},p(l,c){c[0]&1&&r!==(r=l[0].artist+"")&&vA(n,r),l[0].hintPurchased||l[0].superHintPurchased?o?o.p(l,c):(o=Bf(l),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(l){l&&(G(A),G(e),G(s),G(i)),o&&o.d(l)}}}function WE(t){let A,e,r=t[0].secretWord+"",n;return{c(){A=lA("You drew this. The secret word is "),e=R("span"),n=lA(r),_(e,"class","font-bold text-secondary")},m(s,i){W(s,A,i),W(s,e,i),I(e,n)},p(s,i){i[0]&1&&r!==(r=s[0].secretWord+"")&&vA(n,r)},d(s){s&&(G(A),G(e))}}}function Bf(t){let A,e,r=t[0].hintPurchased&&pf(t),n=t[0].superHintPurchased&&wf(t);return{c(){A=R("ul"),r&&r.c(),e=Y(),n&&n.c(),_(A,"class","pl-4 mt-1 space-y-1")},m(s,i){W(s,A,i),r&&r.m(A,null),I(A,e),n&&n.m(A,null)},p(s,i){s[0].hintPurchased?r?r.p(s,i):(r=pf(s),r.c(),r.m(A,e)):r&&(r.d(1),r=null),s[0].superHintPurchased?n?n.p(s,i):(n=wf(s),n.c(),n.m(A,null)):n&&(n.d(1),n=null)},d(s){s&&G(A),r&&r.d(),n&&n.d()}}}function pf(t){let A,e=Oh(t[0])+"",r;return{c(){A=R("li"),r=lA(e),_(A,"class","text-xs list-disc text-accent/70")},m(n,s){W(n,A,s),I(A,r)},p(n,s){s[0]&1&&e!==(e=Oh(n[0])+"")&&vA(r,e)},d(n){n&&G(A)}}}function wf(t){let A,e=Nh(t[0])+"",r;return{c(){A=R("li"),r=lA(e),_(A,"class","text-xs list-disc text-accent/70")},m(n,s){W(n,A,s),I(A,r)},p(n,s){s[0]&1&&e!==(e=Nh(n[0])+"")&&vA(r,e)},d(n){n&&G(A)}}}function mf(t){let A,e=t[12]+"",r,n;return{c(){A=R("div"),r=lA(e),n=Y(),_(A,"class","bg-accent-light px-3 py-1 rounded-full text-black/60 border border-accent")},m(s,i){W(s,A,i),I(A,r),I(A,n)},p(s,i){i[0]&1&&e!==(e=s[12]+"")&&vA(r,e)},d(s){s&&G(A)}}}function Cf(t){let A,e=t[12]&&mf(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,n){r[12]?e?e.p(r,n):(e=mf(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&G(A),e&&e.d(r)}}}function Qf(t){let A,e,r,n,s,i,o,l,c;function u(B,m){if(!B[0].hintPurchased)return XE;if(!B[0].superHintPurchased)return jE}let f=u(t),g=f&&f(t);return{c(){A=R("div"),e=R("div"),g&&g.c(),r=Y(),n=R("div"),s=R("input"),i=Y(),o=R("button"),o.textContent="Guess",_(e,"class","flex gap-2"),_(s,"type","text"),_(s,"placeholder","Type your guess..."),_(s,"class","input input-bordered flex-1 bg-white text-black border-primary"),_(o,"class","btn btn-primary"),_(n,"class","flex gap-2"),_(A,"class","flex flex-col gap-2 w-full max-w-[min(90vw,400px)]")},m(B,m){W(B,A,m),I(A,e),g&&g.m(e,null),I(A,r),I(A,n),I(n,s),ft(s,t[12]),I(n,i),I(n,o),l||(c=[BA(s,"input",t[16]),BA(s,"keydown",t[17]),BA(o,"click",t[18])],l=!0)},p(B,m){f===(f=u(B))&&g?g.p(B,m):(g&&g.d(1),g=f&&f(B),g&&(g.c(),g.m(e,null))),m[0]&4096&&s.value!==B[12]&&ft(s,B[12])},d(B){B&&G(A),g&&g.d(),l=!1,Ee(c)}}}function jE(t){let A,e=t[11]?"Purchasing...":"Super Hint (10 ",r,n,s,i=t[11]?"":")",o,l,c,u,f;return{c(){A=R("button"),r=lA(e),n=R("img"),o=lA(i),Se(n.src,s=Tr)||_(n,"src",s),_(n,"class","w-4 h-4 inline"),_(A,"class",l="btn btn-outline flex-1 "+(t[2].coins<10||t[11]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<10||t[11]},m(g,B){W(g,A,B),I(A,r),I(A,n),I(A,o),u||(f=BA(A,"click",t[15]),u=!0)},p(g,B){B[0]&2048&&e!==(e=g[11]?"Purchasing...":"Super Hint (10 ")&&vA(r,e),B[0]&2048&&i!==(i=g[11]?"":")")&&vA(o,i),B[0]&2052&&l!==(l="btn btn-outline flex-1 "+(g[2].coins<10||g[11]?"opacity-40 btn-error cursor-not-allowed":""))&&_(A,"class",l),B[0]&2052&&c!==(c=g[2].coins<10||g[11])&&(A.disabled=c)},d(g){g&&G(A),u=!1,f()}}}function XE(t){let A,e=t[10]?"Purchasing...":"Hint (5 ",r,n,s,i=t[10]?"":")",o,l,c,u,f;return{c(){A=R("button"),r=lA(e),n=R("img"),o=lA(i),Se(n.src,s=Tr)||_(n,"src",s),_(n,"class","w-4 h-4 inline"),_(A,"class",l="btn btn-outline flex-1 "+(t[2].coins<5||t[10]?"opacity-40 btn-error cursor-not-allowed":"")),A.disabled=c=t[2].coins<5||t[10]},m(g,B){W(g,A,B),I(A,r),I(A,n),I(A,o),u||(f=BA(A,"click",t[14]),u=!0)},p(g,B){B[0]&1024&&e!==(e=g[10]?"Purchasing...":"Hint (5 ")&&vA(r,e),B[0]&1024&&i!==(i=g[10]?"":")")&&vA(o,i),B[0]&1028&&l!==(l="btn btn-outline flex-1 "+(g[2].coins<5||g[10]?"opacity-40 btn-error cursor-not-allowed":""))&&_(A,"class",l),B[0]&1028&&c!==(c=g[2].coins<5||g[10])&&(A.disabled=c)},d(g){g&&G(A),u=!1,f()}}}function JE(t){let A,e,r,n;const s=[kE,LE],i=[];function o(l,c){return l[3]&&l[2]&&l[0]?0:l[2]&&l[3]?1:-1}return~(e=o(t))&&(r=i[e]=s[e](t)),{c(){A=R("div"),r&&r.c(),_(A,"class","rounded-lg p-9 bg-background flex flex-col justify-center")},m(l,c){W(l,A,c),~e&&i[e].m(A,null),n=!0},p(l,c){let u=e;e=o(l),e===u?~e&&i[e].p(l,c):(r&&(ee(),aA(i[u],1,1,()=>{i[u]=null}),te()),~e?(r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),eA(r,1),r.m(A,null)):r=null)},i(l){n||(eA(r),n=!0)},o(l){aA(r),n=!1},d(l){l&&G(A),~e&&i[e].d()}}}function qE(t,A,e){let r,n,s;oe(t,ae,p=>e(2,r=p)),oe(t,Ke,p=>e(3,n=p)),oe(t,wi,p=>e(25,s=p));let i=null,o="",l=null,c=!1,u,f=0,g,B=!1,m=!1,Q=!1,F=!1;async function T(p){if(!n||!r||!i||!p.trim()||(e(12,o=""),i.guesses.includes(p)))return;const P={...i};P.guesses.push(p);const rA={...n},IA=rA.drawings.findIndex(hA=>!hA.guessed&&hA.artist===P.artist);IA>=0&&(rA.drawings[IA]=P,Pe(Ke,n=rA,n));try{await oE(n,r,p)}catch(hA){console.error("Error submitting guess:",hA)}}async function S(){if(!r||!i||!n||i.hintPurchased||r.coins<5||Q)return;e(10,Q=!0),await lE(n,i,r)&&await mr(r.name,-5),e(10,Q=!1)}async function k(){if(!r||!i||!n||!i.hintPurchased||r.coins<10||F)return;e(11,F=!0),await cE(n,i,r)&&await mr(r.name,-10),e(11,F=!1)}function D(){o=this.value,e(12,o)}const K=p=>{p.key==="Enter"&&o.length>0&&T(o)},x=()=>T(o),E=p=>p!==((r==null?void 0:r.name)||""),C=p=>{n&&r&&e(1,l={secretWord:p.secretWord,coins:p.coins,data:"",artist:r.name,guessed:!1,guesses:[],createdAt:new Date,guessedBy:"",hintPurchased:!1,superHintPurchased:!1,comments:[],likes:[]})},y=async()=>{if(r&&r.coins>=5&&!B){e(8,B=!0);try{await mr(r.name,-5),e(6,f++,f),e(7,g=Kh(4))}finally{setTimeout(()=>{e(8,B=!1)},1e3)}}};function v(p){As[p?"unshift":"push"](()=>{u=p,e(5,u)})}const U=()=>u.clearCanvas(),b=async()=>{if(l&&n&&r&&!c){e(4,c=!0);try{const p=u.getImageData(),P={...l,data:p};n.drawings.push(P),await Qo(n),e(1,l=null),Pe(Ke,n=null,n)}finally{e(4,c=!1)}}};return t.$$.update=()=>{if(t.$$.dirty[0]&13&&n&&r){const p=Bc(n,r.name);e(0,i=p?aE(p):null),e(9,m=r.name===(i==null?void 0:i.artist))}t.$$.dirty[0]&2&&(l?Pe(wi,s=!0,s):Pe(wi,s=!1,s))},e(7,g=Kh(4)),[i,l,r,n,c,u,f,g,B,m,Q,F,o,T,S,k,D,K,x,E,C,y,v,U,b]}class YE extends Xe{constructor(A){super(),je(this,A,qE,JE,De,{},null,[-1,-1])}}function yf(t,A,e){const r=t.slice();return r[17]=A[e],r}function _f(t){let A,e,r;return{c(){A=R("button"),A.textContent="×",_(A,"class","absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-black p-2")},m(n,s){W(n,A,s),e||(r=BA(A,"click",t[9]),e=!0)},p:tA,d(n){n&&G(A),e=!1,r()}}}function zE(t){let A,e,r=RA(t[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Uf(yf(t,r,i));const s=i=>aA(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();A=tt()},m(i,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,o);W(i,A,o),e=!0},p(i,o){if(o&180){r=RA(i[2]);let l;for(l=0;l<r.length;l+=1){const c=yf(i,r,l);n[l]?(n[l].p(c,o),eA(n[l],1)):(n[l]=Uf(c),n[l].c(),eA(n[l],1),n[l].m(A.parentNode,A))}for(ee(),l=r.length;l<n.length;l+=1)s(l);te()}},i(i){if(!e){for(let o=0;o<r.length;o+=1)eA(n[o]);e=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)aA(n[o]);e=!1},d(i){i&&G(A),Re(n,i)}}}function ZE(t){let A;return{c(){A=R("div"),A.textContent="No users found",_(A,"class","text-center py-8 text-black/60")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function $E(t){let A;return{c(){A=R("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',_(A,"class","flex items-center justify-center py-8")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function Ef(t){let A,e;function r(...o){return t[10](t[17],...o)}function n(...o){return t[11](t[17],...o)}function s(...o){return t[12](t[17],...o)}function i(){return t[13](t[17])}return A=new pc({props:{name:t[17].name,coins:t[17].coins,showAvatar:!0,subtitle:t[5].filter(r).length>0?`${t[5].filter(n).length} game${t[5].filter(s).length>1?"s":""}`:null,onClick:i}}),{c(){le(A.$$.fragment)},m(o,l){re(A,o,l),e=!0},p(o,l){t=o;const c={};l&4&&(c.name=t[17].name),l&4&&(c.coins=t[17].coins),l&36&&(c.subtitle=t[5].filter(r).length>0?`${t[5].filter(n).length} game${t[5].filter(s).length>1?"s":""}`:null),l&4&&(c.onClick=i),A.$set(c)},i(o){e||(eA(A.$$.fragment,o),e=!0)},o(o){aA(A.$$.fragment,o),e=!1},d(o){ne(A,o)}}}function Uf(t){let A,e,r=t[4]&&t[4].name!==t[17].name&&Ef(t);return{c(){r&&r.c(),A=tt()},m(n,s){r&&r.m(n,s),W(n,A,s),e=!0},p(n,s){n[4]&&n[4].name!==n[17].name?r?(r.p(n,s),s&20&&eA(r,1)):(r=Ef(n),r.c(),eA(r,1),r.m(A.parentNode,A)):r&&(ee(),aA(r,1,1,()=>{r=null}),te())},i(n){e||(eA(r),e=!0)},o(n){aA(r),e=!1},d(n){n&&G(A),r&&r.d(n)}}}function AU(t){let A,e,r,n,s,i,o,l,c,u,f,g,B,m,Q,F,T,S;r=new yo({props:{navigate:t[0]}});let k=t[1]&&_f(t);const D=[$E,ZE,zE],K=[];function x(E,C){return E[3]?0:E[2].length===0?1:2}return m=x(t),Q=K[m]=D[m](t),{c(){A=R("div"),e=R("div"),le(r.$$.fragment),n=Y(),s=R("h2"),s.textContent="Challenge a friend",i=Y(),o=R("p"),o.textContent="Tap on a user to start a new game",l=Y(),c=R("div"),u=R("input"),f=Y(),k&&k.c(),g=Y(),B=R("div"),Q.c(),_(s,"class","text-xl font-bold text-primary"),_(o,"class","text-sm text-black/60"),_(e,"class","flex flex-col gap-2"),_(u,"type","text"),_(u,"placeholder","Search users..."),_(u,"class","input input-bordered w-full bg-white text-black border-primary rounded-xl text-base px-4 py-3 shadow-sm"),_(u,"autocorrect","off"),_(c,"class","relative"),_(B,"class","flex flex-col w-full gap-2 pt-2 overflow-y-auto"),_(A,"class","flex flex-col gap-4 p-4 pt-24")},m(E,C){W(E,A,C),I(A,e),re(r,e,null),I(e,n),I(e,s),I(e,i),I(e,o),I(A,l),I(A,c),I(c,u),ft(u,t[1]),I(c,f),k&&k.m(c,null),I(A,g),I(A,B),K[m].m(B,null),F=!0,T||(S=[BA(u,"input",t[6]),BA(u,"input",t[8])],T=!0)},p(E,[C]){const y={};C&1&&(y.navigate=E[0]),r.$set(y),C&2&&u.value!==E[1]&&ft(u,E[1]),E[1]?k?k.p(E,C):(k=_f(E),k.c(),k.m(c,null)):k&&(k.d(1),k=null);let v=m;m=x(E),m===v?K[m].p(E,C):(ee(),aA(K[v],1,1,()=>{K[v]=null}),te(),Q=K[m],Q?Q.p(E,C):(Q=K[m]=D[m](E),Q.c()),eA(Q,1),Q.m(B,null))},i(E){F||(eA(r.$$.fragment,E),eA(Q),F=!0)},o(E){aA(r.$$.fragment,E),aA(Q),F=!1},d(E){E&&G(A),ne(r),k&&k.d(),K[m].d(),T=!1,Ee(S)}}}function eU(t,A,e){let r,n,s;oe(t,ae,D=>e(4,r=D)),oe(t,Ke,D=>e(16,n=D)),oe(t,fs,D=>e(5,s=D));let i="",o=[],l,c=!0,u=!1,{navigate:f}=A;function g(){clearTimeout(l),l=setTimeout(async()=>{e(3,c=!0),e(2,o=await Mh(i)),e(3,c=!1)},300)}(async()=>(e(3,c=!0),e(2,o=await Mh("")),e(3,c=!1)))();async function B(D){if(!(!r||u)){u=!0;try{Pe(Ke,n=await eE([r.name,D.name]),n)}catch(K){console.error("Error creating game:",K)}finally{u=!1}}}function m(){i=this.value,e(1,i)}const Q=()=>{e(1,i=""),g()},F=(D,K)=>K.users.includes(D.name),T=(D,K)=>K.users.includes(D.name),S=(D,K)=>K.users.includes(D.name),k=D=>B(D);return t.$$set=D=>{"navigate"in D&&e(0,f=D.navigate)},[f,i,o,c,r,s,g,B,m,Q,F,T,S,k]}class tU extends Xe{constructor(A){super(),je(this,A,eU,AU,De,{navigate:0})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tl=function(t,A){return tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},tl(t,A)};function st(t,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");tl(t,A);function e(){this.constructor=t}t.prototype=A===null?Object.create(A):(e.prototype=A.prototype,new e)}function Je(t,A,e,r){function n(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?s(u.value):n(u.value).then(o,l)}c((r=r.apply(t,[])).next())})}function Ve(t,A){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,n,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(u){c=[6,u],n=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Fr=function(){function t(A,e,r,n){this.left=A,this.top=e,this.width=r,this.height=n}return t.prototype.add=function(A,e,r,n){return new t(this.left+A,this.top+e,this.width+r,this.height+n)},t.fromClientRect=function(A,e){return new t(e.left+A.windowBounds.left,e.top+A.windowBounds.top,e.width,e.height)},t.fromDOMRectList=function(A,e){var r=Array.from(e).find(function(n){return n.width!==0});return r?new t(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),wc=function(t,A){return Fr.fromClientRect(t,A.getBoundingClientRect())},_o=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},WA=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Js=0;Js<Ff.length;Js++)rU[Ff.charCodeAt(Js)]=Js;var vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qs=0;qs<vf.length;qs++)xn[vf.charCodeAt(qs)]=qs;var nU=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,o,l;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=xn[t.charCodeAt(r)],i=xn[t.charCodeAt(r+1)],o=xn[t.charCodeAt(r+2)],l=xn[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|o>>2,u[n++]=(o&3)<<6|l&63;return c},sU=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},iU=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},Cr=5,mc=11,ca=2,oU=mc-Cr,ip=65536>>Cr,aU=1<<Cr,ua=aU-1,lU=1024>>Cr,cU=ip+lU,uU=cU,hU=32,fU=uU+hU,dU=65536>>mc,gU=1<<oU,BU=gU-1,If=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},pU=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},wU=function(t,A){var e=nU(t),r=Array.isArray(e)?iU(e):new Uint32Array(e),n=Array.isArray(e)?sU(e):new Uint16Array(e),s=24,i=If(n,s/2,r[4]/2),o=r[5]===2?If(n,(s+r[4])/2):pU(r,Math.ceil((s+r[4])/4));return new mU(r[0],r[1],r[2],r[3],i,o)},mU=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>Cr],e=(e<<ca)+(A&ua),this.data[e];if(A<=65535)return e=this.index[ip+(A-55296>>Cr)],e=(e<<ca)+(A&ua),this.data[e];if(A<this.highStart)return e=fU-dU+(A>>mc),e=this.index[e],e+=A>>Cr&BU,e=this.index[e],e=(e<<ca)+(A&ua),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ys=0;Ys<bf.length;Ys++)CU[bf.charCodeAt(Ys)]=Ys;var QU="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Tf=50,yU=1,op=2,ap=3,_U=4,EU=5,Hf=7,lp=8,Sf=9,Kt=10,rl=11,Rf=12,nl=13,UU=14,Mn=15,sl=16,zs=17,Tn=18,FU=19,Df=20,il=21,Hn=22,ha=23,xr=24,xe=25,Pn=26,Kn=27,Mr=28,vU=29,dr=30,IU=31,Zs=32,$s=33,ol=34,al=35,ll=36,as=37,cl=38,Ui=39,Fi=40,fa=41,cp=42,bU=43,TU=[9001,65288],up="!",yA="×",Ai="÷",ul=wU(QU),Qt=[dr,ll],hl=[yU,op,ap,EU],hp=[Kt,lp],Lf=[Kn,Pn],HU=hl.concat(hp),kf=[cl,Ui,Fi,ol,al],SU=[Mn,nl],RU=function(t,A){A===void 0&&(A="strict");var e=[],r=[],n=[];return t.forEach(function(s,i){var o=ul.get(s);if(o>Tf?(n.push(!0),o-=Tf):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(i),e.push(sl);if(o===_U||o===rl){if(i===0)return r.push(i),e.push(dr);var l=e[i-1];return HU.indexOf(l)===-1?(r.push(r[i-1]),e.push(l)):(r.push(i),e.push(dr))}if(r.push(i),o===IU)return e.push(A==="strict"?il:as);if(o===cp||o===vU)return e.push(dr);if(o===bU)return s>=131072&&s<=196605||s>=196608&&s<=262141?e.push(as):e.push(dr);e.push(o)}),[r,e,n]},da=function(t,A,e,r){var n=r[e];if(Array.isArray(t)?t.indexOf(n)!==-1:t===n)for(var s=e;s<=r.length;){s++;var i=r[s];if(i===A)return!0;if(i!==Kt)break}if(n===Kt)for(var s=e;s>0;){s--;var o=r[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=e;l<=r.length;){l++;var i=r[l];if(i===A)return!0;if(i!==Kt)break}if(o!==Kt)break}return!1},Vf=function(t,A){for(var e=t;e>=0;){var r=A[e];if(r===Kt)e--;else return r}return 0},DU=function(t,A,e,r,n){if(e[r]===0)return yA;var s=r-1;if(Array.isArray(n)&&n[s]===!0)return yA;var i=s-1,o=s+1,l=A[s],c=i>=0?A[i]:0,u=A[o];if(l===op&&u===ap)return yA;if(hl.indexOf(l)!==-1)return up;if(hl.indexOf(u)!==-1||hp.indexOf(u)!==-1)return yA;if(Vf(s,A)===lp)return Ai;if(ul.get(t[s])===rl||(l===Zs||l===$s)&&ul.get(t[o])===rl||l===Hf||u===Hf||l===Sf||[Kt,nl,Mn].indexOf(l)===-1&&u===Sf||[zs,Tn,FU,xr,Mr].indexOf(u)!==-1||Vf(s,A)===Hn||da(ha,Hn,s,A)||da([zs,Tn],il,s,A)||da(Rf,Rf,s,A))return yA;if(l===Kt)return Ai;if(l===ha||u===ha)return yA;if(u===sl||l===sl)return Ai;if([nl,Mn,il].indexOf(u)!==-1||l===UU||c===ll&&SU.indexOf(l)!==-1||l===Mr&&u===ll||u===Df||Qt.indexOf(u)!==-1&&l===xe||Qt.indexOf(l)!==-1&&u===xe||l===Kn&&[as,Zs,$s].indexOf(u)!==-1||[as,Zs,$s].indexOf(l)!==-1&&u===Pn||Qt.indexOf(l)!==-1&&Lf.indexOf(u)!==-1||Lf.indexOf(l)!==-1&&Qt.indexOf(u)!==-1||[Kn,Pn].indexOf(l)!==-1&&(u===xe||[Hn,Mn].indexOf(u)!==-1&&A[o+1]===xe)||[Hn,Mn].indexOf(l)!==-1&&u===xe||l===xe&&[xe,Mr,xr].indexOf(u)!==-1)return yA;if([xe,Mr,xr,zs,Tn].indexOf(u)!==-1)for(var f=s;f>=0;){var g=A[f];if(g===xe)return yA;if([Mr,xr].indexOf(g)!==-1)f--;else break}if([Kn,Pn].indexOf(u)!==-1)for(var f=[zs,Tn].indexOf(l)!==-1?i:s;f>=0;){var g=A[f];if(g===xe)return yA;if([Mr,xr].indexOf(g)!==-1)f--;else break}if(cl===l&&[cl,Ui,ol,al].indexOf(u)!==-1||[Ui,ol].indexOf(l)!==-1&&[Ui,Fi].indexOf(u)!==-1||[Fi,al].indexOf(l)!==-1&&u===Fi||kf.indexOf(l)!==-1&&[Df,Pn].indexOf(u)!==-1||kf.indexOf(u)!==-1&&l===Kn||Qt.indexOf(l)!==-1&&Qt.indexOf(u)!==-1||l===xr&&Qt.indexOf(u)!==-1||Qt.concat(xe).indexOf(l)!==-1&&u===Hn&&TU.indexOf(t[o])===-1||Qt.concat(xe).indexOf(u)!==-1&&l===Tn)return yA;if(l===fa&&u===fa){for(var B=e[s],m=1;B>0&&(B--,A[B]===fa);)m++;if(m%2!==0)return yA}return l===Zs&&u===$s?yA:Ai},LU=function(t,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var e=RU(t,A.lineBreak),r=e[0],n=e[1],s=e[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(o){return[xe,dr,cp].indexOf(o)!==-1?as:o}));var i=A.wordBreak==="keep-all"?s.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,n,i]},kU=function(){function t(A,e,r,n){this.codePoints=A,this.required=e===up,this.start=r,this.end=n}return t.prototype.slice=function(){return WA.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),VU=function(t,A){var e=_o(t),r=LU(e,A),n=r[0],s=r[1],i=r[2],o=e.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=yA;c<o&&(u=DU(e,s,n,++c,i))===yA;);if(u!==yA||c===o){var f=new kU(e,u,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},xU=1,MU=2,_s=4,xf=8,ji=10,Mf=47,Yn=92,PU=9,KU=32,ei=34,Sn=61,OU=35,NU=36,GU=37,ti=39,ri=40,Rn=41,WU=95,be=45,jU=33,XU=60,JU=62,qU=64,YU=91,zU=93,ZU=61,$U=123,ni=63,AF=125,Pf=124,eF=126,tF=128,Kf=65533,ga=42,wr=43,rF=44,nF=58,sF=59,ls=46,iF=0,oF=8,aF=11,lF=14,cF=31,uF=127,at=-1,fp=48,dp=97,gp=101,hF=102,fF=117,dF=122,Bp=65,pp=69,wp=70,gF=85,BF=90,ye=function(t){return t>=fp&&t<=57},pF=function(t){return t>=55296&&t<=57343},Pr=function(t){return ye(t)||t>=Bp&&t<=wp||t>=dp&&t<=hF},wF=function(t){return t>=dp&&t<=dF},mF=function(t){return t>=Bp&&t<=BF},CF=function(t){return wF(t)||mF(t)},QF=function(t){return t>=tF},si=function(t){return t===ji||t===PU||t===KU},Xi=function(t){return CF(t)||QF(t)||t===WU},Of=function(t){return Xi(t)||ye(t)||t===be},yF=function(t){return t>=iF&&t<=oF||t===aF||t>=lF&&t<=cF||t===uF},xt=function(t,A){return t!==Yn?!1:A!==ji},ii=function(t,A,e){return t===be?Xi(A)||xt(A,e):Xi(t)?!0:!!(t===Yn&&xt(t,A))},Ba=function(t,A,e){return t===wr||t===be?ye(A)?!0:A===ls&&ye(e):ye(t===ls?A:t)},_F=function(t){var A=0,e=1;(t[A]===wr||t[A]===be)&&(t[A]===be&&(e=-1),A++);for(var r=[];ye(t[A]);)r.push(t[A++]);var n=r.length?parseInt(WA.apply(void 0,r),10):0;t[A]===ls&&A++;for(var s=[];ye(t[A]);)s.push(t[A++]);var i=s.length,o=i?parseInt(WA.apply(void 0,s),10):0;(t[A]===pp||t[A]===gp)&&A++;var l=1;(t[A]===wr||t[A]===be)&&(t[A]===be&&(l=-1),A++);for(var c=[];ye(t[A]);)c.push(t[A++]);var u=c.length?parseInt(WA.apply(void 0,c),10):0;return e*(n+o*Math.pow(10,-i))*Math.pow(10,l*u)},EF={type:2},UF={type:3},FF={type:4},vF={type:13},IF={type:8},bF={type:21},TF={type:9},HF={type:10},SF={type:11},RF={type:12},DF={type:14},oi={type:23},LF={type:1},kF={type:25},VF={type:24},xF={type:26},MF={type:27},PF={type:28},KF={type:29},OF={type:31},fl={type:32},mp=function(){function t(){this._value=[]}return t.prototype.write=function(A){this._value=this._value.concat(_o(A))},t.prototype.read=function(){for(var A=[],e=this.consumeToken();e!==fl;)A.push(e),e=this.consumeToken();return A},t.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case ei:return this.consumeStringToken(ei);case OU:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Of(e)||xt(r,n)){var s=ii(e,r,n)?MU:xU,i=this.consumeName();return{type:5,value:i,flags:s}}break;case NU:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),vF;break;case ti:return this.consumeStringToken(ti);case ri:return EF;case Rn:return UF;case ga:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),DF;break;case wr:if(Ba(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case rF:return FF;case be:var o=A,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Ba(o,l,c))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(ii(o,l,c))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(l===be&&c===JU)return this.consumeCodePoint(),this.consumeCodePoint(),VF;break;case ls:if(Ba(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case Mf:if(this.peekCodePoint(0)===ga)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===ga&&(u=this.consumeCodePoint(),u===Mf))return this.consumeToken();if(u===at)return this.consumeToken()}break;case nF:return xF;case sF:return MF;case XU:if(this.peekCodePoint(0)===jU&&this.peekCodePoint(1)===be&&this.peekCodePoint(2)===be)return this.consumeCodePoint(),this.consumeCodePoint(),kF;break;case qU:var f=this.peekCodePoint(0),g=this.peekCodePoint(1),B=this.peekCodePoint(2);if(ii(f,g,B)){var i=this.consumeName();return{type:7,value:i}}break;case YU:return PF;case Yn:if(xt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case zU:return KF;case ZU:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),IF;break;case $U:return SF;case AF:return RF;case fF:case gF:var m=this.peekCodePoint(0),Q=this.peekCodePoint(1);return m===wr&&(Pr(Q)||Q===ni)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case Pf:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),TF;if(this.peekCodePoint(0)===Pf)return this.consumeCodePoint(),bF;break;case eF:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),HF;break;case at:return fl}return si(A)?(this.consumeWhiteSpace(),OF):ye(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):Xi(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:WA(A)}},t.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},t.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},t.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},t.prototype.consumeUnicodeRangeToken=function(){for(var A=[],e=this.consumeCodePoint();Pr(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();for(var r=!1;e===ni&&A.length<6;)A.push(e),e=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(WA.apply(void 0,A.map(function(l){return l===ni?fp:l})),16),s=parseInt(WA.apply(void 0,A.map(function(l){return l===ni?wp:l})),16);return{type:30,start:n,end:s}}var i=parseInt(WA.apply(void 0,A),16);if(this.peekCodePoint(0)===be&&Pr(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var o=[];Pr(e)&&o.length<6;)o.push(e),e=this.consumeCodePoint();var s=parseInt(WA.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===ri?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ri?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},t.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===at)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===ti||e===ei){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===at||this.peekCodePoint(0)===Rn)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),oi)}for(;;){var n=this.consumeCodePoint();if(n===at||n===Rn)return{type:22,value:WA.apply(void 0,A)};if(si(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===at||this.peekCodePoint(0)===Rn?(this.consumeCodePoint(),{type:22,value:WA.apply(void 0,A)}):(this.consumeBadUrlRemnants(),oi);if(n===ei||n===ti||n===ri||yF(n))return this.consumeBadUrlRemnants(),oi;if(n===Yn)if(xt(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),oi;else A.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;si(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===Rn||A===at)return;xt(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(A){for(var e=5e4,r="";A>0;){var n=Math.min(e,A);r+=WA.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},t.prototype.consumeStringToken=function(A){var e="",r=0;do{var n=this._value[r];if(n===at||n===void 0||n===A)return e+=this.consumeStringSlice(r),{type:0,value:e};if(n===ji)return this._value.splice(0,r),LF;if(n===Yn){var s=this._value[r+1];s!==at&&s!==void 0&&(s===ji?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):xt(n,s)&&(e+=this.consumeStringSlice(r),e+=WA(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var A=[],e=_s,r=this.peekCodePoint(0);for((r===wr||r===be)&&A.push(this.consumeCodePoint());ye(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===ls&&ye(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=xf;ye(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===pp||r===gp)&&((n===wr||n===be)&&ye(s)||ye(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=xf;ye(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[_F(A),e]},t.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),e=A[0],r=A[1],n=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(ii(n,s,i)){var o=this.consumeName();return{type:15,number:e,flags:r,unit:o}}return n===GU?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Pr(A)){for(var e=WA(A);Pr(this.peekCodePoint(0))&&e.length<6;)e+=WA(this.consumeCodePoint());si(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return r===0||pF(r)||r>1114111?Kf:r}return A===at?Kf:A},t.prototype.consumeName=function(){for(var A="";;){var e=this.consumeCodePoint();if(Of(e))A+=WA(e);else if(xt(e,this.peekCodePoint(0)))A+=WA(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),A}},t}(),Cp=function(){function t(A){this._tokens=A}return t.create=function(A){var e=new mp;return e.write(A),new t(e.read())},t.parseValue=function(A){return t.create(A).parseComponentValue()},t.parseValues=function(A){return t.create(A).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var e=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var A=[];;){var e=this.consumeComponentValue();if(e.type===32)return A;A.push(e),A.push()}},t.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},t.prototype.consumeSimpleBlock=function(A){for(var e={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||NF(r,A))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(A){for(var e={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?fl:A},t.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},t}(),Es=function(t){return t.type===15},Eo=function(t){return t.type===17},KA=function(t){return t.type===20},dl=function(t,A){return KA(t)&&t.value===A},Uo=function(t){return t.type!==31&&t.type!==4},pt=function(t){var A=[],e=[];return t.forEach(function(r){if(r.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(e),e=[];return}r.type!==31&&e.push(r)}),e.length&&A.push(e),A},NF=function(t,A){return A===11&&t.type===12||A===28&&t.type===29?!0:A===2&&t.type===3},rr=function(t){return t.type===17||t.type===15},qA=function(t){return t.type===16||rr(t)},Qp=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},de={type:17,number:0,flags:_s},Cc={type:16,number:50,flags:_s},Ot={type:16,number:100,flags:_s},On=function(t,A,e){var r=t[0],n=t[1];return[LA(r,A),LA(typeof n<"u"?n:r,e)]},LA=function(t,A){if(t.type===16)return t.number/100*A;if(Es(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},yp="deg",_p="grad",Ep="rad",Up="turn",Fo={name:"angle",parse:function(t,A){if(A.type===15)switch(A.unit){case yp:return Math.PI*A.number/180;case _p:return Math.PI/200*A.number;case Ep:return A.number;case Up:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},Fp=function(t){return t.type===15&&(t.unit===yp||t.unit===_p||t.unit===Ep||t.unit===Up)},vp=function(t){var A=t.filter(KA).map(function(e){return e.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[de,de];case"to top":case"bottom":return Ze(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[de,Ot];case"to right":case"left":return Ze(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ot,Ot];case"to bottom":case"top":return Ze(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ot,de];case"to left":case"right":return Ze(270)}return 0},Ze=function(t){return Math.PI*t/180},Jt={name:"color",parse:function(t,A){if(A.type===18){var e=GF[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return e(t,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3);return Nt(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),s=A.value.substring(2,3),i=A.value.substring(3,4);return Nt(parseInt(r+r,16),parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6);return Nt(parseInt(r,16),parseInt(n,16),parseInt(s,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),s=A.value.substring(4,6),i=A.value.substring(6,8);return Nt(parseInt(r,16),parseInt(n,16),parseInt(s,16),parseInt(i,16)/255)}}if(A.type===20){var o=cs[A.value.toUpperCase()];if(typeof o<"u")return o}return cs.TRANSPARENT}},$r=function(t){return(255&t)===0},se=function(t){var A=255&t,e=255&t>>8,r=255&t>>16,n=255&t>>24;return A<255?"rgba("+n+","+r+","+e+","+A/255+")":"rgb("+n+","+r+","+e+")"},Nt=function(t,A,e,r){return(t<<24|A<<16|e<<8|Math.round(r*255)<<0)>>>0},Nf=function(t,A){if(t.type===17)return t.number;if(t.type===16){var e=A===3?1:255;return A===3?t.number/100*e:Math.round(t.number/100*e)}return 0},Gf=function(t,A){var e=A.filter(Uo);if(e.length===3){var r=e.map(Nf),n=r[0],s=r[1],i=r[2];return Nt(n,s,i,1)}if(e.length===4){var o=e.map(Nf),n=o[0],s=o[1],i=o[2],l=o[3];return Nt(n,s,i,l)}return 0};function pa(t,A,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(A-t)*e*6+t:e<1/2?A:e<2/3?(A-t)*6*(2/3-e)+t:t}var Wf=function(t,A){var e=A.filter(Uo),r=e[0],n=e[1],s=e[2],i=e[3],o=(r.type===17?Ze(r.number):Fo.parse(t,r))/(Math.PI*2),l=qA(n)?n.number/100:0,c=qA(s)?s.number/100:0,u=typeof i<"u"&&qA(i)?LA(i,1):1;if(l===0)return Nt(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,g=c*2-f,B=pa(g,f,o+1/3),m=pa(g,f,o),Q=pa(g,f,o-1/3);return Nt(B*255,m*255,Q*255,u)},GF={hsl:Wf,hsla:Wf,rgb:Gf,rgba:Gf},jf=function(t,A){return Jt.parse(t,Cp.create(A).parseComponentValue())},cs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},WF={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(KA(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jF={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vo=function(t,A){var e=Jt.parse(t,A[0]),r=A[1];return r&&qA(r)?{color:e,stop:r}:{color:e,stop:null}},Xf=function(t,A){var e=t[0],r=t[t.length-1];e.stop===null&&(e.stop=de),r.stop===null&&(r.stop=Ot);for(var n=[],s=0,i=0;i<t.length;i++){var o=t[i].stop;if(o!==null){var l=LA(o,A);l>s?n.push(l):n.push(s),s=l}else n.push(null)}for(var c=null,i=0;i<n.length;i++){var u=n[i];if(u===null)c===null&&(c=i);else if(c!==null){for(var f=i-c,g=n[c-1],B=(u-g)/(f+1),m=1;m<=f;m++)n[c+m-1]=B*m;c=null}}return t.map(function(Q,F){var T=Q.color;return{color:T,stop:Math.max(Math.min(1,n[F]/A),0)}})},XF=function(t,A,e){var r=A/2,n=e/2,s=LA(t[0],A)-r,i=n-LA(t[1],e);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},JF=function(t,A,e){var r=typeof t=="number"?t:XF(t,A,e),n=Math.abs(A*Math.sin(r))+Math.abs(e*Math.cos(r)),s=A/2,i=e/2,o=n/2,l=Math.sin(r-Math.PI/2)*o,c=Math.cos(r-Math.PI/2)*o;return[n,s-c,s+c,i-l,i+l]},nt=function(t,A){return Math.sqrt(t*t+A*A)},Jf=function(t,A,e,r,n){var s=[[0,0],[0,A],[t,0],[t,A]];return s.reduce(function(i,o){var l=o[0],c=o[1],u=nt(e-l,r-c);return(n?u<i.optimumDistance:u>i.optimumDistance)?{optimumCorner:o,optimumDistance:u}:i},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},qF=function(t,A,e,r,n){var s=0,i=0;switch(t.size){case 0:t.shape===0?s=i=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.min(Math.abs(A),Math.abs(A-r)),i=Math.min(Math.abs(e),Math.abs(e-n)));break;case 2:if(t.shape===0)s=i=Math.min(nt(A,e),nt(A,e-n),nt(A-r,e),nt(A-r,e-n));else if(t.shape===1){var o=Math.min(Math.abs(e),Math.abs(e-n))/Math.min(Math.abs(A),Math.abs(A-r)),l=Jf(r,n,A,e,!0),c=l[0],u=l[1];s=nt(c-A,(u-e)/o),i=o*s}break;case 1:t.shape===0?s=i=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(s=Math.max(Math.abs(A),Math.abs(A-r)),i=Math.max(Math.abs(e),Math.abs(e-n)));break;case 3:if(t.shape===0)s=i=Math.max(nt(A,e),nt(A,e-n),nt(A-r,e),nt(A-r,e-n));else if(t.shape===1){var o=Math.max(Math.abs(e),Math.abs(e-n))/Math.max(Math.abs(A),Math.abs(A-r)),f=Jf(r,n,A,e,!1),c=f[0],u=f[1];s=nt(c-A,(u-e)/o),i=o*s}break}return Array.isArray(t.size)&&(s=LA(t.size[0],r),i=t.size.length===2?LA(t.size[1],n):s),[s,i]},YF=function(t,A){var e=Ze(180),r=[];return pt(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&i.value==="to"){e=vp(n);return}else if(Fp(i)){e=Fo.parse(t,i);return}}var o=vo(t,n);r.push(o)}),{angle:e,stops:r,type:1}},ai=function(t,A){var e=Ze(180),r=[];return pt(A).forEach(function(n,s){if(s===0){var i=n[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){e=vp(n);return}else if(Fp(i)){e=(Fo.parse(t,i)+Ze(270))%Ze(360);return}}var o=vo(t,n);r.push(o)}),{angle:e,stops:r,type:1}},zF=function(t,A){var e=Ze(180),r=[],n=1,s=0,i=3,o=[];return pt(A).forEach(function(l,c){var u=l[0];if(c===0){if(KA(u)&&u.value==="linear"){n=1;return}else if(KA(u)&&u.value==="radial"){n=2;return}}if(u.type===18){if(u.name==="from"){var f=Jt.parse(t,u.values[0]);r.push({stop:de,color:f})}else if(u.name==="to"){var f=Jt.parse(t,u.values[0]);r.push({stop:Ot,color:f})}else if(u.name==="color-stop"){var g=u.values.filter(Uo);if(g.length===2){var f=Jt.parse(t,g[1]),B=g[0];Eo(B)&&r.push({stop:{type:16,number:B.number*100,flags:B.flags},color:f})}}}}),n===1?{angle:(e+Ze(180))%Ze(360),stops:r,type:n}:{size:i,shape:s,stops:r,position:o,type:n}},Ip="closest-side",bp="farthest-side",Tp="closest-corner",Hp="farthest-corner",Sp="circle",Rp="ellipse",Dp="cover",Lp="contain",ZF=function(t,A){var e=0,r=3,n=[],s=[];return pt(A).forEach(function(i,o){var l=!0;if(o===0){var c=!1;l=i.reduce(function(f,g){if(c)if(KA(g))switch(g.value){case"center":return s.push(Cc),f;case"top":case"left":return s.push(de),f;case"right":case"bottom":return s.push(Ot),f}else(qA(g)||rr(g))&&s.push(g);else if(KA(g))switch(g.value){case Sp:return e=0,!1;case Rp:return e=1,!1;case"at":return c=!0,!1;case Ip:return r=0,!1;case Dp:case bp:return r=1,!1;case Lp:case Tp:return r=2,!1;case Hp:return r=3,!1}else if(rr(g)||qA(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return f},l)}if(l){var u=vo(t,i);n.push(u)}}),{size:r,shape:e,stops:n,position:s,type:2}},li=function(t,A){var e=0,r=3,n=[],s=[];return pt(A).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(u,f){if(KA(f))switch(f.value){case"center":return s.push(Cc),!1;case"top":case"left":return s.push(de),!1;case"right":case"bottom":return s.push(Ot),!1}else if(qA(f)||rr(f))return s.push(f),!1;return u},l):o===1&&(l=i.reduce(function(u,f){if(KA(f))switch(f.value){case Sp:return e=0,!1;case Rp:return e=1,!1;case Lp:case Ip:return r=0,!1;case bp:return r=1,!1;case Tp:return r=2,!1;case Dp:case Hp:return r=3,!1}else if(rr(f)||qA(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},l)),l){var c=vo(t,i);n.push(c)}}),{size:r,shape:e,stops:n,position:s,type:2}},$F=function(t){return t.type===1},Av=function(t){return t.type===2},Qc={name:"image",parse:function(t,A){if(A.type===22){var e={url:A.value,type:0};return t.cache.addImage(A.value),e}if(A.type===18){var r=kp[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(t,A.values)}throw new Error("Unsupported image type "+A.type)}};function ev(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!kp[t.name])}var kp={"linear-gradient":YF,"-moz-linear-gradient":ai,"-ms-linear-gradient":ai,"-o-linear-gradient":ai,"-webkit-linear-gradient":ai,"radial-gradient":ZF,"-moz-radial-gradient":li,"-ms-radial-gradient":li,"-o-radial-gradient":li,"-webkit-radial-gradient":li,"-webkit-gradient":zF},tv={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var e=A[0];return e.type===20&&e.value==="none"?[]:A.filter(function(r){return Uo(r)&&ev(r)}).map(function(r){return Qc.parse(t,r)})}},rv={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(KA(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nv={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,A){return pt(A).map(function(e){return e.filter(qA)}).map(Qp)}},sv={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,A){return pt(A).map(function(e){return e.filter(KA).map(function(r){return r.value}).join(" ")}).map(iv)}},iv=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},An;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(An||(An={}));var ov={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,A){return pt(A).map(function(e){return e.filter(av)})}},av=function(t){return KA(t)||qA(t)},Io=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},lv=Io("top"),cv=Io("right"),uv=Io("bottom"),hv=Io("left"),bo=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(A,e){return Qp(e.filter(qA))}}},fv=bo("top-left"),dv=bo("top-right"),gv=bo("bottom-right"),Bv=bo("bottom-left"),To=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},pv=To("top"),wv=To("right"),mv=To("bottom"),Cv=To("left"),Ho=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return Es(e)?e.number:0}}},Qv=Ho("top"),yv=Ho("right"),_v=Ho("bottom"),Ev=Ho("left"),Uv={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fv={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},vv={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,A){return A.filter(KA).reduce(function(e,r){return e|Iv(r.value)},0)}},Iv=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bv={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Tv={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},Ji;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Ji||(Ji={}));var Hv={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"strict":return Ji.STRICT;case"normal":default:return Ji.NORMAL}}},Sv={name:"line-height",initialValue:"normal",prefix:!1,type:4},qf=function(t,A){return KA(t)&&t.value==="normal"?1.2*A:t.type===17?A*t.number:qA(t)?LA(t,A):A},Rv={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,A){return A.type===20&&A.value==="none"?null:Qc.parse(t,A)}},Dv={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},Lv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},So=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},kv=So("top"),Vv=So("right"),xv=So("bottom"),Mv=So("left"),Pv={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,A){return A.filter(KA).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Kv={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ro=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ov=Ro("top"),Nv=Ro("right"),Gv=Ro("bottom"),Wv=Ro("left"),jv={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Xv={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Jv={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&dl(A[0],"none")?[]:pt(A).map(function(e){for(var r={color:cs.TRANSPARENT,offsetX:de,offsetY:de,blur:de},n=0,s=0;s<e.length;s++){var i=e[s];rr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:r.blur=i,n++):r.color=Jt.parse(t,i)}return r})}},qv={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Yv={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var e=$v[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return e(A.values)}return null}},zv=function(t){var A=t.filter(function(e){return e.type===17}).map(function(e){return e.number});return A.length===6?A:null},Zv=function(t){var A=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),e=A[0],r=A[1];A[2],A[3];var n=A[4],s=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var i=A[12],o=A[13];return A[14],A[15],A.length===16?[e,r,n,s,i,o]:null},$v={matrix:zv,matrix3d:Zv},Yf={type:16,number:50,flags:_s},AI=[Yf,Yf],eI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,A){var e=A.filter(qA);return e.length!==2?AI:[e[0],e[1]]}},tI={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},zn;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(zn||(zn={}));var rI={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-all":return zn.BREAK_ALL;case"keep-all":return zn.KEEP_ALL;case"normal":default:return zn.NORMAL}}},nI={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,A){if(A.type===20)return{auto:!0,order:0};if(Eo(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},Vp={name:"time",parse:function(t,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},sI={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,A){return Eo(A)?A.number:1}},iI={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oI={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,A){return A.filter(KA).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},aI={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,A){var e=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:e.push(n.value);break;case 17:e.push(n.number.toString());break;case 4:r.push(e.join(" ")),e.length=0;break}}),e.length&&r.push(e.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},lI={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},cI={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,A){if(Eo(A))return A.number;if(KA(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},uI={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.filter(KA).map(function(e){return e.value})}},hI={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},zA=function(t,A){return(t&A)!==0},fI={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,A){return A.filter(Es).map(function(e){return Vp.parse(t,e)})}},dI={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&dl(A[0],"none")?[]:pt(A).map(function(e){for(var r={color:255,offsetX:de,offsetY:de,blur:de,spread:de,inset:!1},n=0,s=0;s<e.length;s++){var i=e[s];dl(i,"inset")?r.inset=!0:rr(i)?(n===0?r.offsetX=i:n===1?r.offsetY=i:n===2?r.blur=i:r.spread=i,n++):r.color=Jt.parse(t,i)}return r})}},gI={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,A){var e=[0,1,2],r=[];return A.filter(KA).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),e.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},BI={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pI={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,A){return Es(A)?A.number:0}},wI=function(){function t(A,e){var r,n;this.animationDuration=AA(A,fI,e.animationDuration),this.backgroundClip=AA(A,WF,e.backgroundClip),this.backgroundColor=AA(A,jF,e.backgroundColor),this.backgroundImage=AA(A,tv,e.backgroundImage),this.backgroundOrigin=AA(A,rv,e.backgroundOrigin),this.backgroundPosition=AA(A,nv,e.backgroundPosition),this.backgroundRepeat=AA(A,sv,e.backgroundRepeat),this.backgroundSize=AA(A,ov,e.backgroundSize),this.borderTopColor=AA(A,lv,e.borderTopColor),this.borderRightColor=AA(A,cv,e.borderRightColor),this.borderBottomColor=AA(A,uv,e.borderBottomColor),this.borderLeftColor=AA(A,hv,e.borderLeftColor),this.borderTopLeftRadius=AA(A,fv,e.borderTopLeftRadius),this.borderTopRightRadius=AA(A,dv,e.borderTopRightRadius),this.borderBottomRightRadius=AA(A,gv,e.borderBottomRightRadius),this.borderBottomLeftRadius=AA(A,Bv,e.borderBottomLeftRadius),this.borderTopStyle=AA(A,pv,e.borderTopStyle),this.borderRightStyle=AA(A,wv,e.borderRightStyle),this.borderBottomStyle=AA(A,mv,e.borderBottomStyle),this.borderLeftStyle=AA(A,Cv,e.borderLeftStyle),this.borderTopWidth=AA(A,Qv,e.borderTopWidth),this.borderRightWidth=AA(A,yv,e.borderRightWidth),this.borderBottomWidth=AA(A,_v,e.borderBottomWidth),this.borderLeftWidth=AA(A,Ev,e.borderLeftWidth),this.boxShadow=AA(A,dI,e.boxShadow),this.color=AA(A,Uv,e.color),this.direction=AA(A,Fv,e.direction),this.display=AA(A,vv,e.display),this.float=AA(A,bv,e.cssFloat),this.fontFamily=AA(A,aI,e.fontFamily),this.fontSize=AA(A,lI,e.fontSize),this.fontStyle=AA(A,hI,e.fontStyle),this.fontVariant=AA(A,uI,e.fontVariant),this.fontWeight=AA(A,cI,e.fontWeight),this.letterSpacing=AA(A,Tv,e.letterSpacing),this.lineBreak=AA(A,Hv,e.lineBreak),this.lineHeight=AA(A,Sv,e.lineHeight),this.listStyleImage=AA(A,Rv,e.listStyleImage),this.listStylePosition=AA(A,Dv,e.listStylePosition),this.listStyleType=AA(A,Lv,e.listStyleType),this.marginTop=AA(A,kv,e.marginTop),this.marginRight=AA(A,Vv,e.marginRight),this.marginBottom=AA(A,xv,e.marginBottom),this.marginLeft=AA(A,Mv,e.marginLeft),this.opacity=AA(A,sI,e.opacity);var s=AA(A,Pv,e.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=AA(A,Kv,e.overflowWrap),this.paddingTop=AA(A,Ov,e.paddingTop),this.paddingRight=AA(A,Nv,e.paddingRight),this.paddingBottom=AA(A,Gv,e.paddingBottom),this.paddingLeft=AA(A,Wv,e.paddingLeft),this.paintOrder=AA(A,gI,e.paintOrder),this.position=AA(A,Xv,e.position),this.textAlign=AA(A,jv,e.textAlign),this.textDecorationColor=AA(A,iI,(r=e.textDecorationColor)!==null&&r!==void 0?r:e.color),this.textDecorationLine=AA(A,oI,(n=e.textDecorationLine)!==null&&n!==void 0?n:e.textDecoration),this.textShadow=AA(A,Jv,e.textShadow),this.textTransform=AA(A,qv,e.textTransform),this.transform=AA(A,Yv,e.transform),this.transformOrigin=AA(A,eI,e.transformOrigin),this.visibility=AA(A,tI,e.visibility),this.webkitTextStrokeColor=AA(A,BI,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=AA(A,pI,e.webkitTextStrokeWidth),this.wordBreak=AA(A,rI,e.wordBreak),this.zIndex=AA(A,nI,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return $r(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return zA(this.display,4)||zA(this.display,33554432)||zA(this.display,268435456)||zA(this.display,536870912)||zA(this.display,67108864)||zA(this.display,134217728)},t}(),AA=function(t,A,e){var r=new mp,n=e!==null&&typeof e<"u"?e.toString():A.initialValue;r.write(n);var s=new Cp(r.read());switch(A.type){case 2:var i=s.parseComponentValue();return A.parse(t,KA(i)?i.value:A.initialValue);case 0:return A.parse(t,s.parseComponentValue());case 1:return A.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(A.format){case"angle":return Fo.parse(t,s.parseComponentValue());case"color":return Jt.parse(t,s.parseComponentValue());case"image":return Qc.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return rr(o)?o:de;case"length-percentage":var l=s.parseComponentValue();return qA(l)?l:de;case"time":return Vp.parse(t,s.parseComponentValue())}break}},mI="data-html2canvas-debug",CI=function(t){var A=t.getAttribute(mI);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},zf=function(t,A){var e=CI(t);return e===1||A===e},wt=function(){function t(A,e){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,zf(e,3))debugger;this.styles=new wI(A,window.getComputedStyle(e,null)),Cb(e)&&(this.styles.animationDuration.some(function(r){return r>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=wc(this.context,e),zf(e,4)&&(this.flags|=16)}return t}(),QI="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ci=0;ci<Zf.length;ci++)Nn[Zf.charCodeAt(ci)]=ci;var yI=function(t){var A=t.length*.75,e=t.length,r,n=0,s,i,o,l;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)s=Nn[t.charCodeAt(r)],i=Nn[t.charCodeAt(r+1)],o=Nn[t.charCodeAt(r+2)],l=Nn[t.charCodeAt(r+3)],u[n++]=s<<2|i>>4,u[n++]=(i&15)<<4|o>>2,u[n++]=(o&3)<<6|l&63;return c},_I=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},EI=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},Qr=5,yc=11,wa=2,UI=yc-Qr,xp=65536>>Qr,FI=1<<Qr,ma=FI-1,vI=1024>>Qr,II=xp+vI,bI=II,TI=32,HI=bI+TI,SI=65536>>yc,RI=1<<UI,DI=RI-1,$f=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},LI=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},kI=function(t,A){var e=yI(t),r=Array.isArray(e)?EI(e):new Uint32Array(e),n=Array.isArray(e)?_I(e):new Uint16Array(e),s=24,i=$f(n,s/2,r[4]/2),o=r[5]===2?$f(n,(s+r[4])/2):LI(r,Math.ceil((s+r[4])/4));return new VI(r[0],r[1],r[2],r[3],i,o)},VI=function(){function t(A,e,r,n,s,i){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=i}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>Qr],e=(e<<wa)+(A&ma),this.data[e];if(A<=65535)return e=this.index[xp+(A-55296>>Qr)],e=(e<<wa)+(A&ma),this.data[e];if(A<this.highStart)return e=HI-SI+(A>>yc),e=this.index[e],e+=A>>Qr&DI,e=this.index[e],e=(e<<wa)+(A&ma),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ui=0;ui<Ad.length;ui++)xI[Ad.charCodeAt(ui)]=ui;var MI=1,Ca=2,Qa=3,ed=4,td=5,PI=7,rd=8,ya=9,_a=10,nd=11,sd=12,id=13,od=14,Ea=15,KI=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var s=t.charCodeAt(e++);(s&64512)===56320?A.push(((n&1023)<<10)+(s&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},OI=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,s="";++n<e;){var i=t[n];i<=65535?r.push(i):(i-=65536,r.push((i>>10)+55296,i%1024+56320)),(n+1===e||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},NI=kI(QI),qe="×",Ua="÷",GI=function(t){return NI.get(t)},WI=function(t,A,e){var r=e-2,n=A[r],s=A[e-1],i=A[e];if(s===Ca&&i===Qa)return qe;if(s===Ca||s===Qa||s===ed||i===Ca||i===Qa||i===ed)return Ua;if(s===rd&&[rd,ya,nd,sd].indexOf(i)!==-1||(s===nd||s===ya)&&(i===ya||i===_a)||(s===sd||s===_a)&&i===_a||i===id||i===td||i===PI||s===MI)return qe;if(s===id&&i===od){for(;n===td;)n=A[--r];if(n===od)return qe}if(s===Ea&&i===Ea){for(var o=0;n===Ea;)o++,n=A[--r];if(o%2===0)return qe}return Ua},jI=function(t){var A=KI(t),e=A.length,r=0,n=0,s=A.map(GI);return{next:function(){if(r>=e)return{done:!0,value:null};for(var i=qe;r<e&&(i=WI(A,s,++r))===qe;);if(i!==qe||r===e){var o=OI.apply(null,A.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},XI=function(t){for(var A=jI(t),e=[],r;!(r=A.next()).done;)r.value&&e.push(r.value.slice());return e},JI=function(t){var A=123;if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=A+"px",r.style.display="block",t.body.appendChild(r),e.selectNode(r);var n=e.getBoundingClientRect(),s=Math.round(n.height);if(t.body.removeChild(r),s===A)return!0}}return!1},qI=function(t){var A=t.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",t.body.appendChild(A);var e=t.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=_o(r.data).map(function(l){return WA(l)}),s=0,i={},o=n.every(function(l,c){e.setStart(r,s),e.setEnd(r,s+l.length);var u=e.getBoundingClientRect();s+=l.length;var f=u.x>i.x||u.y>i.y;return i=u,c===0?!0:f});return t.body.removeChild(A),o},YI=function(){return typeof new Image().crossOrigin<"u"},zI=function(){return typeof new XMLHttpRequest().responseType=="string"},ZI=function(t){var A=new Image,e=t.createElement("canvas"),r=e.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),e.toDataURL()}catch{return!1}return!0},ad=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},$I=function(t){var A=t.createElement("canvas"),e=100;A.width=e,A.height=e;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,e,e);var n=new Image,s=A.toDataURL();n.src=s;var i=gl(e,e,0,0,n);return r.fillStyle="red",r.fillRect(0,0,e,e),ld(i).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,e,e).data;r.fillStyle="red",r.fillRect(0,0,e,e);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=e+"px",ad(l)?ld(gl(e,e,0,0,c)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),ad(r.getImageData(0,0,e,e).data)}).catch(function(){return!1})},gl=function(t,A,e,r,n){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(n),i},ld=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){return A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Me={get SUPPORT_RANGE_BOUNDS(){var t=JI(document);return Object.defineProperty(Me,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Me.SUPPORT_RANGE_BOUNDS&&qI(document);return Object.defineProperty(Me,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=ZI(document);return Object.defineProperty(Me,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?$I(document):Promise.resolve(!1);return Object.defineProperty(Me,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=YI();return Object.defineProperty(Me,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=zI();return Object.defineProperty(Me,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Me,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Me,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Zn=function(){function t(A,e){this.text=A,this.bounds=e}return t}(),Ab=function(t,A,e,r){var n=rb(A,e),s=[],i=0;return n.forEach(function(o){if(e.textDecorationLine.length||o.trim().length>0)if(Me.SUPPORT_RANGE_BOUNDS){var l=cd(r,i,o.length).getClientRects();if(l.length>1){var c=_c(o),u=0;c.forEach(function(g){s.push(new Zn(g,Fr.fromDOMRectList(t,cd(r,u+i,g.length).getClientRects()))),u+=g.length})}else s.push(new Zn(o,Fr.fromDOMRectList(t,l)))}else{var f=r.splitText(o.length);s.push(new Zn(o,eb(t,r))),r=f}else Me.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));i+=o.length}),s},eb=function(t,A){var e=A.ownerDocument;if(e){var r=e.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var s=wc(t,r);return r.firstChild&&n.replaceChild(r.firstChild,r),s}}return Fr.EMPTY},cd=function(t,A,e){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(t,A),n.setEnd(t,A+e),n},_c=function(t){if(Me.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(t)).map(function(e){return e.segment})}return XI(t)},tb=function(t,A){if(Me.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return sb(t,A)},rb=function(t,A){return A.letterSpacing!==0?_c(t):tb(t,A)},nb=[32,160,4961,65792,65793,4153,4241],sb=function(t,A){for(var e=VU(t,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,s=function(){if(n.value){var i=n.value.slice(),o=_o(i),l="";o.forEach(function(c){nb.indexOf(c)===-1?l+=WA(c):(l.length&&r.push(l),r.push(WA(c)),l="")}),l.length&&r.push(l)}};!(n=e.next()).done;)s();return r},ib=function(){function t(A,e,r){this.text=ob(e.data,r.textTransform),this.textBounds=Ab(A,this.text,r,e)}return t}(),ob=function(t,A){switch(A){case 1:return t.toLowerCase();case 3:return t.replace(ab,lb);case 2:return t.toUpperCase();default:return t}},ab=/(^|\s|:|-|\(|\))([a-z])/g,lb=function(t,A,e){return t.length>0?A+e.toUpperCase():t},Mp=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(wt),Pp=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(wt),Kp=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=new XMLSerializer,i=wc(e,r);return r.setAttribute("width",i.width+"px"),r.setAttribute("height",i.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(wt),Op=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(wt),Bl=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(wt),cb=[{type:15,flags:0,unit:"px",number:3}],ub=[{type:16,flags:0,number:50}],hb=function(t){return t.width>t.height?new Fr(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Fr(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},fb=function(t){var A=t.type===db?new Array(t.value.length+1).join("•"):t.value;return A.length===0?t.placeholder||"":A},qi="checkbox",Yi="radio",db="password",ud=707406591,Ec=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=fb(r),(n.type===qi||n.type===Yi)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=hb(n.bounds)),n.type){case qi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=cb;break;case Yi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=ub;break}return n}return A}(wt),Np=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this,s=r.options[r.selectedIndex||0];return n.value=s&&s.text||"",n}return A}(wt),Gp=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(wt),Wp=function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=Bb(e,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?jf(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):cs.TRANSPARENT,i=r.contentWindow.document.body?jf(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):cs.TRANSPARENT;n.backgroundColor=$r(s)?$r(i)?n.styles.backgroundColor:i:s}}catch{}return n}return A}(wt),gb=["OL","UL","MENU"],vi=function(t,A,e,r){for(var n=A.firstChild,s=void 0;n;n=s)if(s=n.nextSibling,mb(n)&&n.data.trim().length>0)e.textNodes.push(new ib(t,n,e.styles));else if(Xp(n))if(bb(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return vi(t,o,e,r)});else{var i=jp(t,n);i.styles.isVisible()&&(pb(n,i,r)?i.flags|=4:wb(i.styles)&&(i.flags|=2),gb.indexOf(n.tagName)!==-1&&(i.flags|=8),e.elements.push(i),n.slot,n.shadowRoot?vi(t,n.shadowRoot,i,r):!qp(n)&&!Jp(n)&&!Yp(n)&&vi(t,n,i,r))}},jp=function(t,A){return vb(A)?new Mp(t,A):Fb(A)?new Pp(t,A):Jp(A)?new Kp(t,A):yb(A)?new Op(t,A):_b(A)?new Bl(t,A):Eb(A)?new Ec(t,A):Yp(A)?new Np(t,A):qp(A)?new Gp(t,A):Ib(A)?new Wp(t,A):new wt(t,A)},Bb=function(t,A){var e=jp(t,A);return e.flags|=4,vi(t,A,e,e),e},pb=function(t,A,e){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Ub(t)&&e.styles.isTransparent()},wb=function(t){return t.isPositioned()||t.isFloating()},mb=function(t){return t.nodeType===Node.TEXT_NODE},Xp=function(t){return t.nodeType===Node.ELEMENT_NODE},Cb=function(t){return Xp(t)&&typeof t.style<"u"&&!Qb(t)},Qb=function(t){return typeof t.className=="object"},yb=function(t){return t.tagName==="LI"},_b=function(t){return t.tagName==="OL"},Eb=function(t){return t.tagName==="INPUT"},Jp=function(t){return t.tagName==="svg"},Ub=function(t){return t.tagName==="BODY"},Fb=function(t){return t.tagName==="CANVAS"},vb=function(t){return t.tagName==="IMG"},Ib=function(t){return t.tagName==="IFRAME"},qp=function(t){return t.tagName==="TEXTAREA"},Yp=function(t){return t.tagName==="SELECT"},bb=function(t){return t.tagName==="SLOT"},hd={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},fd={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Tb={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Hb={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Kr=function(t,A,e,r,n,s){return t<A||t>e?Uc(t,n,s.length>0):r.integers.reduce(function(i,o,l){for(;t>=o;)t-=o,i+=r.values[l];return i},"")+s},zp=function(t,A,e,r){var n="";do e||t--,n=r(t)+n,t/=A;while(t*A>=A);return n},GA=function(t,A,e,r,n){var s=e-A+1;return(t<0?"-":"")+(zp(Math.abs(t),s,r,function(i){return WA(Math.floor(i%s)+A)})+n)},hr=function(t,A,e){e===void 0&&(e=". ");var r=A.length;return zp(Math.abs(t),r,!1,function(n){return A[Math.floor(n%r)]})+e},qr=1,kt=2,Vt=4,Gn=8,yt=function(t,A,e,r,n,s){if(t<-9999||t>9999)return Uc(t,4,n.length>0);var i=Math.abs(t),o=n;if(i===0)return A[0]+o;for(var l=0;i>0&&l<=4;l++){var c=i%10;c===0&&zA(s,qr)&&o!==""?o=A[c]+o:c>1||c===1&&l===0||c===1&&l===1&&zA(s,kt)||c===1&&l===1&&zA(s,Vt)&&t>100||c===1&&l>1&&zA(s,Gn)?o=A[c]+(l>0?e[l-1]:"")+o:c===1&&l>0&&(o=e[l-1]+o),i=Math.floor(i/10)}return(t<0?r:"")+o},dd="十百千萬",gd="拾佰仟萬",Bd="マイナス",Fa="마이너스",Uc=function(t,A,e){var r=e?". ":"",n=e?"、":"",s=e?", ":"",i=e?" ":"";switch(A){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var o=GA(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return hr(t,"〇一二三四五六七八九",n);case 6:return Kr(t,1,3999,hd,3,r).toLowerCase();case 7:return Kr(t,1,3999,hd,3,r);case 8:return GA(t,945,969,!1,r);case 9:return GA(t,97,122,!1,r);case 10:return GA(t,65,90,!1,r);case 11:return GA(t,1632,1641,!0,r);case 12:case 49:return Kr(t,1,9999,fd,3,r);case 35:return Kr(t,1,9999,fd,3,r).toLowerCase();case 13:return GA(t,2534,2543,!0,r);case 14:case 30:return GA(t,6112,6121,!0,r);case 15:return hr(t,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return hr(t,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return yt(t,"零一二三四五六七八九",dd,"負",n,kt|Vt|Gn);case 47:return yt(t,"零壹貳參肆伍陸柒捌玖",gd,"負",n,qr|kt|Vt|Gn);case 42:return yt(t,"零一二三四五六七八九",dd,"负",n,kt|Vt|Gn);case 41:return yt(t,"零壹贰叁肆伍陆柒捌玖",gd,"负",n,qr|kt|Vt|Gn);case 26:return yt(t,"〇一二三四五六七八九","十百千万",Bd,n,0);case 25:return yt(t,"零壱弐参四伍六七八九","拾百千万",Bd,n,qr|kt|Vt);case 31:return yt(t,"영일이삼사오육칠팔구","십백천만",Fa,s,qr|kt|Vt);case 33:return yt(t,"零一二三四五六七八九","十百千萬",Fa,s,0);case 32:return yt(t,"零壹貳參四五六七八九","拾百千",Fa,s,qr|kt|Vt);case 18:return GA(t,2406,2415,!0,r);case 20:return Kr(t,1,19999,Hb,3,r);case 21:return GA(t,2790,2799,!0,r);case 22:return GA(t,2662,2671,!0,r);case 22:return Kr(t,1,10999,Tb,3,r);case 23:return hr(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return hr(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return GA(t,3302,3311,!0,r);case 28:return hr(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return hr(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return GA(t,3792,3801,!0,r);case 37:return GA(t,6160,6169,!0,r);case 38:return GA(t,4160,4169,!0,r);case 39:return GA(t,2918,2927,!0,r);case 40:return GA(t,1776,1785,!0,r);case 43:return GA(t,3046,3055,!0,r);case 44:return GA(t,3174,3183,!0,r);case 45:return GA(t,3664,3673,!0,r);case 46:return GA(t,3872,3881,!0,r);case 3:default:return GA(t,48,57,!0,r)}},pd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(pd||(pd={}));var Sb=function(){function t(){}return t.getOrigin=function(A){var e=t._link;return e?(e.href=A,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},t.isSameOrigin=function(A){return t.getOrigin(A)===t._origin},t.setContext=function(A){t._link=A.document.createElement("a"),t._origin=t.getOrigin(A.location.href)},t._origin="about:blank",t}(),Z=function(){function t(A,e){this.type=0,this.x=A,this.y=e}return t.prototype.add=function(A,e){return new t(this.x+A,this.y+e)},t}(),Or=function(t,A,e){return new Z(t.x+(A.x-t.x)*e,t.y+(A.y-t.y)*e)},hi=function(){function t(A,e,r,n){this.type=1,this.start=A,this.startControl=e,this.endControl=r,this.end=n}return t.prototype.subdivide=function(A,e){var r=Or(this.start,this.startControl,A),n=Or(this.startControl,this.endControl,A),s=Or(this.endControl,this.end,A),i=Or(r,n,A),o=Or(n,s,A),l=Or(i,o,A);return e?new t(this.start,r,i,l):new t(l,o,s,this.end)},t.prototype.add=function(A,e){return new t(this.start.add(A,e),this.startControl.add(A,e),this.endControl.add(A,e),this.end.add(A,e))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ze=function(t){return t.type===1},Rb=function(){function t(A){var e=A.styles,r=A.bounds,n=On(e.borderTopLeftRadius,r.width,r.height),s=n[0],i=n[1],o=On(e.borderTopRightRadius,r.width,r.height),l=o[0],c=o[1],u=On(e.borderBottomRightRadius,r.width,r.height),f=u[0],g=u[1],B=On(e.borderBottomLeftRadius,r.width,r.height),m=B[0],Q=B[1],F=[];F.push((s+l)/r.width),F.push((m+f)/r.width),F.push((i+Q)/r.height),F.push((c+g)/r.height);var T=Math.max.apply(Math,F);T>1&&(s/=T,i/=T,l/=T,c/=T,f/=T,g/=T,m/=T,Q/=T);var S=r.width-l,k=r.height-g,D=r.width-f,K=r.height-Q,x=e.borderTopWidth,E=e.borderRightWidth,C=e.borderBottomWidth,y=e.borderLeftWidth,v=LA(e.paddingTop,A.bounds.width),U=LA(e.paddingRight,A.bounds.width),b=LA(e.paddingBottom,A.bounds.width),p=LA(e.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?VA(r.left+y/3,r.top+x/3,s-y/3,i-x/3,HA.TOP_LEFT):new Z(r.left+y/3,r.top+x/3),this.topRightBorderDoubleOuterBox=s>0||i>0?VA(r.left+S,r.top+x/3,l-E/3,c-x/3,HA.TOP_RIGHT):new Z(r.left+r.width-E/3,r.top+x/3),this.bottomRightBorderDoubleOuterBox=f>0||g>0?VA(r.left+D,r.top+k,f-E/3,g-C/3,HA.BOTTOM_RIGHT):new Z(r.left+r.width-E/3,r.top+r.height-C/3),this.bottomLeftBorderDoubleOuterBox=m>0||Q>0?VA(r.left+y/3,r.top+K,m-y/3,Q-C/3,HA.BOTTOM_LEFT):new Z(r.left+y/3,r.top+r.height-C/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?VA(r.left+y*2/3,r.top+x*2/3,s-y*2/3,i-x*2/3,HA.TOP_LEFT):new Z(r.left+y*2/3,r.top+x*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?VA(r.left+S,r.top+x*2/3,l-E*2/3,c-x*2/3,HA.TOP_RIGHT):new Z(r.left+r.width-E*2/3,r.top+x*2/3),this.bottomRightBorderDoubleInnerBox=f>0||g>0?VA(r.left+D,r.top+k,f-E*2/3,g-C*2/3,HA.BOTTOM_RIGHT):new Z(r.left+r.width-E*2/3,r.top+r.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||Q>0?VA(r.left+y*2/3,r.top+K,m-y*2/3,Q-C*2/3,HA.BOTTOM_LEFT):new Z(r.left+y*2/3,r.top+r.height-C*2/3),this.topLeftBorderStroke=s>0||i>0?VA(r.left+y/2,r.top+x/2,s-y/2,i-x/2,HA.TOP_LEFT):new Z(r.left+y/2,r.top+x/2),this.topRightBorderStroke=s>0||i>0?VA(r.left+S,r.top+x/2,l-E/2,c-x/2,HA.TOP_RIGHT):new Z(r.left+r.width-E/2,r.top+x/2),this.bottomRightBorderStroke=f>0||g>0?VA(r.left+D,r.top+k,f-E/2,g-C/2,HA.BOTTOM_RIGHT):new Z(r.left+r.width-E/2,r.top+r.height-C/2),this.bottomLeftBorderStroke=m>0||Q>0?VA(r.left+y/2,r.top+K,m-y/2,Q-C/2,HA.BOTTOM_LEFT):new Z(r.left+y/2,r.top+r.height-C/2),this.topLeftBorderBox=s>0||i>0?VA(r.left,r.top,s,i,HA.TOP_LEFT):new Z(r.left,r.top),this.topRightBorderBox=l>0||c>0?VA(r.left+S,r.top,l,c,HA.TOP_RIGHT):new Z(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||g>0?VA(r.left+D,r.top+k,f,g,HA.BOTTOM_RIGHT):new Z(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||Q>0?VA(r.left,r.top+K,m,Q,HA.BOTTOM_LEFT):new Z(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||i>0?VA(r.left+y,r.top+x,Math.max(0,s-y),Math.max(0,i-x),HA.TOP_LEFT):new Z(r.left+y,r.top+x),this.topRightPaddingBox=l>0||c>0?VA(r.left+Math.min(S,r.width-E),r.top+x,S>r.width+E?0:Math.max(0,l-E),Math.max(0,c-x),HA.TOP_RIGHT):new Z(r.left+r.width-E,r.top+x),this.bottomRightPaddingBox=f>0||g>0?VA(r.left+Math.min(D,r.width-y),r.top+Math.min(k,r.height-C),Math.max(0,f-E),Math.max(0,g-C),HA.BOTTOM_RIGHT):new Z(r.left+r.width-E,r.top+r.height-C),this.bottomLeftPaddingBox=m>0||Q>0?VA(r.left+y,r.top+Math.min(K,r.height-C),Math.max(0,m-y),Math.max(0,Q-C),HA.BOTTOM_LEFT):new Z(r.left+y,r.top+r.height-C),this.topLeftContentBox=s>0||i>0?VA(r.left+y+p,r.top+x+v,Math.max(0,s-(y+p)),Math.max(0,i-(x+v)),HA.TOP_LEFT):new Z(r.left+y+p,r.top+x+v),this.topRightContentBox=l>0||c>0?VA(r.left+Math.min(S,r.width+y+p),r.top+x+v,S>r.width+y+p?0:l-y+p,c-(x+v),HA.TOP_RIGHT):new Z(r.left+r.width-(E+U),r.top+x+v),this.bottomRightContentBox=f>0||g>0?VA(r.left+Math.min(D,r.width-(y+p)),r.top+Math.min(k,r.height+x+v),Math.max(0,f-(E+U)),g-(C+b),HA.BOTTOM_RIGHT):new Z(r.left+r.width-(E+U),r.top+r.height-(C+b)),this.bottomLeftContentBox=m>0||Q>0?VA(r.left+y+p,r.top+K,Math.max(0,m-(y+p)),Q-(C+b),HA.BOTTOM_LEFT):new Z(r.left+y+p,r.top+r.height-(C+b))}return t}(),HA;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(HA||(HA={}));var VA=function(t,A,e,r,n){var s=4*((Math.sqrt(2)-1)/3),i=e*s,o=r*s,l=t+e,c=A+r;switch(n){case HA.TOP_LEFT:return new hi(new Z(t,c),new Z(t,c-o),new Z(l-i,A),new Z(l,A));case HA.TOP_RIGHT:return new hi(new Z(t,A),new Z(t+i,A),new Z(l,c-o),new Z(l,c));case HA.BOTTOM_RIGHT:return new hi(new Z(l,A),new Z(l,A+o),new Z(t+i,c),new Z(t,c));case HA.BOTTOM_LEFT:default:return new hi(new Z(l,c),new Z(l-i,c),new Z(t,A+o),new Z(t,A))}},zi=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Db=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Zi=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Lb=function(){function t(A,e,r){this.offsetX=A,this.offsetY=e,this.matrix=r,this.type=0,this.target=6}return t}(),fi=function(){function t(A,e){this.path=A,this.target=e,this.type=1}return t}(),kb=function(){function t(A){this.opacity=A,this.type=2,this.target=6}return t}(),Vb=function(t){return t.type===0},Zp=function(t){return t.type===1},xb=function(t){return t.type===2},wd=function(t,A){return t.length===A.length?t.some(function(e,r){return e===A[r]}):!1},Mb=function(t,A,e,r,n){return t.map(function(s,i){switch(i){case 0:return s.add(A,e);case 1:return s.add(A+r,e);case 2:return s.add(A+r,e+n);case 3:return s.add(A,e+n)}return s})},$p=function(){function t(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Aw=function(){function t(A,e){if(this.container=A,this.parent=e,this.effects=[],this.curves=new Rb(this.container),this.container.styles.opacity<1&&this.effects.push(new kb(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Lb(r,n,s))}if(this.container.styles.overflowX!==0){var i=zi(this.curves),o=Zi(this.curves);wd(i,o)?this.effects.push(new fi(i,6)):(this.effects.push(new fi(i,2)),this.effects.push(new fi(o,4)))}}return t.prototype.getEffects=function(A){for(var e=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!Zp(l)});if(e||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,s),e=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var i=zi(r.curves),o=Zi(r.curves);wd(i,o)||n.unshift(new fi(o,6))}}else n.unshift.apply(n,s);r=r.parent}return n.filter(function(l){return zA(l.target,A)})},t}(),pl=function(t,A,e,r){t.container.elements.forEach(function(n){var s=zA(n.flags,4),i=zA(n.flags,2),o=new Aw(n,t);zA(n.styles.display,2048)&&r.push(o);var l=zA(n.flags,8)?[]:r;if(s||i){var c=s||n.styles.isPositioned()?e:A,u=new $p(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var g=0;c.negativeZIndex.some(function(m,Q){return f>m.element.container.styles.zIndex.order?(g=Q,!1):g>0}),c.negativeZIndex.splice(g,0,u)}else if(f>0){var B=0;c.positiveZIndex.some(function(m,Q){return f>=m.element.container.styles.zIndex.order?(B=Q+1,!1):B>0}),c.positiveZIndex.splice(B,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);pl(o,u,s?u:e,l)}else n.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),pl(o,A,e,l);zA(n.flags,8)&&ew(n,l)})},ew=function(t,A){for(var e=t instanceof Bl?t.start:1,r=t instanceof Bl?t.reversed:!1,n=0;n<A.length;n++){var s=A[n];s.container instanceof Op&&typeof s.container.value=="number"&&s.container.value!==0&&(e=s.container.value),s.listValue=Uc(e,s.container.styles.listStyleType,!0),e+=r?-1:1}},Pb=function(t){var A=new Aw(t,null),e=new $p(A),r=[];return pl(A,e,e,r),ew(A.container,r),e},md=function(t,A){switch(A){case 0:return $e(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return $e(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return $e(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return $e(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Kb=function(t,A){switch(A){case 0:return $e(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return $e(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return $e(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return $e(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Ob=function(t,A){switch(A){case 0:return $e(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return $e(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return $e(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return $e(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Nb=function(t,A){switch(A){case 0:return di(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return di(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return di(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return di(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},di=function(t,A){var e=[];return ze(t)?e.push(t.subdivide(.5,!1)):e.push(t),ze(A)?e.push(A.subdivide(.5,!0)):e.push(A),e},$e=function(t,A,e,r){var n=[];return ze(t)?n.push(t.subdivide(.5,!1)):n.push(t),ze(e)?n.push(e.subdivide(.5,!0)):n.push(e),ze(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),ze(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},tw=function(t){var A=t.bounds,e=t.styles;return A.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},$i=function(t){var A=t.styles,e=t.bounds,r=LA(A.paddingLeft,e.width),n=LA(A.paddingRight,e.width),s=LA(A.paddingTop,e.width),i=LA(A.paddingBottom,e.width);return e.add(r+A.borderLeftWidth,s+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+s+i))},Gb=function(t,A){return t===0?A.bounds:t===2?$i(A):tw(A)},Wb=function(t,A){return t===0?A.bounds:t===2?$i(A):tw(A)},va=function(t,A,e){var r=Gb(Yr(t.styles.backgroundOrigin,A),t),n=Wb(Yr(t.styles.backgroundClip,A),t),s=jb(Yr(t.styles.backgroundSize,A),e,r),i=s[0],o=s[1],l=On(Yr(t.styles.backgroundPosition,A),r.width-i,r.height-o),c=Xb(Yr(t.styles.backgroundRepeat,A),l,s,r,n),u=Math.round(r.left+l[0]),f=Math.round(r.top+l[1]);return[c,u,f,i,o]},Nr=function(t){return KA(t)&&t.value===An.AUTO},gi=function(t){return typeof t=="number"},jb=function(t,A,e){var r=A[0],n=A[1],s=A[2],i=t[0],o=t[1];if(!i)return[0,0];if(qA(i)&&o&&qA(o))return[LA(i,e.width),LA(o,e.height)];var l=gi(s);if(KA(i)&&(i.value===An.CONTAIN||i.value===An.COVER)){if(gi(s)){var c=e.width/e.height;return c<s!=(i.value===An.COVER)?[e.width,e.width/s]:[e.height*s,e.height]}return[e.width,e.height]}var u=gi(r),f=gi(n),g=u||f;if(Nr(i)&&(!o||Nr(o))){if(u&&f)return[r,n];if(!l&&!g)return[e.width,e.height];if(g&&l){var B=u?r:n*s,m=f?n:r/s;return[B,m]}var Q=u?r:e.width,F=f?n:e.height;return[Q,F]}if(l){var T=0,S=0;return qA(i)?T=LA(i,e.width):qA(o)&&(S=LA(o,e.height)),Nr(i)?T=S*s:(!o||Nr(o))&&(S=T/s),[T,S]}var k=null,D=null;if(qA(i)?k=LA(i,e.width):o&&qA(o)&&(D=LA(o,e.height)),k!==null&&(!o||Nr(o))&&(D=u&&f?k/r*n:e.height),D!==null&&Nr(i)&&(k=u&&f?D/n*r:e.width),k!==null&&D!==null)return[k,D];throw new Error("Unable to calculate background-size for element")},Yr=function(t,A){var e=t[A];return typeof e>"u"?t[0]:e},Xb=function(t,A,e,r,n){var s=A[0],i=A[1],o=e[0],l=e[1];switch(t){case 2:return[new Z(Math.round(r.left),Math.round(r.top+i)),new Z(Math.round(r.left+r.width),Math.round(r.top+i)),new Z(Math.round(r.left+r.width),Math.round(l+r.top+i)),new Z(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new Z(Math.round(r.left+s),Math.round(r.top)),new Z(Math.round(r.left+s+o),Math.round(r.top)),new Z(Math.round(r.left+s+o),Math.round(r.height+r.top)),new Z(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Z(Math.round(r.left+s),Math.round(r.top+i)),new Z(Math.round(r.left+s+o),Math.round(r.top+i)),new Z(Math.round(r.left+s+o),Math.round(r.top+i+l)),new Z(Math.round(r.left+s),Math.round(r.top+i+l))];default:return[new Z(Math.round(n.left),Math.round(n.top)),new Z(Math.round(n.left+n.width),Math.round(n.top)),new Z(Math.round(n.left+n.width),Math.round(n.height+n.top)),new Z(Math.round(n.left),Math.round(n.height+n.top))]}},Jb="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Cd="Hidden Text",qb=function(){function t(A){this._data={},this._document=A}return t.prototype.parseMetrics=function(A,e){var r=this._document.createElement("div"),n=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",i.appendChild(r),n.src=Jb,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",s.style.fontFamily=A,s.style.fontSize=e,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Cd)),r.appendChild(s),r.appendChild(n);var o=n.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(Cd)),r.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-r.offsetTop+2;return i.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(A,e){var r=A+" "+e;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,e)),this._data[r]},t}(),rw=function(){function t(A,e){this.context=A,this.options=e}return t}(),Yb=1e4;(function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new qb(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(e){for(var r=this;this._activeEffects.length;)this.popEffect();e.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(e){this.ctx.save(),xb(e)&&(this.ctx.globalAlpha=e.opacity),Vb(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Zp(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(e){return Je(this,void 0,void 0,function(){var r;return Ve(this,function(n){switch(n.label){case 0:return r=e.element.container.styles,r.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(e){return Je(this,void 0,void 0,function(){return Ve(this,function(r){switch(r.label){case 0:if(zA(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(e,r,n){var s=this;if(r===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var i=_c(e.text);i.reduce(function(o,l){return s.ctx.fillText(l,o,e.bounds.top+n),o+s.ctx.measureText(l).width},e.bounds.left)}},A.prototype.createFontStyle=function(e){var r=e.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),n=e1(e.fontFamily).join(", "),s=Es(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,r,e.fontWeight,s,n].join(" "),n,s]},A.prototype.renderTextNode=function(e,r){return Je(this,void 0,void 0,function(){var n,s,i,o,l,c,u,f,g=this;return Ve(this,function(B){return n=this.createFontStyle(r),s=n[0],i=n[1],o=n[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),c=l.baseline,u=l.middle,f=r.paintOrder,e.textBounds.forEach(function(m){f.forEach(function(Q){switch(Q){case 0:g.ctx.fillStyle=se(r.color),g.renderTextWithLetterSpacing(m,r.letterSpacing,c);var F=r.textShadow;F.length&&m.text.trim().length&&(F.slice(0).reverse().forEach(function(T){g.ctx.shadowColor=se(T.color),g.ctx.shadowOffsetX=T.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=T.offsetY.number*g.options.scale,g.ctx.shadowBlur=T.blur.number,g.renderTextWithLetterSpacing(m,r.letterSpacing,c)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=se(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(T){switch(T){case 1:g.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:g.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:g.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(g.ctx.strokeStyle=se(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(e,r,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var s=$i(e),i=Zi(r);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(e){return Je(this,void 0,void 0,function(){var r,n,s,i,o,l,S,S,c,u,f,g,D,B,m,K,Q,F,T,S,k,D,K;return Ve(this,function(x){switch(x.label){case 0:this.applyEffects(e.getEffects(4)),r=e.container,n=e.curves,s=r.styles,i=0,o=r.textNodes,x.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,s)]):[3,4];case 2:x.sent(),x.label=3;case 3:return i++,[3,1];case 4:if(!(r instanceof Mp))return[3,8];x.label=5;case 5:return x.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return S=x.sent(),this.renderReplacedElement(r,n,S),[3,8];case 7:return x.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Pp&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof Kp))return[3,12];x.label=9;case 9:return x.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return S=x.sent(),this.renderReplacedElement(r,n,S),[3,12];case 11:return x.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Wp&&r.tree?(c=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=x.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),x.label=14;case 14:if(r instanceof Ec&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===qi?r.checked&&(this.ctx.save(),this.path([new Z(r.bounds.left+f*.39363,r.bounds.top+f*.79),new Z(r.bounds.left+f*.16,r.bounds.top+f*.5549),new Z(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new Z(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new Z(r.bounds.left+f*.72983,r.bounds.top+f*.23),new Z(r.bounds.left+f*.84,r.bounds.top+f*.34085),new Z(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=se(ud),this.ctx.fill(),this.ctx.restore()):r.type===Yi&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=se(ud),this.ctx.fill(),this.ctx.restore())),zb(r)&&r.value.length){switch(g=this.createFontStyle(s),D=g[0],B=g[1],m=this.fontMetrics.getMetrics(D,B).baseline,this.ctx.font=D,this.ctx.fillStyle=se(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=$b(r.styles.textAlign),K=$i(r),Q=0,r.styles.textAlign){case 1:Q+=K.width/2;break;case 2:Q+=K.width;break}F=K.add(Q,0,0,-K.height/2+1),this.ctx.save(),this.path([new Z(K.left,K.top),new Z(K.left+K.width,K.top),new Z(K.left+K.width,K.top+K.height),new Z(K.left,K.top+K.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Zn(r.value,F),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!zA(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(T=r.styles.listStyleImage,T.type!==0)return[3,18];S=void 0,k=T.url,x.label=15;case 15:return x.trys.push([15,17,,18]),[4,this.context.cache.match(k)];case 16:return S=x.sent(),this.ctx.drawImage(S,r.bounds.left-(S.width+10),r.bounds.top),[3,18];case 17:return x.sent(),this.context.logger.error("Error loading list-style-image "+k),[3,18];case 18:return[3,20];case 19:e.listValue&&r.styles.listStyleType!==-1&&(D=this.createFontStyle(s)[0],this.ctx.font=D,this.ctx.fillStyle=se(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",K=new Fr(r.bounds.left,r.bounds.top+LA(r.styles.paddingTop,r.bounds.width),r.bounds.width,qf(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Zn(e.listValue,K),s.letterSpacing,qf(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),x.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(e){return Je(this,void 0,void 0,function(){var r,n,T,s,i,T,o,l,T,c,u,T,f,g,T,B,m,T,Q,F,T;return Ve(this,function(S){switch(S.label){case 0:if(zA(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:S.sent(),r=0,n=e.negativeZIndex,S.label=2;case 2:return r<n.length?(T=n[r],[4,this.renderStack(T)]):[3,5];case 3:S.sent(),S.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:S.sent(),s=0,i=e.nonInlineLevel,S.label=7;case 7:return s<i.length?(T=i[s],[4,this.renderNode(T)]):[3,10];case 8:S.sent(),S.label=9;case 9:return s++,[3,7];case 10:o=0,l=e.nonPositionedFloats,S.label=11;case 11:return o<l.length?(T=l[o],[4,this.renderStack(T)]):[3,14];case 12:S.sent(),S.label=13;case 13:return o++,[3,11];case 14:c=0,u=e.nonPositionedInlineLevel,S.label=15;case 15:return c<u.length?(T=u[c],[4,this.renderStack(T)]):[3,18];case 16:S.sent(),S.label=17;case 17:return c++,[3,15];case 18:f=0,g=e.inlineLevel,S.label=19;case 19:return f<g.length?(T=g[f],[4,this.renderNode(T)]):[3,22];case 20:S.sent(),S.label=21;case 21:return f++,[3,19];case 22:B=0,m=e.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return B<m.length?(T=m[B],[4,this.renderStack(T)]):[3,26];case 24:S.sent(),S.label=25;case 25:return B++,[3,23];case 26:Q=0,F=e.positiveZIndex,S.label=27;case 27:return Q<F.length?(T=F[Q],[4,this.renderStack(T)]):[3,30];case 28:S.sent(),S.label=29;case 29:return Q++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},A.prototype.formatPath=function(e){var r=this;e.forEach(function(n,s){var i=ze(n)?n.start:n;s===0?r.ctx.moveTo(i.x,i.y):r.ctx.lineTo(i.x,i.y),ze(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(e,r,n,s){this.path(e),this.ctx.fillStyle=r,this.ctx.translate(n,s),this.ctx.fill(),this.ctx.translate(-n,-s)},A.prototype.resizeImage=function(e,r,n){var s;if(e.width===r&&e.height===n)return e;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,n);var l=o.getContext("2d");return l.drawImage(e,0,0,e.width,e.height,0,0,r,n),o},A.prototype.renderBackgroundImage=function(e){return Je(this,void 0,void 0,function(){var r,n,s,i,o,l;return Ve(this,function(c){switch(c.label){case 0:r=e.styles.backgroundImage.length-1,n=function(u){var f,g,B,v,IA,hA,p,P,C,m,v,IA,hA,p,P,Q,F,T,S,k,D,K,x,E,C,y,v,U,b,p,P,rA,IA,hA,TA,Be,V,H,z,J,uA,iA;return Ve(this,function(nA){switch(nA.label){case 0:if(u.type!==0)return[3,5];f=void 0,g=u.url,nA.label=1;case 1:return nA.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return f=nA.sent(),[3,4];case 3:return nA.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return f&&(B=va(e,r,[f.width,f.height,f.width/f.height]),v=B[0],IA=B[1],hA=B[2],p=B[3],P=B[4],C=s.ctx.createPattern(s.resizeImage(f,p,P),"repeat"),s.renderRepeat(v,C,IA,hA)),[3,6];case 5:$F(u)?(m=va(e,r,[null,null,null]),v=m[0],IA=m[1],hA=m[2],p=m[3],P=m[4],Q=JF(u.angle,p,P),F=Q[0],T=Q[1],S=Q[2],k=Q[3],D=Q[4],K=document.createElement("canvas"),K.width=p,K.height=P,x=K.getContext("2d"),E=x.createLinearGradient(T,k,S,D),Xf(u.stops,F).forEach(function(j){return E.addColorStop(j.stop,se(j.color))}),x.fillStyle=E,x.fillRect(0,0,p,P),p>0&&P>0&&(C=s.ctx.createPattern(K,"repeat"),s.renderRepeat(v,C,IA,hA))):Av(u)&&(y=va(e,r,[null,null,null]),v=y[0],U=y[1],b=y[2],p=y[3],P=y[4],rA=u.position.length===0?[Cc]:u.position,IA=LA(rA[0],p),hA=LA(rA[rA.length-1],P),TA=qF(u,IA,hA,p,P),Be=TA[0],V=TA[1],Be>0&&V>0&&(H=s.ctx.createRadialGradient(U+IA,b+hA,0,U+IA,b+hA,Be),Xf(u.stops,Be*2).forEach(function(j){return H.addColorStop(j.stop,se(j.color))}),s.path(v),s.ctx.fillStyle=H,Be!==V?(z=e.bounds.left+.5*e.bounds.width,J=e.bounds.top+.5*e.bounds.height,uA=V/Be,iA=1/uA,s.ctx.save(),s.ctx.translate(z,J),s.ctx.transform(1,0,0,uA,0,0),s.ctx.translate(-z,-J),s.ctx.fillRect(U,iA*(b-J)+J,p,P*iA),s.ctx.restore()):s.ctx.fill())),nA.label=6;case 6:return r--,[2]}})},s=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<o.length?(l=o[i],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(e,r,n){return Je(this,void 0,void 0,function(){return Ve(this,function(s){return this.path(md(n,r)),this.ctx.fillStyle=se(e),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(e,r,n,s){return Je(this,void 0,void 0,function(){var i,o;return Ve(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return l.sent(),[2];case 2:return i=Kb(s,n),this.path(i),this.ctx.fillStyle=se(e),this.ctx.fill(),o=Ob(s,n),this.path(o),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(e){return Je(this,void 0,void 0,function(){var r,n,s,i,o,l,c,u,f=this;return Ve(this,function(g){switch(g.label){case 0:return this.applyEffects(e.getEffects(2)),r=e.container.styles,n=!$r(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],i=Zb(Yr(r.backgroundClip,0),e.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),$r(r.backgroundColor)||(this.ctx.fillStyle=se(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(B){f.ctx.save();var m=zi(e.curves),Q=B.inset?0:Yb,F=Mb(m,-Q+(B.inset?1:-1)*B.spread.number,(B.inset?1:-1)*B.spread.number,B.spread.number*(B.inset?-2:2),B.spread.number*(B.inset?-2:2));B.inset?(f.path(m),f.ctx.clip(),f.mask(F)):(f.mask(m),f.ctx.clip(),f.path(F)),f.ctx.shadowOffsetX=B.offsetX.number+Q,f.ctx.shadowOffsetY=B.offsetY.number,f.ctx.shadowColor=se(B.color),f.ctx.shadowBlur=B.blur.number,f.ctx.fillStyle=B.inset?se(B.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),g.label=2;case 2:o=0,l=0,c=s,g.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!$r(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,3)];case 6:return g.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,e.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,e.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(e,r,n,s,i){return Je(this,void 0,void 0,function(){var o,l,c,u,f,g,B,m,Q,F,T,S,k,D,K,x,K,x;return Ve(this,function(E){return this.ctx.save(),o=Nb(s,n),l=md(s,n),i===2&&(this.path(l),this.ctx.clip()),ze(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),ze(l[1])?(f=l[1].end.x,g=l[1].end.y):(f=l[1].x,g=l[1].y),n===0||n===2?B=Math.abs(c-f):B=Math.abs(u-g),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),m=r<3?r*3:r*2,Q=r<3?r*2:r,i===3&&(m=r,Q=r),F=!0,B<=m*2?F=!1:B<=m*2+Q?(T=B/(2*m+Q),m*=T,Q*=T):(S=Math.floor((B+Q)/(m+Q)),k=(B-S*m)/(S-1),D=(B-(S+1)*m)/S,Q=D<=0||Math.abs(Q-k)<Math.abs(Q-D)?k:D),F&&(i===3?this.ctx.setLineDash([0,m+Q]):this.ctx.setLineDash([m,Q])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=se(e),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(ze(l[0])&&(K=l[3],x=l[0],this.ctx.beginPath(),this.formatPath([new Z(K.end.x,K.end.y),new Z(x.start.x,x.start.y)]),this.ctx.stroke()),ze(l[1])&&(K=l[1],x=l[2],this.ctx.beginPath(),this.formatPath([new Z(K.end.x,K.end.y),new Z(x.start.x,x.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(e){return Je(this,void 0,void 0,function(){var r;return Ve(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=se(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Pb(e),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A})(rw);var zb=function(t){return t instanceof Gp||t instanceof Np?!0:t instanceof Ec&&t.type!==Yi&&t.type!==qi},Zb=function(t,A){switch(t){case 0:return zi(A);case 2:return Db(A);case 1:default:return Zi(A)}},$b=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},A1=["-apple-system","system-ui"],e1=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(A){return A1.indexOf(A)===-1}):t};(function(t){st(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(e){return Je(this,void 0,void 0,function(){var r,n;return Ve(this,function(s){switch(s.label){case 0:return r=gl(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,t1(r)];case 1:return n=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=se(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A})(rw);var t1=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window<"u"&&Sb.setContext(window);function Qd(t,A,e){const r=t.slice();return r[24]=A[e],r[26]=e,r}function yd(t,A,e){const r=t.slice();return r[27]=A[e],r}function _d(t,A,e){const r=t.slice();return r[30]=A[e],r[26]=e,r}function Ed(t,A,e){const r=t.slice();return r[32]=A[e],r}function r1(t){let A,e=RA(t[1]),r=[];for(let n=0;n<e.length;n+=1)r[n]=Rd(Qd(t,e,n));return{c(){A=R("div");for(let n=0;n<r.length;n+=1)r[n].c();_(A,"class","flex flex-col gap-4")},m(n,s){W(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&970){e=RA(n[1]);let i;for(i=0;i<e.length;i+=1){const o=Qd(n,e,i);r[i]?r[i].p(o,s):(r[i]=Rd(o),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&G(A),Re(r,n)}}}function n1(t){let A;return{c(){A=R("div"),A.innerHTML='<span class="text-accent">Loading drawings...</span>',_(A,"class","flex justify-center items-center h-40")},m(e,r){W(e,A,r)},p:tA,d(e){e&&G(A)}}}function Ud(t){var EA;let A,e,r,n,s,i,o,l=(((EA=t[24].likes)==null?void 0:EA.length)||0)+"",c,u,f,g,B,m,Q,F,T,S,k,D,K=t[24].artist+"",x,E,C,y,v,U,b,p,P=RA(Array(t[24].coins)),rA=[];for(let oA=0;oA<P.length;oA+=1)rA[oA]=Fd(Ed(t,P,oA));function IA(oA,fA){return fA[0]&2&&(s=null),s==null&&(s=!!oA[8](oA[24])),s?i1:s1}let hA=IA(t,[-1,-1]),TA=hA(t);function Be(){return t[13](t[24])}function V(){return t[14](t[26])}function H(oA,fA){return oA[24].guessed?a1:o1}let z=H(t),J=z(t);function uA(oA,fA){return oA[24].guesses&&oA[24].guesses.length>0?c1:l1}let iA=uA(t),nA=iA(t),j=t[24].hintPurchased&&bd(t),X=t[24].guessed&&Td(t);return{c(){A=R("div"),e=R("div");for(let oA=0;oA<rA.length;oA+=1)rA[oA].c();r=Y(),n=R("div"),TA.c(),i=Y(),o=R("span"),c=lA(l),u=Y(),f=R("div"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',g=Y(),B=R("div"),B.textContent="Copied!",m=Y(),Q=R("img"),T=Y(),S=R("p"),J.c(),k=lA(`
							by
							`),D=R("span"),x=lA(K),E=Y(),C=R("p"),nA.c(),y=Y(),j&&j.c(),v=Y(),X&&X.c(),U=Y(),_(e,"class","flex flex-row gap-1 absolute top-2 right-2"),_(o,"class","text-sm font-semibold"),_(n,"class","absolute top-2 left-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-20"),_(f,"class","absolute top-10 right-2 flex items-center gap-1 cursor-pointer bg-white/80 rounded-full p-1 z-10"),_(f,"title","Copy screenshot to clipboard"),_(B,"id",`feedback-drawing-card-${t[26]}`),_(B,"class","absolute top-12 right-2 bg-green-500 text-white p-1 rounded text-xs hidden z-30"),Se(Q.src,F=`${t[24].data}`)||_(Q,"src",F),_(Q,"class","w-full h-full object-contain"),_(Q,"alt","Drawing"),_(D,"class","font-semibold"),_(S,"class","text-lg text-center py-2 align-middle items-center"),_(C,"class","text-[0.8rem] text-center align-middle items-center w-3/4"),_(A,"id",`drawing-card-${t[26]}`),_(A,"class","bg-white/90 p-1 relative rounded-lg w-full max-w-[min(90vw,400px)] flex flex-col items-center justify-center mx-auto border-2 border-primary")},m(oA,fA){W(oA,A,fA),I(A,e);for(let CA=0;CA<rA.length;CA+=1)rA[CA]&&rA[CA].m(e,null);I(A,r),I(A,n),TA.m(n,null),I(n,i),I(n,o),I(o,c),I(A,u),I(A,f),I(A,g),I(A,B),I(A,m),I(A,Q),I(A,T),I(A,S),J.m(S,null),I(S,k),I(S,D),I(D,x),I(A,E),I(A,C),nA.m(C,null),I(A,y),j&&j.m(A,null),I(A,v),X&&X.m(A,null),I(A,U),b||(p=[BA(n,"click",mu(Be)),BA(f,"click",mu(V))],b=!0)},p(oA,fA){var CA;if(t=oA,fA[0]&2){P=RA(Array(t[24].coins));let QA;for(QA=0;QA<P.length;QA+=1){const pA=Ed(t,P,QA);rA[QA]?rA[QA].p(pA,fA):(rA[QA]=Fd(),rA[QA].c(),rA[QA].m(e,null))}for(;QA<rA.length;QA+=1)rA[QA].d(1);rA.length=P.length}hA!==(hA=IA(t,fA))&&(TA.d(1),TA=hA(t),TA&&(TA.c(),TA.m(n,i))),fA[0]&2&&l!==(l=(((CA=t[24].likes)==null?void 0:CA.length)||0)+"")&&vA(c,l),fA[0]&2&&!Se(Q.src,F=`${t[24].data}`)&&_(Q,"src",F),z===(z=H(t))&&J?J.p(t,fA):(J.d(1),J=z(t),J&&(J.c(),J.m(S,k))),fA[0]&2&&K!==(K=t[24].artist+"")&&vA(x,K),iA===(iA=uA(t))&&nA?nA.p(t,fA):(nA.d(1),nA=iA(t),nA&&(nA.c(),nA.m(C,null))),t[24].hintPurchased?j?j.p(t,fA):(j=bd(t),j.c(),j.m(A,v)):j&&(j.d(1),j=null),t[24].guessed?X?X.p(t,fA):(X=Td(t),X.c(),X.m(A,U)):X&&(X.d(1),X=null)},d(oA){oA&&G(A),Re(rA,oA),TA.d(),J.d(),nA.d(),j&&j.d(),X&&X.d(),b=!1,Ee(p)}}}function Fd(t){let A,e;return{c(){A=R("img"),Se(A.src,e=Tr)||_(A,"src",e),_(A,"class","w-4 h-4"),_(A,"alt","Coin")},m(r,n){W(r,A,n)},p:tA,d(r){r&&G(A)}}}function s1(t){let A,e;return{c(){A=Ye("svg"),e=Ye("path"),_(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"width","20"),_(A,"height","20"),_(A,"viewBox","0 0 24 24"),_(A,"fill","none"),_(A,"stroke","currentColor"),_(A,"stroke-width","2"),_(A,"stroke-linecap","round"),_(A,"stroke-linejoin","round")},m(r,n){W(r,A,n),I(A,e)},d(r){r&&G(A)}}}function i1(t){let A,e;return{c(){A=Ye("svg"),e=Ye("path"),_(e,"d","M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"),_(A,"xmlns","http://www.w3.org/2000/svg"),_(A,"width","20"),_(A,"height","20"),_(A,"viewBox","0 0 24 24"),_(A,"fill","#ff6b6b"),_(A,"stroke","#ff6b6b"),_(A,"stroke-width","2"),_(A,"stroke-linecap","round"),_(A,"stroke-linejoin","round")},m(r,n){W(r,A,n),I(A,e)},d(r){r&&G(A)}}}function o1(t){let A;return{c(){A=R("span"),A.textContent="?",_(A,"class","font-bold text-primary")},m(e,r){W(e,A,r)},p:tA,d(e){e&&G(A)}}}function a1(t){let A,e=t[24].secretWord+"",r;return{c(){A=R("span"),r=lA(e),_(A,"class","font-bold text-primary")},m(n,s){W(n,A,s),I(A,r)},p(n,s){s[0]&2&&e!==(e=n[24].secretWord+"")&&vA(r,e)},d(n){n&&G(A)}}}function l1(t){let A,e,r=t[24].guessedBy+"",n,s;return{c(){A=R("span"),e=R("span"),n=lA(r),s=lA(`
									is thinking...`),_(e,"class","font-semibold"),_(A,"class","italic")},m(i,o){W(i,A,o),I(A,e),I(e,n),I(A,s)},p(i,o){o[0]&2&&r!==(r=i[24].guessedBy+"")&&vA(n,r)},d(i){i&&G(A)}}}function c1(t){let A,e=t[24].guessedBy+"",r,n,s,i,o=!t[24].guessed&&vd(),l=RA(t[24].guesses),c=[];for(let u=0;u<l.length;u+=1)c[u]=Id(_d(t,l,u));return{c(){A=R("span"),r=lA(e),n=Y(),o&&o.c(),s=lA(`
								guessed:
								`);for(let u=0;u<c.length;u+=1)c[u].c();i=tt(),_(A,"class","font-semibold")},m(u,f){W(u,A,f),I(A,r),W(u,n,f),o&&o.m(u,f),W(u,s,f);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(u,f);W(u,i,f)},p(u,f){if(f[0]&2&&e!==(e=u[24].guessedBy+"")&&vA(r,e),u[24].guessed?o&&(o.d(1),o=null):o||(o=vd(),o.c(),o.m(s.parentNode,s)),f[0]&2){l=RA(u[24].guesses);let g;for(g=0;g<l.length;g+=1){const B=_d(u,l,g);c[g]?c[g].p(B,f):(c[g]=Id(B),c[g].c(),c[g].m(i.parentNode,i))}for(;g<c.length;g+=1)c[g].d(1);c.length=l.length}},d(u){u&&(G(A),G(n),G(s),G(i)),o&&o.d(u),Re(c,u)}}}function vd(t){let A;return{c(){A=lA("has")},m(e,r){W(e,A,r)},d(e){e&&G(A)}}}function Id(t){let A,e=t[30]+"",r,n=t[26]<t[24].guesses.length-1?", ":"",s;return{c(){A=R("span"),r=lA(e),s=lA(n),_(A,"class","italic")},m(i,o){W(i,A,o),I(A,r),I(A,s)},p(i,o){o[0]&2&&e!==(e=i[30]+"")&&vA(r,e),o[0]&2&&n!==(n=i[26]<i[24].guesses.length-1?", ":"")&&vA(s,n)},d(i){i&&G(A)}}}function bd(t){let A,e=t[24].hintPurchased?`${t[24].guessedBy} used a Hint`:"",r,n=t[24].superHintPurchased?"... AND a SuperHint!":"",s;return{c(){A=R("p"),r=lA(e),s=lA(n),_(A,"class","text-[0.8rem] text-secondary flex flex-row py-2 text-center align-middle items-center")},m(i,o){W(i,A,o),I(A,r),I(A,s)},p(i,o){o[0]&2&&e!==(e=i[24].hintPurchased?`${i[24].guessedBy} used a Hint`:"")&&vA(r,e),o[0]&2&&n!==(n=i[24].superHintPurchased?"... AND a SuperHint!":"")&&vA(s,n)},d(i){i&&G(A)}}}function Td(t){let A,e,r,n,s,i,o,l,c,u;function f(...m){return t[16](t[24],...m)}function g(){return t[17](t[24])}let B=t[24].comments&&t[24].comments.length>0&&Hd(t);return{c(){A=R("div"),e=R("div"),r=R("input"),n=Y(),s=R("button"),i=lA("Comment"),l=Y(),B&&B.c(),_(r,"type","text"),_(r,"placeholder","Add a comment"),_(r,"class","input input-bordered bg-white input-sm text-black w-full"),_(s,"class","btn btn-secondary btn-sm"),s.disabled=o=t[3].trim()==="",_(e,"class","flex flex-row gap-2 items-center"),_(A,"class","flex flex-col gap-2 pt-4 pb-1 w-full px-2")},m(m,Q){W(m,A,Q),I(A,e),I(e,r),ft(r,t[3]),I(e,n),I(e,s),I(s,i),I(A,l),B&&B.m(A,null),c||(u=[BA(r,"input",t[15]),BA(r,"keydown",f),BA(s,"click",g)],c=!0)},p(m,Q){t=m,Q[0]&8&&r.value!==t[3]&&ft(r,t[3]),Q[0]&8&&o!==(o=t[3].trim()==="")&&(s.disabled=o),t[24].comments&&t[24].comments.length>0?B?B.p(t,Q):(B=Hd(t),B.c(),B.m(A,null)):B&&(B.d(1),B=null)},d(m){m&&G(A),B&&B.d(),c=!1,Ee(u)}}}function Hd(t){let A,e=RA(t[24].comments),r=[];for(let n=0;n<e.length;n+=1)r[n]=Sd(yd(t,e,n));return{c(){A=R("div");for(let n=0;n<r.length;n+=1)r[n].c();_(A,"class","flex flex-col gap-1 mt-2 pb-2")},m(n,s){W(n,A,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(A,null)},p(n,s){if(s[0]&2){e=RA(n[24].comments);let i;for(i=0;i<e.length;i+=1){const o=yd(n,e,i);r[i]?r[i].p(o,s):(r[i]=Sd(o),r[i].c(),r[i].m(A,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&G(A),Re(r,n)}}}function Sd(t){let A,e,r=t[27].createdBy+"",n,s,i,o=t[27].content+"",l,c;return{c(){A=R("p"),e=R("span"),n=lA(r),s=lA(":"),i=Y(),l=lA(o),c=Y(),_(e,"class","font-semibold"),_(A,"class","text-[0.8rem] text-left")},m(u,f){W(u,A,f),I(A,e),I(e,n),I(e,s),I(A,i),I(A,l),I(A,c)},p(u,f){f[0]&2&&r!==(r=u[27].createdBy+"")&&vA(n,r),f[0]&2&&o!==(o=u[27].content+"")&&vA(l,o)},d(u){u&&G(A)}}}function Rd(t){let A,e=t[24].data&&t[24].data.length>10&&Ud(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,n){r[24].data&&r[24].data.length>10?e?e.p(r,n):(e=Ud(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},d(r){r&&G(A),e&&e.d(r)}}}function Dd(t){let A,e,r,n,s,i,o,l,c,u,f,g,B,m,Q,F;return{c(){A=R("div"),e=R("div"),r=R("h3"),r.textContent="Share Drawing",n=Y(),s=R("div"),i=R("img"),l=Y(),c=R("div"),u=R("button"),u.textContent="Download",f=Y(),g=R("button"),g.textContent="Share",B=Y(),m=R("button"),m.textContent="Cancel",_(r,"class","text-xl font-bold text-primary mb-4 text-center"),Se(i.src,o=URL.createObjectURL(t[4]))||_(i,"src",o),_(i,"alt","Drawing screenshot"),_(i,"class","w-full h-auto"),_(s,"class","mb-4 border border-gray-200 rounded-lg overflow-hidden"),_(u,"class","btn btn-primary"),_(g,"class","btn btn-secondary"),_(c,"class","grid grid-cols-2 gap-3 mb-4"),_(m,"class","w-full btn btn-outline btn-sm"),_(e,"class","bg-white rounded-lg p-6 max-w-sm w-full mx-4"),_(A,"class","fixed inset-0 bg-black/70 flex items-center justify-center z-50")},m(T,S){W(T,A,S),I(A,e),I(e,r),I(e,n),I(e,s),I(s,i),I(e,l),I(e,c),I(c,u),I(c,f),I(c,g),I(e,B),I(e,m),Q||(F=[BA(u,"click",t[10]),BA(g,"click",t[11]),BA(m,"click",t[12])],Q=!0)},p(T,S){S[0]&16&&!Se(i.src,o=URL.createObjectURL(T[4]))&&_(i,"src",o)},d(T){T&&G(A),Q=!1,Ee(F)}}}function u1(t){let A,e,r,n,s;e=new yo({props:{navigate:t[0]}});function i(u,f){return u[2]?n1:r1}let o=i(t),l=o(t),c=t[5]&&t[4]&&Dd(t);return{c(){A=R("div"),le(e.$$.fragment),r=Y(),l.c(),n=Y(),c&&c.c(),_(A,"class","p-4")},m(u,f){W(u,A,f),re(e,A,null),I(A,r),l.m(A,null),I(A,n),c&&c.m(A,null),s=!0},p(u,f){const g={};f[0]&1&&(g.navigate=u[0]),e.$set(g),o===(o=i(u))&&l?l.p(u,f):(l.d(1),l=o(u),l&&(l.c(),l.m(A,n))),u[5]&&u[4]?c?c.p(u,f):(c=Dd(u),c.c(),c.m(A,null)):c&&(c.d(1),c=null)},i(u){s||(eA(e.$$.fragment,u),s=!0)},o(u){aA(e.$$.fragment,u),s=!1},d(u){u&&G(A),ne(e),l.d(),c&&c.d()}}}function Ia(t){return new Promise((A,e)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>A(r),r.onerror=n=>e(n),r.src=t})}function h1(t,A,e,r,n,s){const i=A.split(" ");let o="",l=0;for(let c=0;c<i.length;c++){const u=o+i[c]+" ";t.measureText(u).width>n&&c>0?(t.fillText(o,e,r+l*s),o=i[c]+" ",l++):o=u}return t.fillText(o,e,r+l*s),l+1}function f1(t,A,e){let r;oe(t,ae,U=>e(21,r=U));let n=[],s=!0,i="",o=[];const l=xB();let c=!1,u=null,f=!1,g="",{navigate:B}=A;hs(async()=>{console.log("Feed mounted");try{e(1,n=await nE()),console.log("Drawings loaded",n),m()}catch(U){console.error("Error loading drawings:",U)}finally{e(2,s=!1)}}),Dw(()=>{o.forEach(U=>U())});function m(){o.forEach(b=>b()),o=[];const U=new Set(n.map(b=>b.gameId).filter(Boolean));console.log("Setting up subscriptions for game IDs:",[...U]),U.forEach(b=>{if(!b)return;const p=Tt(ms(l,"games"),b),P=W_(p,rA=>{if(rA.exists()){const IA=rA.data();console.log(`Game data updated for ${b}:`,IA),e(1,n=n.map(hA=>hA.gameId===b&&hA.index!==void 0?(console.log(`Updating drawing ${hA.index} for game ${b}`),{...IA.drawings[hA.index],gameId:b,index:hA.index,guessedBy:hA.guessedBy}):hA))}},rA=>{console.error(`Error in game subscription for ${b}:`,rA)});o.push(P)})}async function Q(U,b){if(i.trim()==="")return;const p=r;if(p)try{const P=i.trim();z_(U,b,P,p.name),e(3,i="")}catch(P){console.error("Error adding comment:",P)}}async function F(U,b){const p=r;if(p)try{await tE(U,b,p.name)}catch(P){console.error("Error liking drawing:",P)}else alert("No user logged in")}function T(U){const b=r;return!b||!U.likes?!1:U.likes.includes(b.name)}async function S(U){var b;if(!c)try{c=!0;const p=n[U];if(!p||!p.data){c=!1;return}e(5,f=!1);const[P,rA,IA]=await Promise.all([Ia(p.data),Ia(sp),Ia(Tr)]),hA=20,TA=4,Be="#a78bfa",V="#ffffff",H=120,z="#000000",J="#6419e6",uA="#d926a9",iA="#000000",nA=25,j=document.createElement("canvas"),X=j.getContext("2d");if(!X){c=!1;return}const EA=Math.min(P.width,600),oA=P.height*(EA/P.width);j.width=EA+hA*2+TA*2,j.height=oA+hA*2+TA*2+150+nA,X.fillStyle=V,X.fillRect(0,0,j.width,j.height),X.strokeStyle=Be,X.lineWidth=TA,X.strokeRect(hA/2,hA/2,j.width-hA,j.height-hA-nA);const fA=hA+TA,CA=hA+TA+30;if(X.drawImage(P,fA,CA,EA,oA),p.coins)for(let NA=0;NA<p.coins;NA++)X.drawImage(IA,j.width-hA-TA-(NA+1)*32,hA+TA+10,28,28);X.fillStyle=iA,X.font="bold 24px Outfit, sans-serif";const QA=`👍 ${((b=p.likes)==null?void 0:b.length)||0}`;X.fillText(QA,hA+TA+10,hA+TA+32);const pA=CA+oA+50;X.textAlign="center",X.font="bold 30px Outfit, sans-serif";const OA=p.guessed?p.secretWord:"?";X.fillStyle=J;const ce=` by ${p.artist}`,pe=X.measureText(OA).width,ve=X.measureText(ce).width,Le=pe+ve;let YA=30;Le>j.width-100&&(YA=Math.floor(YA*(j.width-100)/Le),X.font=`bold ${YA}px Outfit, sans-serif`),X.fillText(OA,j.width/2-ve/2,pA),X.fillStyle=z,X.font=`${YA}px Outfit, sans-serif`,X.fillText(ce,j.width/2+pe/2,pA),X.font="16px Outfit, sans-serif",X.fillStyle=z;let Ht="";p.guesses&&p.guesses.length>0?Ht=`${p.guessedBy} ${p.guessed?"":"has "}guessed: ${p.guesses.join(", ")}`:Ht=`${p.guessedBy} is thinking...`;const dn=j.width-80;if(h1(X,Ht,j.width/2,pA+30,dn,25),p.hintPurchased){X.fillStyle=uA,X.font="18px Outfit, sans-serif";const ot=`${p.guessedBy} used a Hint${p.superHintPurchased?"... AND a SuperHint!":""}`;X.fillText(ot,j.width/2,pA+50)}const it=rA.height/rA.width*H;X.fillStyle="white",X.fillRect(j.width-H-15,j.height-it-15,H,it),X.drawImage(rA,j.width-H-15,j.height-it-15,H,it),X.font="16px Outfit, sans-serif",X.fillStyle="rgba(0,0,0,0.6)",X.textAlign="center",X.fillText("drawit.jsph.cx",j.width/2,j.height-15);const St=new Date().toISOString().replace(/[:.]/g,"-");g=`drawit-${p.artist}-${St}.png`,j.toBlob(ot=>{if(!ot){c=!1;return}e(4,u=ot),e(5,f=!0),c=!1},"image/png",1)}catch(p){console.error("Screenshot capture failed:",p),c=!1}}function k(){if(!u)return;const U=document.createElement("a");U.href=URL.createObjectURL(u),U.download=g,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(U.href),e(5,f=!1)}async function D(){if(u){try{const b=[new File([u],g,{type:"image/png"})];if(navigator.canShare&&navigator.canShare({files:b}))console.log("Web Share Level 2 is supported!"),await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!",files:b}),console.log("File shared successfully");else if(console.log("File sharing not supported, falling back to basic share"),navigator.share){await navigator.share({title:"DrawIt Drawing",text:"Check out this drawing from DrawIt!"});const p=URL.createObjectURL(u);window.open(p,"_blank"),setTimeout(()=>URL.revokeObjectURL(p),5e3)}else{const p=URL.createObjectURL(u);window.open(p,"_blank"),setTimeout(()=>URL.revokeObjectURL(p),5e3)}}catch(U){console.warn("Share failed:",U);const b=URL.createObjectURL(u);window.open(b,"_blank"),setTimeout(()=>URL.revokeObjectURL(b),5e3)}e(5,f=!1)}}function K(){e(5,f=!1),e(4,u=null)}const x=U=>{console.log("Drawing object:",U),console.log("gameId:",U.gameId,"index:",U.index),U.gameId&&U.index!==void 0?F(U.gameId,U.index):alert("Error: gameId or index is missing")},E=U=>S(U);function C(){i=this.value,e(3,i)}const y=(U,b)=>{b.key==="Enter"&&Q(U.gameId??"",U.index??0)},v=U=>Q(U.gameId??"",U.index??0);return t.$$set=U=>{"navigate"in U&&e(0,B=U.navigate)},[B,n,s,i,u,f,Q,F,T,S,k,D,K,x,E,C,y,v]}class d1 extends Xe{constructor(A){super(),je(this,A,f1,u1,De,{navigate:0},null,[-1,-1])}}function Ld(t){var K;let A,e,r,n,s,i,o,l,c=(((K=t[2])==null?void 0:K.coins)||0)+"",u,f,g,B,m,Q,F,T;function S(x,E){return x[3]?B1:g1}let k=S(t),D=k(t);return{c(){A=R("nav"),e=R("div"),r=R("button"),n=R("div"),s=R("img"),o=Y(),l=R("span"),u=lA(c),f=Y(),g=R("span"),g.textContent="coins",B=Y(),D.c(),m=Y(),Q=R("div"),Se(s.src,i=el)||_(s,"src",i),_(s,"class","w-5 h-5"),_(s,"alt","coins"),_(l,"class","text-sm font-medium"),_(n,"class","flex items-center gap-1"),_(g,"class","text-xs text-gray-500"),_(r,"class","flex flex-col items-center"),_(e,"class","flex justify-around items-center max-w-md mx-auto"),_(A,"class","fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2"),_(Q,"class","h-20")},m(x,E){W(x,A,E),I(A,e),I(e,r),I(r,n),I(n,s),I(n,o),I(n,l),I(l,u),I(r,f),I(r,g),I(e,B),D.m(e,null),W(x,m,E),W(x,Q,E),F||(T=BA(r,"click",t[6]),F=!0)},p(x,E){var C;E&4&&c!==(c=(((C=x[2])==null?void 0:C.coins)||0)+"")&&vA(u,c),k===(k=S(x))&&D?D.p(x,E):(D.d(1),D=k(x),D&&(D.c(),D.m(e,null)))},d(x){x&&(G(A),G(m),G(Q)),D.d(),F=!1,T()}}}function g1(t){let A,e,r,n,s,i,o,l,c,u,f,g,B,m,Q,F,T,S,k,D,K,x,E,C,y,v,U,b;return{c(){A=R("button"),e=Ye("svg"),r=Ye("path"),s=Y(),i=R("span"),o=lA("Home"),c=Y(),u=R("button"),f=Ye("svg"),g=Ye("path"),m=Y(),Q=R("span"),F=lA("New"),S=Y(),k=R("button"),D=Ye("svg"),K=Ye("path"),E=Y(),C=R("span"),y=lA("Feed"),_(r,"stroke-linecap","round"),_(r,"stroke-linejoin","round"),_(r,"stroke-width","2"),_(r,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class",n="h-6 w-6 "+(t[0]==="home"?"text-primary":"text-gray-400")),_(e,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"stroke","currentColor"),_(i,"class",l="text-xs "+(t[0]==="home"?"text-primary":"text-gray-500")),_(A,"class","flex flex-col items-center"),_(g,"stroke-linecap","round"),_(g,"stroke-linejoin","round"),_(g,"stroke-width","2"),_(g,"d","M12 4v16m8-8H4"),_(f,"xmlns","http://www.w3.org/2000/svg"),_(f,"class",B="h-6 w-6 "+(t[0]==="new"?"text-primary":"text-gray-400")),_(f,"fill","none"),_(f,"viewBox","0 0 24 24"),_(f,"stroke","currentColor"),_(Q,"class",T="text-xs "+(t[0]==="new"?"text-primary":"text-gray-500")),_(u,"class","flex flex-col items-center"),_(K,"stroke-linecap","round"),_(K,"stroke-linejoin","round"),_(K,"stroke-width","2"),_(K,"d","M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"),_(D,"xmlns","http://www.w3.org/2000/svg"),_(D,"class",x="h-6 w-6 "+(t[0]==="feed"?"text-primary":"text-gray-400")),_(D,"fill","none"),_(D,"viewBox","0 0 24 24"),_(D,"stroke","currentColor"),_(C,"class",v="text-xs "+(t[0]==="feed"?"text-primary":"text-gray-500")),_(k,"class","flex flex-col items-center")},m(p,P){W(p,A,P),I(A,e),I(e,r),I(A,s),I(A,i),I(i,o),W(p,c,P),W(p,u,P),I(u,f),I(f,g),I(u,m),I(u,Q),I(Q,F),W(p,S,P),W(p,k,P),I(k,D),I(D,K),I(k,E),I(k,C),I(C,y),U||(b=[BA(A,"click",t[8]),BA(u,"click",t[9]),BA(k,"click",t[10])],U=!0)},p(p,P){P&1&&n!==(n="h-6 w-6 "+(p[0]==="home"?"text-primary":"text-gray-400"))&&_(e,"class",n),P&1&&l!==(l="text-xs "+(p[0]==="home"?"text-primary":"text-gray-500"))&&_(i,"class",l),P&1&&B!==(B="h-6 w-6 "+(p[0]==="new"?"text-primary":"text-gray-400"))&&_(f,"class",B),P&1&&T!==(T="text-xs "+(p[0]==="new"?"text-primary":"text-gray-500"))&&_(Q,"class",T),P&1&&x!==(x="h-6 w-6 "+(p[0]==="feed"?"text-primary":"text-gray-400"))&&_(D,"class",x),P&1&&v!==(v="text-xs "+(p[0]==="feed"?"text-primary":"text-gray-500"))&&_(C,"class",v)},d(p){p&&(G(A),G(c),G(u),G(S),G(k)),U=!1,Ee(b)}}}function B1(t){let A,e,r;return{c(){A=R("button"),A.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> <span class="text-xs text-primary">Back</span>',_(A,"class","flex flex-col items-center")},m(n,s){W(n,A,s),e||(r=BA(A,"click",t[7]),e=!0)},p:tA,d(n){n&&G(A),e=!1,r()}}}function p1(t){let A,e=!t[1]&&Ld(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,[n]){r[1]?e&&(e.d(1),e=null):e?e.p(r,n):(e=Ld(r),e.c(),e.m(A.parentNode,A))},i:tA,o:tA,d(r){r&&G(A),e&&e.d(r)}}}function w1(t,A,e){let r,n,s;oe(t,wi,Q=>e(1,r=Q)),oe(t,ae,Q=>e(2,n=Q)),oe(t,Ke,Q=>e(3,s=Q));let{navigate:i}=A,o="home";function l(){const Q=new URLSearchParams(window.location.search);e(0,o=Q.get("page")||"home")}typeof window<"u"&&(window.addEventListener("popstate",l),l());const c=Q=>{e(0,o=Q),i(Q)},u=()=>c("store"),f=()=>{Pe(Ke,s=null,s),c("home")},g=()=>c("home"),B=()=>c("new"),m=()=>c("feed");return t.$$set=Q=>{"navigate"in Q&&e(5,i=Q.navigate)},[o,r,n,s,c,i,u,f,g,B,m]}class m1 extends Xe{constructor(A){super(),je(this,A,w1,p1,De,{navigate:5})}}function kd(t){let A,e,r,n,s,i,o,l,c,u,f,g;return{c(){A=R("div"),e=R("div"),r=R("h2"),r.textContent="Dev Menu",n=Y(),s=R("div"),i=R("button"),i.textContent="Delete All Users",o=Y(),l=R("button"),c=lA("Add 5 Points"),_(r,"class","text-lg font-bold mb-4"),_(i,"class","btn btn-error"),_(l,"class","btn btn-primary"),l.disabled=u=!t[1],_(s,"class","flex flex-col gap-2"),_(e,"class","bg-white rounded-lg shadow-lg p-4 border border-gray-200"),_(A,"class","fixed top-0 right-0 p-4 z-50")},m(B,m){W(B,A,m),I(A,e),I(e,r),I(e,n),I(e,s),I(s,i),I(s,o),I(s,l),I(l,c),f||(g=[BA(i,"click",t[2]),BA(l,"click",t[3])],f=!0)},p(B,m){m&2&&u!==(u=!B[1])&&(l.disabled=u)},d(B){B&&G(A),f=!1,Ee(g)}}}function C1(t){let A,e=t[0]&&kd(t);return{c(){e&&e.c(),A=tt()},m(r,n){e&&e.m(r,n),W(r,A,n)},p(r,[n]){r[0]?e?e.p(r,n):(e=kd(r),e.c(),e.m(A.parentNode,A)):e&&(e.d(1),e=null)},i:tA,o:tA,d(r){r&&G(A),e&&e.d(r)}}}function Q1(t,A,e){let r;oe(t,ae,l=>e(1,r=l));let n=!1;async function s(l){l.key==="\\"&&e(0,n=!n)}async function i(){if(confirm("Are you sure you want to delete ALL users? This cannot be undone!"))try{const l=await Bt(bt),c=X_(ys);l.docs.forEach(u=>{c.delete(u.ref)}),await c.commit(),localStorage.removeItem("drawIt-user-v2"),localStorage.removeItem("drawIt-games-v2"),localStorage.removeItem("drawIt-users-v2"),ae.set(null),alert("All users deleted successfully!"),window.location.reload()}catch(l){console.error("Error deleting users:",l),alert("Error deleting users. Check console for details.")}}async function o(){if(r)try{await mr(r.name,5)}catch(l){console.error("Error adding points:",l),alert("Error adding points. Check console for details.")}}return hs(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[n,r,i,o]}class y1 extends Xe{constructor(A){super(),je(this,A,Q1,C1,De,{})}}function _1(t){var b;let A,e,r,n,s,i,o,l,c,u=(((b=t[2])==null?void 0:b.coins)||0)+"",f,g,B,m,Q,F,T,S,k,D,K,x,E,C,y,v,U;return e=new yo({props:{navigate:t[0]}}),{c(){A=R("div"),le(e.$$.fragment),r=Y(),n=R("div"),s=R("div"),i=R("img"),l=Y(),c=R("span"),f=lA(u),g=Y(),B=R("p"),B.textContent="Your current balance",m=Y(),Q=R("div"),F=R("div"),T=R("div"),T.innerHTML=`<img src="${el}" class="w-8 h-8" alt="coins"/> <span class="text-2xl font-bold">50</span>`,S=Y(),k=R("input"),D=Y(),K=R("button"),x=lA("Submit"),Se(i.src,o=el)||_(i,"src",o),_(i,"class","w-8 h-8"),_(i,"alt","coins"),_(c,"class","text-2xl font-bold"),_(s,"class","flex items-center gap-2"),_(B,"class","text-gray-600"),_(T,"class","flex flex-row items-center justify-center gap-2"),_(k,"type","text"),_(k,"placeholder","Enter custom word"),_(k,"class","input input-bordered w-full max-w-xs text-black bg-white"),_(k,"maxlength","15"),_(k,"minlength","3"),_(K,"class",E="btn btn-primary "+(t[3]?"":"opacity-50")),K.disabled=C=!t[3],_(F,"class","flex flex-col items-center justify-center gap-4"),_(Q,"class","flex flex-col items-center justify-center gap-4 pt-16 drop-shadow-sm"),_(n,"class","flex flex-col items-center justify-center gap-4 mt-8"),_(A,"class","p-4")},m(p,P){W(p,A,P),re(e,A,null),I(A,r),I(A,n),I(n,s),I(s,i),I(s,l),I(s,c),I(c,f),I(n,g),I(n,B),I(n,m),I(n,Q),I(Q,F),I(F,T),I(F,S),I(F,k),ft(k,t[1]),I(F,D),I(F,K),I(K,x),y=!0,v||(U=[BA(k,"input",t[7]),BA(k,"input",t[4]),BA(k,"keydown",t[8]),BA(K,"click",t[5])],v=!0)},p(p,[P]){var IA;const rA={};P&1&&(rA.navigate=p[0]),e.$set(rA),(!y||P&4)&&u!==(u=(((IA=p[2])==null?void 0:IA.coins)||0)+"")&&vA(f,u),P&2&&k.value!==p[1]&&ft(k,p[1]),(!y||P&8&&E!==(E="btn btn-primary "+(p[3]?"":"opacity-50")))&&_(K,"class",E),(!y||P&8&&C!==(C=!p[3]))&&(K.disabled=C)},i(p){y||(eA(e.$$.fragment,p),y=!0)},o(p){aA(e.$$.fragment,p),y=!1},d(p){p&&G(A),ne(e),v=!1,Ee(U)}}}function Vd(t){return t.replace(/[^a-zA-Z0-9 ]/g,"")}function E1(t,A,e){let r,n,s;oe(t,ae,g=>e(6,s=g));let{navigate:i}=A,o="";function l(g){const B=g.target;e(1,o=Vd(B.value))}async function c(){if(!n||!r)return;let g=Vd(o);g=g.trim(),await mr(r.name,-50),await $_(g,r.name),rp("Custom word added!"),e(1,o="")}function u(){o=this.value,e(1,o)}const f=g=>{g.key==="Enter"&&c()};return t.$$set=g=>{"navigate"in g&&e(0,i=g.navigate)},t.$$.update=()=>{t.$$.dirty&64&&e(2,r=s),t.$$.dirty&6&&e(3,n=r&&r.coins!==void 0&&r.coins>=50&&o.length>=3&&o.length<=15)},[i,o,r,n,l,c,s,u,f]}class U1 extends Xe{constructor(A){super(),je(this,A,E1,_1,De,{navigate:0})}}function F1(t){let A,e,r,n,s,i,o,l,c;const u=[S1,H1,T1,b1,I1],f=[];function g(B,m){return B[2]?0:B[0]==="home"?1:B[0]==="new"?2:B[0]==="feed"?3:B[0]==="store"?4:-1}return~(r=g(t))&&(n=f[r]=u[r](t)),i=new m1({props:{navigate:t[3]}}),l=new y1({}),{c(){A=R("main"),e=R("div"),n&&n.c(),s=Y(),le(i.$$.fragment),o=Y(),le(l.$$.fragment),_(e,"class","w-full max-w-md mx-auto px-4"),_(A,"class","w-full min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-background-gradient-start to-background-gradient-end text-black pb-20 overflow-y-auto")},m(B,m){W(B,A,m),I(A,e),~r&&f[r].m(e,null),I(A,s),re(i,A,null),I(A,o),re(l,A,null),c=!0},p(B,m){let Q=r;r=g(B),r===Q?~r&&f[r].p(B,m):(n&&(ee(),aA(f[Q],1,1,()=>{f[Q]=null}),te()),~r?(n=f[r],n?n.p(B,m):(n=f[r]=u[r](B),n.c()),eA(n,1),n.m(e,null)):n=null)},i(B){c||(eA(n),eA(i.$$.fragment,B),eA(l.$$.fragment,B),c=!0)},o(B){aA(n),aA(i.$$.fragment,B),aA(l.$$.fragment,B),c=!1},d(B){B&&G(A),~r&&f[r].d(),ne(i),ne(l)}}}function v1(t){let A;return{c(){A=R("div"),A.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>',_(A,"class","w-full min-h-screen flex items-center justify-center")},m(e,r){W(e,A,r)},p:tA,i:tA,o:tA,d(e){e&&G(A)}}}function I1(t){let A,e;return A=new U1({props:{navigate:t[3]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p:tA,i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function b1(t){let A,e;return A=new d1({props:{navigate:t[3]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p:tA,i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function T1(t){let A,e;return A=new tU({props:{navigate:t[3]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p:tA,i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function H1(t){let A,e;return A=new HE({props:{navigate:t[3]}}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p:tA,i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function S1(t){let A,e;return A=new YE({}),{c(){le(A.$$.fragment)},m(r,n){re(A,r,n),e=!0},p:tA,i(r){e||(eA(A.$$.fragment,r),e=!0)},o(r){aA(A.$$.fragment,r),e=!1},d(r){ne(A,r)}}}function R1(t){let A,e,r,n;const s=[v1,F1],i=[];function o(l,c){return l[1]?0:1}return A=o(t),e=i[A]=s[A](t),{c(){e.c(),r=tt()},m(l,c){i[A].m(l,c),W(l,r,c),n=!0},p(l,[c]){let u=A;A=o(l),A===u?i[A].p(l,c):(ee(),aA(i[u],1,1,()=>{i[u]=null}),te(),e=i[A],e?e.p(l,c):(e=i[A]=s[A](l),e.c()),eA(e,1),e.m(r.parentNode,r))},i(l){n||(eA(e),n=!0)},o(l){aA(e),n=!1},d(l){l&&G(r),i[A].d(l)}}}function D1(t,A,e){let r;oe(t,Ke,o=>e(2,r=o));let n="home",s=!0;hs(async()=>{await rE();const o=new URLSearchParams(window.location.search);e(0,n=o.get("page")||"home");const l=o.get("currentGame");if(l){const c=await Ph(l);c&&Pe(Ke,r=c,r)}window.addEventListener("popstate",async()=>{const c=new URLSearchParams(window.location.search);e(0,n=c.get("page")||"home");const u=c.get("currentGame");if(u){const f=await Ph(u);f&&Pe(Ke,r=f,r)}else Pe(Ke,r=null,r)}),e(1,s=!1)});function i(o){const l=new URLSearchParams(window.location.search),c=r==null?void 0:r.id;c?l.set("currentGame",c):l.delete("currentGame"),o!=="home"?l.set("page",o):l.delete("page");const u=l.toString(),f=u?`?${u}`:"/";window.history.pushState({},"",f),e(0,n=o)}return[n,s,r,i]}class L1 extends Xe{constructor(A){super(),je(this,A,D1,R1,De,{})}}new L1({target:document.getElementById("app")});
